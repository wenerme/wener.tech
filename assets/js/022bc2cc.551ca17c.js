/*! For license information please see 022bc2cc.551ca17c.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[13320],{29296:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=i(2488),t=i(62780);const r={title:"Init Awesome",tags:["Awesome"]},l="Init Awesome",o={id:"os/linux/init/init-awesome",title:"Init Awesome",description:"supervisor",source:"@site/../notes/os/linux/init/init-awesome.md",sourceDirName:"os/linux/init",slug:"/os/linux/init/awesome",permalink:"/notes/os/linux/init/awesome",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/init/init-awesome.md",tags:[{label:"Awesome",permalink:"/notes/tags/awesome"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1656388638,formattedLastUpdatedAt:"Jun 28, 2022",frontMatter:{title:"Init Awesome",tags:["Awesome"]},sidebar:"docs",previous:{title:"Trusted Platform Module",permalink:"/notes/os/linux/hardware/tpm"},next:{title:"OpenRC",permalink:"/notes/os/linux/init/openrc"}},c={},d=[{value:"supervisor",id:"supervisor",level:2},{value:"Pure Init",id:"pure-init",level:2},{value:"docker",id:"docker",level:2}];function h(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.M)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"init-awesome",children:"Init Awesome"}),"\n",(0,s.jsx)(e.h2,{id:"supervisor",children:"supervisor"}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u7cfb\u7edf\u7ea7 supervisor\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4e00\u822c\u6709 init \u80fd\u529b"}),"\n",(0,s.jsx)(e.li,{children:"\u9664\u4e86\u8fdb\u7a0b\u53ef\u80fd\u8fd8\u4f1a\u7ef4\u62a4\u5176\u4ed6\u8d44\u6e90 - \u4f8b\u5982: socket"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8fdb\u7a0b\u7ea7 supervisor\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u53ea\u5173\u5fc3\u8fdb\u7a0b\u6b7b\u6d3b"}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/Supervisor/supervisor",children:"supervisor"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"size: 4161536"}),"\n",(0,s.jsx)(e.li,{children:"Python"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pkgs.alpinelinux.org/package/edge/main/x86_64/supervisor",children:"https://pkgs.alpinelinux.org/package/edge/main/x86_64/supervisor"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"http://smarden.org/runit/",children:"runit"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/runit",children:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/runit"})}),"\n",(0,s.jsx)(e.li,{children:"size: 258048"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["systemd\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Python"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"initd"}),"\n",(0,s.jsx)(e.li,{children:"upstart"}),"\n",(0,s.jsxs)(e.li,{children:["tini\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/krallin/tini",children:"https://github.com/krallin/tini"})}),"\n",(0,s.jsx)(e.li,{children:"size: 40960"}),"\n",(0,s.jsx)(e.li,{children:"docker 1.13 \u540e\u5185\u5efa"}),"\n",(0,s.jsx)(e.li,{children:"\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u50f5\u5c38\u96c6\u6210\u548c\u4fe1\u53f7\u91cf\u5904\u7406"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["dump-init\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/dumb-init",children:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/dumb-init"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["openrc\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"C+Shell"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Gentoo ",(0,s.jsx)(e.a,{href:"https://wiki.gentoo.org/wiki/Comparison_of_init_systems",children:"Comparison of init systems"})]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.gentoo.org/wiki/OpenRC_to_systemd_Cheatsheet",children:"OpenRC to systemd Cheatsheet"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"pure-init",children:"Pure Init"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"tinit"}),"\n",(0,s.jsx)(e.li,{children:"dump-init"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/troglobit/finit",children:"troglobit/finit"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"docker",children:"docker"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"tinit - \u5982\u679c\u4f7f\u7528\u5355\u4e2a\u8fdb\u7a0b"}),"\n",(0,s.jsx)(e.li,{children:"\u5982\u679c\u8981\u5141\u8bb8\u591a\u4e2a\u670d\u52a1\uff0c\u9009\u62e9 s6 \u6216 runit"}),"\n",(0,s.jsxs)(e.li,{children:["docker \u5185\u7f6e tini - ",(0,s.jsx)(e.code,{children:"--init"})]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/Yelp/dumb-init",children:"Yelp/dumb-init"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/krallin/tini",children:"krallin/tini"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://ahmet.im/blog/minimal-init-process-for-containers/",children:"Choosing init for multi-process containers"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"apk add dumb-init\n/usr/bin/dumb-init --\n\napk add tini\n/sbin/tini --\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6700\u7b80\u5355\u7684 \u591a\u8fdb\u7a0b init"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",metastring:'title="entrypoint.sh"',children:"#!/usr/bin/env bash\nset -e\n\nprogram1 &\nprogram2 &\nwait -n\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dockerfile",children:'ENTRYPOINT ["/bin/tini", "--", "entrypoint.sh"]\n'})})]})}function a(n={}){const{wrapper:e}={...(0,t.M)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},38088:(n,e,i)=>{var s=i(96651),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(n,e,i){var s,r={},d=null,h=null;for(s in void 0!==i&&(d=""+i),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(h=e.ref),e)l.call(e,s)&&!c.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps)void 0===r[s]&&(r[s]=e[s]);return{$$typeof:t,type:n,key:d,ref:h,props:r,_owner:o.current}}e.Fragment=r,e.jsx=d,e.jsxs=d},2488:(n,e,i)=>{n.exports=i(38088)},62780:(n,e,i)=>{i.d(e,{I:()=>o,M:()=>l});var s=i(96651);const t={},r=s.createContext(t);function l(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);