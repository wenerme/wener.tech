/*! For license information please see b9719a33.d4029050.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[65882],{70696:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});var r=a(11527),i=a(47214);const s={title:"VirtualBox"},o="VirtualBox",t={id:"ops/admin/vbox",title:"VirtualBox",description:"- \u78c1\u76d8\u7c7b\u578b",source:"@site/../notes/ops/admin/vbox.md",sourceDirName:"ops/admin",slug:"/ops/admin/vbox",permalink:"/notes/ops/admin/vbox",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/ops/admin/vbox.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1621756378,formattedLastUpdatedAt:"May 23, 2021",frontMatter:{title:"VirtualBox"},sidebar:"docs",previous:{title:"upterm",permalink:"/notes/ops/admin/upterm"},next:{title:"Cache",permalink:"/notes/ops/cache"}},l={},d=[{value:"\u6dfb\u52a0 USB \u8bbe\u5907",id:"\u6dfb\u52a0-usb-\u8bbe\u5907",level:3},{value:"\u547d\u4ee4\u884c\u521b\u5efa\u865a\u62df\u673a",id:"\u547d\u4ee4\u884c\u521b\u5efa\u865a\u62df\u673a",level:3},{value:"Vagrant",id:"vagrant",level:2},{value:"Vagrantfile",id:"vagrantfile",level:2},{value:"\u6dfb\u52a0\u989d\u5916\u78c1\u76d8\u548c\u5206\u533a",id:"\u6dfb\u52a0\u989d\u5916\u78c1\u76d8\u548c\u5206\u533a",level:3},{value:"\u78c1\u76d8\u63a7\u5236",id:"\u78c1\u76d8\u63a7\u5236",level:4},{value:"Vagrant Tips",id:"vagrant-tips",level:2},{value:"FAQ",id:"faq",level:2},{value:"\u627e\u4e0d\u5230 64bit \u7684\u865a\u62df",id:"\u627e\u4e0d\u5230-64bit-\u7684\u865a\u62df",level:3},{value:"VBoxManage: error: Could not rename the directory",id:"vboxmanage-error-could-not-rename-the-directory",level:3},{value:"Vagrant \u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e86\u5927\u91cf\u6587\u4ef6",id:"vagrant-\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e86\u5927\u91cf\u6587\u4ef6",level:3},{value:"Windows \u4e0b\u5f00\u673a\u542f\u52a8",id:"windows-\u4e0b\u5f00\u673a\u542f\u52a8",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"virtualbox",children:"VirtualBox"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u78c1\u76d8\u7c7b\u578b\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["VDI\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"vbox \u81ea\u5df1\u7684\u78c1\u76d8\u683c\u5f0f"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["VMDK\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6700\u5148\u7531 vm \u63d0\u51fa,\u5927\u591a\u865a\u62df\u73af\u5883\u90fd\u652f\u6301"}),"\n",(0,r.jsx)(e.li,{children:"\u652f\u6301\u5212\u5206\u4e3a 2G \u5c0f\u6587\u4ef6\u529f\u80fd"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["VHD\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4e3b\u8981\u5728 Windows \u4e2d\u4f7f\u7528"}),"\n",(0,r.jsx)(e.li,{children:"HyperV \u9ed8\u8ba4\u78c1\u76d8\u7c7b\u578b"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["VHDX\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.virtualbox.org/ticket/12616",children:"#12616"})}),"\n",(0,r.jsx)(e.li,{children:"\u6682\u65f6\u53ea\u80fd\u53ea\u8bfb"}),"\n",(0,r.jsxs)(e.li,{children:["\u53ef\u4ee5\u8f6c\u6362\u4e3a\u5176\u4ed6\u683c\u5f0f\u518d\u6302\u8f7d ",(0,r.jsx)(e.code,{children:"VBoxManage clonemedium disk <input VHDX> <output image>"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://www.virtualbox.org/ticket/819",children:"vboxvfs seems to have problems with mmapped access to files => retry with 3.1.4"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"vbox \u6620\u5c04\u7684\u76ee\u5f55\u4e0d\u80fd\u505a mmap"}),"\n",(0,r.jsx)(e.li,{children:"\u5bfc\u81f4 boot2docker \u5f88\u955c\u50cf\u591a\u4e0d\u80fd\u7528, mongodb, realmdb, ipfs \u7b49"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Download and install vbox and extension pack\n# https://www.virtualbox.org/wiki/Linux_Downloads\nVBoxManage extpack install  --replace FILE_NAME\n\n# \u78c1\u76d8\u683c\u5f0f\u8f6c\u6362\nVBoxManage clonemedium disk <input VHDX> <output image>\n\n# \u5bfc\u51fa\u78c1\u76d8\nVBoxManage clonehd --format RAW debian.vdi debian.img\n#\nVBoxManage internalcommands converttoraw Ubuntu.vdi Ubuntu.raw\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u6dfb\u52a0-usb-\u8bbe\u5907",children:"\u6dfb\u52a0 USB \u8bbe\u5907"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# \u542f\u7528 USB \u8bbe\u5907\u63a7\u5236\u5668,\u9700\u8981\u865a\u62df\u673a\u672a\u8fd0\u884c\n# ohci -> usb1.0, echi -> usb2.0 ,xchi -> usb3.0\n# echi \u548c xchi \u9700\u8981\u5b89\u88c5 ext packet\nVBoxManage modifyvm <\u4e3b\u673a\u540d> --usb on --usbxhci on\n\n# \u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u865a\u62df\u673a\nVBoxManage list runningvms\n# \u67e5\u770b\u4e3b\u673a\u4e0a\u7684 USB \u8bbe\u5907\nVBoxManage list usbhost\n# \u6302\u8f7d USB \u8bbe\u5907\u865a\u62df\u673a\nVBoxManage controlvm <\u4e3b\u673a\u540d> usbattach <\u8bbe\u5907 UUID>\n# \u786e\u8ba4\u6302\u8f7d\u6210\u529f\nVBoxManage showvminfo <\u4e3b\u673a\u540d>\n# \u79fb\u9664 USB \u8bbe\u5907\nVBoxManage controlvm <\u4e3b\u673a\u540d> usbdetach <\u8bbe\u5907 UUID>\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u547d\u4ee4\u884c\u521b\u5efa\u865a\u62df\u673a",children:"\u547d\u4ee4\u884c\u521b\u5efa\u865a\u62df\u673a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash -ex\n## \u865a\u62df\u673a\u540d\u5b57\nvmname="Win7ult"\n\n## \u865a\u62df\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c\u7cfb\u7edf\u955c\u50cf\n## vboxmanage list ostypes \u67e5\u770b\u652f\u6301\u7684\u7cfb\u7edf, \u4f7f\u7528 ID \u4f5c\u4e3a ostype\nostype="Windows7_64"\nisofile="/data/vm/vbox/iso_files/Windows7_UltimateNL_32bit_SP1.iso"\n\n## \u5185\u5b58\u548c\u663e\u5b58\nmemory="2048"\nvram="32"\n\n## \u4e91\u76d8\u7a7a\u95f4\nhddsize="8192"\n\n## VRDP \u7aef\u53e3\u8303\u56f4\nvrdeport="5041-5049"\n\n## \u58f0\u5361\n#audio="alsa --audiocontroller ac97"\naudio="none"\n\n#######################################################################\n### \u521b\u5efa\u865a\u62df\u673a\n#######################################################################\n# \u5b9a\u4e49\u78c1\u76d8\u6587\u4ef6\u8def\u5f84\nhddfile=/data/vm/vbox/vbox_guests/${vmname}/${vmname}.vdi\nclear\n\n# \u521b\u5efa\u865a\u62df\u673a\nvboxmanage createvm --name $vmname --ostype $ostype --register\n\n# \u8bbe\u7f6e\u5185\u5b58\u663e\u5b58\u58f0\u5361\u548c vdre \u7684\u7aef\u53e3\u8303\u56f4\nvboxmanage modifyvm $vmname --memory $memory --vram $vram --acpi on --ioapic on --cpus 1 --cpuexecutioncap 75 --rtcuseutc on --cpuhotplug on --pae on --hwvirtex on\nvboxmanage modifyvm $vmname --nic1 bridged --bridgeadapter1 eth0 --cableconnected1 on\nvboxmanage modifyvm $vmname --audio $audio\nvboxmanage modifyvm $vmname --vrde on --vrdeport $vrdeport --vrdeauthtype null\n\n\n# \u521b\u5efa HDD \u548c SATA \u63a7\u5236\u5668\nvboxmanage createhd --filename $hddfile --size $hddsize\nvboxmanage storagectl $vmname --name "SATA controller" --add sata\nvboxmanage storageattach $vmname --storagectl "SATA controller" --port 0 --device 0 --type hdd --medium $hddfile\n\n# \u521b\u5efa IDE \u63a7\u5236\u5668\u5e76\u6dfb\u52a0 DVD\nvboxmanage storagectl $vmname --name "IDE controller" --add ide\nvboxmanage storageattach $vmname --storagectl "IDE controller"  --port 0 --device 0 --type dvddrive --medium $isofile\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# \u542f\u52a8\u865a\u62df\u673a\nvboxmanage startvm $vmname --type headless\n# \u67e5\u770b RDP \u7684\u4fe1\u606f\nvboxmanage showvminfo $vmname | grep VRDE:\n# \u901a\u8fc7 RDP \u8fdc\u7a0b\u8fde\u63a5\n\nvboxmanage list vms\nvboxmanage list runningvms\nvboxmanage showvminfo $vmname\n\n# \u67e5\u770b VRDE \u7aef\u53e3\u4ee5\u4fbf\u8fdc\u7a0b\u8fde\u63a5\nvboxmanage showvminfo $vmname |grep VRDE:\n\n# \u91cd\u542f\nvboxmanage controlvm $vmname reset\n# \u65ad\u7535\nvboxmanage controlvm $vmname poweroff\n# \u79fb\u9664\u865a\u62df\u673a\nvboxmanage unregistervm $vmname\n# \u79fb\u9664\u5e76\u5220\u9664\u76f8\u5173\u6587\u4ef6\nvboxmanage unregistervm $vmname --delete\n"})}),"\n",(0,r.jsx)(e.h2,{id:"vagrant",children:"Vagrant"}),"\n",(0,r.jsx)(e.h2,{id:"vagrantfile",children:"Vagrantfile"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:'Vagrant.configure(2) do |config|\n  # \u914d\u7f6e\u53ef\u53c2\u8003https://docs.vagrantup.com.\n\n  # \u914d\u7f6e\u4f7f\u7528\u7684\u865a\u62df\u673a\n  config.vm.box = "ubuntu/trusty64"\n  # \u662f\u5426\u9700\u8981\u81ea\u52a8\u66f4\u65b0\u955c\u50cf,\u5efa\u8bae\u5173\u95ed,\u56e0\u4e3a\u56fd\u5185\u7f51\u7edc\u8f83\u5dee,\u5f71\u54cd\u542f\u52a8\u901f\u5ea6\n  config.vm.box_check_update = false\n  # \u914d\u7f6e\u5171\u4eab\u6587\u4ef6\u5939,\u4ee5\u4e0b\u914d\u7f6e\u4f1a\u5c06\u4e3b\u673a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 data \u5171\u4eab\u5230\u865a\u62df\u673a\u4e2d\u7684 /host\n  config.vm.synced_folder "./data", "/host"\n  # \u914d\u7f6e\u5916\u90e8\u7f51\u7edc\u5730\u5740,\u5c40\u57df\u7f51\u53ef\u8bbf\u95ee\n  config.vm.network "public_network", ip: "10.4.231.186"\n  # \u914d\u7f6e\u5185\u90e8\u7f51\u7edc\u5730\u5740,\u53ea\u6709\u4e3b\u673a\u80fd\u8bbf\u95ee\n  config.vm.network "private_network", ip: "192.168.33.9"\n  # \u7aef\u53e3\u8f6c\u53d1,\u4ee5\u4e0b\u914d\u7f6e\u4f1a\u5c06\u865a\u62df\u673a\u7684 8080 \u7aef\u53e3\u8f6c\u53d1\u5230\u4e3b\u673a\u7684 80 \u7aef\u53e3\n  config.vm.network "forwarded_port", guest: 80, host: 8080\n\n  # \u5bf9\u4e0d\u540c\u7684\u8fd0\u884c\u73af\u5883\u8fdb\u884c\u914d\u7f6e\n  config.vm.provider "virtualbox" do |vb|\n    # virtualbox \u76f8\u5173\u914d\u7f6e\u53ef\u53c2\u8003 https://www.vagrantup.com/docs/virtualbox/configuration.html\n    # \u5728\u542f\u52a8\u65f6\u7981\u7528 VirtualBox \u56fe\u5f62\u754c\u9762\n    vb.gui = false\n\n    # \u6307\u5b9a\u865a\u62df\u673a\u4f7f\u7528\u7684\u5185\u5b58\u91cf\n    vb.memory = "1024"\n    # \u6307\u5b9a\u865a\u62df\u673a\u4f7f\u7528\u7684\u6838\u6570\n    vb.cpus = 2\n  end\n\n  # \u914d\u7f6e\u76d1\u542c,\u5728\u865a\u62df\u673a\u542f\u52a8\u540e\u6267\u884c\n  config.vm.provision "shell", inline: <<-SHELL\n    echo Cool stuff\n    date >> /host/hello.txt\n  SHELL\n\n  # \u53ef\u914d\u7f6e\u591a\u4e2a\u4e3b\u673a,\u53ef\u901a\u8fc7 vagrant up \u4e3b\u673a\u540d, vagrant ssh \u4e3b\u673a\u540d \u64cd\u4f5c\u5355\u4e2a\u4e3b\u673a\n  config.vm.define "db-1" do |node|\n    node.vm.network "private_network", ip: "192.168.33.10"\n    node.vm.provision "shell",\n      inline: "echo hello from node db-1"\n  end\nend\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u6dfb\u52a0\u989d\u5916\u78c1\u76d8\u548c\u5206\u533a",children:"\u6dfb\u52a0\u989d\u5916\u78c1\u76d8\u548c\u5206\u533a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:"Vagrant.configure(2) do |config|\n\n  config.vm.box = \"ubuntu/trusty64\"\n  config.vm.box_check_update = false\n  config.vm.network \"private_network\", ip: \"192.168.33.9\"\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.gui = false\n    vb.memory = \"1024\"\n    # machine name in virtualbox\n    vb.name = \"try_disk\"\n\n    file_to_disk = File.realpath( \".\" ).to_s + \"/disk.vdi\"\n\n    if ARGV[0] == \"up\" && ! File.exist?(file_to_disk)\n       vb.customize [\n            'createhd',\n            '--filename', file_to_disk,\n            '--format', 'VDI',\n            '--size', 30 * 1024 # 30 GB\n            ]\n       vb.customize [\n            'storageattach', :id,\n            # The name may vary, found by\n            # VBoxManage showvminfo try_disk|grep 'Storage Controller Name'|\n            '--storagectl', 'SATAController',\n            '--port', 1, '--device', 0,\n            '--type', 'hdd', '--medium',\n            file_to_disk\n            ]\n    end\n  end\n\n  # Tow partition in one disk 10G,20G\n  config.vm.provision \"shell\", inline: <<-SHELL\nset -e\nset -x\n\nif [ -f /etc/provision_env_disk_added_date ]\nthen\n   echo \"Provision runtime already done.\"\n   exit 0\nfi\n\n\nfdisk -u /dev/sdb <<EOF\nn\np\n1\n\n+10G\nn\np\n2\n\n\nw\nEOF\n\nmkfs.ext4 /dev/sdb1\nmkfs.ext4 /dev/sdb2\nmkdir -p /{data,extra}\necho '/dev/sdb1 /data ext4 defaults 0 0'>> /etc/fstab\necho '/dev/sdb2 /extra ext4 defaults 0 0'>> /etc/fstab\nmount -a\n\ndate > /etc/provision_env_disk_added_date\n  SHELL\n\n  config.vm.provision \"shell\", inline: <<-SHELL\n    echo Well done\n  SHELL\nend\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u78c1\u76d8\u63a7\u5236",children:"\u78c1\u76d8\u63a7\u5236"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# \u67e5\u770b\u5f53\u524d\u78c1\u76d8\nlsblk -io KNAME,TYPE,SIZE,MODEL\n# \u521b\u5efa\u78c1\u76d8\nVBoxManage createhd --filename disk.vid --format VDI --size 1000\n# \u6dfb\u52a0\u5a92\u4ecb\nVBoxManage storageattach try_disk --storagectl SATA --port 1 --device 0 --type hdd --medium `pwd`/disk.vid\n\n# \u5728\u65b0\u78c1\u76d8\u4e0a\u521b\u5efa\u5355\u4e2a\u5206\u533a\nsudo fdisk -u /dev/sdb <<EOF\nn\np\n1\n\n\nt\n8e\nw\nEOF\n# \u4f7f\u7528 ext4 \u78c1\u76d8\nmkfs.ext4 /dev/sdb1\n# \u6302\u8f7d\u78c1\u76d8\nmount -t ext4 /dev/sdb1 /data\n# \u5224\u65ad\u6302\u8f7d\u6210\u529f\ndf  -h\n"})}),"\n",(0,r.jsx)(e.h2,{id:"vagrant-tips",children:"Vagrant Tips"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u542f\u52a8\u540e\u8fd0\u884c\u547d\u4ee4"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:'config.vm.provision "shell", inline: "echo Hello"\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u540c\u65f6\u542f\u52a8\u591a\u4e2a\u865a\u62df\u673a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:'(1..3).each do |i|\n  config.vm.define "node-#{i}" do |node|\n    node.vm.provision "shell",\n      inline: "echo hello from node #{i}"\n  end\nend\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u53ea\u542f\u52a8\u914d\u7f6e\u4e2d\u7684\u6307\u5b9a\u865a\u62df\u673a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"vagrant up node-1\nvagrant up /node-(1|2)/\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4f20\u9012\u73af\u5883\u53d8\u91cf"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:'ENV["LC_ALL"] = "en_US.UTF-8"\n\nVagrant.configure("2") do |config|\n  # ...\nend\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f51\u7edc\u914d\u7f6e"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:'# \u7aef\u53e3\u8f6c\u53d1\nconfig.vm.network "forwarded_port", guest: 80, host: 8080\n# \u6307\u5b9a\u516c\u7f51\u5730\u5740\nconfig.vm.network "public_network", ip: "192.168.0.17"\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5171\u4eab\u76ee\u5f55"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ruby",children:'# create \u81ea\u52a8\u521b\u5efa\u4e3b\u673a\u4e2d\u7684\u76ee\u5f55\n# disabled \u7981\u7528\nconfig.vm.synced_folder "src/", "/srv/website", create: true, owner: "root", group: "root"\n# \u7981\u7528\u9ed8\u8ba4\u6302\u8f7d\u76ee\u5f55\nconfig.vm.synced_folder \'.\', \'/vagrant\', disabled: true\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u624b\u52a8\u5b89\u88c5 box"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"vagrant box add laravel/homestead path/to/your/box/file.box\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5e38\u7528 BOX"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"centos/7\nubuntu/trusty64\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5e38\u7528\u547d\u4ee4"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"vagrant up # \u542f\u52a8\nvagrant halt # \u5173\u673a\nvagrant destroy # \u6e05\u9664\u865a\u62df\u673a\nvagrant status # \u67e5\u770b\u8fd0\u884c\u72b6\u6001\nvagrant suspend # \u4f7f\u673a\u5668\u6302\u8d77\nvagrant ssh # SSH \u8fdb\u5165\u673a\u5668\nvagrant reload # \u91cd\u542f\u673a\u5668\nvagrant global-status # \u67e5\u770b\u6240\u6709\u865a\u62df\u673a\u7684\u8fd0\u884c\u72b6\u6001,\u4e0d\u9700\u8981\u5f53\u524d\u76ee\u5f55\u6709 Vagrantfile\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5e38\u7528\u63d2\u4ef6\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"landrush"}),"\n",(0,r.jsx)(e.li,{children:"vagrant-vbguest"}),"\n",(0,r.jsx)(e.li,{children:"vagrant-cachier"}),"\n",(0,r.jsx)(e.li,{children:"vagrant-omnibus"}),"\n",(0,r.jsx)(e.li,{children:"vagrant-proxyconf"}),"\n",(0,r.jsx)(e.li,{children:"vagrant-share"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u6dfb\u52a0\u989d\u5916\u78c1\u76d8\u5206\u533a\u548c\u4fee\u6539\u78c1\u76d8\u5927\u5c0f\u548c\u901a\u8fc7\u5b9a\u5236\u5316\u53c2\u6570\u5b9e\u73b0,\u5177\u4f53\u53ef\u53c2\u8003",(0,r.jsx)(e.a,{href:"https://github.com/mitchellh/vagrant/issues/2339#issuecomment-33064917",children:"\u8fd9\u91cc"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u641c\u7d22 BOX\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://www.vagrantbox.es/",children:"vagrantbox"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://atlas.hashicorp.com/boxes/search",children:"boxes/search"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5b98\u65b9\u7f51\u7ad9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.vagrantup.com/",children:"Vagrantup"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.vagrantup.com/downloads.html",children:"\u8f6f\u4ef6\u4e0b\u8f7d"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.vagrantup.com/docs/",children:"\u5b98\u65b9\u6587\u4ef6\u6587\u6863"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.vagrantup.com/docs/vagrantfile/",children:"\u914d\u7f6e\u6587\u4ef6\u6587\u6863"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(e.h3,{id:"\u627e\u4e0d\u5230-64bit-\u7684\u865a\u62df",children:"\u627e\u4e0d\u5230 64bit \u7684\u865a\u62df"}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u7531\u4e8e CPU \u4e0d\u652f\u6301\u786c\u4ef6\u865a\u62df\u5316\u6280\u672f(Intel VT-x \u6216 AMD-v),\u6216\u8005\u88ab\u5176\u4ed6\u7a0b\u5e8f\u5360\u7528,\u4f8b\u5982\u88c5\u4e86 HyperV."}),"\n",(0,r.jsx)(e.h3,{id:"vboxmanage-error-could-not-rename-the-directory",children:"VBoxManage: error: Could not rename the directory"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"vagrant destroy -f\nrm ~/VirtualBox\\ VMs/YOUR_NAME_HERE\n"})}),"\n",(0,r.jsx)(e.h3,{id:"vagrant-\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e86\u5927\u91cf\u6587\u4ef6",children:"Vagrant \u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e86\u5927\u91cf\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u662f\u7531\u4e8e\u4e34\u65f6\u76ee\u5f55\u5f02\u5e38\u5bfc\u81f4\u7684,\u53ef\u53c2\u8003"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/mitchellh/vagrant/issues/3493",children:"#3493"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/mitchellh/vagrant/issues/3514",children:"#3514"})}),"\n",(0,r.jsxs)(e.li,{children:["Vagrant \u5224\u65ad\u8be5\u76ee\u5f55\u7684",(0,r.jsx)(e.a,{href:"https://github.com/ruby/ruby/blob/2254fc650b681c2582f25aa0d2be2cc8aba3cb8e/lib/tmpdir.rb#L25",children:"\u4ee3\u7801"})]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# \u786e\u4fdd\u5c5e\u6027\u6b63\u786e\nchmod 1777 /tmp\n# \u6216\u5c1d\u8bd5 \u9700\u8c28\u614e!\nchmod +s /tmp\n"})}),"\n",(0,r.jsx)(e.h2,{id:"windows-\u4e0b\u5f00\u673a\u542f\u52a8",children:"Windows \u4e0b\u5f00\u673a\u542f\u52a8"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-batch",children:'# Win 10 \u7684\u5f00\u542f\u542f\u52a8\u76ee\u5f55\u662f\u9690\u85cf\u7684\nshell:startup\n# \u6216\u8005\u76f4\u63a5\u6253\u5f00\nstart C:\\Users\\$USER\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup\n# \u521b\u5efa\u7528\u4e8e\u542f\u52a8\u7684 bat\n# "C:\\Program Files\\Oracle\\VirtualBox\\VBoxManage.exe" startvm "NameOfYourVM" --type "headless"\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u4f5c\u4e3a\u670d\u52a1\u4f7f\u7528"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://stackoverflow.com/a/19017826/1870054",children:"http://stackoverflow.com/a/19017826/1870054"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},3354:(n,e,a)=>{var r=a(50959),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,t=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(n,e,a){var r,s={},d=null,c=null;for(r in void 0!==a&&(d=""+a),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,r)&&!l.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:i,type:n,key:d,ref:c,props:s,_owner:t.current}}e.Fragment=s,e.jsx=d,e.jsxs=d},11527:(n,e,a)=>{n.exports=a(3354)},47214:(n,e,a)=>{a.d(e,{Z:()=>t,a:()=>o});var r=a(50959);const i={},s=r.createContext(i);function o(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);