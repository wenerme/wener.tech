/*! For license information please see d4f25414.6e79b0ca.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[13544],{99421:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var o=e(11527),s=e(47214);const r={title:"strongSwan Cookbook",tags:["Cookbook"]},c="strongSwan Cookbook",a={id:"service/network/vpn/strongswan/strongswan-cookbook",title:"strongSwan Cookbook",description:"- strongSwan swanctl Tests",source:"@site/../notes/service/network/vpn/strongswan/strongswan-cookbook.md",sourceDirName:"service/network/vpn/strongswan",slug:"/service/network/vpn/strongswan/cookbook",permalink:"/notes/service/network/vpn/strongswan/cookbook",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/vpn/strongswan/strongswan-cookbook.md",tags:[{label:"Cookbook",permalink:"/notes/tags/cookbook"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1680070123,formattedLastUpdatedAt:"Mar 29, 2023",frontMatter:{title:"strongSwan Cookbook",tags:["Cookbook"]},sidebar:"docs",previous:{title:"strongSwan \u914d\u7f6e",permalink:"/notes/service/network/vpn/strongswan/conf"},next:{title:"strongSwan FAQ",permalink:"/notes/service/network/vpn/strongswan/faq"}},i={},l=[{value:"\u57fa\u7840 ipsec.conf",id:"\u57fa\u7840-ipsecconf",level:2},{value:"\u57fa\u7840 swanctl.conf",id:"\u57fa\u7840-swanctlconf",level:3}];function d(n){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"strongswan-cookbook",children:"strongSwan Cookbook"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://www.strongswan.org/testing/testresults/swanctl/",children:"strongSwan swanctl Tests"})}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"\u57fa\u7840-ipsecconf",children:"\u57fa\u7840 ipsec.conf"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ini",children:"config setup\n\t# strictcrlpolicy=yes\n\tuniqueids = no\n\nconn %default\n\tikelifetime=60m\n\tkeylife=20m\n\trekeymargin=3m\n\tkeyingtries=1\n\tkeyexchange=ikev2\n\tauthby=secret\n\nconn vpn\n  left=%any\n  leftsourceip=%config\n  # \u8fdc\u7a0b\u5730\u5740\n  right=1.2.3.4\n  rightsubnet=0.0.0.0/0\n  type=tunnel\n  auto=start\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"ipsec.secrets"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'# \u5bc6\u94a5\n: PSK "12345678"\n'})}),"\n",(0,o.jsx)(t.h3,{id:"\u57fa\u7840-swanctlconf",children:"\u57fa\u7840 swanctl.conf"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'connections {\n\tvpn {\n\t\tinclude /etc/swanctl/conf.d/ike_sa_default.conf\n\t\tremote_addrs=1.2.3.4\n\t\tlocal_addrs=%any\n\t\tvips=0.0.0.0\n\t\tchildren {\n\t\t\tvpn {\n\t\t\t\tinclude /etc/swanctl/conf.d/child_sa_default.conf\n\t\t\t\tstart_action=start\n\t\t\t\tremote_ts=0.0.0.0/0\n\t\t\t}\n\t\t}\n    remote {\n      id="vpn"\n      auth=psk\n    }\n    local {\n      id="vpn"\n      auth=psk\n    }\n\t}\n}\npools {\n}\nauthorities {\n}\nsecrets {\n\tike- {\n    id="vpn"\n\t\tsecret="12345678"\n\t}\n}\n'})})]})}function p(n={}){const{wrapper:t}={...(0,s.a)(),...n.components};return t?(0,o.jsx)(t,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},3354:(n,t,e)=>{var o=e(50959),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(n,t,e){var o,r={},l=null,d=null;for(o in void 0!==e&&(l=""+e),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)c.call(t,o)&&!i.hasOwnProperty(o)&&(r[o]=t[o]);if(n&&n.defaultProps)for(o in t=n.defaultProps)void 0===r[o]&&(r[o]=t[o]);return{$$typeof:s,type:n,key:l,ref:d,props:r,_owner:a.current}}t.Fragment=r,t.jsx=l,t.jsxs=l},11527:(n,t,e)=>{n.exports=e(3354)},47214:(n,t,e)=>{e.d(t,{Z:()=>a,a:()=>c});var o=e(50959);const s={},r=o.createContext(s);function c(n){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function a(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),o.createElement(r.Provider,{value:t},n.children)}}}]);