/*! For license information please see fb282cf7.0e9f2082.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[23848],{53531:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>h,contentTitle:()=>l,default:()=>m,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var n=s(11527),i=s(47214);const t={title:"Headless"},l="Chrome Headless",o={id:"web/browser/chrome/chrome-headless",title:"Headless",description:"- ChromeDevTools/awesome-chrome-devtools",source:"@site/../notes/web/browser/chrome/chrome-headless.md",sourceDirName:"web/browser/chrome",slug:"/web/browser/chrome/headless",permalink:"/notes/web/browser/chrome/headless",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/web/browser/chrome/chrome-headless.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1706172619,formattedLastUpdatedAt:"Jan 25, 2024",frontMatter:{title:"Headless"},sidebar:"docs",previous:{title:"Chrome for testing",permalink:"/notes/web/browser/chrome/for-testing"},next:{title:"Chrome Insight",permalink:"/notes/web/browser/chrome/inside"}},h={},c=[{value:"Awesome",id:"awesome",level:2},{value:"WebDriver",id:"webdriver",level:2},{value:"playwright vs puppeteer",id:"playwright-vs-puppeteer",level:2},{value:"New Headless",id:"new-headless",level:2}];function d(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"chrome-headless",children:"Chrome Headless"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/ChromeDevTools/awesome-chrome-devtools",children:"ChromeDevTools/awesome-chrome-devtools"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/GoogleChrome/chrome-launcher/blob/main/docs/chrome-flags-for-tools.md",children:"Chrome Flags for Tooling"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://chromedevtools.github.io/devtools-protocol/",children:"https://chromedevtools.github.io/devtools-protocol/"})}),"\n",(0,n.jsxs)(r.li,{children:["devtools-ws-url\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["--remote-debugging-port=9222\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"/json"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["flags\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"--user-data-dir=$DIR"}),"\n",(0,n.jsx)(r.li,{children:"--blink-settings=imagesEnabled=false"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/GoogleChrome/chrome-launcher/blob/master/docs/chrome-flags-for-tools.md",children:"https://github.com/GoogleChrome/chrome-launcher/blob/master/docs/chrome-flags-for-tools.md"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://niek.github.io/chrome-features/",children:"https://niek.github.io/chrome-features/"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://source.chromium.org/chromium/chromium/src/+/master:out/Debug/gen/third_party/blink/renderer/platform/runtime_enabled_features.cc;l=1559;drc=170473ad887b7990079f1f996b126548569c5902",children:"blink features"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/platform/RuntimeEnabledFeatures.md",children:"RuntimeEnabledFeatures"})}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://www.chromium.org/developers/design-documents/network-settings/",children:"https://www.chromium.org/developers/design-documents/network-settings/"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"--proxy-server=127.0.0.1:7890"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"--enable-blink-features=SomeNewFeature,SomeOtherNewFeature\n--disable-blink-features=SomeOldFeature\n"})}),"\n",(0,n.jsx)(r.admonition,{type:"tip",children:(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Proxy \u53ea\u80fd\u914d\u7f6e\u5168\u5c40\uff0c\u4e0d\u53ef\u4ee5\u6309\u9875\u9762\u914d\u7f6e\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/puppeteer/puppeteer/issues/678",children:"puppeteer#678"})}),"\n",(0,n.jsxs)(r.li,{children:["Context \u53ef\u4ee5\u914d\u7f6e\u4ee3\u7406 ",(0,n.jsx)(r.a,{href:"https://pptr.dev/next/api/puppeteer.browsercontextoptions/",children:"https://pptr.dev/next/api/puppeteer.browsercontextoptions/"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:"\u4e0d\u652f\u6301 PAC"}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/puppeteer/puppeteer/issues/540",children:"puppeteer#540"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u591a\u4e2a cert \u4f1a\u51fa\u73b0\u9009\u62e9"}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,n.jsx)(r.h2,{id:"awesome",children:"Awesome"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/puppeteer/puppeteer",children:"puppeteer"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Apache-2.0, TS"}),"\n",(0,n.jsx)(r.li,{children:"Chrome \u56e2\u961f\u652f\u6301"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/microsoft/playwright",children:"microsoft/playwright"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u652f\u6301 \u591a\u6d4f\u89c8\u5668 - Chromium, Firefox, WebKit"}),"\n",(0,n.jsx)(r.li,{children:"patch Firefox, WebKit \u5b9e\u73b0"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["Golang\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/chromedp/chromedp",children:"chromedp/chromedp"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/chromedp/examples",children:"chromedp/examples"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/sensepost/gowitness",children:"sensepost/gowitness"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"webdriver",children:"WebDriver"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://w3c.github.io/webdriver/webdriver-spec.html",children:"W3C WebDriver"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u63a7\u5236\u6d4f\u89c8\u5668"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/electron/chromedriver",children:"electron/chromedriver"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\u4e0b\u8f7d ",(0,n.jsx)(r.a,{href:"https://sites.google.com/chromium.org/driver/",children:"ChromeDriver"})]}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://chromedriver.chromium.org/",children:"https://chromedriver.chromium.org/"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://chromedriver.storage.googleapis.com/index.html",children:"https://chromedriver.storage.googleapis.com/index.html"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["webdriver\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Python ",(0,n.jsx)(r.code,{children:"from selenium import webdriver"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h1,{id:"faq",children:"FAQ"}),"\n",(0,n.jsx)(r.h2,{id:"playwright-vs-puppeteer",children:"playwright vs puppeteer"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://blog.logrocket.com/playwright-vs-puppeteer/",children:"https://blog.logrocket.com/playwright-vs-puppeteer/"})}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"new-headless",children:"New Headless"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Chrome 112+"}),"\n",(0,n.jsxs)(r.li,{children:["\u652f\u6301\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"--dump-dom"}),"\n",(0,n.jsx)(r.li,{children:"--screenshot --window-size=412,892"}),"\n",(0,n.jsx)(r.li,{children:"--print-to-pdf --no-pdf-header-footer"}),"\n",(0,n.jsx)(r.li,{children:"--timeout=5000"}),"\n",(0,n.jsxs)(r.li,{children:["--virtual-time-budget\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u865a\u62df\u65f6\u95f4 - setTimeout/setInterval"}),"\n",(0,n.jsx)(r.li,{children:"\u4ee5\u5c3d\u53ef\u80fd\u5feb\u7684\u901f\u5ea6\u6267\u884c\u4efb\u610f\u7f51\u9875\u4ee3\u7801\uff0c\u540c\u65f6\u4f7f\u7f51\u9875\u76f8\u4fe1\u65f6\u95f4\u5b9e\u9645\u4e0a\u662f\u8fc7\u53bb\u7684\u65f6\u95f4\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://developer.chrome.com/docs/chromium/new-headless",children:"https://developer.chrome.com/docs/chromium/new-headless"})}),"\n",(0,n.jsxs)(r.li,{children:["\u5b9e\u65f6\u89c6\u56fe\u76ee\u524d\u4ec5\u5b9e\u73b0\u89e6\u6478\u4e8b\u4ef6\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://bugs.chromium.org/p/chromium/issues/detail?id=1410433",children:"https://bugs.chromium.org/p/chromium/issues/detail?id=1410433"})}),"\n"]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},3354:(e,r,s)=>{var n=s(50959),i=Symbol.for("react.element"),t=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,s){var n,t={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)l.call(r,n)&&!h.hasOwnProperty(n)&&(t[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===t[n]&&(t[n]=r[n]);return{$$typeof:i,type:e,key:c,ref:d,props:t,_owner:o.current}}r.Fragment=t,r.jsx=c,r.jsxs=c},11527:(e,r,s)=>{e.exports=s(3354)},47214:(e,r,s)=>{s.d(r,{Z:()=>o,a:()=>l});var n=s(50959);const i={},t=n.createContext(i);function l(e){const r=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(t.Provider,{value:r},e.children)}}}]);