"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[76249],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return d}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),m=c(t),d=r,_=m["".concat(l,".").concat(d)]||m[d]||s[d]||o;return t?a.createElement(_,i(i({ref:n},u),{},{components:t})):a.createElement(_,i({ref:n},u))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var c=2;c<o;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},36416:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return p},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return m}});var a=t(87462),r=t(63366),o=(t(67294),t(3905)),i=["components"],p={title:"OpenID Connect"},l=void 0,c={unversionedId:"service/auth/oidc",id:"service/auth/oidc",isDocsHomePage:!1,title:"OpenID Connect",description:"- OpenID Connect Core 1.0",source:"@site/notes/service/auth/oidc.md",sourceDirName:"service/auth",slug:"/service/auth/oidc",permalink:"/notes/service/auth/oidc",editUrl:"https://github.com/wenerme/wener/edit/master/notes/service/auth/oidc.md",tags:[],version:"current",frontMatter:{title:"OpenID Connect"},sidebar:"docs",previous:{title:"oauth2-proxy",permalink:"/notes/service/auth/oauth2-proxy"},next:{title:"Ory",permalink:"/notes/service/auth/ory"}},u=[{value:"discovery",id:"discovery",children:[]},{value:"OAuth vs OpenID vs OIDC",id:"oauth-vs-openid-vs-oidc",children:[]}],s={toc:u};function m(e){var n=e.components,t=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://openid.net/specs/openid-connect-core-1_0.html"},"OpenID Connect Core 1.0")),(0,o.kt)("li",{parentName:"ul"},"\u53c2\u8003",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Mozilla ",(0,o.kt)("a",{parentName:"li",href:"https://infosec.mozilla.org/guidelines/iam/openid_connect.html"},"OIDC")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://auth0.com/docs/security/data-security/token-storage"},"Token Storage")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://auth0.com/docs/authorization/flows"},"Authentication and Authorization Flows")))),(0,o.kt)("li",{parentName:"ul"},"auth method",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"client_secret_basic"),(0,o.kt)("li",{parentName:"ul"},"client_secret_post"),(0,o.kt)("li",{parentName:"ul"},"none"),(0,o.kt)("li",{parentName:"ul"},"private_key_jwt"))),(0,o.kt)("li",{parentName:"ul"},"application type",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"web - Confidential"),(0,o.kt)("li",{parentName:"ul"},"user agent"),(0,o.kt)("li",{parentName:"ul"},"native"))),(0,o.kt)("li",{parentName:"ul"},"AccessTokenType",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Bearer"),(0,o.kt)("li",{parentName:"ul"},"JWT"))),(0,o.kt)("li",{parentName:"ul"},"code_challenge_method",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"plain"),(0,o.kt)("li",{parentName:"ul"},"S256"))),(0,o.kt)("li",{parentName:"ul"},"display",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"page"),(0,o.kt)("li",{parentName:"ul"},"popup"),(0,o.kt)("li",{parentName:"ul"},"touch"),(0,o.kt)("li",{parentName:"ul"},"wap"))),(0,o.kt)("li",{parentName:"ul"},"prompt - none, login, consent, select_account"),(0,o.kt)("li",{parentName:"ul"},"scope",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"openid"),(0,o.kt)("li",{parentName:"ul"},"profile",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"name, family_name, given_name, middle_name, nickname, preferred_username, profile, picture, website, gender, birthdate, zoneinfo, locale, updated_at"))),(0,o.kt)("li",{parentName:"ul"},"email",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"email, email_verified"))),(0,o.kt)("li",{parentName:"ul"},"address",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"address"))),(0,o.kt)("li",{parentName:"ul"},"phone",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"phone_number , phone_number_verified"))),(0,o.kt)("li",{parentName:"ul"},"offline_access")))),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"spec"),(0,o.kt)("th",{parentName:"tr",align:null},"year"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"http://openid.net/specs/openid-authentication-1_1.html"},"OpenID 1.0")),(0,o.kt)("td",{parentName:"tr",align:null},"2006")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"http://openid.net/specs/openid-authentication-2_0.html"},"OpenID 2.0")),(0,o.kt)("td",{parentName:"tr",align:null},"2007")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"http://openid.net/specs/openid-attribute-exchange-1_0.html"},"OpenID Attribute Exchange 1.0")),(0,o.kt)("td",{parentName:"tr",align:null},"2007")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://www.rfc-editor.org/rfc/rfc5849"},"OAuth 1.0")),(0,o.kt)("td",{parentName:"tr",align:null},"2010")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://www.rfc-editor.org/rfc/rfc6749"},"OAuth 2.0")),(0,o.kt)("td",{parentName:"tr",align:null},"2012")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"http://openid.net/specs/openid-connect-core-1_0.html"},"OpenID Connect Core 1.0")),(0,o.kt)("td",{parentName:"tr",align:null},"2014")))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"oidc = OpenID 2.0 + OpenID Attribute Exchange 1.0 + OAuth 2.0")),(0,o.kt)("h2",{id:"discovery"},"discovery"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"/.well-known/openid-configuration")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Based on Keycloak https://keycloak/auth/realms/REALM","',title:'"Based',on:!0,Keycloak:!0,'https://keycloak/auth/realms/REALM","':!0},'{\n  "issuer": "https://example.com",\n  "authorization_endpoint": "https://example.com/protocol/openid-connect/auth",\n  "token_endpoint": "https://example.com/protocol/openid-connect/token",\n  "introspection_endpoint": "https://example.com/protocol/openid-connect/token/introspect",\n  "userinfo_endpoint": "https://example.com/protocol/openid-connect/userinfo",\n  "end_session_endpoint": "https://example.com/protocol/openid-connect/logout",\n  "jwks_uri": "https://example.com/protocol/openid-connect/certs",\n  "check_session_iframe": "https://example.com/protocol/openid-connect/login-status-iframe.html",\n  "grant_types_supported": [\n    "authorization_code",\n    "implicit",\n    "refresh_token",\n    "password",\n    "client_credentials",\n    "urn:ietf:params:oauth:grant-type:device_code",\n    "urn:openid:params:grant-type:ciba"\n  ],\n  "response_types_supported": [\n    "code",\n    "none",\n    "id_token",\n    "token",\n    "id_token token",\n    "code id_token",\n    "code token",\n    "code id_token token"\n  ],\n  "subject_types_supported": ["public", "pairwise"],\n  "id_token_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512"\n  ],\n  "id_token_encryption_alg_values_supported": ["RSA-OAEP", "RSA-OAEP-256", "RSA1_5"],\n  "id_token_encryption_enc_values_supported": [\n    "A256GCM",\n    "A192GCM",\n    "A128GCM",\n    "A128CBC-HS256",\n    "A192CBC-HS384",\n    "A256CBC-HS512"\n  ],\n  "userinfo_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512",\n    "none"\n  ],\n  "request_object_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512",\n    "none"\n  ],\n  "request_object_encryption_alg_values_supported": ["RSA-OAEP", "RSA-OAEP-256", "RSA1_5"],\n  "request_object_encryption_enc_values_supported": [\n    "A256GCM",\n    "A192GCM",\n    "A128GCM",\n    "A128CBC-HS256",\n    "A192CBC-HS384",\n    "A256CBC-HS512"\n  ],\n  "response_modes_supported": ["query", "fragment", "form_post", "query.jwt", "fragment.jwt", "form_post.jwt", "jwt"],\n  "registration_endpoint": "https://example.com/clients-registrations/openid-connect",\n  "token_endpoint_auth_methods_supported": [\n    "private_key_jwt",\n    "client_secret_basic",\n    "client_secret_post",\n    "tls_client_auth",\n    "client_secret_jwt"\n  ],\n  "token_endpoint_auth_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512"\n  ],\n  "introspection_endpoint_auth_methods_supported": [\n    "private_key_jwt",\n    "client_secret_basic",\n    "client_secret_post",\n    "tls_client_auth",\n    "client_secret_jwt"\n  ],\n  "introspection_endpoint_auth_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512"\n  ],\n  "authorization_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512"\n  ],\n  "authorization_encryption_alg_values_supported": ["RSA-OAEP", "RSA-OAEP-256", "RSA1_5"],\n  "authorization_encryption_enc_values_supported": [\n    "A256GCM",\n    "A192GCM",\n    "A128GCM",\n    "A128CBC-HS256",\n    "A192CBC-HS384",\n    "A256CBC-HS512"\n  ],\n  "claims_supported": [\n    "aud",\n    "sub",\n    "iss",\n    "auth_time",\n    "name",\n    "given_name",\n    "family_name",\n    "preferred_username",\n    "email",\n    "acr"\n  ],\n  "claim_types_supported": ["normal"],\n  "claims_parameter_supported": true,\n  "scopes_supported": [\n    "openid",\n    "email",\n    "roles",\n    "address",\n    "microprofile-jwt",\n    "phone",\n    "web-origins",\n    "offline_access",\n    "profile"\n  ],\n  "request_parameter_supported": true,\n  "request_uri_parameter_supported": true,\n  "require_request_uri_registration": true,\n  "code_challenge_methods_supported": ["plain", "S256"],\n  "tls_client_certificate_bound_access_tokens": true,\n  "revocation_endpoint": "https://example.com/protocol/openid-connect/revoke",\n  "revocation_endpoint_auth_methods_supported": [\n    "private_key_jwt",\n    "client_secret_basic",\n    "client_secret_post",\n    "tls_client_auth",\n    "client_secret_jwt"\n  ],\n  "revocation_endpoint_auth_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "HS256",\n    "HS512",\n    "ES256",\n    "RS256",\n    "HS384",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512"\n  ],\n  "backchannel_logout_supported": true,\n  "backchannel_logout_session_supported": true,\n  "device_authorization_endpoint": "https://example.com/protocol/openid-connect/auth/device",\n  "backchannel_token_delivery_modes_supported": ["poll", "ping"],\n  "backchannel_authentication_endpoint": "https://example.com/protocol/openid-connect/ext/ciba/auth",\n  "backchannel_authentication_request_signing_alg_values_supported": [\n    "PS384",\n    "ES384",\n    "RS384",\n    "ES256",\n    "RS256",\n    "ES512",\n    "PS256",\n    "PS512",\n    "RS512"\n  ],\n  "require_pushed_authorization_requests": false,\n  "pushed_authorization_request_endpoint": "https://example.com/protocol/openid-connect/ext/par/request",\n  "mtls_endpoint_aliases": {\n    "token_endpoint": "https://example.com/protocol/openid-connect/token",\n    "revocation_endpoint": "https://example.com/protocol/openid-connect/revoke",\n    "introspection_endpoint": "https://example.com/protocol/openid-connect/token/introspect",\n    "device_authorization_endpoint": "https://example.com/protocol/openid-connect/auth/device",\n    "registration_endpoint": "https://example.com/clients-registrations/openid-connect",\n    "userinfo_endpoint": "https://example.com/protocol/openid-connect/userinfo",\n    "pushed_authorization_request_endpoint": "https://example.com/protocol/openid-connect/ext/par/request",\n    "backchannel_authentication_endpoint": "https://example.com/protocol/openid-connect/ext/ciba/auth"\n  }\n}\n')),(0,o.kt)("h2",{id:"oauth-vs-openid-vs-oidc"},"OAuth vs OpenID vs OIDC"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"OAuth",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"delegated authorization"))),(0,o.kt)("li",{parentName:"ul"},"OpenID",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"protocol for delegated authentication"))),(0,o.kt)("li",{parentName:"ul"},"OpenID Connect",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"abuses OAuth into an authentication protocol"))),(0,o.kt)("li",{parentName:"ul"},"\u53c2\u8003",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://security.stackexchange.com/questions/44611"},"OAUTH vs OpenID vs OIDC"))))))}m.isMDXComponent=!0}}]);