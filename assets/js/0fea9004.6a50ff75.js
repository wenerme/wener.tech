/*! For license information please see 0fea9004.6a50ff75.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[63224],{38176:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>a,frontMatter:()=>c,metadata:()=>l,toc:()=>o});var t=n(2488),r=n(62780);const c={title:"swc"},i="swc",l={id:"web/dev/bundle/swc",title:"swc",description:"- swc-project/swc",source:"@site/../notes/web/dev/bundle/swc.md",sourceDirName:"web/dev/bundle",slug:"/web/dev/bundle/swc",permalink:"/notes/web/dev/bundle/swc",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/web/dev/bundle/swc.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1706956646,formattedLastUpdatedAt:"Feb 3, 2024",frontMatter:{title:"swc"},sidebar:"docs",previous:{title:"snowpack",permalink:"/notes/web/dev/bundle/snowpack"},next:{title:"edge-runtime",permalink:"/notes/web/dev/edge-runtime"}},d={},o=[{value:"swcrc",id:"swcrc",level:2},{value:"keepImportAssertions",id:"keepimportassertions",level:2},{value:"file extension",id:"file-extension",level:2},{value:"swc vs esbuild",id:"swc-vs-esbuild",level:2},{value:"strip-leading-paths",id:"strip-leading-paths",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,r.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"swc",children:"swc"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc",children:"swc-project/swc"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Speedy Web Compiler"}),"\n",(0,t.jsx)(s.li,{children:"Rust-based platform for the Web"}),"\n",(0,t.jsx)(s.li,{children:"\u5f00\u53d1\u8005\u88ab vercel \u6536\u7f16"}),"\n",(0,t.jsx)(s.li,{children:"\u65e9\u671f\u5b9a\u4f4d\u662f compiler - bundling & minifition not ready"}),"\n",(0,t.jsxs)(s.li,{children:["swcpack - bundle\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u5f00\u53d1\u8005\u73b0\u5728\u4e13\u6ce8\u4e8e Vercel \u7684 Turbopack\uff0c\u56e0\u6b64 swcpack \u5f00\u53d1\u5e76\u4e0d\u6d3b\u8dc3\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://swc.rs/docs/benchmarks",children:"https://swc.rs/docs/benchmarks"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u6027\u80fd\u4e0a\u548c esbuild \u5dee\u8ddd\u5e76\u4e0d\u5927"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\u53c2\u8003\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://kdy1.dev/2022-1-26-porting-tsc-to-go",children:"https://kdy1.dev/2022-1-26-porting-tsc-to-go"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://kdy1.dev/2022-10-27-open-sourcing-stc",children:"https://kdy1.dev/2022-10-27-open-sourcing-stc"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/dudykr/stc",children:"https://github.com/dudykr/stc"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://swc.rs/playground",children:"https://swc.rs/playground"})}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc-node",children:"swc-project/swc-node"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"~ts-node"}),"\n",(0,t.jsx)(s.li,{children:"\u4e0d\u5efa\u8bae\u4f7f\u7528"}),"\n",(0,t.jsxs)(s.li,{children:["Cannot find module ts\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc-node/pull/744",children:"https://github.com/swc-project/swc-node/pull/744"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc-node/issues/710",children:"https://github.com/swc-project/swc-node/issues/710"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"pnpm i -D @swc/cli @swc/core\n\npnpm swc ./src/main.ts -o ./dist/main.js\n\n# swc + esbuild/tsx - \u652f\u6301 emitDecoratorMetadata, \u5229\u7528 esbuild \u7684 bundle \u80fd\u529b\npnpm swc ./src/ -d ./dist/out\npnpm tsx ./dist/out/main.ts\n"})}),"\n",(0,t.jsx)(s.h2,{id:"swcrc",children:"swcrc"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "$schema": "https://json.schemastore.org/swcrc",\n  "jsc": {\n    "parser": {\n      "syntax": "ecmascript",\n      "jsx": false,\n      "dynamicImport": false,\n      "privateMethod": false,\n      "functionBind": false,\n      "exportDefaultFrom": false,\n      "exportNamespaceFrom": false,\n      "decorators": false,\n      "decoratorsBeforeExport": false,\n      "topLevelAwait": false,\n      "importMeta": false\n    },\n    "transform": null,\n    "target": "es5",\n    "loose": false,\n    "externalHelpers": false,\n    // Requires v1.2.50 or upper and requires target to be es2016 or upper.\n    "keepClassNames": false\n  },\n  "minify": false,\n  // \u4f9d\u8d56 browserslist\n  "env": {\n    "targets": {\n      "chrome": "79"\n    },\n    "mode": "entry",\n    "coreJs": "3.22"\n  }\n}\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://swc.rs/docs/configuration/swcrc",children:"https://swc.rs/docs/configuration/swcrc"})}),"\n"]}),"\n",(0,t.jsx)(s.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(s.h2,{id:"keepimportassertions",children:"keepImportAssertions"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc/issues/7923",children:"https://github.com/swc-project/swc/issues/7923"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/TypeStrong/ts-node/issues/2056",children:"https://github.com/TypeStrong/ts-node/issues/2056"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc/issues/5616",children:"https://github.com/swc-project/swc/issues/5616"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"file-extension",children:"file extension"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/notes/web/dev/bundle/faq#js-extension",children:"js extension"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"swc-vs-esbuild",children:"swc vs esbuild"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["esbuild\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"production ready"}),"\n",(0,t.jsx)(s.li,{children:"\u4e0d\u80fd bundle systemjs,amd"}),"\n",(0,t.jsx)(s.li,{children:"\u4e0d\u652f\u6301 emitDecoratorMetadata"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["swc\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"compiler \u529f\u80fd\u5b8c\u5907"}),"\n",(0,t.jsx)(s.li,{children:"\u80fd bundle \u66f4\u591a\u683c\u5f0f"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"strip-leading-paths",children:"strip-leading-paths"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# dist/src -> dist\nnpx swc ./src -d dist --strip-leading-paths\n"})})]})}function a(e={}){const{wrapper:s}={...(0,r.M)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},38088:(e,s,n)=>{var t=n(96651),r=Symbol.for("react.element"),c=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,n){var t,c={},o=null,h=null;for(t in void 0!==n&&(o=""+n),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(h=s.ref),s)i.call(s,t)&&!d.hasOwnProperty(t)&&(c[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===c[t]&&(c[t]=s[t]);return{$$typeof:r,type:e,key:o,ref:h,props:c,_owner:l.current}}s.Fragment=c,s.jsx=o,s.jsxs=o},2488:(e,s,n)=>{e.exports=n(38088)},62780:(e,s,n)=>{n.d(s,{I:()=>l,M:()=>i});var t=n(96651);const r={},c=t.createContext(r);function i(e){const s=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(c.Provider,{value:s},e.children)}}}]);