/*! For license information please see 9927090e.8023b3e5.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[18156],{51188:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>a});var l=i(2488),r=i(62780);const s={title:"VA-API"},t="VA-API",d={id:"os/linux/desktop/vaapi",title:"VA-API",description:"- intel/libva",source:"@site/../notes/os/linux/desktop/vaapi.md",sourceDirName:"os/linux/desktop",slug:"/os/linux/desktop/vaapi",permalink:"/notes/os/linux/desktop/vaapi",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/desktop/vaapi.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1705499993,formattedLastUpdatedAt:"Jan 17, 2024",frontMatter:{title:"VA-API"},sidebar:"docs",previous:{title:"uxplay",permalink:"/notes/os/linux/desktop/uxplay"},next:{title:"Wayland",permalink:"/notes/os/linux/desktop/wayland"}},c={},a=[];function o(n){const e={a:"a",code:"code",h1:"h1",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,r.M)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h1,{id:"va-api",children:"VA-API"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/intel/libva",children:"intel/libva"})}),"\n",(0,l.jsxs)(e.li,{children:["VA-API - Videp Acceleration API\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"by Intel"}),"\n",(0,l.jsx)(e.li,{children:"\u517c\u5bb9\u66f4\u591a"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["VDPAU - Video Decode and Presentation API for Unix\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"by Nvdia"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"DRI - Direct Rendering Infrastructure"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'apk add pciutils\nlspci | grep -i graph\nlspci -v -s $(lspci | grep VGA | cut -d" " -f 1)\n\napk add libva-utils\nvainfo\n\napk add vdpauinfo\nvdpauinfo\n\nls /usr/lib/dri/\nls /usr/lib/dri/${LIBVA_DRIVER_NAME}_drv_video.so\n\nls /dev/dri\n\nLIBVA_DRIVER_NAME=iHD vainfo --device card1 --display drm\nLIBVA_DRIVER_NAME=i1965 LIBVA_TRACE=./vainfo.log vainfo\n\n# \u5185\u6838\u6a21\u5757\nmodinfo i915\n\n# https://github.com/gjasny/v4l-utils\napk add v4l-utils\nv4l2-ctl --list-devices\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"LIBVA_DRIVER_NAME"}),"\n",(0,l.jsxs)(e.li,{children:["Intel graphics\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["libva-intel-driver i965\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u65e9\u671f - brodwell\u3001skylake"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["intel-media-driver iHD\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u540e\u671f - kebey lake\u3001coffee lake"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["NVIDIA\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Nouveau ",(0,l.jsx)(e.code,{children:"nouveau"}),"."]}),"\n",(0,l.jsxs)(e.li,{children:["NVIDIA VDPAU ",(0,l.jsx)(e.code,{children:"vdpau"})]}),"\n",(0,l.jsxs)(e.li,{children:["NVIDIA NVDEC ",(0,l.jsx)(e.code,{children:"nvidia"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["AMD\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["AMDGPU ",(0,l.jsx)(e.code,{children:"radeonsi"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["libva-vdpau-driver\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"VDPAU backend for VA API"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"VAProfileNone"}),"\n",(0,l.jsxs)(e.li,{children:["intel_gpu_top\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"debian intel-gpu-tools"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"i915 \u5185\u6838\u901a\u7528\u6a21\u5757"}),"\n",(0,l.jsxs)(e.li,{children:["V4L2 - Video4Linux2\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7535\u89c6\u5361\u3001\u7f51\u7edc\u6444\u50cf\u5934\u3001\u6a21\u62df\u89c6\u9891\u91c7\u96c6\u5361"}),"\n",(0,l.jsx)(e.li,{children:"\u89c6\u9891\u8bbe\u5907\u7ba1\u7406\u548c\u63a7\u5236"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Iris\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Intel Iris Graphics"}),"\n",(0,l.jsx)(e.li,{children:"Gen11 GPU"}),"\n",(0,l.jsx)(e.li,{children:"\u4f18\u4e8e i964 Mesa"}),"\n",(0,l.jsx)(e.li,{children:"Ice Lake(9\u4ee3)+"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"CFL - Coffee Lake"}),"\n",(0,l.jsx)(e.li,{children:"ICL - Ice Lake"}),"\n",(0,l.jsxs)(e.li,{children:["Intel N100\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Intel\xae UHD Graphics"}),"\n",(0,l.jsx)(e.li,{children:"Alder Lake-N"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://ark.intel.com/content/www/us/en/ark/products/231803/intel-processor-n100-6m-cache-up-to-3-40-ghz.html",children:"https://ark.intel.com/content/www/us/en/ark/products/231803/intel-processor-n100-6m-cache-up-to-3-40-ghz.html"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Intel_Quick_Sync_Video#Hardware_decoding_and_encoding",children:"https://en.wikipedia.org/wiki/Intel_Quick_Sync_Video#Hardware_decoding_and_encoding"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://wiki.archlinux.org/title/Hardware_video_acceleration",children:"https://wiki.archlinux.org/title/Hardware_video_acceleration"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"00:02.0 VGA compatible controller: Intel Corporation Alder Lake-N [UHD Graphics] (prog-if 00 [VGA controller])\n\tDeviceName: Onboard - Video\n\tSubsystem: Intel Corporation Device 7270\n\tFlags: bus master, fast devsel, latency 0, IRQ 137\n\tMemory at 6000000000 (64-bit, non-prefetchable) [size=16M]\n\tMemory at 4000000000 (64-bit, prefetchable) [size=256M]\n\tI/O ports at 3000 [size=64]\n\tExpansion ROM at 000c0000 [virtual] [disabled] [size=128K]\n\tCapabilities: <access denied>\n\tKernel driver in use: i915\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.M)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},38088:(n,e,i)=>{var l=i(96651),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,d=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(n,e,i){var l,s={},a=null,o=null;for(l in void 0!==i&&(a=""+i),void 0!==e.key&&(a=""+e.key),void 0!==e.ref&&(o=e.ref),e)t.call(e,l)&&!c.hasOwnProperty(l)&&(s[l]=e[l]);if(n&&n.defaultProps)for(l in e=n.defaultProps)void 0===s[l]&&(s[l]=e[l]);return{$$typeof:r,type:n,key:a,ref:o,props:s,_owner:d.current}}e.Fragment=s,e.jsx=a,e.jsxs=a},2488:(n,e,i)=>{n.exports=i(38088)},62780:(n,e,i)=>{i.d(e,{I:()=>d,M:()=>t});var l=i(96651);const r={},s=l.createContext(r);function t(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);