/*! For license information please see ab97396f.d1138b9d.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[83955],{74284:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var n=t(11527),s=t(47214);const i={title:"VictoriaMetrics Operator",tags:["Kubernetes","Operator"]},c="VictoriaMetrics Operator",a={id:"service/observability/metrics/victoria-metrics/victoria-metrics-operator",title:"VictoriaMetrics Operator",description:"- VictoriaMetrics/operator",source:"@site/../notes/service/observability/metrics/victoria-metrics/victoria-metrics-operator.md",sourceDirName:"service/observability/metrics/victoria-metrics",slug:"/service/observability/metrics/victoria-metrics/operator",permalink:"/notes/service/observability/metrics/victoria-metrics/operator",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/observability/metrics/victoria-metrics/victoria-metrics-operator.md",tags:[{label:"Kubernetes",permalink:"/notes/tags/kubernetes"},{label:"Operator",permalink:"/notes/tags/operator"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1684666307,formattedLastUpdatedAt:"May 21, 2023",frontMatter:{title:"VictoriaMetrics Operator",tags:["Kubernetes","Operator"]},sidebar:"docs",previous:{title:"VictoriaMetrics",permalink:"/notes/service/observability/metrics/victoria-metrics/"},next:{title:"netdata",permalink:"/notes/service/observability/netdata"}},o={},l=[];function d(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"victoriametrics-operator",children:"VictoriaMetrics Operator"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/VictoriaMetrics/operator",children:"VictoriaMetrics/operator"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u7ba1\u7406\u76d1\u63a7\u914d\u7f6e"}),"\n",(0,n.jsx)(r.li,{children:"\u670d\u52a1\u90e8\u7f72"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://github.com/VictoriaMetrics/helm-charts",children:"VictoriaMetrics/helm-charts"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Helm \u90e8\u7f72 Repo - \u63a8\u8350 operator \u90e8\u7f72"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"\u76d1\u63a7"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"prometheus"}),(0,n.jsx)(r.th,{children:"vm"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"ServiceMonitor"}),(0,n.jsx)(r.td,{children:"VMServiceMonitor"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"PodMonitor"}),(0,n.jsx)(r.td,{children:"VMPodMonitor"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"PrometheusRule"}),(0,n.jsx)(r.td,{children:"VMRule"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Probe"}),(0,n.jsx)(r.td,{children:"VMProbe"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{}),(0,n.jsx)(r.td,{children:"VMNodeScrape"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{}),(0,n.jsx)(r.td,{children:"VMStaticScrape"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Prometheus"}),(0,n.jsx)(r.td,{children:"VMSingle"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{}),(0,n.jsx)(r.td,{children:"VMCluster"})]})]})]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:"VMNodeScrape \u53ef\u4ee5\u907f\u514d\u9488\u5bf9\u7cfb\u7edf\u670d\u52a1\u521b\u5efa service\uff0c\u4f8b\u5982 kublet"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"\u5e94\u7528"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://docs.victoriametrics.com/operator/api.html",children:"https://docs.victoriametrics.com/operator/api.html"})}),"\n",(0,n.jsx)(r.li,{children:"VMSingle"}),"\n",(0,n.jsx)(r.li,{children:"VMCluster - \u96c6\u7fa4\u7248 VM"}),"\n",(0,n.jsx)(r.li,{children:"VMAgent"}),"\n",(0,n.jsx)(r.li,{children:"VMAlert"}),"\n",(0,n.jsx)(r.li,{children:"VMAlertmanager"}),"\n",(0,n.jsx)(r.li,{children:"VMServiceScrape"}),"\n",(0,n.jsx)(r.li,{children:"VMPodScrape"}),"\n",(0,n.jsx)(r.li,{children:"VMStaticScrape"}),"\n",(0,n.jsxs)(r.li,{children:["VMAuth - \u90e8\u7f72 vmauth - \u901a\u8fc7\u9650\u5b9a path \u5b9e\u73b0\u6743\u9650\u548c\u79df\u6237\u9650\u5b9a\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["VMUser - \u6dfb\u52a0 vmauth \u7528\u6237\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"bearerToken"}),"\n",(0,n.jsx)(r.li,{children:"basicAuth"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:"\u751f\u6210\u7684\u914d\u7f6e\u4f4d\u4e8e /opt/vmauth/config.yaml"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:"---\n# \u90e8\u7f72 vmauth\napiVersion: operator.victoriametrics.com/v1beta1\nkind: VMAuth\nmetadata:\n  name: example\n  namespace: default\nspec:\n  ingress:\n    class_name: nginx\n    tlsHosts: []\n    tlsSecretName:\n    extraRules:\n    extraTls:\n  # false \u5219\u8981\u6c42\u914d\u7f6e userSelector, userNamespaceSelector\n  selectAllByDefault: true\n  # vmuser label \u9009\u62e9\n  userSelector:\n    matchLabels:\n      vmauth.victoriametrics.com/instance: demo\n  # ns label \u9009\u62e9\n  userNamespaceSelector:\n\n---\n# \u4e3a vmauth \u914d\u7f6e user\napiVersion: operator.victoriametrics.com/v1beta1\nkind: VMUser\nmetadata:\n  name: example\n  labels:\n    vmauth.victoriametrics.com/instance: demo\nspec:\n  username: simple-user\n  password: simple-password\n  passwordRef:\n  generatePassword: false\n  bearerToken:\n  targetRefs:\n    - crd:\n        # VMAgent,VMAlert,VMAlertmanager,VMSingle,VMCluster/vmselect,VMCluster/vminsert,VMCluster/vmstorage\n        kind: VMSingle\n        name: example\n        namespace: default\n      paths: ['/.*']\n    - static:\n        url: http://vmalert-example.default.svc:8080\n      paths: ['/api/v1/groups', '/api/v1/alerts']\n      target_path_suffix:\n      headers:\n        - X-Org-ID: xyz\n"})})]})}function h(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},3354:(e,r,t)=>{var n=t(50959),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,t){var n,i={},l=null,d=null;for(n in void 0!==t&&(l=""+t),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(d=r.ref),r)c.call(r,n)&&!o.hasOwnProperty(n)&&(i[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===i[n]&&(i[n]=r[n]);return{$$typeof:s,type:e,key:l,ref:d,props:i,_owner:a.current}}r.Fragment=i,r.jsx=l,r.jsxs=l},11527:(e,r,t)=>{e.exports=t(3354)},47214:(e,r,t)=>{t.d(r,{Z:()=>a,a:()=>c});var n=t(50959);const s={},i=n.createContext(s);function c(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);