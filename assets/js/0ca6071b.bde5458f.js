/*! For license information please see 0ca6071b.bde5458f.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[45269],{89152:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var l=s(2488),i=s(62780);const r={title:"PHP"},t="PHP",c={id:"languages/php/README",title:"PHP",description:"| spec   |",source:"@site/../notes/languages/php/README.md",sourceDirName:"languages/php",slug:"/languages/php/",permalink:"/notes/languages/php/",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/php/README.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1668326649,formattedLastUpdatedAt:"Nov 13, 2022",frontMatter:{title:"PHP"},sidebar:"docs",previous:{title:"PEG.js",permalink:"/notes/languages/parser/pegjs"},next:{title:"composer",permalink:"/notes/languages/php/composer"}},a={},h=[{value:"Docker",id:"docker",level:2},{value:"PHP 7",id:"php-7",level:2},{value:"laravel",id:"laravel",level:2},{value:"Lumen",id:"lumen",level:3},{value:"CentOS",id:"centos",level:2},{value:"Composer",id:"composer",level:2},{value:"satis",id:"satis",level:3},{value:"ThinkPHP5",id:"thinkphp5",level:2},{value:"\u76ee\u5f55\u7ed3\u6784",id:"\u76ee\u5f55\u7ed3\u6784",level:3},{value:"\u4ee3\u7801",id:"\u4ee3\u7801",level:3},{value:"PECL",id:"pecl",level:2},{value:"HHVM",id:"hhvm",level:2},{value:"Symfony",id:"symfony",level:2},{value:"Notes",id:"notes",level:2},{value:"FAQ",id:"faq",level:2},{value:"\u907f\u514d\u76f4\u63a5\u8bbf\u95ee PHP",id:"\u907f\u514d\u76f4\u63a5\u8bbf\u95ee-php",level:3},{value:"\u786e\u4fdd\u76f8\u5bf9\u5f15\u7528\u6b63\u786e",id:"\u786e\u4fdd\u76f8\u5bf9\u5f15\u7528\u6b63\u786e",level:3},{value:"\u67e5\u770b ca \u73af\u5883",id:"\u67e5\u770b-ca-\u73af\u5883",level:3},{value:"Connection to `ssl://pecl.php.net:443&#39; failed: Unable to find the socket transport &quot;ssl&quot; - did you forget to enable it when you configured PHP?",id:"connection-to-sslpeclphpnet443-failed-unable-to-find-the-socket-transport-ssl---did-you-forget-to-enable-it-when-you-configured-php",level:3}];function o(n){const e={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.M)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h1,{id:"php",children:"PHP"}),"\n",(0,l.jsxs)(e.p,{children:["| spec   |\n| ------ | --------------------------- |\n| PSR-1  | Basic Coding Standard       |\n| PSR-2  | ",(0,l.jsx)(e.del,{children:"Coding Style Guide"}),"      |\n| PSR-3  | Logger Interface            |\n| PSR-4  | Autoloading Standard        |\n| PSR-6  | Caching Interface           |\n| PSR-7  | HTTP Message Interface      |\n| PSR-11 | Container Interface         |\n| PSR-12 | Extended Coding Style Guide |\n| PSR-13 | Hypermedia Links            |\n| PSR-14 | Event Dispatcher            |\n| PSR-15 | HTTP Handlers               |\n| PSR-16 | Simple Cache                |\n| PSR-17 | HTTP Factories              |\n| PSR-18 | HTTP Client                 |"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.php-fig.org/psr/",children:"PHP Standards Recommendations"})}),"\n",(0,l.jsx)(e.li,{children:"ZTS - Zend Thread Safety"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u7f13\u5b58\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["APC\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u652f\u6301 opcode \u548c \u6570\u636e\u7f13\u5b58"}),"\n",(0,l.jsx)(e.li,{children:"System Cache Entries"}),"\n",(0,l.jsx)(e.li,{children:"Per-Directory Entries"}),"\n",(0,l.jsx)(e.li,{children:"User Cache Entries"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["APCu\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u63d0\u4f9b APC \u4e2d\u7684\u6570\u636e\u7f13\u5b58\u529f\u80fd"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"XCache"}),"\n",(0,l.jsxs)(e.li,{children:["OPCache\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"5.5 \u96c6\u6210"}),"\n",(0,l.jsx)(e.li,{children:"\u66ff\u4ee3 APC \u7684 opcode \u7f13\u5b58, XCache"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# CentOS\n# \u67e5\u770b\u5b89\u88c5\u6587\u4ef6\nrpm -ql php-fpm\nyum instal yum-utils\n# \u67e5\u770b\u5df2\u5b89\u88c5\u7684\u6587\u4ef6\nrepoquery -lq --installed time\n\n# \u5167\u5efa web \u670d\u52a1\n# http://php.net/manual/zh/features.commandline.webserver.php\nphp -S 0.0.0.0:8082 -c php.ini\n\n# \u5224\u65ad\u662f\u5426\u6709\u54cd\u5e94\u6a21\u5757\nphp -i \"(command-line 'phpinfo()')\" | grep -i grpc\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ini",children:"# PHP \u5e38\u7528\u914d\u7f6e\ndate.timezone=Asia/Shanghai\n"})}),"\n",(0,l.jsx)(e.h2,{id:"docker",children:"Docker"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# wener/php:app\n# php7 + nginx + mongo,redis,grpc extension + composer\ndocker run --rm -it --entrypoint bash wener/php:app\n"})}),"\n",(0,l.jsx)(e.h2,{id:"php-7",children:"PHP 7"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"opcache"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"laravel",children:"laravel"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://laravel.com/",children:"laravel"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://www.golaravel.com/",children:"http://www.golaravel.com/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/chiraggude/awesome-laravel",children:"awesome-laravel"})}),"\n",(0,l.jsxs)(e.li,{children:["ORM ",(0,l.jsx)(e.a,{href:"https://github.com/illuminate/database",children:"illuminate"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://laravel-china.org/",children:"laravel-china"})," - \u4e2d\u6587\u793e\u533a"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# \u53ef\u4f7f\u7528\u4ee3\u7406 https_proxy=http://127.0.0.1:7777 http_proxy=http://127.0.0.1:7777\ncomposer global require -vvv "laravel/lumen-installer"\ncomposer create-project --prefer-dist laravel/lumen -vvv blog\ncd blog\nphp -S localhost:8000 -t ./public\n\nphp artisan make:migration create_users_table\n# \u4fee\u6539 Mirage \u4e0b\u7684\u6570\u636e,\u6dfb\u52a0 User \u8868\u7684 migrate\n# \u6dfb\u52a0 UserTableSeeder \u5f80 User \u63d2\u5165\u6570\u636e\nphp artisan migrate\n# \u53ef\u4ee5\u56de\u6eda\nphp artisan migrate:rollback\n# \u8c03\u7528 seeder\nphp artisan db:seed\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["fpm ",(0,l.jsx)(e.a,{href:"http://php.net/manual/zh/install.fpm.configuration.php",children:"\u914d\u7f6e\u9879"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8ba1\u7b97 pm.max_children ",(0,l.jsx)(e.a,{href:"http://myshell.co.uk/blog/2012/07/adjusting-child-processes-for-php-fpm-nginx/",children:"\u53c2\u8003"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"lumen",children:"Lumen"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Laravel ",(0,l.jsx)(e.a,{href:"https://lumen.laravel.com/",children:"Lumen"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"The stunningly fast micro-framework by Laravel."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u4e3b\u8981\u505a REST \u670d\u52a1"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"centos",children:"CentOS"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53c2\u8003 ",(0,l.jsx)(e.a,{href:"https://www.centos.org/forums/viewtopic.php?t=52586",children:"https://www.centos.org/forums/viewtopic.php?t=52586"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# 7.x\nrpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm\nrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n# \u8be5\u4ed3\u5e93\u4e2d\u7684\u5185\u5bb9\u53ef\u4ee5\u67e5\u770b https://uk.repo.webtatic.com/yum/el7/SRPMS/RPMS/\n# \u73b0\u5728\u53ef\u4ee5\u76f4\u63a5\u5b89\u88c5 56 \u7248\u672c\nyum install php56w php56w-opcache\n# \u4e5f\u53ef\u4ee5\u4f7f\u7528\u63d2\u4ef6\u6765\u66ff\u6362\u672c\u5730\u7684 php \u7248\u672c\nyum install yum-plugin-replace\nyum replace --enablerepo=webtatic-testing php-common --replace-with=php56w-common\n"})}),"\n",(0,l.jsx)(e.h2,{id:"composer",children:"Composer"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/paquettg/php-html-parser",children:"paquettg/php-html-parser"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://pkg.phpcomposer.com/",children:"\u56fd\u5185\u955c\u50cf"})}),"\n",(0,l.jsxs)(e.li,{children:["\u79c1\u6709\u4ed3\u5e93\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md",children:"https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://getcomposer.org/doc/04-schema.md",children:"https://getcomposer.org/doc/04-schema.md"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://getcomposer.org/doc/03-cli.md",children:"https://getcomposer.org/doc/03-cli.md"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \u4f7f\u7528\u4e2d\u56fd\u955c\u50cf\u5b89\u88c5\nphp -r \"copy('https://install.phpcomposer.com/installer', 'composer-setup.php');\" \\\n  && php composer-setup.php \\\n  && php -r \"unlink('composer-setup.php');\" \\\n  && mv composer.phar /usr/local/bin/composer\n\n# \u4f7f\u7528\u56fd\u5185\u955c\u50cf\n# \u4fee\u6539\u5168\u5c40\u914d\u7f6e\ncomposer config -g repo.packagist composer https://packagist.phpcomposer.com\n# \u4fee\u6539\u5f53\u524d\u9879\u76ee\ncomposer config repo.packagist composer https://packagist.phpcomposer.com\n\n# \u521d\u59cb\u5316\ncomposer init\n# \u6dfb\u52a0\u4f9d\u8d56\ncomposer require paquettg/php-html-parser\n# \u79fb\u9664\u4f9d\u8d56\ncomposer remove paquettg/php-html-parser\n# \u5b89\u88c5\u4f9d\u8d56\ncomposer install\n# \u66f4\u65b0\u4f9d\u8d56\ncomposer update\ncomposer update --lock\ncomposer dump-autoload --optimize\n\ncomposer about\ncomposer archive\ncomposer browse\ncomposer clear-cache\ncomposer config --list\ncomposer create-project symfony/standard-edition dir/\ncomposer depends vendor-name/package-name\ncomposer diagnose\ncomposer global\ncomposer help\ncomposer init\ncomposer licenses\ncomposer list\ncomposer remove\ncomposer run-script\ncomposer search my keywords\ncomposer self-update\ncomposer show\ncomposer suggest\ncomposer status\ncomposer validate\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5b89\u88c5\u597d\u540e\u53ea\u9700\u8981\u6dfb\u52a0\u4e00\u4e0b autoload \u5373\u53ef\u4f7f\u7528"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-php",children:"<?php\nrequire __DIR__ . '/vendor/autoload.php';\n"})}),"\n",(0,l.jsx)(e.h3,{id:"satis",children:"satis"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \u53ef\u4ee5\u6620\u5c04\u4e3b\u673a\u4e0a\u7684\u4e3b\u76ee\u5f55\u4ee5\u5229\u7528\u7f13\u5b58\n# -v $COMPOSER_HOME:/composer\ndocker run --rm -it -v $PWD/build:/build --entrypoint /bin/sh composer/satis\n\n# \u5f53\u6784\u5efa\u5b8c\u6210\u540e\u76f4\u63a5\u4e0a\u4f20\u4e3a\u9759\u6001\u7ad9\u70b9\u5373\u53ef\nrsync -avz build/ my-server:/var/www/html\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"satis.json"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "name": "MyRepo",\n  "homepage": "https://composer.example.org",\n  "repositories": [\n    {\n      "type": "vcs",\n      "url": "https://example.org/code/api-php.git"\n    },\n    {\n      "type": "vcs",\n      "url": "https://example.org/code/other-php.git"\n    }\n  ],\n  "require-all": true\n}\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"cd /build\n# \u521b\u5efa satis.json\nphp /satis/bin/satis build satis.json .\n# \u6216\u8005 docker \u6784\u5efa\ndocker run --rm -it -v $PWD/build:/build composer/satis\nrsync -avz --delete ./build/ root@my-host:/mysite\n"})}),"\n",(0,l.jsx)(e.h2,{id:"thinkphp5",children:"ThinkPHP5"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.kancloud.cn/manual/thinkphp5",children:"ThinkPHP5.0 \u5b8c\u5168\u5f00\u53d1\u624b\u518c"})}),"\n",(0,l.jsxs)(e.li,{children:["\u9700\u6c42\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"PHP >= 5.4.0"}),"\n",(0,l.jsx)(e.li,{children:"PDO PHP Extension"}),"\n",(0,l.jsx)(e.li,{children:"MBstring PHP Extension"}),"\n",(0,l.jsx)(e.li,{children:"CURL PHP Extension"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"composer create-project topthink/think tp5 --prefer-dist\ncd tp5\n\n# \u542f\u52a8\u81ea\u5e26 web \u670d\u52a1\u5668\nphp -S localhost:8888 application/route.php\n\n# \u4f7f\u5f97 think \u53ef\u6267\u884c\n# \u4e0d\u64cd\u4f5c\u8fd9\u4e00\u6b65\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 php think \u6765\u6267\u884c\nchmod +x think\n# \u67e5\u770b\u6240\u6709\u547d\u4ee4\n./think list\n# Available commands:\n#   build              Build Application Dirs\n#   clear              Clear runtime file\n#   help               Displays help for a command\n#   list               Lists commands\n#  make\n#   make:controller    Create a new resource controller class\n#   make:model         Create a new model class\n#  optimize\n#   optimize:autoload  Optimizes PSR0 and PSR4 packages to be loaded with classmaps too, good for production.\n#   optimize:config    Build config and common file cache.\n#   optimize:route     Build route cache.\n#   optimize:schema    Build database schema cache.\n\n# \u751f\u6210\u5b9a\u4e49\u7684\u6587\u4ef6\n# \u9ed8\u8ba4\u4f1a\u4f7f\u7528 application/build.php\n./think build\n# \u4f7f\u7528\u6307\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\n./think build --config build.php\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u76ee\u5f55\u7ed3\u6784",children:"\u76ee\u5f55\u7ed3\u6784"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"project  \u5e94\u7528\u90e8\u7f72\u76ee\u5f55\n\u251c\u2500application           \u5e94\u7528\u76ee\u5f55\uff08\u53ef\u8bbe\u7f6e\uff09\n\u2502  \u251c\u2500common             \u516c\u5171\u6a21\u5757\u76ee\u5f55\uff08\u53ef\u66f4\u6539\uff09\n\u2502  \u251c\u2500index              \u6a21\u5757\u76ee\u5f55(\u53ef\u66f4\u6539)\n\u2502  \u2502  \u251c\u2500config.php      \u6a21\u5757\u914d\u7f6e\u6587\u4ef6\n\u2502  \u2502  \u251c\u2500common.php      \u6a21\u5757\u51fd\u6570\u6587\u4ef6\n\u2502  \u2502  \u251c\u2500controller      \u63a7\u5236\u5668\u76ee\u5f55\n\u2502  \u2502  \u251c\u2500model           \u6a21\u578b\u76ee\u5f55\n\u2502  \u2502  \u251c\u2500view            \u89c6\u56fe\u76ee\u5f55\n\u2502  \u2502  \u2514\u2500 ...            \u66f4\u591a\u7c7b\u5e93\u76ee\u5f55\n\u2502  \u251c\u2500command.php        \u547d\u4ee4\u884c\u5de5\u5177\u914d\u7f6e\u6587\u4ef6\n\u2502  \u251c\u2500common.php         \u5e94\u7528\u516c\u5171\uff08\u51fd\u6570\uff09\u6587\u4ef6\n\u2502  \u251c\u2500config.php         \u5e94\u7528\uff08\u516c\u5171\uff09\u914d\u7f6e\u6587\u4ef6\n\u2502  \u251c\u2500database.php       \u6570\u636e\u5e93\u914d\u7f6e\u6587\u4ef6\n\u2502  \u251c\u2500tags.php           \u5e94\u7528\u884c\u4e3a\u6269\u5c55\u5b9a\u4e49\u6587\u4ef6\n|  \u251c\u2500build.php          \u81ea\u52a8\u751f\u6210\u5b9a\u4e49\u6587\u4ef6\n\u2502  \u2514\u2500route.php          \u8def\u7531\u914d\u7f6e\u6587\u4ef6\n\u251c\u2500extend                \u6269\u5c55\u7c7b\u5e93\u76ee\u5f55\uff08\u53ef\u5b9a\u4e49\uff09\n\u251c\u2500public                WEB \u90e8\u7f72\u76ee\u5f55\uff08\u5bf9\u5916\u8bbf\u95ee\u76ee\u5f55\uff09\n\u2502  \u251c\u2500static             \u9759\u6001\u8d44\u6e90\u5b58\u653e\u76ee\u5f55(css,js,image)\n\u2502  \u251c\u2500index.php          \u5e94\u7528\u5165\u53e3\u6587\u4ef6\n\u2502  \u251c\u2500router.php         \u5feb\u901f\u6d4b\u8bd5\u6587\u4ef6\n\u2502  \u2514\u2500.htaccess          \u7528\u4e8e apache \u7684\u91cd\u5199\n\u251c\u2500runtime               \u5e94\u7528\u7684\u8fd0\u884c\u65f6\u76ee\u5f55\uff08\u53ef\u5199\uff0c\u53ef\u8bbe\u7f6e\uff09\n\u251c\u2500vendor                \u7b2c\u4e09\u65b9\u7c7b\u5e93\u76ee\u5f55\uff08Composer\uff09\n\u251c\u2500thinkphp              \u6846\u67b6\u7cfb\u7edf\u76ee\u5f55\n\u2502  \u251c\u2500lang               \u8bed\u8a00\u5305\u76ee\u5f55\n\u2502  \u251c\u2500library            \u6846\u67b6\u6838\u5fc3\u7c7b\u5e93\u76ee\u5f55\n\u2502  \u2502  \u251c\u2500think           Think \u7c7b\u5e93\u5305\u76ee\u5f55\n\u2502  \u2502  \u2514\u2500traits          \u7cfb\u7edf Traits \u76ee\u5f55\n\u2502  \u251c\u2500tpl                \u7cfb\u7edf\u6a21\u677f\u76ee\u5f55\n\u2502  \u251c\u2500.htaccess          \u7528\u4e8e apache \u7684\u91cd\u5199\n\u2502  \u251c\u2500.travis.yml        CI \u5b9a\u4e49\u6587\u4ef6\n\u2502  \u251c\u2500base.php           \u57fa\u7840\u5b9a\u4e49\u6587\u4ef6\n\u2502  \u251c\u2500composer.json      composer \u5b9a\u4e49\u6587\u4ef6\n\u2502  \u251c\u2500console.php        \u63a7\u5236\u53f0\u5165\u53e3\u6587\u4ef6\n\u2502  \u251c\u2500convention.php     \u60ef\u4f8b\u914d\u7f6e\u6587\u4ef6\n\u2502  \u251c\u2500helper.php         \u52a9\u624b\u51fd\u6570\u6587\u4ef6\uff08\u53ef\u9009\uff09\n\u2502  \u251c\u2500LICENSE.txt        \u6388\u6743\u8bf4\u660e\u6587\u4ef6\n\u2502  \u251c\u2500phpunit.xml        \u5355\u5143\u6d4b\u8bd5\u914d\u7f6e\u6587\u4ef6\n\u2502  \u251c\u2500README.md          README \u6587\u4ef6\n\u2502  \u2514\u2500start.php          \u6846\u67b6\u5f15\u5bfc\u6587\u4ef6\n\u251c\u2500build.php             \u81ea\u52a8\u751f\u6210\u5b9a\u4e49\u6587\u4ef6\uff08\u53c2\u8003\uff09\n\u251c\u2500composer.json         composer \u5b9a\u4e49\u6587\u4ef6\n\u251c\u2500LICENSE.txt           \u6388\u6743\u8bf4\u660e\u6587\u4ef6\n\u251c\u2500README.md             README \u6587\u4ef6\n\u251c\u2500think                 \u547d\u4ee4\u884c\u5165\u53e3\u6587\u4ef6\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u4ee3\u7801",children:"\u4ee3\u7801"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.code,{children:"thinkphp/start.php"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7cfb\u7edf\u9ed8\u8ba4\u7684\u4e00\u4e2a\u5f15\u5bfc\u6587\u4ef6"}),"\n",(0,l.jsx)(e.li,{children:"\u52a0\u8f7d\u7cfb\u7edf\u5e38\u91cf\u5b9a\u4e49"}),"\n",(0,l.jsx)(e.li,{children:"\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\u5b9a\u4e49\u6587\u4ef6"}),"\n",(0,l.jsx)(e.li,{children:"\u6ce8\u518c\u81ea\u52a8\u52a0\u8f7d\u673a\u5236"}),"\n",(0,l.jsx)(e.li,{children:"\u6ce8\u518c\u9519\u8bef\u548c\u5f02\u5e38\u5904\u7406\u673a\u5236"}),"\n",(0,l.jsx)(e.li,{children:"\u52a0\u8f7d\u60ef\u4f8b\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884c\u5e94\u7528"}),"\n",(0,l.jsx)(e.li,{children:"\u9996\u5148\u4f1a\u8c03\u7528 base.php \u57fa\u7840\u5f15\u5bfc\u6587\u4ef6\uff0c\u67d0\u4e9b\u7279\u6b8a\u9700\u6c42\u4e0b\u9762\u53ef\u80fd\u76f4\u63a5\u5728\u5165\u53e3\u6587\u4ef6\u4e2d\u5f15\u5165\u57fa\u7840\u5f15\u5bfc\u6587\u4ef6\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u8def\u7531"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"__miss__"})," \u5b9a\u4e49\u672a\u627e\u5230\u65f6\u7684\u64cd\u4f5c"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"[blog]"})," \u5206\u7ec4\u4f7f\u7528 ",(0,l.jsx)(e.code,{children:"[]"})," \u6807\u793a"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u63a7\u5236\u5668"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6807\u51c6\u63a7\u5236\u5668\u652f\u6301 \u8bf7\u6c42\u65b9\u6cd5+\u8def\u5f84 \u7684\u8f6c\u6362"}),"\n",(0,l.jsx)(e.li,{children:"\u8d44\u6e90\u63a7\u5236\u652f\u6301\u4ee5\u4e0b\u65b9\u6cd5\u6620\u5c04"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u6807\u8bc6"}),(0,l.jsx)(e.th,{children:"\u8bf7\u6c42\u7c7b\u578b"}),(0,l.jsx)(e.th,{children:"\u751f\u6210\u8def\u7531\u89c4\u5219"}),(0,l.jsx)(e.th,{children:"\u5bf9\u5e94\u64cd\u4f5c\u65b9\u6cd5\uff08\u9ed8\u8ba4\uff09"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"index"}),(0,l.jsx)(e.td,{children:"GET"}),(0,l.jsx)(e.td,{children:"blog"}),(0,l.jsx)(e.td,{children:"index"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"create"}),(0,l.jsx)(e.td,{children:"GET"}),(0,l.jsx)(e.td,{children:"blog/create"}),(0,l.jsx)(e.td,{children:"create"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"save"}),(0,l.jsx)(e.td,{children:"POST"}),(0,l.jsx)(e.td,{children:"blog"}),(0,l.jsx)(e.td,{children:"save"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"read"}),(0,l.jsx)(e.td,{children:"GET"}),(0,l.jsx)(e.td,{children:"blog/:id"}),(0,l.jsx)(e.td,{children:"read"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"edit"}),(0,l.jsx)(e.td,{children:"GET"}),(0,l.jsx)(e.td,{children:"blog/:id/edit"}),(0,l.jsx)(e.td,{children:"edit"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"update"}),(0,l.jsx)(e.td,{children:"PUT"}),(0,l.jsx)(e.td,{children:"blog/:id"}),(0,l.jsx)(e.td,{children:"update"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"delete"}),(0,l.jsx)(e.td,{children:"DELETE"}),(0,l.jsx)(e.td,{children:"blog/:id"}),(0,l.jsx)(e.td,{children:"delete"})]})]})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u6a21\u578b"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u652f\u6301\u6570\u636e\u5e93\u8868\u6620\u5c04"}),"\n",(0,l.jsx)(e.li,{children:"\u652f\u6301\u57fa\u672c\u7684\u589e\u5220\u6539\u67e5\u64cd\u4f5c"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"pecl",children:"PECL"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://pear.php.net/packages.php",children:"http://pear.php.net/packages.php"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://pecl.php.net/package-stats.php",children:"https://pecl.php.net/package-stats.php"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://php.net/manual/en/extensions.php",children:"http://php.net/manual/en/extensions.php"})}),"\n",(0,l.jsxs)(e.li,{children:["\u5e38\u7528\u6269\u5c55\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Redis"}),"\n",(0,l.jsx)(e.li,{children:"Mongo"}),"\n",(0,l.jsx)(e.li,{children:"gRPC"}),"\n",(0,l.jsx)(e.li,{children:"Protobuf"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"pecl updahe-channels\n# yes \u542f\u7528 igbinary\n# https://github.com/igbinary/igbinary\npecl install -o -f redis <<< no\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'build                  Build an Extension From C Source\nbundle                 Unpacks a Pecl Package\nchannel-add            Add a Channel\nchannel-alias          Specify an alias to a channel name\nchannel-delete         Remove a Channel From the List\nchannel-discover       Initialize a Channel from its server\nchannel-info           Retrieve Information on a Channel\nchannel-login          Connects and authenticates to remote channel server\nchannel-logout         Logs out from the remote channel server\nchannel-update         Update an Existing Channel\nclear-cache            Clear Web Services Cache\nconfig-create          Create a Default configuration file\nconfig-get             Show One Setting\nconfig-help            Show Information About Setting\nconfig-set             Change Setting\nconfig-show            Show All Settings\nconvert                Convert a package.xml 1.0 to package.xml 2.0 format\ncvsdiff                Run a "cvs diff" for all files in a package\ncvstag                 Set CVS Release Tag\ndownload               Download Package\ndownload-all           Downloads each available package from the default channel\ninfo                   Display information about a package\ninstall                Install Package\nlist                   List Installed Packages In The Default Channel\nlist-all               List All Packages\nlist-channels          List Available Channels\nlist-files             List Files In Installed Package\nlist-upgrades          List Available Upgrades\nlogin                  Connects and authenticates to remote server [Deprecated in favor of channel-login]\nlogout                 Logs out from the remote server [Deprecated in favor of channel-logout]\nmakerpm                Builds an RPM spec file from a PEAR package\npackage                Build Package\npackage-dependencies   Show package dependencies\npackage-validate       Validate Package Consistency\npickle                 Build PECL Package\nremote-info            Information About Remote Packages\nremote-list            List Remote Packages\nrun-scripts            Run Post-Install Scripts bundled with a package\nrun-tests              Run Regression Tests\nsearch                 Search remote package database\nshell-test             Shell Script Test\nsign                   Sign a package distribution file\nsvntag                 Set SVN Release Tag\nuninstall              Un-install Package\nupdate-channels        Update the Channel List\nupgrade                Upgrade Package\nupgrade-all            Upgrade All Packages [Deprecated in favor of calling upgrade with no parameters]\nUsage: pecl [options] command [command-options] <parameters>\nType "pecl help options" to list all options.\nType "pecl help shortcuts" to list all command shortcuts.\nType "pecl help version" or "pecl version" to list version information.\nType "pecl help <command>" to get the help for the specified command.\n'})}),"\n",(0,l.jsx)(e.h2,{id:"hhvm",children:"HHVM"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7ed3\u8bba: \u4e0d\u5efa\u8bae\u4f7f\u7528"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://hhvm.com/",children:"https://hhvm.com/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://hacklang.org/",children:"http://hacklang.org/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/HHVM",children:"https://en.wikipedia.org/wiki/HHVM"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://github.com/facebook/hhvm",children:"http://github.com/facebook/hhvm"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://3v4l.org/",children:"https://3v4l.org/"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.keycdn.com/blog/php-7-vs-hhvm/",children:"https://www.keycdn.com/blog/php-7-vs-hhvm/"})}),"\n",(0,l.jsx)(e.li,{children:"Hip Hop bytecode"}),"\n",(0,l.jsxs)(e.li,{children:["HHVM vs PHP7\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u901f\u5ea6\u76f8\u5dee\u4e0d\u5927"}),"\n",(0,l.jsx)(e.li,{children:"\u6269\u5c55 HHVM \u4f7f\u7528 C++ PHP7 \u4f7f\u7528 C"}),"\n",(0,l.jsx)(e.li,{children:"HHVM \u652f\u6301\u7c7b\u578b\u6ce8\u89e3, \u7c7b\u4f3c\u4e8e Typescript \u4e0e JavaScript \u76f4\u63a5\u7684\u5173\u7cfb"}),"\n",(0,l.jsx)(e.li,{children:"PHP7 \u66f4\u52a0\u7a33\u5b9a, \u517c\u5bb9\u6027\u66f4\u5f3a"}),"\n",(0,l.jsx)(e.li,{children:"\u4ee3\u7801\u4fee\u6b63\u540e HHVM \u9700\u8981\u91cd\u542f"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u8d8a\u6765\u8d8a\u591a\u7684\u5e93\u9009\u62e9\u4e0d\u518d\u652f\u6301 HHVM\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://symfony.com/blog/symfony-4-end-of-hhvm-support",children:"Symfony 4: End of HHVM support"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/doctrine/doctrine2/issues/6424",children:"doctrine#6424"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://derickrethans.nl/mongodb-hhvm.html",children:"HHVM and MongoDB"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/cakephp/cakephp/issues/10674",children:"cakephp#10674"}),": Drop support for HHVM officially"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"symfony",children:"Symfony"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/symfony/symfony",children:"https://github.com/symfony/symfony"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"notes",children:"Notes"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["require,require_once,include_once,include \u662f\u8bed\u53e5\u800c\u4e0d\u662f\u51fd\u6570, \u6240\u4ee5\u4e0d\u9700\u8981\u62ec\u53f7 ",(0,l.jsx)(e.code,{children:"()"})]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"faq",children:"FAQ"}),"\n",(0,l.jsx)(e.h3,{id:"\u907f\u514d\u76f4\u63a5\u8bbf\u95ee-php",children:"\u907f\u514d\u76f4\u63a5\u8bbf\u95ee PHP"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-php",children:'<?php\n// \u907f\u514d\u4e0d\u88ab include\nif(count(get_included_files()) ==1) exit("Direct access not permitted.");\n\n// \u907f\u514d\u88ab include\nfunction blockit()\n{\n  $buf = get_included_files();\n  return $buf[0] != __FILE__;\n}\nblockit() and exit("You can not include a MAIN file as a part of your script.");\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u786e\u4fdd\u76f8\u5bf9\u5f15\u7528\u6b63\u786e",children:"\u786e\u4fdd\u76f8\u5bf9\u5f15\u7528\u6b63\u786e"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-php",children:"<?php\n// \u5b9a\u4e49\u76f8\u5bf9\u8def\u5f84\ndefine('__ROOT__', dirname(dirname(__FILE__)));\nrequire_once(__ROOT__.'/config.php');\n\n// \u800c\u4e0d\u662f\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\nrequire_once('/var/www/public_html/config.php'); ?>\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u67e5\u770b-ca-\u73af\u5883",children:"\u67e5\u770b ca \u73af\u5883"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'php -r "print_r(openssl_get_cert_locations());"\n'})}),"\n",(0,l.jsx)(e.h3,{id:"connection-to-sslpeclphpnet443-failed-unable-to-find-the-socket-transport-ssl---did-you-forget-to-enable-it-when-you-configured-php",children:'Connection to `ssl://pecl.php.net:443\' failed: Unable to find the socket transport "ssl" - did you forget to enable it when you configured PHP?'}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53ef\u80fd\u662f\u7531\u4e8e\u672a\u542f\u7528 openssl ",(0,l.jsx)(e.code,{children:"php -m | grep ssl"})]}),"\n",(0,l.jsx)(e.li,{children:"\u53ef\u80fd\u662f\u7531\u4e8e pecl \u672a\u52a0\u8f7d php.ini"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \u8bbe\u7f6e php.ini\npear config-set php_ini /etc/php7/php.ini\n"})})]})}function p(n={}){const{wrapper:e}={...(0,i.M)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},38088:(n,e,s)=>{var l=s(96651),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function h(n,e,s){var l,r={},h=null,o=null;for(l in void 0!==s&&(h=""+s),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(o=e.ref),e)t.call(e,l)&&!a.hasOwnProperty(l)&&(r[l]=e[l]);if(n&&n.defaultProps)for(l in e=n.defaultProps)void 0===r[l]&&(r[l]=e[l]);return{$$typeof:i,type:n,key:h,ref:o,props:r,_owner:c.current}}e.Fragment=r,e.jsx=h,e.jsxs=h},2488:(n,e,s)=>{n.exports=s(38088)},62780:(n,e,s)=>{s.d(e,{I:()=>c,M:()=>t});var l=s(96651);const i={},r=l.createContext(i);function t(n){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);