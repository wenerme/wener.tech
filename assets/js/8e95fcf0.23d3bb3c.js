"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[84451],{3905:function(t,e,n){n.d(e,{Zo:function(){return o},kt:function(){return k}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var m=a.createContext({}),p=function(t){var e=a.useContext(m),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},o=function(t){var e=p(t.components);return a.createElement(m.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},s=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,m=t.parentName,o=u(t,["components","mdxType","originalType","parentName"]),s=p(n),k=r,c=s["".concat(m,".").concat(k)]||s[k]||d[k]||l;return n?a.createElement(c,i(i({ref:e},o),{},{components:n})):a.createElement(c,i({ref:e},o))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=s;var u={};for(var m in e)hasOwnProperty.call(e,m)&&(u[m]=e[m]);u.originalType=t,u.mdxType="string"==typeof t?t:r,i[1]=u;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},39737:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return u},contentTitle:function(){return m},metadata:function(){return p},toc:function(){return o},default:function(){return s}});var a=n(87462),r=n(63366),l=(n(67294),n(3905)),i=["components"],u={title:"limit"},m="LIMIT",p={unversionedId:"os/linux/sys/limit",id:"os/linux/sys/limit",title:"limit",description:"- /etc/security/limits.conf - \u5168\u5c40\u914d\u7f6e",source:"@site/notes/os/linux/sys/limit.md",sourceDirName:"os/linux/sys",slug:"/os/linux/sys/limit",permalink:"/notes/os/linux/sys/limit",editUrl:"https://github.com/wenerme/wener/edit/master/notes/os/linux/sys/limit.md",tags:[],version:"current",frontMatter:{title:"limit"},sidebar:"docs",previous:{title:"Kernel FAQ",permalink:"/notes/os/linux/sys/kernel-faq"},next:{title:"sys/mman.h",permalink:"/notes/os/linux/sys/mman.h"}},o=[],d={toc:o};function s(t){var e=t.components,n=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"limit"},"LIMIT"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"/etc/security/limits.conf - \u5168\u5c40\u914d\u7f6e"),(0,l.kt)("li",{parentName:"ul"},"/etc/security/limits.d/ - \u901a\u5e38\u7528\u4e8e\u914d\u7f6e\u5355\u4e2a\u8fdb\u7a0b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5176\u4ed6\u8fdb\u7a0b\u7684 limits\ncat /proc/1/limits\n\n# \u4fee\u6539\u5176\u4ed6\u7ebf\u7a0b\nprlimit --pid $(pidof prometheus) --nofile=65535:65535\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"unit"),(0,l.kt)("th",{parentName:"tr",align:null},"flag"),(0,l.kt)("th",{parentName:"tr",align:null},"value"),(0,l.kt)("th",{parentName:"tr",align:null},"flavor"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"core file size"),(0,l.kt)("td",{parentName:"tr",align:null},"blocks"),(0,l.kt)("td",{parentName:"tr",align:null},"-c"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"data seg size"),(0,l.kt)("td",{parentName:"tr",align:null},"kbytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-d"),(0,l.kt)("td",{parentName:"tr",align:null},"unlimited"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file size"),(0,l.kt)("td",{parentName:"tr",align:null},"blocks"),(0,l.kt)("td",{parentName:"tr",align:null},"-f"),(0,l.kt)("td",{parentName:"tr",align:null},"unlimited"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pending signals"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"-i"),(0,l.kt)("td",{parentName:"tr",align:null},"63510"),(0,l.kt)("td",{parentName:"tr",align:null},"linux")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"max locked memory"),(0,l.kt)("td",{parentName:"tr",align:null},"kbytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-l"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"max memory size"),(0,l.kt)("td",{parentName:"tr",align:null},"kbytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-m"),(0,l.kt)("td",{parentName:"tr",align:null},"unlimited"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"open files"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"-n"),(0,l.kt)("td",{parentName:"tr",align:null},"1024"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pipe size"),(0,l.kt)("td",{parentName:"tr",align:null},"512 bytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-p"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"POSIX message queues"),(0,l.kt)("td",{parentName:"tr",align:null},"bytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-q"),(0,l.kt)("td",{parentName:"tr",align:null},"819200"),(0,l.kt)("td",{parentName:"tr",align:null},"linux")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"real-time priority"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"-r"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"linux")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"stack size"),(0,l.kt)("td",{parentName:"tr",align:null},"kbytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-s"),(0,l.kt)("td",{parentName:"tr",align:null},"8192"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cpu time"),(0,l.kt)("td",{parentName:"tr",align:null},"seconds"),(0,l.kt)("td",{parentName:"tr",align:null},"-t"),(0,l.kt)("td",{parentName:"tr",align:null},"unlimited"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"max user processes"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"-u"),(0,l.kt)("td",{parentName:"tr",align:null},"63510"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"virtual memory"),(0,l.kt)("td",{parentName:"tr",align:null},"kbytes"),(0,l.kt)("td",{parentName:"tr",align:null},"-v"),(0,l.kt)("td",{parentName:"tr",align:null},"unlimited"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file locks"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"-x"),(0,l.kt)("td",{parentName:"tr",align:null},"unlimited"),(0,l.kt)("td",{parentName:"tr",align:null},"linux")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"/proc/1/limits")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Limit                     Soft Limit           Hard Limit           Units\nMax cpu time              unlimited            unlimited            seconds\nMax file size             unlimited            unlimited            bytes\nMax data size             unlimited            unlimited            bytes\nMax stack size            8388608              unlimited            bytes\nMax core file size        0                    unlimited            bytes\nMax resident set          unlimited            unlimited            bytes\nMax processes             30464                30464                processes\nMax open files            1024                 4096                 files\nMax locked memory         65536                65536                bytes\nMax address space         unlimited            unlimited            bytes\nMax file locks            unlimited            unlimited            locks\nMax pending signals       30464                30464                signals\nMax msgqueue size         819200               819200               bytes\nMax nice priority         0                    0\nMax realtime priority     0                    0\nMax realtime timeout      unlimited            unlimited            us\n")))}s.isMDXComponent=!0}}]);