/*! For license information please see 88ba716e.96b55599.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[62606],{10356:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=s(11527),t=s(47214);const i={title:"PhotoPrism"},d="PhotoPrism",l={id:"service/selfhost/photoprism",title:"PhotoPrism",description:"- docker-compose.yml",source:"@site/../notes/service/selfhost/photoprism.md",sourceDirName:"service/selfhost",slug:"/service/selfhost/photoprism",permalink:"/notes/service/selfhost/photoprism",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/selfhost/photoprism.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1628160908,formattedLastUpdatedAt:"Aug 5, 2021",frontMatter:{title:"PhotoPrism"},sidebar:"docs",previous:{title:"mCaptcha",permalink:"/notes/service/selfhost/mcaptcha"},next:{title:"Selfhost Awesome",permalink:"/notes/service/selfhost/awesome"}},o={},c=[];function h(n){const e={a:"a",code:"code",h1:"h1",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"photoprism",children:"PhotoPrism"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://dl.photoprism.org/docker/docker-compose.yml",children:"docker-compose.yml"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"mariadb + photoprism"}),"\n",(0,r.jsx)(e.li,{children:"\u7aef\u53e3 2342"}),"\n",(0,r.jsx)(e.li,{children:"/photoprism/originals - \u7167\u7247"}),"\n",(0,r.jsx)(e.li,{children:"/photoprism/import - \u5bfc\u5165 - \u53ef\u9009"}),"\n",(0,r.jsx)(e.li,{children:"/photoprism/storage - \u5b58\u50a8"}),"\n",(0,r.jsx)(e.li,{children:"/home/photoprism/.cache/photoprism - \u7f13\u5b58"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://docs.photoprism.org/getting-started/config-options/",children:"\u914d\u7f6e\u9879"})}),"\n",(0,r.jsxs)(e.li,{children:["sidecar \u6587\u4ef6\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"json - exif"}),"\n",(0,r.jsx)(e.li,{children:"yaml - \u5143\u4fe1\u606f\u5907\u4efd"}),"\n",(0,r.jsx)(e.li,{children:"xmp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u6ce8\u610f\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u53ea\u652f\u6301\u5355\u7528\u6237 - ",(0,r.jsx)(e.a,{href:"https://github.com/photoprism/photoprism/issues/98",children:"#98"})]}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"env"}),(0,r.jsx)(e.th,{children:"val"}),(0,r.jsx)(e.th,{children:"desc"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_ADMIN_PASSWORD"}),(0,r.jsx)(e.td,{children:'"insecure"'}),(0,r.jsx)(e.td,{children:"PLEASE CHANGE , Your initial admin password (min 4 characters)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_HTTP_PORT"}),(0,r.jsx)(e.td,{children:"2342"}),(0,r.jsx)(e.td,{children:"Built-in Web server port"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_HTTP_COMPRESSION"}),(0,r.jsx)(e.td,{children:'"gzip"'}),(0,r.jsx)(e.td,{children:"Improves transfer speed and bandwidth utilization (none or gzip)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DEBUG"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Run in debug mode (shows additional log messages)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_PUBLIC"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"No authentication required (disables password protection)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_READONLY"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Don't modify originals directory (reduced functionality)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_EXPERIMENTAL"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Enables experimental features"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DISABLE_WEBDAV"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Disables built-in WebDAV server"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DISABLE_SETTINGS"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Disables Settings in Web UI"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DISABLE_TENSORFLOW"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Disables using TensorFlow for image classification"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DARKTABLE_PRESETS"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Enables Darktable presets and disables concurrent RAW conversion"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DETECT_NSFW"}),(0,r.jsx)(e.td,{children:'"false"'}),(0,r.jsx)(e.td,{children:"Flag photos as private that MAY be offensive (requires TensorFlow)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_UPLOAD_NSFW"}),(0,r.jsx)(e.td,{children:'"true"'}),(0,r.jsx)(e.td,{children:"Allow uploads that MAY be offensive"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_DRIVER"}),(0,r.jsx)(e.td,{children:'"sqlite"'}),(0,r.jsx)(e.td,{children:"SQLite is an embedded database that doesn't require a server"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_DRIVER"}),(0,r.jsx)(e.td,{children:'"mysql"'}),(0,r.jsx)(e.td,{children:"Use MariaDB (or MySQL) instead of SQLite for improved performance"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_SERVER"}),(0,r.jsx)(e.td,{children:'"mariadb:3306"'}),(0,r.jsx)(e.td,{children:", MariaDB database server (hostname:port)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_NAME"}),(0,r.jsx)(e.td,{children:'"photoprism"'}),(0,r.jsx)(e.td,{children:"MariaDB database schema name"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_USER"}),(0,r.jsx)(e.td,{children:'"photoprism"'}),(0,r.jsx)(e.td,{children:"MariaDB database user name"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_PASSWORD"}),(0,r.jsx)(e.td,{children:'"insecure"'}),(0,r.jsx)(e.td,{children:"MariaDB database user password"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_SITE_URL"}),(0,r.jsxs)(e.td,{children:['"',(0,r.jsx)(e.a,{href:"http://localhost:2342/",children:"http://localhost:2342/"}),'"']}),(0,r.jsx)(e.td,{children:"Public PhotoPrism URL"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_SITE_TITLE"}),(0,r.jsx)(e.td,{children:'"PhotoPrism"'}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_SITE_CAPTION"}),(0,r.jsx)(e.td,{children:'"Browse Your Life"'}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_SITE_DESCRIPTION"}),(0,r.jsx)(e.td,{children:'""'}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PHOTOPRISM_SITE_AUTHOR"}),(0,r.jsx)(e.td,{children:'""'}),(0,r.jsx)(e.td,{})]})]})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker run --rm -it \\\n  -p 2342:2342 \\\n  -e PHOTOPRISM_DATABASE_DRIVER=sqlite \\\n  -e PHOTOPRISM_ADMIN_PASSWORD=password \\\n  -v $PWD/photos:/photoprism/originals \\\n  -v $PWD/photoprism/import:/photoprism/import \\\n  -v $PWD/photoprism/storage:/photoprism/storage \\\n  --name photoprism photoprism/photoprism:latest\n"})})]})}function a(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},3354:(n,e,s)=>{var r=s(50959),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(n,e,s){var r,i={},c=null,h=null;for(r in void 0!==s&&(c=""+s),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(h=e.ref),e)d.call(e,r)&&!o.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:t,type:n,key:c,ref:h,props:i,_owner:l.current}}e.Fragment=i,e.jsx=c,e.jsxs=c},11527:(n,e,s)=>{n.exports=s(3354)},47214:(n,e,s)=>{s.d(e,{Z:()=>l,a:()=>d});var r=s(50959);const t={},i=r.createContext(t);function d(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);