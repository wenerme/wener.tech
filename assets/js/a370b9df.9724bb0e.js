/*! For license information please see a370b9df.9724bb0e.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[22142],{99260:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>t,metadata:()=>o,toc:()=>a});var l=i(2488),r=i(62780);const t={title:"Alpine GLIBC"},s="Alpine GLIBC",o={id:"os/alpine/alpine-glibc",title:"Alpine GLIBC",description:"- Binary",source:"@site/../notes/os/alpine/alpine-glibc.md",sourceDirName:"os/alpine",slug:"/os/alpine/glibc",permalink:"/notes/os/alpine/glibc",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/alpine/alpine-glibc.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1683689500,formattedLastUpdatedAt:"May 10, 2023",frontMatter:{title:"Alpine GLIBC"},sidebar:"docs",previous:{title:"Alpine FAQ",permalink:"/notes/os/alpine/faq"},next:{title:"Health Check",permalink:"/notes/os/alpine/health"}},c={},a=[{value:"unsupported relocation type 37",id:"unsupported-relocation-type-37",level:2},{value:"cgo",id:"cgo",level:2},{value:"no version information available",id:"no-version-information-available",level:2},{value:"undefined reference to `ceilf@GLIBC_2.2.5&#39;",id:"undefined-reference-to-ceilfglibc_225",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.M)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"alpine-glibc",children:"Alpine GLIBC"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Binary\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/sgerrand/alpine-pkg-glibc",children:"https://github.com/sgerrand/alpine-pkg-glibc"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/Docker-Hub-frolvlad/docker-alpine-glibc",children:"https://github.com/Docker-Hub-frolvlad/docker-alpine-glibc"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Builder\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/sgerrand/docker-glibc-builder",children:"https://github.com/sgerrand/docker-glibc-builder"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"/usr/glibc-compat/"}),"\n",(0,l.jsx)(n.li,{children:"/lib/ld-linux-x86-64.so.2"}),"\n",(0,l.jsx)(n.li,{children:"LD_LIBRARY_PATH=/usr/glibc-compat/sbin/ldconfig"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"apk del gcompat\n\n# wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\ncurl --remote-name-all -LC- https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r1/glibc{,-bin,-dev}-2.35-r1.apk\napk add glibc-2.35-r1.apk glibc-bin-2.35-r1.apk glibc-dev-2.35-r1.apk --allow-untrust --force-overwrite\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["overwrite\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/sgerrand/alpine-pkg-glibc/issues/185",children:"https://github.com/sgerrand/alpine-pkg-glibc/issues/185"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"unsupported-relocation-type-37",children:"unsupported relocation type 37"}),"\n",(0,l.jsx)(n.p,{children:"ldd \u53ea\u652f\u6301 musl"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"LD_PRELOAD=/lib/ld-linux-x86-64.so.2 ldd libWeWorkFinanceSdk_C.so\n\n/usr/glibc-compat/bin/ldd libWeWorkFinanceSdk_C.so\nobjdump -p libWeWorkFinanceSdk_C.so\n"})}),"\n",(0,l.jsx)(n.h2,{id:"cgo",children:"cgo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'CGO_LDFLAGS="-L/usr/glibc-compat/lib   -Wl,-rpath -Wl,\\$ORIGIN/../lib" \\\n  CGO_CFLAGS="-I/path/to/include/file/of/the/lib/include" \\\n  go build ./main.go\n\nLD_PRELOAD=/lib/ld-linux-x86-64.so.2 LD_LIBRARY_PATH=/usr/glibc-compat/lib:$PWD ./main\n'})}),"\n",(0,l.jsx)(n.h2,{id:"no-version-information-available",children:"no version information available"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5f71\u54cd\u4e0d\u5927"}),"\n",(0,l.jsx)(n.li,{children:"so \u65e0 VERDEF"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"undefined-reference-to-ceilfglibc_225",children:"undefined reference to `ceilf@GLIBC_2.2.5'"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"-lm"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},38088:(e,n,i)=>{var l=i(96651),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(e,n,i){var l,t={},a=null,d=null;for(l in void 0!==i&&(a=""+i),void 0!==n.key&&(a=""+n.key),void 0!==n.ref&&(d=n.ref),n)s.call(n,l)&&!c.hasOwnProperty(l)&&(t[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps)void 0===t[l]&&(t[l]=n[l]);return{$$typeof:r,type:e,key:a,ref:d,props:t,_owner:o.current}}n.Fragment=t,n.jsx=a,n.jsxs=a},2488:(e,n,i)=>{e.exports=i(38088)},62780:(e,n,i)=>{i.d(n,{I:()=>o,M:()=>s});var l=i(96651);const r={},t=l.createContext(r);function s(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);