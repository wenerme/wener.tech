/*! For license information please see 247bf2be.10c33eb3.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[20281],{84915:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>d,default:()=>g,frontMatter:()=>s,metadata:()=>t,toc:()=>o});var l=n(11527),a=n(47214);const s={title:"Gradle"},d="Gradle",t={id:"java/build/gradle/README",title:"Gradle",description:"- Userguide",source:"@site/../notes/java/build/gradle/README.md",sourceDirName:"java/build/gradle",slug:"/java/build/gradle/",permalink:"/notes/java/build/gradle/",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/java/build/gradle/README.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1703483037,formattedLastUpdatedAt:"Dec 25, 2023",frontMatter:{title:"Gradle"},sidebar:"docs",previous:{title:"google-java-format",permalink:"/notes/java/build/google-java-format"},next:{title:"jib",permalink:"/notes/java/build/jib"}},i={},o=[{value:"gradle.properties",id:"gradleproperties",level:2},{value:"daemon",id:"daemon",level:2},{value:"killall",id:"killall",level:2},{value:"Waiting to acquire shared lock on daemon addresses registry",id:"waiting-to-acquire-shared-lock-on-daemon-addresses-registry",level:2}];function c(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h1,{id:"gradle",children:"Gradle"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://docs.gradle.org/current/userguide/userguide.html",children:"Userguide"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://guides.gradle.org/building-java-9-modules/",children:"Building Java 9 Modules"})}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.a,{href:"https://sagioto.github.io/maven2gradle/",children:"maven 2 gradle"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"\u8f6c\u6362 dependency"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://gradle.org/releases/",children:"https://gradle.org/releases/"})}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"sdk install gradle 8.0.1 # for SDKMAN\nbrew install gradle # for macOS\n\n# wrapper \u5347\u7ea7\n./gradlew wrapper --gradle-version=8.0.1 --distribution-type=bin\n\n# https://docs.gradle.org/current/userguide/build_init_plugin.html\n# \u751f\u6210\u57fa\u672c\u914d\u7f6e\n# --type pom,java-application,java-library,scala-library,groovy-library,basic\ngradle init\n\n# \u5237\u65b0\u4f9d\u8d56\n./gradlew build --refresh-dependencies\n# \u4ee3\u7406\n./gradlew -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=1234 -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1234 build\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"gradle.properties"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ini",children:"# \u4ee3\u7406\u914d\u7f6e\nsystemProp.http.proxyHost=127.0.0.1\nsystemProp.http.proxyPort=1234\nsystemProp.https.proxyHost=127.0.0.1\nsystemProp.https.proxyPort=1234\n\n# \u5982\u679c\u9700\u8981\u6388\u6743\n# http.proxyUser=usernameProxy\n# http.proxyPassword=yourPassoword\n"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-groovy",children:'// https://docs.gradle.org/current/userguide/declaring_repositories.html\nmavenCentral()\nmaven {\n    url "http://maven.aliyun.com/nexus/content/groups/public"\n}\n'})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-groovy",children:'// build.gradle or settings.gradle\nrepositories {\n  maven {\n    url "http://repo1.mycompany.com/maven2"\n  }\n  maven {\n    url "http://repo2.mycompany.com/maven2"\n  }\n}\n'})}),"\n",(0,l.jsx)(r.h2,{id:"gradleproperties",children:"gradle.properties"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://docs.gradle.org/current/userguide/build_environment.html",children:"https://docs.gradle.org/current/userguide/build_environment.html"})}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ini",children:"org.gradle.daemon=true\n"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["GRADLE_OPTS\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.code,{children:"-Dorg.gradle.daemon=false"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"daemon",children:"daemon"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"./gradlew -d --no-daemon\n"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://docs.gradle.org/8.0.1/userguide/gradle_daemon.html",children:"https://docs.gradle.org/8.0.1/userguide/gradle_daemon.html"})}),"\n"]}),"\n",(0,l.jsx)(r.h1,{id:"faq",children:"FAQ"}),"\n",(0,l.jsx)(r.h2,{id:"killall",children:"killall"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"pkill -9 -f GradleDaemon\nkill -9 $(pgrep -f GradleDaemon)\n"})}),"\n",(0,l.jsx)(r.h2,{id:"waiting-to-acquire-shared-lock-on-daemon-addresses-registry",children:"Waiting to acquire shared lock on daemon addresses registry"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"~/.gradle/daemon/6.8/registry.bin.lock"}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"[org.gradle.execution.plan.DefaultExecutionPlan] No node could be selected, nodes ready: false\n[org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.\n[org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\n[org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"find .gradle/ -name '*.lock'\n\nrm -rf .gradle\nrm -rf ~/.gradle/caches\nrm -rf ~/.gradle/daemon\n"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"lombok val"}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://github.com/gradle/gradle/issues/14531",children:"https://github.com/gradle/gradle/issues/14531"})}),"\n"]})]})}function g(e={}){const{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},3354:(e,r,n)=>{var l=n(50959),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,t=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,r,n){var l,s={},o=null,c=null;for(l in void 0!==n&&(o=""+n),void 0!==r.key&&(o=""+r.key),void 0!==r.ref&&(c=r.ref),r)d.call(r,l)&&!i.hasOwnProperty(l)&&(s[l]=r[l]);if(e&&e.defaultProps)for(l in r=e.defaultProps)void 0===s[l]&&(s[l]=r[l]);return{$$typeof:a,type:e,key:o,ref:c,props:s,_owner:t.current}}r.Fragment=s,r.jsx=o,r.jsxs=o},11527:(e,r,n)=>{e.exports=n(3354)},47214:(e,r,n)=>{n.d(r,{Z:()=>t,a:()=>d});var l=n(50959);const a={},s=l.createContext(a);function d(e){const r=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),l.createElement(s.Provider,{value:r},e.children)}}}]);