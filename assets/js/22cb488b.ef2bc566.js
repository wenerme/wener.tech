/*! For license information please see 22cb488b.ef2bc566.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[89392],{13052:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>a});var r=t(2488),s=t(62780);const i={title:"age"},d="age",c={id:"security/crypto/age",title:"age",description:"- FiloSottile/age",source:"@site/../notes/security/crypto/age.md",sourceDirName:"security/crypto",slug:"/security/crypto/age",permalink:"/notes/security/crypto/age",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/security/crypto/age.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1700666411,formattedLastUpdatedAt:"Nov 22, 2023",frontMatter:{title:"age"},sidebar:"docs",previous:{title:"Crypto",permalink:"/notes/security/crypto/"},next:{title:"Crypto Glossary",permalink:"/notes/security/crypto/glossary"}},l={},a=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"age",children:"age"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/FiloSottile/age",children:"FiloSottile/age"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"BSD-3, Go"}),"\n",(0,r.jsx)(n.li,{children:"\u7b80\u5355\u52a0\u5bc6\u5de5\u5177"}),"\n",(0,r.jsx)(n.li,{children:"\u6587\u4ef6\u7ef4\u5ea6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["age \u4e0d\u652f\u6301 ssh agent - ",(0,r.jsx)(n.a,{href:"https://github.com/FiloSottile/age/discussions/244",children:"age#244"})]}),"\n"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apk add age      # AlpineLinux\nbrew install age # macOS\n\nage-keygen -o key.txt # \u521b\u5efa key\n\nage -e -p -o secret.txt.age secret.txt # \u4f7f\u7528\u5bc6\u7801\u52a0\u5bc6 - \u9ed8\u8ba4\u8f93\u51fa\u4e3a binary \u9664\u975e -a,--armor\nage -d secret.txt.age                  # \u89e3\u5bc6\nage -e -i passwd.txt secret.txt        # \u4f7f\u7528 passwd.txt \u505a\u5bf9\u79f0\u52a0\u5bc6\n\n# \u76ee\u5f55\u52a0\u5bc6\ntar cvz ~/data | age -r $RECIPIENT > data.tar.gz.age\nage --decrypt -i key.txt data.tar.gz.age > data.tar.gz\n\nage -R ~/.ssh/id_ed25519.pub example.jpg > example.jpg.age # \u4f7f\u7528 SSH pubkey \u52a0\u5bc6\nage -d -i ~/.ssh/id_ed25519 example.jpg.age > example.jpg  # \u4f7f\u7528 SSH private key \u89e3\u5bc6\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"flag"}),(0,r.jsx)(n.th,{children:"for"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-e, --encrypt"}),(0,r.jsx)(n.td,{children:"\u52a0\u5bc6 - \u9ed8\u8ba4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-d, --decrypt"}),(0,r.jsx)(n.td,{children:"\u89e3\u5bc6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-o, --output OUTPUT"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u6587\u4ef6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-a, --armor"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa PEM \u683c\u5f0f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-p, --passphrase"}),(0,r.jsx)(n.td,{children:"\u4f7f\u7528\u5bc6\u7801"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-r, --recipient RECIPIENT"}),(0,r.jsx)(n.td,{children:"\u52a0\u5bc6\u7ed9\u63a5\u6536\u4eba"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-R, --recipients-file PATH"}),(0,r.jsx)(n.td,{children:"\u63a5\u6536\u4eba\u5217\u8868\u76ee\u5f55"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-i, --identity PATH"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["recipient \u4e3a pubkey\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e00\u884c\u4e00\u4e2a"}),"\n",(0,r.jsxs)(n.li,{children:["age pubkey \u683c\u5f0f\u4e3a ",(0,r.jsx)(n.code,{children:"ageXXXXX"})," - X25519"]}),"\n",(0,r.jsxs)(n.li,{children:["ssh pubkey \u683c\u5f0f\u4e3a ",(0,r.jsx)(n.code,{children:"ssh-ed25519 AAAA"}),", ",(0,r.jsx)(n.code,{children:"ssh-rsa AAAA"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["identity \u4e3a key - ",(0,r.jsx)(n.code,{children:"AGE-SECRET-KEY-1"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e00\u884c\u4e00\u4e2a"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},38088:(e,n,t)=>{var r=t(96651),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(e,n,t){var r,i={},a=null,o=null;for(r in void 0!==t&&(a=""+t),void 0!==n.key&&(a=""+n.key),void 0!==n.ref&&(o=n.ref),n)d.call(n,r)&&!l.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:c.current}}n.Fragment=i,n.jsx=a,n.jsxs=a},2488:(e,n,t)=>{e.exports=t(38088)},62780:(e,n,t)=>{t.d(n,{I:()=>c,M:()=>d});var r=t(96651);const s={},i=r.createContext(s);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);