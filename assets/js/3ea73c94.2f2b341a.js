/*! For license information please see 3ea73c94.2f2b341a.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[23077],{88700:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var i=r(11527),s=r(47214);const a={title:"aria2"},t="aria2",l={id:"service/download/aria2",title:"aria2",description:"- aria2/aria2",source:"@site/../notes/service/download/aria2.md",sourceDirName:"service/download",slug:"/service/download/aria2",permalink:"/notes/service/download/aria2",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/download/aria2.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1668846252,formattedLastUpdatedAt:"Nov 19, 2022",frontMatter:{title:"aria2"},sidebar:"docs",previous:{title:"\u4e0b\u8f7d\u5668",permalink:"/notes/service/download/"},next:{title:"transmission",permalink:"/notes/service/download/transmission"}},c={},d=[{value:"\u914d\u7f6e {configuration}",id:"\u914d\u7f6e-configuration",level:2},{value:"explain",id:"explain",level:2},{value:"bt tracker",id:"bt-tracker",level:2},{value:"conf demo",id:"conf-demo",level:2},{value:"RPC",id:"rpc",level:2},{value:"\u7b5b\u9009\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u6587\u4ef6",id:"\u7b5b\u9009\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u6587\u4ef6",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"aria2",children:"aria2"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/aria2/aria2",children:"aria2/aria2"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"GPLv2, C++"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["webui\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/mayswind/AriaNg",children:"mayswind/AriaNg"})," - Web\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://ariang.mayswind.net/latest",children:"\u5728\u7ebf"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"Aria2WebUI"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/ziahamza/webui-aria2",children:"ziahamza/webui-aria2"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u53c2\u8003\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://aria2.github.io/manual/en/html/aria2c.html",children:"aria2c.1"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/P3TERX/Aria2-Pro-Docker",children:"P3TERX/Aria2-Pro-Docker"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["CUSTOM_TRACKER_URL\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://cdn.jsdelivr.net/gh/wenerme/repository@master/trackers_aira2.txt",children:"https://cdn.jsdelivr.net/gh/wenerme/repository@master/trackers_aira2.txt"})}),"\n",(0,i.jsxs)(e.li,{children:["\u9ed8\u8ba4 ",(0,i.jsx)(e.a,{href:"https://trackerslist.com/all_aria2.txt",children:"https://trackerslist.com/all_aria2.txt"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/XIU2/TrackersListCollection",children:"XIU2/TrackersListCollection"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/P3TERX/aria2.conf",children:"P3TERX/aria2.conf"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://gist.github.com/qzm/a54559726896d5e6bf21adf2363ad334",children:"qzm/aria2.conf"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# RPC \u542f\u52a8 - \u4e0d\u8bbe\u7f6e\u6743\u9650\naria2c --enable-rpc --rpc-allow-origin-all --rpc-listen-all\n\n# bt \u9009\u62e9\u4e0b\u8f7d\u6587\u4ef6\naria2c --show-files your-torrent-file.torrent\naria2c --select-file=3,6 your-torrent-file.torrent\n\n# \u4fdd\u5b58\u78c1\u529b\u94fe\u63a5\u5173\u8054\u7684 torrent \u6587\u4ef6\naria2c --bt-metadata-only=true --bt-save-metadata=true --daemon=false \"magnet:?xt=urn:btih:xyz\"\n\naria2c --help=#rpc\n\n# \u8bbe\u7f6e tracker\ncurl -LO https://github.com/ngosang/trackerslist/raw/master/trackers_all_ip.txt\necho bt-tracker=$(grep . trackers_all_ip.txt | tr '\\n' ',') > ~/.aria2/aria2.conf\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"flag"}),(0,i.jsx)(e.th,{children:"val"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"-d,--dir <DIR>"})}),(0,i.jsx)(e.td,{children:"\u4e0b\u8f7d\u76ee\u5f55"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-D,--daemon"}),(0,i.jsx)(e.td,{children:"daemon"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"--conf-path"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"\u914d\u7f6e-configuration",children:"\u914d\u7f6e {configuration}"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["--conf-path\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"$XDG_CACHE_HOME/aria2"}),"\n",(0,i.jsx)(e.li,{children:"$HOME/.aria2"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["./\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"aria2.conf"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-conf",children:"# default 10M\ndisk-cache=128M\n# default 20M\nmin-split-size=10M\n\n# \u5355\u4e2a\u79cd\u5b50\u6700\u5927\u8fde\u63a5\u6570, \u9ed8\u8ba4:55\n# \u6b64\u9879\u65e0\u8bbaBT\u8fd8\u662fPT\u90fd\u5efa\u8bae\u8bbe\u5230999\uff0c\u8981\u60f3\u4e0b\u8f7d\u901f\u5ea6\u5feb\uff0c\u79cd\u5b50\u8fde\u63a5\u591a\u591a\u76ca\u5584\nbt-max-peers=999\n# \u6253\u5f00DHT\u529f\u80fd, PT\u9700\u8981\u7981\u7528, \u9ed8\u8ba4:true\n# \u6b64\u9879PT\u4e0b\u8f7d\u5fc5\u987b\u8bbe\u4e3afalse\uff0c\u5426\u5219\u6709\u5c01\u53f7\u98ce\u9669\u3002BT\u4e0b\u8f7d\u52a1\u5fc5\u8bbe\u4e3atrue\uff0c\u8ddf\u6d41\u6c13\u8f6f\u4ef6\u62a2\u8fde\u63a5\u5168\u9760\u5b83\u3002\nenable-dht=true\n# \u672c\u5730\u8282\u70b9\u67e5\u627e, PT\u9700\u8981\u7981\u7528, \u9ed8\u8ba4:false\n# \u6b64\u9879PT\u4e0b\u8f7d\u5fc5\u987b\u8bbe\u4e3afalse\uff0c\u5426\u5219\u6709\u5c01\u53f7\u98ce\u9669\u3002BT\u4e0b\u8f7d\u53ef\u4ee5\u8bbe\u4e3atrue\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u63d0\u5347\u8fde\u63a5\u7684\u80fd\u529b\u5e76\u4e0d\u5f3a\uff0c\u4f46\u603b\u597d\u8fc7\u6ca1\u6709\u5427\u3002\nbt-enable-lpd=true\n# \u79cd\u5b50\u4ea4\u6362, PT\u9700\u8981\u7981\u7528, \u9ed8\u8ba4:true\n# \u6b64\u9879PT\u4e0b\u8f7d\u5fc5\u987b\u8bbe\u4e3afalse\uff0c\u5426\u5219\u6709\u5c01\u53f7\u98ce\u9669\u3002BT\u4e0b\u8f7d\u52a1\u5fc5\u8bbe\u4e3atrue\uff0c\u53ef\u4ee5\u8fde\u63a5\u5230\u66f4\u591a\u79cd\u5b50\u3002\nenable-peer-exchange=true\n# \u5ba2\u6237\u7aef\u4f2a\u88c5, PT\u9700\u8981\n#peer-id-prefix=-TR2770-\n#user-agent=Transmission/2.77\n\n#\u5f3a\u5236\u52a0\u5bc6, \u9632\u8fc5\u96f7\u5fc5\u5907\n#bt-require-crypto=true\n#\u5f53\u4e0b\u8f7d\u7684\u6587\u4ef6\u662f\u4e00\u4e2a\u79cd\u5b50(\u4ee5.torrent\u7ed3\u5c3e)\u65f6, \u81ea\u52a8\u4e0b\u8f7dBT\nfollow-torrent=true\n#\u542f\u7528\u672c\u5730\u8282\u70b9\u67e5\u627e\nbt-enable-lpd=true\n"})}),"\n",(0,i.jsx)(e.h2,{id:"explain",children:"explain"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"[#2089b0 400.0KiB/33.2MiB(1%) CN:1 DL:115.7KiB ETA:4m51s]\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"#NNNNNN -GID \u524d 6 \u4f4d"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"X/Y(Z%) - Completed length, the total file length and its ratio. If --select-file is used, this is the sum of selected file."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"SEED Share ratio. The client is now seeding. After BitTorrent download finished, size information is replaced with this."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"CN - \u94fe\u63a5\u6570"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"SD - seeder \u8fde\u63a5\u6570"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"DL - \u4e0b\u8f7d\u901f\u7387"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://aria2.github.io/manual/en/html/aria2c.html#console-readout",children:"https://aria2.github.io/manual/en/html/aria2c.html#console-readout"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"bt-tracker",children:"bt tracker"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"curl -LO https://github.com/ngosang/trackerslist/raw/master/trackers_all_ip.txt\necho bt-tracker=$(grep . trackers_all_ip.txt | tr '\\n' ',') > ~/.aria2/aria2.conf\n"})}),"\n",(0,i.jsx)(e.h2,{id:"conf-demo",children:"conf demo"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",children:"summary-interval=0\nlowest-speed-limit=50K\nmax-concurrent-downloads=10\nmax-connection-per-server=10\nmin-split-size=5M\nsplit=10\n\nenable-rpc\nrpc-listen-all\nrpc-allow-origin-all\nrpc-save-upload-metadata\n\nenable-dht\nbt-save-metadata\nbt-load-saved-metadata\nbt-seed-unverified\nbt-max-peers=0\nbt-max-open-files=2000\nbt-request-peer-speed-limit=100K\nbt-tracker-interval=120\nbt-request-peer-speed-limit=5M\nsave-session=${HOME}/.aria2/session\nsave-session-interval=300\ninput-file=${HOME}/.aria2/session\nmax-concurrent-downloads=99999\nseed-time=180\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"touch $HOME/.aria2/session\n"})}),"\n",(0,i.jsx)(e.h2,{id:"rpc",children:"RPC"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"/jsonrpc"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"HTTP, WebSocket"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"/rpc"})," - XML RPC"]}),"\n",(0,i.jsxs)(e.li,{children:["GID - \u4e0b\u8f7d\u552f\u4e00 ID - 16 \u4f4d - ",(0,i.jsx)(e.code,{children:"2089b05ecca3d829"})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-http",children:'POST http://127.0.0.1/jsonrpc\n\n{"jsonrpc":"2.0","method":"aria2.getGlobalStat","id":"1","params":["token:SECRET"]}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u907f\u514d base64 \u540e\u53c2\u6570\u8fc7\u957f\uff0c\u4f7f\u7528 pipe \u4f20\u9012 body\n{\n  echo -n \'{"jsonrpc":"2.0","method":"aria2.addTorrent","id":"1","params":["token:SECRET","\'\n  base64 -w 0 \'file.torrent\'\n  echo -n \'",[""],{}]}\'\n} | curl http://127.0.0.1/jsonrpc -d @-\n\n# \u6279\u91cf\u4e0b\u8f7d torrent\n# \u6ce8\u610f\u66ff\u6362 SECRET \u548c \u5730\u5740\nfind . -type f -iname \'*.torrent\' | sort -u | xargs -I % bash -c $\'echo;echo Downloading "%";{ echo -n \\\'{"jsonrpc":"2.0","method":"aria2.addTorrent","id":"1","params":["token:SECRET","\\\';base64 -w 0 "%";echo -n \\\'",[""],{}]}\\\'; } | curl http://127.0.0.1/jsonrpc -d @-\'\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"aria2.getGlobalStat"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n    "downloadSpeed": "0",\n    "numActive": "2",\n    "numStopped": "54",\n    "numStoppedTotal": "56",\n    "numWaiting": "1",\n    "uploadSpeed": "0"\n  }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"aria2.getVersion"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "id": "1",\n  "jsonrpc": "2.0",\n  "result": {\n    "enabledFeatures": [\n      "Async DNS",\n      "BitTorrent",\n      "Firefox3 Cookie",\n      "GZip",\n      "HTTPS",\n      "Message Digest",\n      "Metalink",\n      "XML-RPC",\n      "SFTP"\n    ],\n    "version": "1.36.0"\n  }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u7b5b\u9009\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u6587\u4ef6",children:"\u7b5b\u9009\u5df2\u7ecf\u4e0b\u8f7d\u597d\u7684\u6587\u4ef6"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5ffd\u7565\u6709 ",(0,i.jsx)(e.code,{children:".aria2"})," \u7684\u6587\u4ef6"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"find . -iname '*\u5b57\u5e55\u7ec4*' -not -iname '*.aria2' | xargs -I {} sh -c '[ -e \"{}.aria2\" ] && echo \"{}\" || echo' | sort -u | awk NF\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},3354:(n,e,r)=>{var i=r(50959),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(n,e,r){var i,a={},d=null,o=null;for(i in void 0!==r&&(d=""+r),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(o=e.ref),e)t.call(e,i)&&!c.hasOwnProperty(i)&&(a[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps)void 0===a[i]&&(a[i]=e[i]);return{$$typeof:s,type:n,key:d,ref:o,props:a,_owner:l.current}}e.Fragment=a,e.jsx=d,e.jsxs=d},11527:(n,e,r)=>{n.exports=r(3354)},47214:(n,e,r)=>{r.d(e,{Z:()=>l,a:()=>t});var i=r(50959);const s={},a=i.createContext(s);function t(n){const e=i.useContext(a);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);