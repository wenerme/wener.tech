/*! For license information please see e06e101c.79275cf8.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[59732],{43932:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});var r=s(2488),l=s(62780);const i={title:"ArangoDB"},d="ArangoDB",t={id:"db/graph/arangodb",title:"ArangoDB",description:"- arangodb/arangodb",source:"@site/../notes/db/graph/arangodb.md",sourceDirName:"db/graph",slug:"/db/graph/arangodb",permalink:"/notes/db/graph/arangodb",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/db/graph/arangodb.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1657531736,formattedLastUpdatedAt:"Jul 11, 2022",frontMatter:{title:"ArangoDB"},sidebar:"docs",previous:{title:"ArangoDB Version",permalink:"/notes/db/graph/arangodb-version"},next:{title:"Cayley",permalink:"/notes/db/graph/cayley"}},a={},c=[{value:"Model",id:"model",level:2},{value:"AQL",id:"aql",level:2},{value:"FTS",id:"fts",level:2},{value:"\u5de5\u5177",id:"\u5de5\u5177",level:2},{value:"arangoimport",id:"arangoimport",level:3},{value:"arangosh",id:"arangosh",level:3},{value:"Foxx",id:"foxx",level:2},{value:"Schema Validation",id:"schema-validation",level:2},{value:"failed to locate javascript.startup-directory directory",id:"failed-to-locate-javascriptstartup-directory-directory",level:2}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.M)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"arangodb",children:"ArangoDB"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/arangodb/arangodb",children:"arangodb/arangodb"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Apache-2.0, C++, JS"}),"\n",(0,r.jsx)(e.li,{children:"Graph+Document+KV"}),"\n",(0,r.jsx)(e.li,{children:"\u540e\u7aef\u5b58\u50a8 rocksdb"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u7f6e V8"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/why-arangodb/sql-aql-comparison/",children:"AQL vs SQL"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/wp-content/uploads/2016/05/shell-reference-card.pdf",children:"Shell cheatsheet"})}),"\n",(0,r.jsxs)(e.li,{children:["Admin\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["arangoimp\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6570\u636e\u5bfc\u5165"}),"\n",(0,r.jsx)(e.li,{children:"\u652f\u6301: JSON, CSV, TSV"}),"\n",(0,r.jsxs)(e.li,{children:["\u5bfc\u5165 CSV \u6216 TSV \u65f6\u5982\u679c\u6709\u5934,\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"--skip-lines=1"})," \u8df3\u8fc7"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["arangodump\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6570\u636e\u8f6c\u50a8"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["arangorestore\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6062\u590d\u8f6c\u50a8\u7684\u6570\u636e"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://docs.arangodb.com/3.1/Manual/Administration/Configuration/",children:"Configuration"})}),"\n",(0,r.jsx)(e.li,{children:"\u9ed8\u8ba4\u7aef\u53e3 8529, \u652f\u6301 HTTP \u548c TCP \u534f\u8bae"}),"\n",(0,r.jsx)(e.li,{children:"\u9ed8\u8ba4\u8d26\u53f7\u4e3a root, \u65e0\u5bc6\u7801"}),"\n",(0,r.jsxs)(e.li,{children:["Key \u89c4\u8303\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://docs.arangodb.com/3.1/Manual/DataModeling/NamingConventions/DocumentKeys.html",children:"DocumentKeys"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"[_-:.@()+,=;$!*'%0-9a-zA-Z]{1,254}"})}),"\n",(0,r.jsx)(e.li,{children:"UTF8 \u4e0d\u80fd\u4f5c\u4e3a key, \u53ef\u4ee5\u5148 SHA \u540e\u4f5c\u4e3a KEY"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u5347\u7ea7\u4e86\u7248\u672c\uff0c\u7b2c\u4e00\u6b21\u542f\u52a8\u6dfb\u52a0 --database.auto-upgrade"}),"\n",(0,r.jsx)(e.li,{children:"\u9ed8\u8ba4\u7aef\u53e3 8529"}),"\n",(0,r.jsxs)(e.li,{children:["\u53c2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/arangodb/go-driver",children:"arangodb/go-driver"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/solutions/case-studies/fbi-grade-case-mgmt-investigative-community/",children:"Meet Kaseware: FBI-grade case management for the larger investigative community"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# https://hub.docker.com/_/arangodb\ndocker run --rm -it -v /etc/localtime:/etc/localtime:ro \\\n  -e ARANGO_ROOT_PASSWORD=password \\\n  -v $PWD/arangodb/data:/var/lib/arangodb3 -v $PWD/arangodb/apps:/var/lib/arangodb3-apps \\\n  -p 8529:8529 \\\n  --name arangodb arangodb --tcp.reuse-address=true --http.hide-product-header=true --query.cache-mode=on\n\n# \u8fdc\u7a0b\u8fde\u63a5\n# \u5982\u679c\u662f https \u5219\u7528 ssl://mydomain.com\narangosh --server.endpoint http+tcp://192.168.1.1:8529 \\\n  --server.username $USERNAME --server.password $PASSWORD  --server.database Nodes\n\n# Linux client\ncurl -O https://download.arangodb.com/arangodb39/Community/Linux/arangodb3-client-linux-3.9.2.tar.gz\ntar zxvf arangodb3-client-linux-3.9.2.tar.gz\n"})}),"\n",(0,r.jsx)(e.p,{children:"| env                                        |\n| ------------------------------------------ | --- | --- |\n| ARANGO_ROOT_PASSWORD                       |\n| ARANGO_NO_AUTH                             |     | 1   |\n| ARANGO_RANDOM_ROOT_PASSWORD                |     | 1   |\n| ARANGODB_OVERRIDE_DETECTED_TOTAL_MEMORY    |     | 4G  |\n| ARANGODB_OVERRIDE_DETECTED_NUMBER_OF_CORES |\n| ARANGOSH_ARGS                              |"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/docs/stable/administration-configuration.html",children:"Configuration"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Note"})," \u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["graph visualizer\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["pick multiple labels ",(0,r.jsx)(e.a,{href:"https://github.com/arangodb/arangodb/issues/14456",children:"#14456"})]}),"\n",(0,r.jsxs)(e.li,{children:["Support of multiple attributes for displaying labels ",(0,r.jsx)(e.a,{href:"https://github.com/arangodb/arangodb/issues/7772",children:"#7772"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Note"})," \u7cfb\u7edf\u9650\u5236"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["AQL\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5b57\u7b26\u4e32\u62fc\u63a5\u4f7f\u7528 CONCAT\uff0c\u4e0d\u80fd ",(0,r.jsx)(e.code,{children:"+"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u4e09\u5143\u8fd0\u7b97 ",(0,r.jsx)(e.code,{children:"a ? b : c"})," \u4f1a\u5bfc\u81f4 b c \u90fd\u8ba1\u7b97 - \u4e0d\u80fd\u77ed\u8def"]}),"\n",(0,r.jsx)(e.li,{children:"\u4e00\u6b21\u56fe\u67e5\u8be2\u6700\u591a\u6d89\u53ca 256 \u4e2a Collection"}),"\n",(0,r.jsx)(e.li,{children:"\u6700\u591a 1000 \u6ce8\u518c\u5668 - \u53d8\u91cf\u3001\u67e5\u8be2\u53d8\u91cf\u3001\u5185\u90e8\u67e5\u8be2\u53d8\u91cf\u3001\u4e2d\u95f4\u7ed3\u679c"}),"\n",(0,r.jsx)(e.li,{children:"\u521d\u59cb\u67e5\u8be2\u6700\u591a 4000 \u8282\u70b9"}),"\n",(0,r.jsx)(e.li,{children:"\u4e00\u6b21\u67e5\u8be2\u6700\u591a 2048 collections/shards"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"// https://docs.arangodb.com/3.1/Manual/Administration/ManagingUsers.html\n// \u7528\u6237\u7ba1\u7406\nvar users = require('@arangodb/users');\n// users.save(user, passwd, active, extra)\nusers.save('admin@testapp', 'mypassword');\nusers.grantDatabase('admin@testapp', 'testdb');\n\n// \u5bfc\u51fa\u67e5\u8be2\u7ed3\u679c\nrequire('fs').write('/var/lib/arangodb3/export.json', JSON.stringify(aql`FOR n IN Nodes return n`));\n// \u5bfc\u51fa\u62fc\u63a5\u540e\u7684\u6570\u636e\nrequire('fs').write(\n  '/var/lib/arangodb3/export.txt',\n  db\n    ._query(`return CONCAT_SEPARATOR(\"\\n\",FOR n IN Nodes FILTER n.name != null COLLECT col = n.name return col)`)\n    .toArray()[0],\n);\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"// \u5c06\u8fb9\u7684\u6570\u91cf\u66f4\u65b0\u5230\u8282\u70b9\u4e0a\nFOR doc IN documents\n  LET inEdgesCount = LENGTH(FOR v IN 1..1 INBOUND doc GRAPH 'edgeGraph' RETURN 1)\n  LET outEdgesCount = LENGTH(FOR v IN 1..1 OUTBOUND doc GRAPH 'edgeGraph' RETURN 1)\n  UPDATE doc WITH\n     {inEdgesCount: inEdgesCount, outEdgesCount: outEdgesCount} In Documents\n"})}),"\n",(0,r.jsx)(e.h2,{id:"model",children:"Model"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"_key"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"254bytes"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"^[-a-zA-Z0-9_:.@()+,=;$!*'%]{,254}$"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Collection\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Document"}),"\n",(0,r.jsxs)(e.li,{children:["Edge - ",(0,r.jsx)(e.code,{children:"_from"}),",",(0,r.jsx)(e.code,{children:"_to"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Graph\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"fromCollections"}),"\n",(0,r.jsx)(e.li,{children:"toCollections"}),"\n",(0,r.jsx)(e.li,{children:"Vertex - graph \u4e00\u90e8\u5206\u4f46\u672a\u7528\u4e8e edge \u5b9a\u4e49"}),"\n",(0,r.jsx)(e.li,{children:"OUTBOUND: _from \u2192 _to, INBOUND: _from \u2190 _to, ANY: _from \u2194 _to"}),"\n",(0,r.jsxs)(e.li,{children:["Algorithms\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Traversal"}),"\n",(0,r.jsx)(e.li,{children:"Shortest Path"}),"\n",(0,r.jsx)(e.li,{children:"k Shortest Paths"}),"\n",(0,r.jsx)(e.li,{children:"k Paths"}),"\n",(0,r.jsx)(e.li,{children:"Distributed Iterative Graph Processing (Pregel)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"aql",children:"AQL"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u63d2\u5165"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-aql",children:'INSERT {name: "John Doe", gender: "m"} INTO users;\n\nFOR user IN [\n  {name: "John Doe",gender: "m"},\n  {name: "Jane Smith",gender: "f"}\n  ]\n  INSERT user INTO users;\n\nFOR user IN users FILTER user.active = = 1 INSERT user INTO backup;\n\nFOR i IN 1..1000 INSERT {name: CONCAT("test", i), gender: (i % 2 = = 0 ? "f": "m")} INTO users\n'})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u66f4\u65b0"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-aql",children:'UPDATE { _key: "1" }\n  WITH { name: "John Smith" }\n  IN users;\n\nFOR user IN users\n  UPDATE user\n    WITH { numberOfLogins: 0 } IN users;\n\nFOR user IN users\n  FILTER user.active == 1\n    UPDATE user\n      WITH {\n        numberOfLogins: LENGTH(\n          FOR login IN logins\n            FILTER login.user == user._key\n            COLLECT WITH COUNT INTO numLogins\n            RETURN numLogins\n        )\n      } IN users;\n\nLET date = DATE_NOW()\n  FOR user IN users\n    FILTER user.isImportantUser == null\n    LET numberOfLogins = (\n      FOR login IN logins\n        FILTER login.user == user._key\n        COLLECT WITH COUNT INTO numLogins\n        RETURN numLogins\n      )\n    FILTER numberOfLogins > 50\n    UPDATE user\n      WITH {\n        isImportantUser: 1,\n        dateBecameImportant: date\n      }\n      IN users;\n\n-- \u79fb\u9664\u5c5e\u6027\nFOR user IN users\n  UPDATE user WITH { numberOfLogins: null }\n    IN users\n  OPTIONS { keepNull: false };\n\n-- \u79fb\u9664\u90e8\u5206\u5c5e\u6027\nFOR user IN users\n  FILTER user.isImportantUser == 1 AND\n         user.active == 0\n    UPDATE user\n      WITH {\n        isImportantUser: null,\n        dateBecameImportant: null\n      }\n      IN users\n    OPTIONS { keepNull: false }\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/community-server/sql-aql-comparison/",children:"https://www.arangodb.com/community-server/sql-aql-comparison/"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"fts",children:"FTS"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/docs/stable/programs-arangod-options.html",children:"https://www.arangodb.com/docs/stable/programs-arangod-options.html"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'RETURN TOKENS("\u4eca\u5929\u7684\u5929\u6c14\u771f\u7684\u5f88\u597d", "text_zh")\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u5de5\u5177",children:"\u5de5\u5177"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"brew install arangodb\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"arangodump"}),"\n",(0,r.jsx)(e.li,{children:"arangorestore"}),"\n",(0,r.jsx)(e.li,{children:"arangobackup"}),"\n",(0,r.jsx)(e.li,{children:"arangoimport"}),"\n",(0,r.jsx)(e.li,{children:"arangoexport"}),"\n",(0,r.jsx)(e.li,{children:"arangobench"}),"\n",(0,r.jsxs)(e.li,{children:["arangovpack\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7528\u4e8e\u8f6c\u6362 VelocyPack \u7684\u5de5\u5177"}),"\n",(0,r.jsx)(e.li,{children:"\u5f00\u53d1\u8c03\u8bd5 ArangoDB \u65f6\u4f7f\u7528"}),"\n",(0,r.jsx)(e.li,{children:"json,json-hex,vpack,vpack-hex"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"arangoinspect"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"arangoimport",children:"arangoimport"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"file \u652f\u6301\u538b\u7f29 - gz,bz2"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"opt"}),(0,r.jsx)(e.th,{children:"demo val"}),(0,r.jsx)(e.th,{children:"Note"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"type"}),(0,r.jsx)(e.td,{children:"auto,tsv,csv,json,jsonl"}),(0,r.jsx)(e.td,{children:"auto \u57fa\u4e8e\u6587\u4ef6\u540d\u68c0\u6d4b"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"file"}),(0,r.jsx)(e.td,{children:"-"}),(0,r.jsxs)(e.td,{children:[(0,r.jsx)(e.code,{children:"-"})," stdin"]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"define"}),(0,r.jsx)(e.td,{children:"key=val"}),(0,r.jsxs)(e.td,{children:["\u66ff\u6362\u914d\u7f6e\u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"@key@"})]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"headers-file"}),(0,r.jsx)(e.td,{children:"header.csv"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"on-duplicate"}),(0,r.jsxs)(e.td,{children:[(0,r.jsx)(e.strong,{children:"error"}),", ignore, replace, update"]}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"overwrite"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{children:"\u66ff\u6362 collection - \u5220\u9664\u4e4b\u524d\u6570\u636e"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"collection"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"create-collection"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"create-collection-type"}),(0,r.jsxs)(e.td,{children:[(0,r.jsx)(e.strong,{children:"document"}),", edge"]}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"create-database"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"skip-lines"}),(0,r.jsx)(e.td,{children:"0"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"skip-validation"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"separator"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u7528\u4e8e tsv,csv"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"quote"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:'"'})}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"backslash-escape"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"batch-size"}),(0,r.jsx)(e.td,{children:"8388608"}),(0,r.jsx)(e.td,{children:"\u5355\u4f4d byte - \u9ed8\u8ba4 8MB"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"auto-rate-limit"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"ignore-missing"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"preprocess"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"translate"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"id=_key"})}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"remove-attribute"}),(0,r.jsx)(e.td,{children:"attr"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"datatype"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"key=string|number|null|boolean"})}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"merge-attributes"}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"fullName=[firstName]:[lastName]"})}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"edge"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"from-collection-prefix"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"to-collection-prefix"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]})]})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'arangoimport --file "data.csv" --type csv --collection "users"\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",metastring:'title="edge"',children:'{"_from": "users/1234", "_to": "users/4321", "desc": "1234 is connected to 4321"}\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.arangodb.com/docs/stable/programs-arangoimport-options.html",children:"https://www.arangodb.com/docs/stable/programs-arangoimport-options.html"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"arangosh",children:"arangosh"}),"\n",(0,r.jsx)(e.h2,{id:"foxx",children:"Foxx"}),"\n",(0,r.jsx)(e.h2,{id:"schema-validation",children:"Schema Validation"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5ffd\u7565 ",(0,r.jsx)(e.code,{children:"_key"}),", ",(0,r.jsx)(e.code,{children:"_id"}),", ",(0,r.jsx)(e.code,{children:"_rev"}),", ",(0,r.jsx)(e.code,{children:"_from"}),", ",(0,r.jsx)(e.code,{children:"_to"})]}),"\n",(0,r.jsx)(e.li,{children:"JSON Schema"}),"\n",(0,r.jsxs)(e.li,{children:["level - \u9ed8\u8ba4 strict\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"moderate - \u5f71\u54cd\u65b0\u7684\u548c\u4fee\u6539\u7684\uff0c\u4e0d\u5f71\u54cd\u65e7\u7684"}),"\n",(0,r.jsx)(e.li,{children:"strict - \u8981\u6c42\u6240\u6709\u9a8c\u8bc1\u901a\u8fc7"}),"\n",(0,r.jsx)(e.li,{children:"new - \u65b0\u7684"}),"\n",(0,r.jsx)(e.li,{children:"none - \u4e0d\u9a8c\u8bc1"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["message - \u9519\u8bef\u4fe1\u606f\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u76ee\u524d\u65e0\u6cd5\u544a\u77e5\u54ea\u91cc\u7684\u95ee\u9898 - ",(0,r.jsx)(e.a,{href:"https://www.arangodb.com/docs/stable/release-notes-known-issues39.html#schema-validation",children:"https://www.arangodb.com/docs/stable/release-notes-known-issues39.html#schema-validation"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u8f85\u52a9\u51fd\u6570\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"SCHEMA_GET()"}),"\n",(0,r.jsx)(e.li,{children:"SCHEMA_VALIDATE()"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"var schema = {\n  rule: {\n    properties: {nums: {type: 'array', items: {type: 'number', maximum: 6}}},\n    additionalProperties: {type: 'string'},\n    required: ['nums'],\n  },\n  level: 'moderate',\n  message:\n    \"The document does not contain an array of numbers in attribute 'nums', or one of the numbers is bigger than 6.\",\n};\n\n/* Create a new collection with schema */\ndb._create('schemaCollection', {schema: schema});\n\n/* Update the schema of an existing collection */\ndb.schemaCollection.properties({schema: schema});\n"})}),"\n",(0,r.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(e.h2,{id:"failed-to-locate-javascriptstartup-directory-directory",children:"failed to locate javascript.startup-directory directory"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"macOS /usr/local/opt/arangodb/share/arangodb3/"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"arangosh --javascript.startup-directory /usr/local/opt/arangodb/share/arangodb3/js\n"})})]})}function h(n={}){const{wrapper:e}={...(0,l.M)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},38088:(n,e,s)=>{var r=s(96651),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,t=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(n,e,s){var r,i={},c=null,o=null;for(r in void 0!==s&&(c=""+s),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(o=e.ref),e)d.call(e,r)&&!a.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:l,type:n,key:c,ref:o,props:i,_owner:t.current}}e.Fragment=i,e.jsx=c,e.jsxs=c},2488:(n,e,s)=>{n.exports=s(38088)},62780:(n,e,s)=>{s.d(e,{I:()=>t,M:()=>d});var r=s(96651);const l={},i=r.createContext(l);function d(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);