/*! For license information please see f214e1b2.8b6f5f29.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[9688],{484:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>d,metadata:()=>o,toc:()=>c});var t=r(2488),s=r(62780);const d={title:"Dapr Kubernetes"},i="Dapr Kubernetes",o={id:"dev/cloud/dapr-k8s",title:"Dapr Kubernetes",description:"- \u53c2\u8003",source:"@site/../notes/dev/cloud/dapr-k8s.md",sourceDirName:"dev/cloud",slug:"/dev/cloud/dapr-k8s",permalink:"/notes/dev/cloud/dapr-k8s",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/dev/cloud/dapr-k8s.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1630662479,formattedLastUpdatedAt:"Sep 3, 2021",frontMatter:{title:"Dapr Kubernetes"},sidebar:"docs",previous:{title:"upx",permalink:"/notes/dev/build/upx"},next:{title:"Dapr Version",permalink:"/notes/dev/cloud/dapr-version"}},a={},c=[{value:"\u7ec4\u4ef6",id:"\u7ec4\u4ef6",level:2},{value:"annotations",id:"annotations",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"dapr-kubernetes",children:"Dapr Kubernetes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["helm ",(0,t.jsx)(n.a,{href:"https://github.com/dapr/dapr/blob/master/charts/dapr",children:"charts/dapr"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7ec4\u4ef6",children:"\u7ec4\u4ef6"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"dapr-operator - \u7ec4\u4ef6\u90e8\u7f72"}),"\n",(0,t.jsx)(n.li,{children:"dapr-sidecar-injector - \u6ce8\u5165 sidecar"}),"\n",(0,t.jsx)(n.li,{children:"dapr-placement - actor instance -> Pod"}),"\n",(0,t.jsx)(n.li,{children:"dapr-sentry - mTLS, CA"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u751f\u4ea7\u8d44\u6e90\u5efa\u8bae"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"CPU"}),(0,t.jsx)(n.th,{children:"Memory"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Operator"}),(0,t.jsx)(n.td,{children:"1/100m"}),(0,t.jsx)(n.td,{children:"200Mi/100Mi"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Sidecar Injector"}),(0,t.jsx)(n.td,{children:"1/100m"}),(0,t.jsx)(n.td,{children:"200Mi/30Mi"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Sentry"}),(0,t.jsx)(n.td,{children:"1/100m"}),(0,t.jsx)(n.td,{children:"200Mi/30Mi"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Placement"}),(0,t.jsx)(n.td,{children:"1/250m"}),(0,t.jsx)(n.td,{children:"150Mi/75Mi"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Dashboard"}),(0,t.jsx)(n.td,{children:"200m/50m"}),(0,t.jsx)(n.td,{children:"200Mi/20Mi"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"annotations",children:"annotations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.dapr.io/operations/hosting/kubernetes/kubernetes-annotations/",children:"Kubernetes pod annotations"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"annotations:\n  dapr.io/enabled: 'true'\n  dapr.io/app-id: 'nodeapp'\n  dapr.io/app-port: '3000'\n  # \u914d\u7f6e CDR \u540d\u5b57\n  dapr.io/config: 'tracing'\n\n  # debug, info, warn, error\n  dapr.io/log-level: 'info'\n  dapr.io/log-as-json: 'false'\n  # port 7777\n  dapr.io/enable-profiling: 'false'\n  # token based API authentication\n  dapr.io/api-token-secret: ''\n  # grpc, http\n  dapr.io/app-protocol: 'http'\n  # \u6700\u5927\u5e76\u53d1\u6570\u9650\u5236\n  dapr.io/app-max-concurrency: ''\n  # insecure SSL\n  dapr.io/app-ssl: 'false'\n  dapr.io/metrics-port: '9090'\n\n  dapr.io/sidecar-cpu: ''\n  dapr.io/sidecar-memory: ''\n  dapr.io/sidecar-cpu-request: ''\n  dapr.io/sidecar-memory-request: ''\n\n  dapr.io/sidecar-liveness-probe-delay-seconds: '3'\n  dapr.io/sidecar-liveness-probe-timeout-seconds: '3'\n  dapr.io/sidecar-liveness-probe-period-seconds: '6'\n  dapr.io/sidecar-liveness-probe-threshold: '3'\n  dapr.io/sidecar-readiness-probe-delay-seconds: '3'\n  dapr.io/sidecar-readiness-probe-timeout-seconds: '3'\n  dapr.io/sidecar-readiness-probe-period-seconds: '6'\n  dapr.io/sidecar-readiness-probe-threshold: '3'\n\n  # \u8bf7\u6c42\u4f53\u5927\u5c0f - \u5355\u4f4d MB\n  dapr.io/http-max-request-size: '4'\n  # \u989d\u5916\u7684\u73af\u5883\u53d8\u91cf\uff0c\u9017\u53f7\u5206\u5272 key=value\n  dapr.io/env: ''\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},38088:(e,n,r)=>{var t=r(96651),s=Symbol.for("react.element"),d=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,r){var t,d={},c=null,l=null;for(t in void 0!==r&&(c=""+r),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(l=n.ref),n)i.call(n,t)&&!a.hasOwnProperty(t)&&(d[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===d[t]&&(d[t]=n[t]);return{$$typeof:s,type:e,key:c,ref:l,props:d,_owner:o.current}}n.Fragment=d,n.jsx=c,n.jsxs=c},2488:(e,n,r)=>{e.exports=r(38088)},62780:(e,n,r)=>{r.d(n,{I:()=>o,M:()=>i});var t=r(96651);const s={},d=t.createContext(s);function i(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);