/*! For license information please see 0b61556b.c5b964d8.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[55863],{59695:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});var r=n(11527),i=n(47214);const t={title:"Apisix Ingress"},a="Apisix Ingress",o={id:"devops/kubernetes/network/apisix-ingress",title:"Apisix Ingress",description:"- Helm",source:"@site/../notes/devops/kubernetes/network/apisix-ingress.md",sourceDirName:"devops/kubernetes/network",slug:"/devops/kubernetes/network/apisix-ingress",permalink:"/notes/devops/kubernetes/network/apisix-ingress",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/kubernetes/network/apisix-ingress.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1687329439,formattedLastUpdatedAt:"Jun 21, 2023",frontMatter:{title:"Apisix Ingress"},sidebar:"docs",previous:{title:"Kubernates \u7f51\u7edc",permalink:"/notes/devops/kubernetes/network/"},next:{title:"Calico",permalink:"/notes/devops/kubernetes/network/calico"}},c={},l=[{value:"IngressController",id:"ingresscontroller",level:2}];function p(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"apisix-ingress",children:"Apisix Ingress"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Helm\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://charts.apiseven.com",children:"https://charts.apiseven.com"})," apisix\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"apisix \u4f9d\u8d56 apisix-dashboard, apisix-ingress-controller, etcd"}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://apache.github.io/apisix-helm-chart/",children:"https://apache.github.io/apisix-helm-chart/"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://github.com/apache/apisix-helm-chart",children:"apache/apisix-helm-chart"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://charts.bitnami.com/bitnami",children:"https://charts.bitnami.com/bitnami"})," etcd"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://apisix.apache.org/docs/ingress-controller/getting-started/",children:"https://apisix.apache.org/docs/ingress-controller/getting-started/"})}),"\n",(0,r.jsxs)(s.li,{children:["v2\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://apisix.apache.org/docs/ingress-controller/next/references/v2/",children:"https://apisix.apache.org/docs/ingress-controller/next/references/v2/"})}),"\n",(0,r.jsxs)(s.li,{children:["ApisixGlobalRule\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://github.com/apache/apisix-ingress-controller/issues/1104",children:"https://github.com/apache/apisix-ingress-controller/issues/1104"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"ingresscontroller",children:"IngressController"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"ApisixRoute"}),"\n",(0,r.jsxs)(s.li,{children:["ApisixUpstream\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u540d\u5b57\u4e0e service \u540d\u5b57\u76f8\u540c\u4f1a\u81ea\u52a8\u5339\u914d"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"ApisixTls"}),"\n",(0,r.jsxs)(s.li,{children:["ApisixClusterConfig\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u914d\u7f6e prometheus\u3001skywalking"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"ApisixConsumer"}),"\n",(0,r.jsxs)(s.li,{children:["ApisixPluginConfig\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["ingress \u901a\u8fc7 annotation \u5f15\u7528 ",(0,r.jsx)(s.code,{children:'k8s.apisix.apache.org/plugin-config-name: "echo-and-cors-apc"'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"apiVersion: apisix.apache.org/v2beta3\nkind: ApisixRoute\nmetadata:\n  name: httpbin-route\nspec:\n  http:\n    - name: rule1\n      match:\n        hosts:\n          - httpbin.com\n        paths:\n          - /ip\n      backends:\n        - serviceName: httpbin-service-e2e-test\n          servicePort: 80\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:'annotations:\n  k8s.apisix.apache.org/enable-cors: "true"\n  k8s.apisix.apache.org/cors-allow-origin: "https://foo.com,http://bar.com:8080"\n  k8s.apisix.apache.org/cors-allow-headers: "Host: https://bar.com:8080"\n  k8s.apisix.apache.org/cors-allow-methods: "GET,POST"\n  k8s.apisix.apache.org/allowlist-source-range: "10.0.5.0/16,127.0.0.1,192.168.3.98"\n  k8s.apisix.apache.org/blocklist-source-range: "127.0.0.1,172.17.0.0/16"\n  k8s.apisix.apache.org/http-allow-methods: "GET,POST"\n  k8s.apisix.apache.org/http-block-method: "PUT,DELETE"\n  k8s.apisix.apache.org/rewrite-target-regex: "/app/(.*)"\n  k8s.apisix.apache.org/rewrite-target-regex-template: "/$1"\n  k8s.apisix.apache.org/http-to-https: "true"\n  k8s.apisix.apache.org/use-regex: "true"\n  k8s.apisix.apache.org/enable-websocket: "true"\n  k8s.apisix.apache.org/enable-response-rewrite: "true"\n  k8s.apisix.apache.org/response-rewrite-status-code: "404"\n  k8s.apisix.apache.org/response-rewrite-body: "bar-body"\n  k8s.apisix.apache.org/response-rewrite-body-base64: "true"\n  # \u53ef\u4ee5\u901a\u8fc7 Prefix \u8def\u7531\n  # path: /helloworld.Greeter/SayHello\n  k8s.apisix.apache.org/upstream-scheme: grpcs\n  # \u8de8 namespace \u5f15\u7528\n  k8s.apisix.apache.org/svc-namespace: test\n'})})]})}function h(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},3354:(e,s,n)=>{var r=n(50959),i=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,s,n){var r,t={},l=null,p=null;for(r in void 0!==n&&(l=""+n),void 0!==s.key&&(l=""+s.key),void 0!==s.ref&&(p=s.ref),s)a.call(s,r)&&!c.hasOwnProperty(r)&&(t[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===t[r]&&(t[r]=s[r]);return{$$typeof:i,type:e,key:l,ref:p,props:t,_owner:o.current}}s.Fragment=t,s.jsx=l,s.jsxs=l},11527:(e,s,n)=>{e.exports=n(3354)},47214:(e,s,n)=>{n.d(s,{Z:()=>o,a:()=>a});var r=n(50959);const i={},t=r.createContext(i);function a(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);