/*! For license information please see 45e69fcd.8109a5ca.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[21896],{9072:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>i,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var l=s(2488),r=s(62780);const t={title:"Bash"},i="Bash",a={id:"os/linux/shell/bash",title:"Bash",description:"- \u914d\u7f6e",source:"@site/../notes/os/linux/shell/bash.md",sourceDirName:"os/linux/shell",slug:"/os/linux/shell/bash",permalink:"/notes/os/linux/shell/bash",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/shell/bash.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1675652392,formattedLastUpdatedAt:"Feb 6, 2023",frontMatter:{title:"Bash"},sidebar:"docs",previous:{title:"selinux",permalink:"/notes/os/linux/selinux"},next:{title:"date",permalink:"/notes/os/linux/shell/date"}},h={},c=[{value:"\u8bed\u6cd5",id:"\u8bed\u6cd5",level:2},{value:"set",id:"set",level:2},{value:"shopt",id:"shopt",level:2},{value:"\u73af\u5883\u53d8\u91cf",id:"env",level:2},{value:".inputrc",id:"inputrc",level:2},{value:"FAQ",id:"faq",level:2},{value:"Prefix/Suffix",id:"prefixsuffix",level:3},{value:"\u66ff\u6362",id:"\u66ff\u6362",level:2},{value:"Parallels",id:"parallels",level:2},{value:"Base N",id:"base-n",level:2},{value:"SSH",id:"ssh",level:2},{value:"xargs",id:"xargs",level:2},{value:"case",id:"case",level:2},{value:"\u4f7f\u7528\u53d8\u91cf\u540d\u5b57\u8bbf\u95ee\u53d8\u91cf",id:"\u4f7f\u7528\u53d8\u91cf\u540d\u5b57\u8bbf\u95ee\u53d8\u91cf",level:2},{value:"dotenv",id:"dotenv",level:2},{value:"heredoc",id:"heredoc",level:2},{value:"sub shell",id:"sub-shell",level:2},{value:"tcp redir",id:"tcp-redir",level:2},{value:"git branch",id:"git-branch",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.M)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"bash",children:"Bash"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u914d\u7f6e\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:".inputrc"}),"\n",(0,l.jsx)(n.li,{children:".bashrc - \u4ea4\u4e92 shell"}),"\n",(0,l.jsx)(n.li,{children:".profile, .bash_profile - \u767b\u9646 shell"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.gnu.org/software/bash/manual/bash.html",children:"Bash Reference Manual"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.man7.org/linux/man-pages/man1/bash.1.html",children:"https://www.man7.org/linux/man-pages/man1/bash.1.html"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"http://mywiki.wooledge.org/BashPitfalls",children:"http://mywiki.wooledge.org/BashPitfalls"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://tiswww.case.edu/php/chet/bash/NEWS",children:"https://tiswww.case.edu/php/chet/bash/NEWS"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# empty shell\nenv -i bash\n\n# empty env\nenv -i HOME=\"$HOME\" bash -c 'env'\n\n# login shell\ntime env -i HOME=\"$HOME\" LOG4BASH_LOG_LEVE=DEBUG /usr/local/bin/bash -l -c 'env'\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"flag"}),(0,l.jsx)(n.th,{children:"for"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-c COMMAND"}),(0,l.jsx)(n.td,{children:"command string"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-i"}),(0,l.jsx)(n.td,{children:"interactive"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-l"}),(0,l.jsx)(n.td,{children:"login shell"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-r"}),(0,l.jsx)(n.td,{children:"restricted"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"-s"}),(0,l.jsx)(n.td,{children:"stdin"})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u4f20\u9012 flag \u7ed9 stdin \u811a\u672c\ncurl http://sh | bash -s -- -flag\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u8bed\u6cd5",children:"\u8bed\u6cd5"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"["})," = test"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[["})," - shell \u5185\u7f6e\u8bed\u6cd5 - \u901f\u5ea6\u66f4\u5feb\u4e00\u70b9\u70b9\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u652f\u6301 ",(0,l.jsx)(n.code,{children:"&&"}),", ",(0,l.jsx)(n.code,{children:"||"})," \u8bed\u6cd5"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"{}"})," - \u5c55\u5f00\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"${var}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"${var:=default}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"${var/find/replace}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"${var%remove}"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"{000..2}"})," - \u5e8f\u5217\u5c55\u5f00"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"{000..2..2}"})," - \u5e26 step \u53c2\u6570"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"echo x{,A,B,C}"})," - \u7ec4\u5408\u5c55\u5f00"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"{ echo 1; echo 2; }"})," - \u547d\u4ee4\u5e8f\u5217"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"(())"})," - \u7b97\u672f\u64cd\u4f5c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"()"})," - subshell, array"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# for \u5faa\u73af\n# ===========\n# bash \u8bed\u6cd5\nfor ((i = 0; i < 3; i++)); do echo $i; done\n# bash \u5c55\u5f00\u5e8f\u5217\nfor i in {0..2}; do echo $i; done\n# \u4f7f\u7528 seq \u751f\u6210\u5e8f\u5217 - ash \u652f\u6301\nfor i in $(seq 0 2); do echo $i; done\nfor i in $(seq 0 $((3 - 1))); do echo $i; done\n"})}),"\n",(0,l.jsx)(n.h2,{id:"set",children:"set"}),"\n",(0,l.jsxs)(n.p,{children:["| set | set -o      |\n| --- | ----------- | -------------------------------------- |\n| a   | allexport   | export \u6240\u6709\u53d8\u91cf                        |\n| E   | errtrace    | \u7ee7\u627f ERR trap                          |\n| e   | errexit     | \u547d\u4ee4\u5931\u8d25(\u8fd4\u56de\u975e 0)\u5219\u9000\u51fa\u811a\u672c           |\n| u   | nounset     | \u8981\u6c42\u53d8\u91cf unset                         |\n| x   | xtrace      | trace - \u56de\u663e\u6267\u884c\u7684\u5185\u5bb9, \u8f93\u51fa\u524d\u7f00\u4e3a PS4 |\n| B   | braceexpand | \u5c55\u5f00 ",(0,l.jsx)(n.code,{children:"{"}),"                               |\n| T   | functrace   |\n| h   | hashall     |\n| H   | histexpand  |\n|     | pipefail    | pipe \u5931\u8d25\u4e5f\u9000\u51fa                        |\n|     | posix       | Bash \u7b26\u5408 POSIX \u6807\u51c6                   |\n| t   | onecmd      | \u6267\u884c\u4e00\u6761\u547d\u4ee4\u540e\u4fbf\u9000\u51fa                   |\n| v   | verbose     |"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u63a8\u8350\nset -Eeuo pipefail\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"trap ERR \u53ef\u5904\u7406 -e \u9000\u51fa"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html",children:"set"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"shopt",children:"shopt"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Bash \u6269\u5c55\u9009\u9879"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"shopt [-pqsu] [-o] [optname \u2026]\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"shopt -s extglob # \u5f00\u542f\nshopt -u extglob # \u5173\u95ed\nshopt -q extglob # \u4f7f\u7528 exit code \u8868\u793a\u662f\u5426\u5f00\u542f\nshopt extglob    # \u5f53\u524d\u72b6\u6001\nshopt            # \u5168\u90e8\u72b6\u6001\nshopt -o nolog   # \u9650\u5b9a\u5185\u7f6e set \u652f\u6301\u9009\u9879\u800c\u975e\u6269\u5c55\u9009\u9879\n\n# \u6240\u6709 on \u7684\u9009\u9879\nshopt | grep \"on$\" | grep -o '^\\S\\+'\n# \u63a8\u8350\nshopt -s autocd cdspell extglob globstar\n\n# \u9ed8\u8ba4\u5f00\u542f\u9009\u9879\nshopt -s checkwinsize cmdhist expand_aliases extquote force_fignore hostcomplete interactive_comments progcomp promptvars sourcepath\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["globstar - ",(0,l.jsx)(n.code,{children:"**"})," \u4f1a\u5339\u914d\u5f53\u524d\u800c\u4e0d\u53ea\u662f\u5b50\u76ee\u5f55\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u4f1a\u5339\u914d Makefile\nls **/Makefile\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["extglob - \u6269\u5c55 glob \u8bed\u6cd5\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"[?*+@!](pattern-list)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"!"})," \u6392\u9664"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@"})," \u5339\u914d 1 \u4e2a"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.gnu.org/software/bash/manual/html_node/Pattern-Matching.html",children:"Pattern Matching"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u590d\u5236 scripts \u4e0b\u7684 Makefile \u5230\u6240\u6709\u5176\u4ed6 Makefile\nls !(scripts)/**/Makefile | xargs -n 1 cp scripts/stub/Makefile\n"})}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"nocaseglob - glob \u5927\u5c0f\u5199\u4e0d\u654f\u611f"}),"\n",(0,l.jsx)(n.li,{children:"histappend - \u8ffd\u52a0\u5230\u5386\u53f2\u6587\u4ef6\u800c\u4e0d\u662f\u91cd\u5199"}),"\n",(0,l.jsxs)(n.li,{children:["cdspell - \u4f7f\u7528 cd \u65f6\u81ea\u52a8\u6821\u6b63\u4e66\u5199\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd ignorad # \u4f1a cd \u5230\u5b58\u5728\u7684 ignored \u76ee\u5f55 - a -> e\n"})}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"autocd - \u8f93\u5165\u76ee\u5f55\u81ea\u52a8\u5207\u6362\u5230\u76ee\u5f55"}),"\n",(0,l.jsx)(n.li,{children:"failglob - glob \u5339\u914d\u4e0d\u5230\u6587\u4ef6\u65f6\u51fa\u9519\u800c\u975e \u76f4\u63a5\u8f93\u51fa\u76f8\u540c\u5b57\u7b26"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"env",children:"\u73af\u5883\u53d8\u91cf"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"env"}),(0,l.jsx)(n.th,{children:"default"}),(0,l.jsx)(n.th,{children:"description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"EPOCHSECONDS"}),(0,l.jsx)(n.td,{}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"EPOCHREALTIME"}),(0,l.jsx)(n.td,{}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"BASH_ARGV0"}),(0,l.jsx)(n.td,{}),(0,l.jsx)(n.td,{})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo $EPOCHSECONDS\n"})}),"\n",(0,l.jsx)(n.h2,{id:"inputrc",children:".inputrc"}),"\n",(0,l.jsx)(n.p,{children:"C-x C-r is bound to re-read-init-file."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://www.gnu.org/software/bash/manual/html_node/Readline-Init-File.html",children:"https://www.gnu.org/software/bash/manual/html_node/Readline-Init-File.html"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://www.gnu.org/software/bash/manual/bashref.html#Miscellaneous-Commands",children:"https://www.gnu.org/software/bash/manual/bashref.html#Miscellaneous-Commands"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Make Tab autocomplete regardless of filename case\nset completion-ignore-case on\n\n# List all matches in case multiple possible completions are possible\nset show-all-if-ambiguous on\n\n# Immediately add a trailing slash when autocompleting symlinks to directories\nset mark-symlinked-directories on\n\n# Use the text that has already been typed as the prefix for searching through\n# commands (i.e. more intelligent Up/Down behavior)\n"\\eOA": history-search-backward\n"\\e[A": history-search-backward\n"\\eOB": history-search-forward\n"\\e[B": history-search-forward\n'})}),"\n",(0,l.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,l.jsx)(n.h3,{id:"prefixsuffix",children:"Prefix/Suffix"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# \u53bb\u9664\u524d\u7f00\u548c\u540e\u7f00\nx="/foo/fizzbuzz.bar"\ny=${x%.bar}\necho ${y##*/}\n#> fizzbuzz\n\n# \u53bb\u9664\u540e\u7f00\nx="/foo/fizzbuzz.bar.quux"\ny=${x%.*}\necho $y\n#> /foo/fizzbuzz.bar\ny=${x%%.*}\necho $y\n#> /foo/fizzbuzz\n\n# \u53bb\u9664\u524d\u7f00\nx=/foo/bar/bim/baz/file.gif\ny=${path##*/}\necho $y\n#> file.gif\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u66ff\u6362",children:"\u66ff\u6362"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"a=abc/da\n# zbc/da\necho ${a/a/z}\n# // \u662f\u6240\u6709\n# zbc/dz\necho ${a//a/z}\n# \u8f6c\u610f\n# abczda\necho ${a//\\//z}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"parallels",children:"Parallels"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# do it once\nseq 1 | parallel -n0 "curl -H \'Content-Type: application/json\' http://httpbin.org/post -X POST -d \'{\\"url\\":\\"http://google.com/\\"}\'"\n\n# do it twice\nseq 2 | parallel -n0 "curl -H \'Content-Type: application/json\' http://httpbin.org/post -X POST -d \'{\\"url\\":\\"http://google.com/\\"}\'"\n\n# do it 4 times, but at 2 a time\nseq 4 | parallel -n0 -j2 "curl -H \'Content-Type: application/json\' http://httpbin.org/post -X POST -d \'{\\"url\\":\\"http://google.com/\\"}\'"\n\n# you can also put all your commands into a file\necho "ls\\nls" > somefile\ncat somefile | parallel\n\n# finally, just straight command line parameters\nparallel echo ::: a b c\n\n# by default, it runs as many jobs in parallel as there are cores in your computer\n\n# if you try and set more jobs than there are cores, they will be concurrent, but\n# they will only ever be parallel up to your core count\n\n# for httpie use the --ignore-stdin flag, or else it gets mixed up\nseq 1 | parallel -n0 "http --ignore-stdin POST http://httpbin.org/post url=http://google.com/"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"base-n",children:"Base N"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'# Encode base62\nBASE62=($(echo {0..9} {a..z} {A..Z}))\nfor i in $(bc <<< "obase=62; 9207903953"); do\n    echo -n ${BASE62[$(( 10#$i ))]}\ndone && echo\n# Decode base62\nbase62_decode() { echo $((62#$1)) }\n'})}),"\n",(0,l.jsx)(n.h2,{id:"ssh",children:"SSH"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# download: remote -> local\n# local_file \u53ef\u4ee5\u4e3a\u76ee\u5f55\u7528 -r \u9012\u5f52\nscp user@remote_host:remote_file local_file\n# upload: local -> remote\nscp local_file user@remote_host:remote_file\n\n# To Forward sshtalk.in:8080 -> Cort.local:4567, you can do\nlocal="Cort.local:4567" # or "localhost:4567"\nremot="*:8080"          # "*" for all interfaces (default is loopback)\n\nssh -R ${remote}:${local} sshtalk.in\n\n# To forward localhost:1234 -> private-host:443, through public-host you can do\nlocal="localhost:1234"   # or just "1234" default is localhost\nremot="private-host:443" # "*" for all interfaces (default is loopback)\n\nssh -L ${local}:${remote} public-host\n\n# \u987b\u5728\u5728Server\u7aef\u5141\u8bb8\u8f6c\u53d1\n# \u5728 /etc/ssh/sshd_config \u4e2d\u6dfb\u52a0\n# GatewayPorts yes\n# \u7136\u540e\u91cd\u542f\nsudo service sshd restart\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# scp to \u591a\u53f0\nfor dest in $(< destfile.txt); do\n  scp ourfile.txt ${dest}:remote/path/\ndone\n\n# \u5728\u4e0d\u7528 scp \u7684\u60c5\u51b5\u4e0b \u62f7\u8d1d\u5230\u591a\u53f0\ncat file.txt | tee \\\n  >(ssh user@ip1.com "cat > file.txt") \\\n  >(ssh user@ip2.com "cat > file.txt")\n\ntar cz file1 file2 file3 | tee \\\n  >(ssh user@ip1.com "tar xz") \\\n  >(...)\n'})}),"\n",(0,l.jsx)(n.h2,{id:"xargs",children:"xargs"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"http://www.thegeekstuff.com/2013/12/xargs-examples/",children:"xargs example"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"case",children:"case"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'case $space in\n  [1-6]*)\n    Message="All is quiet."\n    ;;\n  [7-8]*)\n    Message="Start thinking about cleaning out some stuff.  There\'s a partition that is $space % full."\n    ;;\n  9[1-8])\n    Message="Better hurry with that new disk...  One partition is $space % full."\n    ;;\n  99)\n    Message="I\'m drowning here!  There\'s a partition at $space %!"\n    ;;\n  *)\n    Message="I seem to be running with an nonexistent amount of disk space..."\n    ;;\nesac\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u4f7f\u7528\u53d8\u91cf\u540d\u5b57\u8bbf\u95ee\u53d8\u91cf",children:"\u4f7f\u7528\u53d8\u91cf\u540d\u5b57\u8bbf\u95ee\u53d8\u91cf"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html",children:"Shell Parameter Expansion"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"a=PATH\necho ${!a}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"dotenv",children:"dotenv"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"env $(cat .env | xargs) sh -c 'echo $MY_ENV'\n"})}),"\n",(0,l.jsx)(n.h2,{id:"heredoc",children:"heredoc"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'cat << EOF\nPWD=$PWD\nEOF\n# \u8f6c\u4e49\ncat << "EOF"\nPWD=$PWD\nEOF\n# \u79fb\u9664\u7f29\u8fdb - \u9700\u8981 tab\ncat <<- EOF\n\tPWD=$PWD\n\tEOF\n'})}),"\n",(0,l.jsx)(n.h2,{id:"sub-shell",children:"sub shell"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://tldp.org/LDP/abs/html/subshells.html",children:"https://tldp.org/LDP/abs/html/subshells.html"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"(echo 1)\n\n# \u4f1a\u8f93\u51fa 1 2 3 4\nbash << SH &\necho 1\necho 2 && (echo 3; exit 1;)\necho 4\nSH\n"})}),"\n",(0,l.jsx)(n.h2,{id:"tcp-redir",children:"tcp redir"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo <> /dev/tcp/wener.me/80\n# 0 - \u8fde\u901a\necho $?\n\necho <> /dev/tcp/localhost/80\n# 1\necho $?\n"})}),"\n",(0,l.jsx)(n.h2,{id:"git-branch",children:"git branch"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl -Lo ~/.git-prompt.sh https://github.com/git/git/raw/master/contrib/completion/git-prompt.sh\nsource ~/.git-prompt.sh\n\n__git_ps1 '%s'\n\nexport PS1='\\[\\e[32m\\]\\u@\\h \\[\\e[01;33m\\]\\w $(__git_ps1 \" (%s)\") \\[\\e[34m\\][\\t] \\[\\e[0m\\]\\n$ '\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh",children:"https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},38088:(e,n,s)=>{var l=s(96651),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,s){var l,t={},c=null,o=null;for(l in void 0!==s&&(c=""+s),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(o=n.ref),n)i.call(n,l)&&!h.hasOwnProperty(l)&&(t[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps)void 0===t[l]&&(t[l]=n[l]);return{$$typeof:r,type:e,key:c,ref:o,props:t,_owner:a.current}}n.Fragment=t,n.jsx=c,n.jsxs=c},2488:(e,n,s)=>{e.exports=s(38088)},62780:(e,n,s)=>{s.d(n,{I:()=>a,M:()=>i});var l=s(96651);const r={},t=l.createContext(r);function i(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);