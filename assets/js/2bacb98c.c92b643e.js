/*! For license information please see 2bacb98c.c92b643e.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[45419],{42882:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>j,frontMatter:()=>i,metadata:()=>c,toc:()=>h});var t=s(11527),r=s(47214);const i={title:"CDN"},l="CDN",c={id:"web/cdn",title:"CDN",description:"| cdn        | import                            | github           | cjs -> esm |",source:"@site/../notes/web/cdn.md",sourceDirName:"web",slug:"/web/cdn",permalink:"/notes/web/cdn",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/web/cdn.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1664421654,formattedLastUpdatedAt:"Sep 29, 2022",frontMatter:{title:"CDN"},sidebar:"docs",previous:{title:"Webkit",permalink:"/notes/web/browser/safari/webkit"},next:{title:"Cookie",permalink:"/notes/web/cookie"}},d={},h=[{value:"CDN Test",id:"cdn-test",level:2},{value:"esm.sh",id:"esmsh",level:2},{value:"jsdelivr vs. unpkg",id:"jsdelivr-vs-unpkg",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"cdn",children:"CDN"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"cdn"}),(0,t.jsx)(n.th,{children:"import"}),(0,t.jsx)(n.th,{children:"github"}),(0,t.jsx)(n.th,{children:"cjs -> esm"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Skypack"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://cdn.skypack.dev/",children:"https://cdn.skypack.dev/"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"\u2705"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://esm.sh/",children:"esm.sh"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://esm.sh/",children:"https://esm.sh/"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/esm-dev/esm.sh",children:"esm-dev/esm.sh"})}),(0,t.jsx)(n.td,{children:"\u2705"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/notes/web/jsdelivr",children:"jsDelivr"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://cdn.jsdelivr.net/npm/",children:"https://cdn.jsdelivr.net/npm/"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"\u274c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/notes/web/jspm",children:"JSPM"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://ga.jspm.io/npm:pkg@x.y.z/",children:"https://ga.jspm.io/npm:pkg@x.y.z/"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/jspm/project",children:"jspm/project"})}),(0,t.jsx)(n.td,{children:"\u274c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"unpkg"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://unpkg.com/$%7BPKG%7D?module",children:"https://unpkg.com/${PKG}?module"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"https://github.com/mjackson/unpkg",children:"mjackson/unpkg"})}),(0,t.jsx)(n.td,{children:"\u274c"})]})]})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["jsDelivr\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5546\u4e1a\u5316\u3001\u529f\u80fd\u591a\u901f\u5ea6\u5feb"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["JSPM\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u57fa\u4e8e rollup"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\u652f\u6301 systemjs"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["jsdelivr \u63d0\u4f9b esm.run \u522b\u540d\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://esm.run/react",children:"https://esm.run/react"})," -> ",(0,t.jsx)(n.a,{href:"https://cdn.jsdelivr.net/npm/react/+esm",children:"https://cdn.jsdelivr.net/npm/react/+esm"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["unpkg\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5f88\u4e45\u6ca1\u66f4\u65b0\u7ef4\u62a4\u4e86"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["esm.sh\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MIT, Golang"}),"\n",(0,t.jsx)(n.li,{children:"\u57fa\u4e8e esbuild - \u4e0d\u652f\u6301 systemjs"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"skypack - ESM"}),"\n",(0,t.jsx)(n.li,{children:"BootstrapCDN"}),"\n",(0,t.jsxs)(n.li,{children:["cdnjs\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u52a0\u5165 CDN \u9700\u8981\u7533\u8bf7"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/cdnjs/cdnjs",children:"cdnjs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://cdnjs.cloudflare.com",children:"https://cdnjs.cloudflare.com"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"cdn-test",children:"CDN Test"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://esm.run/react@17",children:"https://esm.run/react@17"})," -> ",(0,t.jsx)(n.a,{href:"https://cdn.jsdelivr.net/npm/react@17/+esm",children:"https://cdn.jsdelivr.net/npm/react@17/+esm"})," - \u4f9d\u7136\u662f CJS"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'for i in $(seq 3); do\n\n  rm bench-*.txt\n  for i in $(seq 10); do\n    curl -o /dev/null -s -w "%{time_total}\\n" https://cdn.skypack.dev/react@17 >> bench-a.txt\n    curl -o /dev/null -s -w "%{time_total}\\n" https://cdn.jsdelivr.net/npm/react@17/+esm >> bench-b.txt\n    curl -o /dev/null -s -w "%{time_total}\\n" https://esm.sh/react@17 >> bench-c.txt\n  done\n  for i in bench-*.txt; do\n    echo $i\n    awk \'{ total += $1; count++ } END { print total/count }\' $i\n  done\n\ndone\n'})}),"\n",(0,t.jsx)(n.h2,{id:"esmsh",children:"esm.sh"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u53ef\u4ee5 Selfhosted"}),"\n",(0,t.jsx)(n.li,{children:"\u4e3b\u670d\u52a1\u5668\u5728 HK"}),"\n",(0,t.jsx)(n.li,{children:"\u57fa\u4e8e esbuild \u6784\u5efa"}),"\n",(0,t.jsx)(n.li,{children:"cjs -> esm \u4f7f\u7528 swc"}),"\n",(0,t.jsxs)(n.li,{children:["\u652f\u6301 X-Typescript-Types \u5934 - demo \u7c7b\u578b\u68c0\u6d4b\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"?no-check"})," \u7981\u7528"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import React from 'https://esm.sh/react@17';\n// \u975e\u6a21\u5757\u6587\u4ef6\nimport 'https://esm.sh/tailwindcss/dist/tailwind.min.css';\n// bundle \u6a21\u5f0f\nimport {Button} from 'https://esm.sh/antd?bundle';\n// \u5f00\u53d1\u6a21\u5f0f\nimport React from 'https://esm.sh/react?dev';\n// \u4f9d\u8d56\u63a7\u5236\nimport React from 'https://esm.sh/react@16.14.0';\nimport useSWR from 'https://esm.sh/swr?deps=react@16.14.0';\n// \u522b\u540d\nimport useSWR from 'https://esm.sh/swr?alias=react:preact/compat&deps=preact@10.5.14';\n// \u76ee\u6807\u7248\u672c - \u9ed8\u8ba4\u57fa\u4e8e header \u5224\u65ad\nimport React from 'https://esm.sh/react?target=es2020';\n// WebWorker\nimport editorWorker from '/monaco-editor/esm/vs/editor/editor.worker?worker';\nconst worker = new editorWorker();\n"})}),"\n",(0,t.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(n.h2,{id:"jsdelivr-vs-unpkg",children:"jsdelivr vs. unpkg"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["unpkg\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6162"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["jsdelivr\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u56fd\u5185\u66f4\u5feb\uff0c\u6709 ICP \u5907\u6848"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.jsdelivr.com/unpkg",children:"unpkg to jsdelivr"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://w3techs.com/technologies/comparison/cd-jsdelivr,cd-unpkg",children:"Comparison of the usage statistics of jsDelivr vs. unpkg for websites"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://w3techs.com/technologies/reportlist/content_delivery",children:"https://w3techs.com/technologies/reportlist/content_delivery"})}),"\n"]}),"\n"]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},3354:(e,n,s)=>{var t=s(50959),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,n,s){var t,i={},h=null,o=null;for(t in void 0!==s&&(h=""+s),void 0!==n.key&&(h=""+n.key),void 0!==n.ref&&(o=n.ref),n)l.call(n,t)&&!d.hasOwnProperty(t)&&(i[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===i[t]&&(i[t]=n[t]);return{$$typeof:r,type:e,key:h,ref:o,props:i,_owner:c.current}}n.Fragment=i,n.jsx=h,n.jsxs=h},11527:(e,n,s)=>{e.exports=s(3354)},47214:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>l});var t=s(50959);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);