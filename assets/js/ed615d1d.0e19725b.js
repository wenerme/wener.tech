/*! For license information please see ed615d1d.0e19725b.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[54668],{28300:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>c});var s=t(2488),r=t(62780);const a={title:"Kubernates \u9762\u677f"},o="Kubernates \u9762\u677f",d={id:"devops/kubernetes/k8s-dashboard",title:"Kubernates \u9762\u677f",description:"- kubernetes/dashboard",source:"@site/../notes/devops/kubernetes/k8s-dashboard.md",sourceDirName:"devops/kubernetes",slug:"/devops/kubernetes/dashboard",permalink:"/notes/devops/kubernetes/dashboard",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/kubernetes/k8s-dashboard.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1637655206,formattedLastUpdatedAt:"Nov 23, 2021",frontMatter:{title:"Kubernates \u9762\u677f"},sidebar:"docs",previous:{title:"K8S Awesome",permalink:"/notes/devops/kubernetes/awesome"},next:{title:"K8S \u5e38\u89c1\u95ee\u9898",permalink:"/notes/devops/kubernetes/faq"}},i={},c=[{value:"TLS",id:"tls",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,r.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"kubernates-\u9762\u677f",children:"Kubernates \u9762\u677f"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/kubernetes/dashboard",children:"kubernetes/dashboard"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u975e\u5e38\u7b80\u6d01\u7684 UI \u9762\u677f"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/",children:"Web UI (Dashboard)"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# HELM \u5b89\u88c5\u53c2\u8003\n# ==========\n# https://hub.helm.sh/charts/k8s-dashboard/kubernetes-dashboard\nhelm repo add kubernetes-dashboard https://kubernetes.github.io/dashboard/\n# \u9ed8\u8ba4\u4e0d\u4f1a\u5b89\u88c5 metric scraper\nhelm install kubernetes-dashboard/kubernetes-dashboard --name kubernetes-dashboard --namespace kubernetes-dashboard\n\n# \u624b\u52a8\u5b89\u88c5\n# ==========\n# \u5b89\u88c5\u6700\u65b0\u53d1\u5e03\u7248\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/$(curl -Ls https://api.github.com/repos/kubernetes/dashboard/releases/latest | jq -r .tag_name)/aio/deploy/recommended.yaml\n\n# \u521b\u5efa\u7ba1\u7406\u5458\u7ea7\u522b\u8d26\u53f7\ncat <<YAML | kubectl apply -f -\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\nYAML\n\n# \u83b7\u53d6 Token\nkubectl -n kubernetes-dashboard describe secret admin-user-token |grep ^token\n# \u5982\u679c\u662f macos \u5219\u53ef\u4ee5\u5b89\u88c5 yq \u7136\u540e\u76f4\u63a5\u590d\u5236\n# kubectl -n kubernetes-dashboard describe secret admin-user-token |grep ^token | yq r - 'token' | pbcopy\n\n# \u5f00\u542f\u4ee3\u7406\nkubectl proxy\n# \u8bbf\u95ee\n# http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:https/proxy/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tls",children:"TLS"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/kubernetes/dashboard/blob/master/docs/user/certificate-management.md",children:"Certificate management"})}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"'--tls-cert-file=/tls.crt'"}),"\n",(0,s.jsx)(n.li,{children:"'--tls-key-file=/tls.key'"}),"\n",(0,s.jsx)(n.li,{children:"'--auto-generate-certificates'"}),"\n",(0,s.jsx)(n.li,{children:"'--namespace=kubernetes-dashboard'"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},38088:(e,n,t)=>{var s=t(96651),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var s,a={},c=null,l=null;for(s in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(l=n.ref),n)o.call(n,s)&&!i.hasOwnProperty(s)&&(a[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===a[s]&&(a[s]=n[s]);return{$$typeof:r,type:e,key:c,ref:l,props:a,_owner:d.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},2488:(e,n,t)=>{e.exports=t(38088)},62780:(e,n,t)=>{t.d(n,{I:()=>d,M:()=>o});var s=t(96651);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);