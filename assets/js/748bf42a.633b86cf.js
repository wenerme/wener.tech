/*! For license information please see 748bf42a.633b86cf.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[43228],{96008:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>j,frontMatter:()=>d,metadata:()=>l,toc:()=>a});var t=s(2488),r=s(62780);const d={tags:["Configuration"]},i="Strapi Conf",l={id:"service/cms/strapi/strapi-conf",title:"Strapi Conf",description:"| env                                        | default      | note",source:"@site/../notes/service/cms/strapi/strapi-conf.md",sourceDirName:"service/cms/strapi",slug:"/service/cms/strapi/conf",permalink:"/notes/service/cms/strapi/conf",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/cms/strapi/strapi-conf.md",tags:[{label:"Configuration",permalink:"/notes/tags/configuration"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1709090151,formattedLastUpdatedAt:"Feb 28, 2024",frontMatter:{tags:["Configuration"]},sidebar:"docs",previous:{title:"Strapi",permalink:"/notes/service/cms/strapi/"},next:{title:"Strapi DEV",permalink:"/notes/service/cms/strapi/dev"}},c={},a=[];function o(n){const e={a:"a",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.M)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"strapi-conf",children:"Strapi Conf"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"env"}),(0,t.jsx)(e.th,{children:"default"}),(0,t.jsx)(e.th,{children:"note"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"ADMIN_PATH"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_ADMIN_BACKEND_URL"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_TELEMETRY_DISABLED"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_DISABLE_UPDATE_NOTIFICATION"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_HIDE_STARTUP_MESSAGE"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_DISABLE_REMOTE_DATA_TRANSFER"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_LICENSE"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_PLUGIN_I18N_INIT_LOCALE_CODE"}),(0,t.jsx)(e.td,{children:"en"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"STRAPI_ENFORCE_SOURCEMAPS"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"FAST_REFRESH"}),(0,t.jsx)(e.td,{children:"true"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"BROWSER"}),(0,t.jsx)(e.td,{children:"true"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"NODE_ENV"}),(0,t.jsx)(e.td,{children:"development"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"ENV_PATH"}),(0,t.jsx)(e.td,{children:"./.env"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"JWT_SECRET"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"HOST"}),(0,t.jsx)(e.td,{children:"0.0.0.0"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PORT"}),(0,t.jsx)(e.td,{children:"1337"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"APP_KEYS"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"API_TOKEN_SALT"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"ADMIN_JWT_SECRET"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"TRANSFER_TOKEN_SALT"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_CLIENT"}),(0,t.jsx)(e.td,{children:"sqlite"}),(0,t.jsx)(e.td,{children:"mysql,mysql2,postgres,sqlite"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_FILENAME"}),(0,t.jsx)(e.td,{children:".tmp/data.db"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_URL"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_HOST"}),(0,t.jsx)(e.td,{children:"localhost"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_PORT"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_NAME"}),(0,t.jsx)(e.td,{children:"strapi"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_USERNAME"}),(0,t.jsx)(e.td,{children:"strapi"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_PASSWORD"}),(0,t.jsx)(e.td,{children:"strapi"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_SSL"}),(0,t.jsx)(e.td,{children:"false"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"DATABASE_SSL_{KEY,CERT,CA,CAPATH,CIPHER}"})}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_SSL_REJECT_UNAUTHORIZED"}),(0,t.jsx)(e.td,{children:"true"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_CONNECTION_TIMEOUT"}),(0,t.jsx)(e.td,{children:"60000"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_POOL_MIN"}),(0,t.jsx)(e.td,{children:"2"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_POOL_MAX"}),(0,t.jsx)(e.td,{children:"10"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DATABASE_SCHEMA"}),(0,t.jsx)(e.td,{children:"public"}),(0,t.jsx)(e.td,{})]})]})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ini",children:"STRAPI_TELEMETRY_DISABLED=true\nSTRAPI_DISABLE_UPDATE_NOTIFICATION=true\nSTRAPI_HIDE_STARTUP_MESSAGE=true\nSTRAPI_PLUGIN_I18N_INIT_LOCALE_CODE=zh\nFLAG_PROMOTE_EE=false\nFLAG_NPS=false\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"NPS - Net Promoter Score - \u51c0\u63a8\u8350\u5f97\u5206"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4e00\u79cd\u8861\u91cf\u987e\u5ba2\u5fe0\u8bda\u5ea6\u548c\u987e\u5ba2\u6ee1\u610f\u5ea6\u7684\u7ba1\u7406\u5de5\u5177\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u8be2\u95ee\u987e\u5ba2\u4e00\u4e2a\u7b80\u5355\u7684\u95ee\u9898 \u2014\u2014 \u4ed6\u4eec\u6709\u591a\u5927\u53ef\u80fd\u6027\u4f1a\u5411\u670b\u53cb\u6216\u540c\u4e8b\u63a8\u8350\u8be5\u4ea7\u54c1\u6216\u670d\u52a1 \u2014\u2014 \u6765\u8ba1\u7b97\u5f97\u51fa\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u987e\u5ba2\u7684\u56de\u7b54\u8303\u56f4\u901a\u5e38\u662f0\u523010\uff0c\u57fa\u4e8e\u8fd9\u4e2a\u5f97\u5206\uff0c\u987e\u5ba2\u88ab\u5206\u7c7b\u4e3a\u63a8\u8350\u8005\uff08Promoters\uff09\u3001\u4e2d\u6027\uff08Passives\uff09\u6216\u6279\u8bc4\u8005\uff08Detractors\uff09\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://docs.strapi.io/dev-docs/configurations/environment/",children:"https://docs.strapi.io/dev-docs/configurations/environment/"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="src/admin/app.js"',children:"export default {\n  config: {\n    // en \u4e0d\u53ef\u4ee5\u79fb\u9664\uff0c\u4f1a\u4f5c\u4e3a\u7b2c\u4e00\u6b21\u6253\u5f00\u65f6\u7684\u9ed8\u8ba4\u8bed\u8a00\n    // @strapi/admin/admin/src/translations/[language-name].json\n    // localStorage['strapi-admin-language']\n    // https://github.com/strapi/strapi/blob/v4.0.0/packages/plugins/i18n/server/constants/iso-locales.json\n    locales: ['zh-Hans', 'en'],\n    // \u81ea\u5b9a\u4e49\u7ffb\u8bd1\n    translations: {\n      fr: {\n        'Auth.form.email.label': 'test',\n        Users: 'Utilisateurs',\n        City: 'CITY (FRENCH)',\n        // Customize the label of the Content Manager table.\n        Id: 'ID french',\n      },\n    },\n  },\n  bootstrap() {},\n};\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.strapi.io/developer-docs/latest/development/admin-customization.html",children:"https://docs.strapi.io/developer-docs/latest/development/admin-customization.html"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.strapi.io/developer-docs/latest/setup-deployment-guides/configurations/required/server.html",children:"https://docs.strapi.io/developer-docs/latest/setup-deployment-guides/configurations/required/server.html"})}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="./config/server.js"',children:"module.exports = ({ env }) => ({\n  host: env('HOST', '0.0.0.0'),\n  port: env.int('PORT', 1337),\n  app: {\n    keys: env.array('APP_KEYS'),\n  },\n  // \u914d\u7f6e\u540e url \u4f1a\u8fd4\u56de\u5b8c\u6574\u8def\u5f84 - \u6d89\u53ca\u5230\u7b2c\u4e09\u65b9\u65f6\u53ef\u80fd\u8981\u6c42\u5fc5\u987b\u914d\u7f6e - \u4f8b\u5982 \u56de\u8c03\n  // build \u662f\u4f1a\u5199\u5165\u5230 js \u4e2d\uff0c\u65e0\u6cd5\u542f\u52a8\u4fee\u6539\n  // STRAPI_ADMIN_BACKEND_URL\n  url: env('WEBSITE', 'http://127.0.0.1:1337'),\n  // \u662f\u5426\u4fe1\u4efb proxy \u5934\n  proxy: false,\n  emitErrors: false,\n  socket: '/tmp/nginx.socket',\n  cron: {\n    enabled: false,\n    tasks: {},\n  },\n  dir: {\n    public: './public',\n  },\n});\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="./config/admin.js"',children:"module.exports = ({ env }) => ({\n  // \u540e\u53f0\u8def\u5f84\n  url: '/admin',\n});\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'tiitle="./config/plugins.js"',children:"export default {\n  //\n  graphql: {\n    config: {\n      endpoint: '/graphql',\n      shadowCRUD: true,\n      playgroundAlways: false,\n      depthLimit: 7,\n      amountLimit: 100,\n      apolloServer: {\n        tracing: false,\n      },\n    },\n  },\n};\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# ADMIN \u540e\u53f0\u8def\u5f84 server.url\n# \u4e0d\u914d\u7f6e\u4e3a\u7a7a\negrep -o 'STRAPI_ADMIN_BACKEND_URL[^}]+' build/*.js\n"})})]})}function j(n={}){const{wrapper:e}={...(0,r.M)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},38088:(n,e,s)=>{var t=s(96651),r=Symbol.for("react.element"),d=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(n,e,s){var t,d={},a=null,o=null;for(t in void 0!==s&&(a=""+s),void 0!==e.key&&(a=""+e.key),void 0!==e.ref&&(o=e.ref),e)i.call(e,t)&&!c.hasOwnProperty(t)&&(d[t]=e[t]);if(n&&n.defaultProps)for(t in e=n.defaultProps)void 0===d[t]&&(d[t]=e[t]);return{$$typeof:r,type:n,key:a,ref:o,props:d,_owner:l.current}}e.Fragment=d,e.jsx=a,e.jsxs=a},2488:(n,e,s)=>{n.exports=s(38088)},62780:(n,e,s)=>{s.d(e,{I:()=>l,M:()=>i});var t=s(96651);const r={},d=t.createContext(r);function i(n){const e=t.useContext(d);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(d.Provider,{value:e},n.children)}}}]);