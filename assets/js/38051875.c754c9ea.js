/*! For license information please see 38051875.c754c9ea.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[20788],{50628:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var s=t(11527),o=t(47214);const r={title:"Go WASM"},a="Go WASM",i={id:"languages/go/go-wasm",title:"Go WASM",description:"- Go WebAssembly",source:"@site/../notes/languages/go/go-wasm.md",sourceDirName:"languages/go",slug:"/languages/go/wasm",permalink:"/notes/languages/go/wasm",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/go/go-wasm.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1631511501,formattedLastUpdatedAt:"Sep 13, 2021",frontMatter:{title:"Go WASM"},sidebar:"docs",previous:{title:"Go Version",permalink:"/notes/languages/go/version"},next:{title:"Golang Windows",permalink:"/notes/languages/go/windows"}},c={},l=[];function m(e){const n={a:"a",code:"code",h1:"h1",li:"li",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"go-wasm",children:"Go WASM"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Go ",(0,s.jsx)(n.a,{href:"https://github.com/golang/go/wiki/WebAssembly",children:"WebAssembly"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/tinygo-org/tinygo",children:"tinygo-org/tinygo"})," - \u53ef\u7528\u4e8e\u751f\u6210\u66f4\u5c0f\u7684 wasm"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u6d4b\u8bd5\u5e94\u7528\ncat <<GO > main.go\npackage main\nimport "fmt"\n\nfunc main() {\n\tfmt.Println("Hello, WebAssembly!")\n}\nGO\n# \u7f16\u8bd1 - \u7ea6 2.2m\nGOOS=js GOARCH=wasm go build -o main.wasm\n\n# \u524d\u7aef\u4f7f\u7528\u7684\u6267\u884c JS\ncp "$(go env GOROOT)/misc/wasm/wasm_exec.js" .\n\ncat <<HTML > index.html\n<html>\n\t<head>\n\t\t<meta charset="utf-8"/>\n    \x3c!-- go env \u4e0b\u7684 exec --\x3e\n\t\t<script src="wasm_exec.js"><\/script>\n\t\t<script>\n\t\t\tconst go = new Go();\n\t\t\tWebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) => {\n\t\t\t\tgo.run(result.instance);\n\t\t\t});\n\t\t<\/script>\n\t</head>\n\t<body></body>\n</html>\nHTML\n\n# NodeJS \u6267\u884c\nGOOS=js GOARCH=wasm go run -exec="$(go env GOROOT)/misc/wasm/go_js_wasm_exec" .\n# \u8fd0\u884c\u6d4b\u8bd5\nGOOS=js GOARCH=wasm go test -exec="$(go env GOROOT)/misc/wasm/go_js_wasm_exec" .\n\n# \u5c06 go_js_wasm_exec \u6dfb\u52a0\u5230 PATH \u5219\u53ef\u4ee5\u76f4\u63a5 run\nexport PATH="$PATH:$(go env GOROOT)/misc/wasm"\nGOOS=js GOARCH=wasm go run .\nGOOS=js GOARCH=wasm go test .\n'})})]})}function g(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},3354:(e,n,t)=>{var s=t(50959),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,t){var s,r={},l=null,m=null;for(s in void 0!==t&&(l=""+t),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(m=n.ref),n)a.call(n,s)&&!c.hasOwnProperty(s)&&(r[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===r[s]&&(r[s]=n[s]);return{$$typeof:o,type:e,key:l,ref:m,props:r,_owner:i.current}}n.Fragment=r,n.jsx=l,n.jsxs=l},11527:(e,n,t)=>{e.exports=t(3354)},47214:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>a});var s=t(50959);const o={},r=s.createContext(o);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);