/*! For license information please see 39d183c6.7c8244e2.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[70831],{54688:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>o});var s=i(11527),r=i(47214);const t={title:"Jenkins"},l="Jenkins",d={id:"service/forge/jenkins/README",title:"Jenkins",description:"- jenkinsci/jenkins",source:"@site/../notes/service/forge/jenkins/README.md",sourceDirName:"service/forge/jenkins",slug:"/service/forge/jenkins/",permalink:"/notes/service/forge/jenkins/",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/forge/jenkins/README.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1681042995,formattedLastUpdatedAt:"Apr 9, 2023",frontMatter:{title:"Jenkins"},sidebar:"docs",previous:{title:"goproxy",permalink:"/notes/service/forge/goproxy"},next:{title:"Jenkins FAQ",permalink:"/notes/service/forge/jenkins/faq"}},c={},o=[{value:"Docker",id:"docker",level:2},{value:"jenkins/ssh-agent",id:"jenkinsssh-agent",level:2},{value:"Failed to dynamically deploy this plugin",id:"failed-to-dynamically-deploy-this-plugin",level:2},{value:"System Properties",id:"system-properties",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"jenkins",children:"Jenkins"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/jenkinsci/jenkins",children:"jenkinsci/jenkins"})}),"\n",(0,s.jsxs)(e.li,{children:["\u7cfb\u7edf\u8981\u6c42\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"4GB+ \u5185\u5b58"}),"\n",(0,s.jsx)(e.li,{children:"50GB+ \u78c1\u76d8"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"docker",children:"Docker"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/jenkinsci/docker",children:"jenkinsci/docker"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["jenkins/jenkins\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["lts-alpine\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u53ea\u6709 amd64"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["lts-jdk11\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"debian"}),"\n",(0,s.jsx)(e.li,{children:"amd64, arm64"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"lts-jdk17"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"/var/jenkins_home"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["50000\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"agent"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run --rm -it \\\n  -v $PWD/data:/var/jenkins_home \\\n  -p 8080:8080 -p 50000:50000 \\\n  --name jenkins jenkins/jenkins:lts-jdk11\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"/var/jenkins_home/secrets/initialAdminPassword"}),"\n",(0,s.jsxs)(e.li,{children:["\u9ed8\u8ba4\u63d2\u4ef6\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Folders"}),"\n",(0,s.jsx)(e.li,{children:"OWASP Markup Formatter"}),"\n",(0,s.jsx)(e.li,{children:"Build Timeout"}),"\n",(0,s.jsx)(e.li,{children:"Credentials Binding"}),"\n",(0,s.jsx)(e.li,{children:"Timestamper"}),"\n",(0,s.jsx)(e.li,{children:"Workspace Cleanup"}),"\n",(0,s.jsx)(e.li,{children:"Ant"}),"\n",(0,s.jsx)(e.li,{children:"Gradle"}),"\n",(0,s.jsx)(e.li,{children:"Pipeline"}),"\n",(0,s.jsx)(e.li,{children:"GitHub Branch Source"}),"\n",(0,s.jsx)(e.li,{children:"Pipeline: GitHub Groovy Libraries"}),"\n",(0,s.jsx)(e.li,{children:"Pipeline: Stage View"}),"\n",(0,s.jsx)(e.li,{children:"Git"}),"\n",(0,s.jsx)(e.li,{children:"SSH Build Agents"}),"\n",(0,s.jsx)(e.li,{children:"Matrix Authorization Strategy"}),"\n",(0,s.jsx)(e.li,{children:"PAM Authentication"}),"\n",(0,s.jsx)(e.li,{children:"LDAP"}),"\n",(0,s.jsx)(e.li,{children:"Email Extension"}),"\n",(0,s.jsx)(e.li,{children:"Mailer"}),"\n",(0,s.jsx)(e.li,{children:"Localization: Chinese (Simplified)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"jenkinsssh-agent",children:"jenkins/ssh-agent"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run --rm -it \\\n  jenkins/ssh-agent:4.13.0-alpine-jdk17\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["alpine\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"based on adoptopenjdk/openjdk"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"JENKINS_AGENT_SSH_PUBKEY"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://plugins.jenkins.io/ssh-slaves/",children:"SSH Build Agents"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.jenkins.io/doc/book/using/using-agents/#configuring-agents-with-docker",children:"https://www.jenkins.io/doc/book/using/using-agents/#configuring-agents-with-docker"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"failed-to-dynamically-deploy-this-plugin",children:"Failed to dynamically deploy this plugin"}),"\n",(0,s.jsx)(e.p,{children:"\u4e0b\u8f7d\u5931\u8d25"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://updates.jenkins-ci.org/download/plugins/",children:"https://updates.jenkins-ci.org/download/plugins/"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"system-properties",children:"System Properties"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ini",children:'jenkins.install.runSetupWizard=true\n# $JENKINS_HOME/secrets/initialAdminApiToken\n# "TOKEN" - `echo "11$(openssl rand -hex 16)"`\n# "@file"\njenkins.install.SetupWizard.adminInitialApiToken=true\n\nJENKINS_HOME=~/.jenkins\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://archives.jenkins.io/status.html",children:"https://archives.jenkins.io/status.html"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/jenkins/",children:"https://mirrors.tuna.tsinghua.edu.cn/jenkins/"})}),"\n",(0,s.jsx)(e.li,{children:"mirror.xmission.com"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.jenkins.io/doc/book/managing/system-properties/",children:"https://www.jenkins.io/doc/book/managing/system-properties/"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://get.jenkins.io/plugins/",children:"https://get.jenkins.io/plugins/"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"JENKINS_UC=https://updates.jenkins.io/update-center.json\nJENKINS_UC_EXPERIMENTAL=https://updates.jenkins.io/experimental/update-center.json\nJENKINS_INCREMENTALS_REPO_MIRROR=https://repo.jenkins-ci.org/incrementals\nJENKINS_UC_DOWNLOAD=$JENKINS_UC/download\n\nJENKINS_PLUGIN_INFO=https://updates.jenkins.io/plugin-versions.json\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"export JENKINS_UC=https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json\nexport JENKINS_UC_DOWNLOAD=https://mirrors.tuna.tsinghua.edu.cn/jenkins/\njenkins-plugin-cli --verbose -d $JENKINS_HOME/plugins/ --plugins cloudbees-folder\n\njenkins-plugin-cli -d $JENKINS_HOME/plugins/ --plugins cloudbees-folder antisamy-markup-formatter build-timeout credentials-binding timestamper ws-cleanup ant gradle workflow-aggregator github-branch-source pipeline-github-lib pipeline-stage-view git ssh-slaves matrix-auth pam-auth ldap email-ext mailer locale msbuild\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://updates.jenkins.io/plugin-versions.json",children:"https://updates.jenkins.io/plugin-versions.json"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"http://mirror.esuni.jp/jenkins/updates/update-center.json\nhttps://updates.jenkins-zh.cn/update-center.json\nhttps://jenkins-zh.gitee.io/update-center-mirror/tsinghua/current/update-center.json\nhttp://mirror.xmission.com/jenkins/updates/update-center.json\nhttp://updates.jenkins-ci.org/update-center.json\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/lework/jenkins-update-center",children:"https://github.com/lework/jenkins-update-center"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"http://mirrors.jenkins-ci.org/status.html",children:"http://mirrors.jenkins-ci.org/status.html"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://updates.jenkins.io/",children:"https://updates.jenkins.io/"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},3354:(n,e,i)=>{var s=i(50959),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(n,e,i){var s,t={},o=null,a=null;for(s in void 0!==i&&(o=""+i),void 0!==e.key&&(o=""+e.key),void 0!==e.ref&&(a=e.ref),e)l.call(e,s)&&!c.hasOwnProperty(s)&&(t[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps)void 0===t[s]&&(t[s]=e[s]);return{$$typeof:r,type:n,key:o,ref:a,props:t,_owner:d.current}}e.Fragment=t,e.jsx=o,e.jsxs=o},11527:(n,e,i)=>{n.exports=i(3354)},47214:(n,e,i)=>{i.d(e,{Z:()=>d,a:()=>l});var s=i(50959);const r={},t=s.createContext(r);function l(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);