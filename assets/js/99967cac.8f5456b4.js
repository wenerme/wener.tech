/*! For license information please see 99967cac.8f5456b4.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[90514],{78420:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var r=n(11527),s=n(47214);const i={title:"Metrics"},c="Metrics",l={id:"devops/kubernetes/internal/k8s-metrics",title:"Metrics",description:"|                                           metric | for                 |",source:"@site/../notes/devops/kubernetes/internal/k8s-metrics.md",sourceDirName:"devops/kubernetes/internal",slug:"/devops/kubernetes/internal/k8s-metrics",permalink:"/notes/devops/kubernetes/internal/k8s-metrics",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/kubernetes/internal/k8s-metrics.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1691332314,formattedLastUpdatedAt:"Aug 6, 2023",frontMatter:{title:"Metrics"},sidebar:"docs",previous:{title:"Kubernetes \u6807\u7b7e",permalink:"/notes/devops/kubernetes/internal/k8s-labels"},next:{title:"Kubernetes \u8c03\u5ea6",permalink:"/notes/devops/kubernetes/internal/k8s-scheduling"}},d={},o=[];function a(e){const t={a:"a",code:"code",h1:"h1",li:"li",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"metrics",children:"Metrics"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'# \u6392\u67e5 Namespace \u6d41\u91cf\nsum(rate(container_network_transmit_bytes_total{}[5m])) by (namespace)\n\n# \u8282\u70b9\u7f51\u7edc\nsum(rate(node_network_transmit_bytes_total{}[$__rate_interval]))\n\nsum(rate(container_cpu_usage_seconds_total{container="apisix"}[$__rate_interval]))\n\nsum(container_memory_working_set_bytes{namespace="haproxy-controller",container="haproxytech-ingress-controller"})\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"right"},children:"metric"}),(0,r.jsx)(t.th,{children:"for"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:(0,r.jsx)(t.strong,{children:"CPU"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_cpu_user_seconds_total"}),(0,r.jsx)(t.td,{children:"cpu user"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_cpu_system_seconds_total"}),(0,r.jsx)(t.td,{children:"cpu sys"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_cpu_usage_seconds_total"}),(0,r.jsx)(t.td,{children:"cpu total"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:(0,r.jsx)(t.strong,{children:"Memory"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_cache"}),(0,r.jsx)(t.td,{children:"mem cache"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_rss"}),(0,r.jsx)(t.td,{children:"mem rss"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_swap"}),(0,r.jsx)(t.td,{children:"mem swap"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_usage_bytes"}),(0,r.jsx)(t.td,{children:"mem usage"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_working_set_bytes"}),(0,r.jsx)(t.td,{children:"mem working set"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_max_usage_bytes"}),(0,r.jsx)(t.td,{children:"mem max usage"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_failcnt"}),(0,r.jsx)(t.td,{children:"mem failed"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_memory_failures_total"}),(0,r.jsx)(t.td,{children:"allocation failures"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"kube_pod_container_resource_limits_memory_bytes"}),(0,r.jsx)(t.td,{children:"mem limit"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:(0,r.jsx)(t.strong,{children:"IO"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_fs_io_time_seconds_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_fs_io_time_weighted_seconds_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_fs_writes_bytes_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_fs_reads_bytes_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:(0,r.jsx)(t.strong,{children:"Network"})}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_network_receive_bytes_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_network_transmit_bytes_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_network_receive_packets_dropped_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_network_transmit_packets_dropped_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_network_receive_errors_total"}),(0,r.jsx)(t.td,{})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"container_network_transmit_errors_total"}),(0,r.jsx)(t.td,{})]})]})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://blog.freshtracks.io/a-deep-dive-into-kubernetes-metrics-part-3-container-resource-metrics-361c5ee46e66",children:"https://blog.freshtracks.io/a-deep-dive-into-kubernetes-metrics-part-3-container-resource-metrics-361c5ee46e66"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/google/cadvisor",children:"google/cadvisor"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/",children:"https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://kubernetes.io/docs/reference/instrumentation/metrics/",children:"https://kubernetes.io/docs/reference/instrumentation/metrics/"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/kubernetes/kube-state-metrics",children:"kubernetes/kube-state-metrics"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/lensapp/lens/blob/4ab97d2372874d053f1eb607432d21e8e632095f/packages/technical-features/prometheus/src/operator-provider.injectable.ts.ts",children:"https://github.com/lensapp/lens/blob/4ab97d2372874d053f1eb607432d21e8e632095f/packages/technical-features/prometheus/src/operator-provider.injectable.ts.ts"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},3354:(e,t,n)=>{var r=n(50959),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)c.call(t,r)&&!d.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:l.current}}t.Fragment=i,t.jsx=o,t.jsxs=o},11527:(e,t,n)=>{e.exports=n(3354)},47214:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>c});var r=n(50959);const s={},i=r.createContext(s);function c(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);