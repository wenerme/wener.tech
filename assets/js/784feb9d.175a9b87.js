/*! For license information please see 784feb9d.175a9b87.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[36896],{70108:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>f,frontMatter:()=>n,metadata:()=>a,toc:()=>c});var i=r(2488),s=r(62780);const n={title:"virtio-fs"},o="virtio-fs",a={id:"os/virt/virtiofs",title:"virtio-fs",description:"- virtio-fs - A Shared File System for Virtual Machines",source:"@site/../notes/os/virt/virtiofs.md",sourceDirName:"os/virt",slug:"/os/virt/virtiofs",permalink:"/notes/os/virt/virtiofs",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/virt/virtiofs.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1634945411,formattedLastUpdatedAt:"Oct 22, 2021",frontMatter:{title:"virtio-fs"},sidebar:"docs",previous:{title:"Virtio",permalink:"/notes/os/virt/virtio"},next:{title:"VmWare",permalink:"/notes/os/virt/vmware"}},l={},c=[];function d(e){const t={a:"a",code:"code",h1:"h1",li:"li",pre:"pre",ul:"ul",...(0,s.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"virtio-fs",children:"virtio-fs"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://fosdem.org/2020/schedule/event/vai_virtio_fs/attachments/slides/3666/export/events/attachments/vai_virtio_fs/slides/3666/virtio_fs_A_Shared_File_System_for_Virtual_Machines_FOSDEM.pdf",children:"virtio-fs - A Shared File System for Virtual Machines"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"File System as a Service"}),"\n",(0,i.jsx)(t.li,{children:"Boot guest from directory on host"}),"\n",(0,i.jsx)(t.li,{children:"Linux FUSE as Protocol"}),"\n",(0,i.jsxs)(t.li,{children:["VIRTIO as Transport\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"shared memory resources"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["9p\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://www.linux-kvm.org/page/9p_virtio",children:"https://www.linux-kvm.org/page/9p_virtio"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://wiki.qemu.org/Documentation/9psetup",children:"https://wiki.qemu.org/Documentation/9psetup"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://kernel.taobao.org/2019/11/virtio-fs-intro-and-perf-optimize/",children:"https://kernel.taobao.org/2019/11/virtio-fs-intro-and-perf-optimize/"})}),"\n",(0,i.jsx)(t.li,{children:"\u4f7f\u7528 host \u4e0a overlayfs\uff0c\u80fd\u5145\u5206\u5229\u7528 host pagecache\uff1b\u90e8\u7f72\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u7ec4\u4ef6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"\x3c!-- libvirtd --\x3e\n<filesystem type='mount' accessmode='passthrough'>\n  <driver type='virtiofs'/>\n  <source dir='/var/www'/>\n  <target dir='website'/> \x3c!-- not treated as a path --\x3e\n</filesystem>\n"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"mount -t virtiofs website /var/www\n"})})]})}function f(e={}){const{wrapper:t}={...(0,s.M)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},38088:(e,t,r)=>{var i=r(96651),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var i,n={},c=null,d=null;for(i in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===n[i]&&(n[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:a.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},2488:(e,t,r)=>{e.exports=r(38088)},62780:(e,t,r)=>{r.d(t,{I:()=>a,M:()=>o});var i=r(96651);const s={},n=i.createContext(s);function o(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);