/*! For license information please see b257a5d1.5e8c514e.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[67041],{64908:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>x});var s=r(2488),l=r(62780);const d={title:"peggy"},t="peggy",i={id:"languages/parser/peggy",title:"peggy",description:"- peggyjs/peggy",source:"@site/../notes/languages/parser/peggy.md",sourceDirName:"languages/parser",slug:"/languages/parser/peggy",permalink:"/notes/languages/parser/peggy",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/parser/peggy.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1688206885,formattedLastUpdatedAt:"Jul 1, 2023",frontMatter:{title:"peggy"},sidebar:"docs",previous:{title:"PEG",permalink:"/notes/languages/parser/peg"},next:{title:"PEG.js",permalink:"/notes/languages/parser/pegjs"}},c={},x=[];function h(e){const n={a:"a",code:"code",h1:"h1",hr:"hr",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"peggy",children:"peggy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/peggyjs/peggy",children:"peggyjs/peggy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/notes/languages/parser/pegjs",children:"PEG.js"})," \u540e\u7ee7"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://peggyjs.org/online",children:"https://peggyjs.org/online"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/metadevpro/ts-pegjs",children:"metadevpro/ts-pegjs"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"TS code generation plugin for peggy"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["PEG.js \u4e4b\u540e\u65b0\u529f\u80fd\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Global Initializers ",(0,s.jsx)(n.code,{children:"{{}}"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5168\u5c40"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"{}"})," \u521d\u59cb\u5316\u662f\u6bcf\u6b21 parse \u90fd\u4f1a\u521b\u5efa - \u80fd\u8bbf\u95ee options"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["value plucking ",(0,s.jsx)(n.code,{children:"@"})]}),"\n",(0,s.jsx)(n.li,{children:"typescript"}),"\n",(0,s.jsx)(n.li,{children:"source maps"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["options\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"grammarSource"}),"\n",(0,s.jsx)(n.li,{children:"startRule"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"syntax"}),(0,s.jsx)(n.th,{children:"for"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:'"a"'}),",",(0,s.jsx)(n.code,{children:"'a'"})]}),(0,s.jsx)(n.td,{children:"\u5339\u914d a"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"'a'i"})}),(0,s.jsx)(n.td,{children:"\u5339\u914d a \u6216 A"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"."}),(0,s.jsx)(n.td,{children:"\u5339\u914d\u4efb\u610f"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"[ab]"})}),(0,s.jsx)(n.td,{children:"\u5339\u914d a \u6216 b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"<rule>"})}),(0,s.jsx)(n.td,{children:"\u5339\u914d rule"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(expr)"})}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"expr *"}),",",(0,s.jsx)(n.code,{children:"expr +"}),",",(0,s.jsx)(n.code,{children:"expr ?"})]}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"& expr"})}),(0,s.jsx)(n.td,{children:"lookahead"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"! expr"})}),(0,s.jsx)(n.td,{children:"negative lookahead"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"& { predicate }"})}),(0,s.jsx)(n.td,{children:"positive assertion - js \u811a\u672c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"! { predicate }"})}),(0,s.jsx)(n.td,{children:"negative assertion - js \u811a\u672c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"$ expr"})}),(0,s.jsxs)(n.td,{children:["\u5339\u914d\u8fd4\u56de ",(0,s.jsx)(n.code,{children:"text()"})," - \u8bed\u6cd5\u7cd6"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"label: expr"})}),(0,s.jsx)(n.td,{children:"\u5b9a\u4e49 label/\u53d8\u91cf"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"@(label:)? expr"})}),(0,s.jsx)(n.td,{children:"\u8fd4\u56de label \u4f5c\u4e3a\u5185\u5bb9 - pluck"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"expr1 expr2"})}),(0,s.jsx)(n.td,{children:"\u987a\u5e8f\u5339\u914d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"expr { action }"})}),(0,s.jsx)(n.td,{children:"\u6267\u884c\u811a\u672c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"expr1 / expr2"})}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"expression |count|\nexpression |min..max|\nexpression |count, delimiter|\nexpression |min..max, delimiter|\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"min,max,count \u53ef\u4ee5\u662f label/\u53d8\u91cf/code block"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pegjs",children:'start = "a"|{ return options.count; }|;\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pegjs",children:"// \u624b\u5199\nValues = next:(a:Value _ b:(_ ',' _ next:Value {return next})* ','? {return b?[a,...b]:a})? {return next || []}\n// repeat\nValues = next:(Value|..,\",\"|)  ','?  {return next || []}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Action Execution Environment\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"()"})," \u4f1a\u5f62\u6210\u53d8\u91cf\u4f5c\u7528\u57df"]}),"\n",(0,s.jsx)(n.li,{children:"input - parse \u53c2\u6570"}),"\n",(0,s.jsx)(n.li,{children:"options - parse \u53c2\u6570"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error(message,where=location())"})," - \u8fd4\u56de\u9519\u8bef"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"expected(message, where=location())"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"location()"})," - ",(0,s.jsx)(n.code,{children:"{source:options.grammarSource,start:{offset,line,column},end}"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"range()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"offset()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"text()"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-pegjs",children:'{{\n  // \u5168\u5c40\u521d\u59cb\u5316 - \u5b9a\u4e49\u7684\u65b9\u6cd5\u548c\u53d8\u91cf\u5168\u5c40\u6709\u6548\n}}\n\n{\n  // parser \u521d\u59cb\u5316\n}\n\nlist = head:word tail:(_ "," _ @word)* { return [head, ...tail]; }\nword = $[a-z]i+\n_ = [ \\t]*\n'})})]})}function o(e={}){const{wrapper:n}={...(0,l.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},38088:(e,n,r)=>{var s=r(96651),l=Symbol.for("react.element"),d=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function x(e,n,r){var s,d={},x=null,h=null;for(s in void 0!==r&&(x=""+r),void 0!==n.key&&(x=""+n.key),void 0!==n.ref&&(h=n.ref),n)t.call(n,s)&&!c.hasOwnProperty(s)&&(d[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===d[s]&&(d[s]=n[s]);return{$$typeof:l,type:e,key:x,ref:h,props:d,_owner:i.current}}n.Fragment=d,n.jsx=x,n.jsxs=x},2488:(e,n,r)=>{e.exports=r(38088)},62780:(e,n,r)=>{r.d(n,{I:()=>i,M:()=>t});var s=r(96651);const l={},d=s.createContext(l);function t(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);