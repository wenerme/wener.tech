"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[8826],{73624:function(n){n.exports=JSON.parse('{"blogPosts":[{"id":"rescue-root-disk","metadata":{"permalink":"/story/rescue-root-disk","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-11-17-rescue-root-disk.md","source":"@site/story/2021/2021-11-17-rescue-root-disk.md","title":"\u7cfb\u7edf\u76d8\u6062\u590d","description":"\u559c\u6b22\u4f7f\u7528 \u95ea\u5b58\u76d8/U \u76d8 \u4f5c\u4e3a Linux \u7cfb\u7edf\u76d8\uff0c\u4f46 U \u76d8 \u4f7f\u7528\u5bff\u547d\u6709\u9650\uff0c\u5f53\u5f02\u5e38\u540e\u9700\u8981\u5bf9\u7cfb\u7edf\u76d8\u8fdb\u884c\u66f4\u6362\u3002","date":"2022-02-21T07:56:38.118Z","formattedDate":"February 21, 2022","tags":[{"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"label":"\u8fd0\u7ef4","permalink":"/story/tags/\u8fd0\u7ef4"}],"readingTime":5.985,"truncated":true,"authors":[],"nextItem":{"title":"\u4ece\u65b0\u5b66\u4e60","permalink":"/story/relearning"}},"content":"\u559c\u6b22\u4f7f\u7528 \u95ea\u5b58\u76d8/U \u76d8 \u4f5c\u4e3a Linux \u7cfb\u7edf\u76d8\uff0c\u4f46 U \u76d8 \u4f7f\u7528\u5bff\u547d\u6709\u9650\uff0c\u5f53\u5f02\u5e38\u540e\u9700\u8981\u5bf9\u7cfb\u7edf\u76d8\u8fdb\u884c\u66f4\u6362\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u73b0\u72b6\\n\\n\u4f7f\u7528 SanDisk CZ430 \u4f5c\u4e3a \u7cfb\u7edf\u76d8/Root \u5206\u533a\\n\\n**lsblk**\\n\\n```\\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\\nsda      8:0    1 114.6G  0 disk\\n\u251c\u2500sda1   8:1    1   128M  0 part /boot\\n\u2514\u2500sda2   8:2    1 114.4G  0 part /\\n```\\n\\n**df -h /**\\n\\n```\\nFilesystem      Size  Used Avail Use% Mounted on\\n/dev/sda2       113G  2.2G  106G   2% /\\n```\\n\\n\u5728\u4f7f\u7528\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c U \u76d8 \u5f02\u5e38\uff0c\u7cfb\u7edf\u88ab\u91cd\u65b0\u6302\u8f7d\u4e3a\u53ea\u8bfb\u3002\\n\\n```bash\\ntouch ~/test\\n```\\n\\n```\\ntouch: cannot touch \'/home/admin/test\': Read-only file system\\n```\\n\\ndmesg \u53ef\u770b\u5230\u5f02\u5e38\u4fe1\u606f\uff0c\u51e0\u4e2a\u6708\u524d\u5df2\u7ecf\u51fa\u95ee\u9898\u4e86\uff0c\u56e0\u4e3a\u7cfb\u7edf\u8fd8\u80fd\u6b63\u5e38\u4f7f\u7528\u6682\u4e14\u6ca1\u7ba1\u3002\\n\\n```dmesg title=\\"dmesg -T\\"\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 UNKNOWN(0x2003) Result: hostbyte=0x00 driverbyte=0x08 cmd_age=0s\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 Sense Key : 0x7 [current]\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 ASC=0x27 ASCQ=0x0\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 CDB: opcode=0x2a 2a 00 00 04 16 90 00 00 08 00\\n[Tue Sep  7 16:48:16 2021] blk_update_request: critical target error, dev sda, sector 267920 op 0x1:(WRITE) flags 0x103000 phys_seg 1 prio class 0\\n[Tue Sep  7 16:48:16 2021] Buffer I/O error on dev sda2, logical block 466, lost async page write\\n```\\n\\n## \u5907\u4efd\u6062\u590d\u65b9\u6848\\n\\n\u5c06\u73b0\u5728\u6570\u636e\u5b8c\u6574\u5907\u4efd\u5230\u65b0\u7684 U \u76d8\uff0c\u91cd\u542f\u5373\u53ef\uff0c\u4f46\u6062\u590d\u5907\u4efd\u6709\u597d\u51e0\u79cd\u65b9\u5f0f\u3002\\n\\n1.  \u5168\u76d8 dd\\n\\n- \u901f\u5ea6\u6162\\n- \u7b80\u5355\u66b4\u529b\\n- \u9700\u8981\u63d0\u4f9b\u81f3\u5c11\u73b0\u5728\u78c1\u76d8\u5927\u5c0f\u7684\u5b58\u50a8\\n\\n2. \u91cd\u88c5 - \u4ec5\u62f7\u8d1d\u6570\u636e\\n\\n- \u9ebb\u70e6\\n\\n3. \u6062\u590d\u5206\u533a\u3001\u6062\u590d\u6570\u636e\\n\\n- \u9ad8\u6548\\n- \u9700\u8981\u591a\u4e00\u70b9\u64cd\u4f5c\\n- \u65b0\u78c1\u76d8\u53ea\u9700\u8981\u5df2\u7528\u7a7a\u95f4\u5927\u5c0f\u5373\u53ef\\n\\n## \u6062\u590d\\n\\n\u56e0\u4e3a\u8fd9\u662f\u5df2\u7ecf\u7b2c\u4e09\u56db\u6b21\u6062\u590d\u4e86\uff0c\u4e4b\u524d\u90fd\u662f dd\uff0c\u4f46\u8fd9\u6b21\u6253\u7b97\u7528\u66f4\u9ad8\u6548\u7684\u65b9\u5f0f\uff0c\u4e14\u8fd9\u6b21\u7684\u7cfb\u7edf\u76d8\u4e3a 128G\uff0c\u4f46\u76ee\u524d\u53ea\u6709 64G \u7684\u7a7a\u95f2 U \u76d8\uff0c\u6545\u9009\u62e9\u65b9\u6848 3\u3002\\n\\n**\u6062\u590d\u8fc7\u7a0b**\\n\\n0. \u51c6\u5907\u5907\u4efd\u76d8\\n1. \u5206\u533a\u8868\u5907\u4efd & \u542f\u52a8\u5206\u533a\u5907\u4efd\\n2. root \u5206\u533a \u5907\u4efd & \u4fee\u590d\\n3. \u9a8c\u8bc1\\n4. \u5173\u673a\\n5. \u53d6\u6389\u574f\u7684 U \u76d8\\n6. \u5f00\u673a\\n\\n:::tip \u6062\u590d\u5907\u4efd\u6ce8\u610f\u4e8b\u9879\\n\\n- \u9009\u62e9\u4e00\u4e2a\u53ef\u5199\u76ee\u5f55 - tmpfs,shm - \u4f8b\u5982: /run, /var/run, /tmp, /dev/shm\\n\\n:::\\n\\n### \u51c6\u5907\u5907\u4efd\u76d8\\n\\n- \u5907\u4efd\u76d8 /dev/sdb 64G\uff0c\u540c SanDisk CZ430\\n\\n```pre title=\\"lsblk\\"\\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\\nsda      8:0    1 114.6G  0 disk\\n\u251c\u2500sda1   8:1    1   128M  0 part /boot\\n\u2514\u2500sda2   8:2    1 114.4G  0 part /\\nsdb      8:16   1  57.3G  0 disk\\n```\\n\\n### \u5206\u533a\u8868&\u542f\u52a8\u5206\u533a\u5907\u4efd\\n\\n```bash\\n# \u786e\u4fdd\u4f7f\u7528 root \u7528\u6237\u64cd\u4f5c\\nsudo su\\n# \u8fdb\u5165\u53ef\u5199\u76ee\u5f55\\ncd /run\\n\\n# \u6b63\u5e38\u60c5\u51b5\u5206\u533a\u8868\u7684\u5907\u4efd\u6062\u590d\\n# sfdisk -d /dev/sda | sfdisk -f /dev/sdb\\n\\n# \u9009\u62e9\u7b80\u5355\u65b9\u5f0f\u5907\u4efd\u540e\u518d\u4fee\u6539\u6700\u540e\u5206\u533a\\n# \u8fd9\u91cc dd 130MB - \u540c\u65f6\u628a boot \u5206\u533a\u5907\u4efd\u4e86\\ndd if=/dev/sda of=/dev/sdb bs=1M count=130 status=progress\\n\\n# \u8f6c\u50a8\u5206\u533a\u8868\\nsfdisk -d /dev/sda > sda.partition.table.txt\\n# \u5220\u9664\u7b2c\u4e8c\u4e2a\u5206\u533a\u7684\u5927\u5c0f\\nsed -r \'$ s/size=\\\\s*\\\\d+,//\' -i sda.partition.table.txt\\n# \u91cd\u5efa\u5206\u533a\\nsfdisk -f /dev/sdb < sda.partition.table.txt\\n# \u73b0\u5728\u5206\u533a\u5927\u5c0f\u6b63\u5e38\\nfdisk -l /dev/sdb\\n\\n# \u5206\u533a\u53d8\u5316\u91cd\u65b0\u626b\u63cf\\nmdev -s\\npartprobe\\n# \u51fa\u73b0\u5206\u533a\\nls /dev/sdb*\\n```\\n\\n### root \u5206\u533a\u5907\u4efd\\n\\n- root \u5206\u533a\u4e00\u822c\u8f83\u5927\uff0c\u76f4\u63a5 dd \u6162\u4e14\u4f24 U \u76d8\\n- \u76f4\u63a5 dd \u9700\u8981\u76ee\u6807\u76f8\u540c\u5927\u5c0f\uff0c\u5426\u5219\u4e22\u6570\u636e\\n- \u8fd9\u91cc\u4f7f\u7528 clone \u6570\u636e\u65b9\u5f0f\\n\\n:::caution \u7531\u4e8e\u76ee\u6807\u5206\u533a\u66f4\u5c0f\uff0c\u4e0d\u80fd\u76f4\u63a5\u590d\u5236\\n\\n```bash\\n# ext4 \u6570\u636e\u62f7\u8d1d - \u57fa\u4e8e ext4 block\uff0c\u53ea\u62f7\u8d1d\u4f7f\u7528\u90e8\u5206\\n# \u4e5f\u53ef\u4ee5\u7528\u4e8e\u751f\u6210 img \u5907\u4efd\u955c\u50cf\u4e4b\u540e\u7528\\ne2image -ra -p /dev/sda2 /dev/sdb2\\n```\\n\\n- \u5982\u679c\u5206\u533a\u5927\u5c0f\u8db3\u591f\uff0c\u76f4\u63a5\u590d\u5236\u5373\u53ef\\n\\n:::\\n\\n\u56e0\u4e3a root \u5206\u533a\u4e3a 120G\uff0c\u4f46\u5b9e\u9645\u53ea\u7528\u4e86 2.2G\uff0c \u5148\u955c\u50cf\u5206\u533a\uff0c\u7f29\u5c0f\u5206\u533a\uff0c\u7136\u540e\u6062\u590d\u5230\u65b0\u7684\u5206\u533a\u3002\\n\\n\u7d22\u6027\u5185\u5b58\u6709 4G\uff0c\u56e0\u6b64\u76f4\u63a5\u5728 /dev/shm \u64cd\u4f5c\uff0c\u5426\u5219\u9700\u8981\u5916\u7f6e\u5b58\u50a8\u3002\\n\\n```bash\\n# \u4ece\u65b0\u6302\u8f7d\u4e3a 3G - \u9ed8\u8ba4 2G\\nmount -o remount,size=3G /dev/shm\\n# \u5236\u4f5c\u955c\u50cf\\ne2image -rap /dev/sda2 sda2.raw\\n\\n# \u4fee\u590d\u5206\u533a - \u4e00\u822c U\u76d8 \u635f\u574f\u90fd\u4f1a\u5bfc\u81f4 fs \u5f02\u5e38\\ne2fsck -y sda2.raw\\n# \u7f29\u5c0f\u5206\u533a\\nresize2fs sda2.raw 4G\\n# \u6062\u590d\\ne2image -rap sda2.raw /dev/sdb2\\n# \u6269\u5c55\u5206\u533a\\nresize2fs /dev/sdb2\\n```\\n\\n### \u9a8c\u8bc1\\n\\n```bash\\nfsck /dev/sdb1\\nfsck /dev/sdb2\\n\\nmount /dev/sdb2 /mnt\\nmount /dev/sdb1 /mnt/boot\\n# \u4e0d\u5e94\u8be5\u6709\u53d8\u5316\\nrsync -vna /boot/ /mnt/boot/\\n\\n# \u7531\u4e8e fsck \u4fee\u590d\uff0c\u53ef\u80fd root \u5206\u533a\u5927\u5c0f\u4e0d\u540c\\ndf / /mnt /boot /mnt/boot\\n```\\n\\n\u5982\u679c\u88c5\u6709 qemu\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u542f\u7528 qemu \u9a8c\u8bc1\uff0c\u76ee\u524d\u5c31\u7b80\u5355\u786e\u8ba4\u6587\u4ef6\u6ca1\u95ee\u9898\u5373\u53ef\u3002\\n\\n```bash\\n# \u51c6\u5907\u5173\u673a\u91cd\u542f\\numount -R /mnt\\neject /dev/sdb\\n\\npoweroff\\n```\\n\\n\u53d6\u6389 \u574f\u7684 U \u76d8\uff0c\u542f\u52a8\u3002\\n\\n\u4e00\u5207\u6062\u590d\u6b63\u5e38\u3002\ud83c\udf89\\n\\n## \u603b\u7ed3\\n\\n\u7cfb\u7edf\u76d8\u6062\u590d\u8fd8\u662f\u76f8\u5f53\u5bb9\u6613\uff0c\u4f46 CZ430 \u786e\u5b9e\u6709\u70b9\u8001\u4e86\uff0c\u5728 2017 \u5e74\u5de6\u53f3\u4e0a\u5e02\uff0c\u76f8\u540c\u89c4\u683c\u5df2\u7ecf\u5356 4\u30015 \u5e74\u4e86\uff0c\u6027\u80fd\u5404\u65b9\u9762\u6709\u6240\u6b20\u7f3a\uff0c\u4e4b\u540e\u4f1a\u5c3d\u91cf\u9009\u62e9 Lexar S47\u3002\\n\\n- https://wener.me/notes/ops/admin/fio-out/\\n  - SanDisk CZ430, Lexar S47 \u6027\u80fd\u5bf9\u6bd4\\n\\n\u6b64\u5916\u4f7f\u7528 U \u76d8 \u505a\u7cfb\u7edf\u76d8\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u6ce8\u610f\u4fee\u6539 docker \u4e4b\u7c7b\u7684\u6570\u636e\u76ee\u5f55\u4e3a\u5176\u4ed6\u5b58\u50a8\uff0c\u56e0\u4e3a\u8dd1\u5b9e\u9645\u5e94\u7528\u7684\u65f6\u5019 U \u76d8 \u6027\u80fd\u662f\u4e0d\u8db3\u7684\uff0c\u4e14\u6570\u636e\u5e93\u7c7b\u578b\u5e94\u7528\u7684\u5c0f BlockSize IO \u4e0d\u9002\u5408 U \u76d8\u3002"},{"id":"relearning","metadata":{"permalink":"/story/relearning","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-12-20-relearning.md","source":"@site/story/2021/2021-12-20-relearning.md","title":"\u4ece\u65b0\u5b66\u4e60","description":"\u6700\u8fd1\u5f00\u59cb\u5b66\u4e60 PMP\uff0c\u7ba1\u7406\uff0c\u5bf9\u6211\u6765\u8bf4\u662f\u4e00\u4e2a\u201c\u5168\u65b0\u201d\u7684\u9886\u57df\u3002","date":"2022-02-21T07:56:38.118Z","formattedDate":"February 21, 2022","tags":[{"label":"\u601d\u8003","permalink":"/story/tags/\u601d\u8003"},{"label":"\u5b66\u4e60","permalink":"/story/tags/\u5b66\u4e60"}],"readingTime":7.51,"truncated":true,"authors":[],"prevItem":{"title":"\u7cfb\u7edf\u76d8\u6062\u590d","permalink":"/story/rescue-root-disk"},"nextItem":{"title":"\u7ec4\u5efa\u4f60\u81ea\u5df1\u7684 NAS \u670d\u52a1\u5668","permalink":"/story/build-your-own-nas"}},"content":"\u6700\u8fd1\u5f00\u59cb\u5b66\u4e60 PMP\uff0c\u7ba1\u7406\uff0c\u5bf9\u6211\u6765\u8bf4\u662f\u4e00\u4e2a\u201c\u5168\u65b0\u201d\u7684\u9886\u57df\u3002\\n\\n\x3c!-- more --\x3e\\n\\n\u5b66\u4e60\u53bb\u5b66\u4e60\uff0c\u662f\u8fd9\u6b21\u5b66\u4e60\u5f00\u59cb\u8001\u5e08\u8bb2\u7684\u4e3b\u9898\uff0c\u56e0\u6b64\u4e5f\u4ea7\u751f\u4e86\u81ea\u5df1\u7684\u4e00\u4e9b\u601d\u8003\u3002\\n\u5b66\u4e60\u53bb\u5b66\u4e60\uff0c\u6211\u8ba4\u4e3a\u662f meta-learning\u3002\u5b66\u4e60\uff0c\u5e94\u8be5\u4ece\u672a\u505c\u6b62\u8fc7\uff0c\u5f53\u6211\u4eec\u4ece\u7334\u5b50\u5f00\u59cb\uff0c\u6211\u4eec\u5c31\u5728\u5b66\u4e60\u53bb\u719f\u6089\u3001\u4e86\u89e3\u3001\u638c\u63e1\u65b0\u7684\u5de5\u5177\u3001\u73af\u5883\u3001\u4e8b\u7269\u3002\\n\\n\u4e0d\u9700\u8981\u5b66\u4e60\u7684\u601d\u8003\uff0c\u662f\u6f5c\u610f\u8bc6\u7684\u63d0\u5347\u3002\u5bf9\u5b66\u4e60\u8fc7\u7a0b\u8fdb\u884c\u601d\u8003\u5f52\u7eb3\u603b\u7ed3\u662f\uff0c\u5f97\u5230\u7684\u662f\u8fc7\u7a0b\u6539\u8fdb\u65b9\u5f0f\uff0c\u56e0\u6b64\u4e24\u4e2a\u4eba\u5b66\u4e60\u4e00\u5929\u7684\u7ed3\u679c\u4f1a\u6709\u6240\u4e0d\u540c\u3002\\n\\n\u8ba9\u7ed9\u6211\u8054\u60f3\u5230\u82f1\u8bed\u7684\u4e24\u4e2a\u5355\u8bcd\uff0cstudy & learn\u3002study \u5f3a\u8c03\u7684\u53ea\u662f\u8fc7\u7a0b\uff0clearn \u5f3a\u8c03\u7684\u662f\u7ed3\u679c\u5185\u5bb9\uff0c\u5e94\u8be5\u601d\u8003\u5e73\u65f6\u5b66\u4e60\u662f study \u8fd8\u662f learn\u3002\\n\\n> \u5e26\u601d\u8003\u7684\u5b66\u4e60\u66f4\u5bb9\u6613\u83b7\u53d6\u4e00\u9879\u6280\u80fd\u77e5\u8bc6\u3002\\n\\n## \u7ba1\u7406\\n\\n\u7ba1\u7406\uff0c\u5bf9\u6211\u6765\u8bf4\u662f\u4e00\u4e2a \u201c\u5168\u65b0\u201d \u7684\u9886\u57df\uff0c\u4f5c\u4e3a\u6280\u672f\u7814\u53d1\uff0c\u4ece\u672a\u4ece\u7ba1\u7406\u5b66\u7684\u6982\u5ff5\u53bb\u601d\u8003\u8fc7\u95ee\u9898\u3002\\n\u4f46\u4e4b\u6240\u4ee5\u662f\u201c\u5168\u65b0\u201d\uff0c\u662f\u56e0\u4e3a\uff0c\u751f\u6d3b\u65e0\u5904\u4e0d\u662f\u7ba1\u7406\uff0c\u5bb6\u5ead\u7ea0\u7eb7\u3001\u751f\u6d3b\u89c4\u5212\u3001\u65e5\u5e38\u5de5\u4f5c\u3002\\n\\n\u6211\u7406\u89e3\u7684\u7ba1\u7406\uff0c\u662f\u63a7\u5236\u3002\\n\\n![](./feedback-loop.svg)\\n\\n\u63a7\u5236\u7406\u8bba\u7684 \u53cd\u9988\u5faa\u73af\uff08feedbak loop\uff09 \u56fe\u3002\\n\\n![](./PDCA-Multi-Loop.png)\\n\\n\u7cbe\u76ca\u751f\u4ea7\u7684 PDCA \u5faa\u574f\u56fe\u3002\\n\\n![](https://kroki.io/plantuml/svg/eNpljrFKBDEQhvt5iqkF5fZQ7AQtfAGvOyxCdm43bDIJySyH1hYqIip2VlZrp5Wlb7PnPYZ7rhwBq498f_iS1BgOKiqHzrPXdfSOUGJLkLZLVNwkCjidZLIMBouD3KgY_XJWG90wpYSTvcNsDEo3qqKZEUvH1lTsiAUtLSS71CbSKtGJjyXFvLSfP0wL1Vo59Sxn5pKwmOZfJS2KK_uvUQDUpiQkF-RiaCQdTRDjGWC-c467R9g_vPe3bwh_HMy6u-qvn2DERqxuuvXrHYz4Fc-f_ccXjNiIoQXbfTh_vzyu7jsYkTV_AJjNmHw=)\\n\\n\u9879\u76ee\u7ba1\u7406 5 \u5927\u8fc7\u7a0b\u7ec4\u3002\\n\\n\u867d\u7136\u662f\u4e0d\u540c\u9886\u57df\u91cc\u7684\u4e3b\u9898\uff0c\u4f46\u8868\u8fbe\u7684\u5374\u662f\u76f8\u540c\u7684\u5185\u5bb9\u3002\\n\\n\u63a7\u5236\uff0c\u51cf\u5c11\u53d8\u91cf\uff0c\u63d0\u5347\u53ef\u9884\u6d4b\u6027\u3002\\n\\n\u63a7\u5236\uff0c\u662f\u4e3a\u4e86 \u63d0\u5347/\u6539\u8fdb \u73b0\u6709\u8fc7\u7a0b\u3002\\n\\nWhat happened is happened,but what we can learn from the past ?\\n\\n## \u5b66\u4e60\\n\\n\u4e3a\u4e86\u66f4\u597d\u7406\u89e3\u548c\u7ba1\u7406\u81ea\u5df1\u7684\u5b66\u4e60\uff0c\u6211\u68b3\u7406\u4e86\u6211\u7684\u5b66\u4e60\u8fc7\u7a0b\uff0c\u5e0c\u671b\u80fd\u4ece\u65e0\u610f\u8bc6\u53d8\u6210\u6709\u610f\u8bc6\u7684\u5b66\u4e60\u3002\\n\\n**\u6211\u7684\u5b66\u4e60\u8fc7\u7a0b**\\n\\n- Repeat - \u91cd\u590d - \u6284\u5199\u91cd\u590d\u6700\u4e3a\u6d45\u663e\u7684\u5185\u5bb9\\n- Refactor - \u91cd\u6784 - \u6309\u7167\u81ea\u5df1\u7684\u7406\u89e3\u4ece\u65b0\u7ec4\u7ec7\u5185\u5bb9\u8bed\u8a00\\n- Realize - \u4ece\u65b0\u610f\u8bc6 - \u5bf9\u7167\u751f\u6d3b\u3001\u5de5\u4f5c\u3001\u73b0\u5b9e\u3001\u8df3\u51fa\u56fa\u5316\u573a\u666f\\n- Regain - \u4ece\u65b0\u83b7\u53d6 - \u638c\u63e1\\n\\n:::caution\\n\\n\u5e76\u4e0d\u662f\u6240\u6709\u4e3b\u9898\u90fd\u4f1a\u7ecf\u5386\u6240\u6709\u7684\u8fc7\u7a0b\u3002\u5b66\u4ee5\u81f4\u7528\uff0c\u65e0\u4ee5\u81f4\u7528\u7684\u4e3b\u9898\u53ea\u4f1a\u505c\u7559\u5728\u65e9\u671f\u9636\u6bb5\u3002\\n\\n:::\\n\\n> ~~We learn from teacher.~~\\n>\\n> Teacher teached us.\\n>\\n> Whatever teaches us is our teacher.\\n\\n\u8001\u5e08\u3001\u4e66\u672c\u3001\u6587\u7ae0\u3001\u6e90\u7801\u3001\u4e8b\u4ef6\u90fd\u53ef\u80fd\u89e6\u53d1\u6211\u4eec\u7684\u201c\u63d0\u5347\u201d\u3002\\n\\n**Repeat**\\n\\n\u8fd9\u65f6\u5019\u6211\u4f1a\u8fdb\u884c\u7b80\u5355\u7684\u8bb0\u5f55\uff0c\u597d\u8bb0\u6027\u4e0d\u5982\u70c2\u7b14\u5934\u3002\\n\\n\u5728 https://github.com/wenerme/wener \u8fd9\u91cc\u6211\u8bb0\u5f55\u4e86\u611f\u5174\u8da3\u7684\u5f88\u591a\u5185\u5bb9\uff0c\u6709\u7684\u53ef\u80fd\u662f\u5de5\u4f5c\u76f8\u5173\u7684\uff0c\u4f8b\u5982\uff1a\u6280\u672f\uff1b\u53ef\u80fd\u662f\u5de5\u4f5c\u65e0\u5173\u7684\uff0c\u4f8b\u5982\uff1a[\u533b\u5b66]\u3002\\n\\n:::tip Repeat\u9636\u6bb5 \u5185\u5bb9\u7684\u7279\u70b9\\n\\n- \u6d45\u663e\\n- \u79bb\u6563\\n- \u7cbe\u7b80\\n\\n:::\\n\\n- \u6d45\u663e - You get what you see\\n- \u79bb\u6563\\n- \u7cbe\u7b80 - \u77e5\u8bc6\u7d22\u5f15\\n\\n\\n[\u533b\u5b66]: https://github.com/wenerme/wener/blob/958471ae9d9e2399e3c901f68380cea3c3154e82/notes/healthcare/disease/rheumatoid-arthritis.md\\n\\n**Refactor**\\n\\n\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u91cd\u590d\u9047\u5230\u76f8\u540c\u7684\u95ee\u9898\uff0c\u62b1\u6709\u76f8\u540c\u7684\u7591\u95ee\uff0c\u9700\u8981\u53c2\u8003\u76f8\u540c\u7684\u8bdd\u9898\u3002\\n\\n\u6b64\u65f6\u53c2\u8003\u7b80\u5355\u8bb0\u5f55\u7684\u5185\u5bb9\u5df2\u7ecf\u4e0d\u8db3\u4ee5\u56de\u7b54\u6216\u89e3\u51b3\u95ee\u9898\uff0c\u56e0\u6b64\uff0c\u4f1a\u5bf9\u5185\u5bb9\u8fdb\u884c\u91cd\u65b0\u91cd\u6784\u3002\\n\\n\u91cd\u6784\u610f\u5473\u7740\u91cd\u65b0\u68b3\u7406\u5185\u5bb9\u77e5\u8bc6\uff0c\u4ece\u65b0\u8c03\u6574\u201c\u7d22\u5f15\u201d\u5185\u5bb9\uff0c\u6309\u7167\u81ea\u5df1\u7684\u201c\u8111\u56de\u8def\u201d\u5bf9\u95ee\u9898\u57df\u8fdb\u884c\u7406\u89e3\u5206\u6790\u3002\\n\\n\u4f7f\u7528 git \u8fdb\u884c\u7b14\u8bb0\u7684\u597d\u5904\u662f\u5b83\u80fd\u8bb0\u5f55\u4f60\u7684\u201c[\u8fc7\u7a0b]\u201d\u3002\\n\\n[\u8fc7\u7a0b]: https://github.com/wenerme/wener/commits/master/notes/devops/kubernetes\\n\\n:::tip Refactor\u9636\u6bb5 \u5185\u5bb9\u7684\u7279\u70b9\\n\\n- \u53d1\u6563\u7684\u5355\u4e2a\u4e3b\u9898\u7275\u5f15\u51fa\u65b0\u7684\u4e3b\u9898\\n- \u6309\u7167\u81ea\u5df1\u7684\u201c\u8111\u56de\u8def\u201d\u7ec4\u7ec7\u7684\u5185\u5bb9\u7ed3\u6784\\n- \u90e8\u5206\u5185\u5bb9\u4f1a\u8fdb\u884c\u7ec6\u5316\\n\\n:::\\n\\n**Realize**\\n\\n\u610f\u8bc6\u9636\u6bb5\u6709\u4e24\u4e2a\u65b9\u5f0f\uff1a\\n\\n1. \u81ea\u8eab\\n2. \u8de8\u57df\\n\\n\u81ea\u8eab\uff0c\u6211\u4eec\u901a\u5e38\u8bb2\u4ece\u5931\u8d25\u5b66\u4e60\uff0c\u66f4\u591a\u7684\u662f\u610f\u8bc6\u5230\u4e86\u95ee\u9898\u70b9\uff0c\u95ee\u9898\u70b9\u5728\u4e0d\u7ecf\u5386\u7684\u65f6\u5019\u662f\u4e0d\u4f1a\u53d1\u73b0\u7684\uff0c\u800c\u5f53\u9047\u5230\u95ee\u9898\uff0c\u89e3\u51b3\u95ee\u9898\u8fd9\u4e2a\u5faa\u73af\u8fdb\u884c\u591a\u6b21\u540e\uff0c\u4f1a\u57fa\u4e8e\u57fa\u672c\u7684\u7406\u8bba\u77e5\u8bc6\u62bd\u53d6\u51fa\u5c5e\u4e8e\u81ea\u5df1\u7684\u7ecf\u9a8c\u7ed3\u8bba\u3002\\n\\n\u8de8\u57df\uff0c\u5b66\u4e60\u548c\u6210\u957f\u4e0d\u53ef\u80fd\u662f\u4e00\u6761\u8def\u8d70\u5230\u5934\u7684\uff0c\u6709\u6240\u6210\u5c31\u7684\u4eba\u7edd\u4e0d\u53ef\u80fd\u53ea\u4f1a\u7cbe\u901a\u4e00\u95e8\u5b66\u79d1\uff0c\u7406\u89e3\u4e0d\u540c\u9886\u57df\u4e8b\u7269\u7684\u76f8\u5173\u6027\u662f\u610f\u8bc6\u63d0\u5347\u7684\u5173\u952e\u3002\\n\\n**Regain**\\n\\n\u4e4b\u6240\u4ee5\u53eb regain\uff0c\u662f\u56e0\u4e3a\u5df2\u7ecf\u7ecf\u5386\u8fc7\u65e9\u671f\u7684 gain \u8fc7\u7a0b\uff0cregain \u65f6\uff0c\u624d\u662f\u6211\u4eec\u771f\u6b63\u7684\u6709\u6240\u638c\u63e1\uff0c\u5b66\u4ee5\u81f4\u7528\u3002\\n\\n:::tip Ragain \u9636\u6bb5\u7684\u4f53\u73b0\\n\\n- \u72ec\u7acb\u51b3\u7b56\\n- \u9884\u6d4b\u884c\u4e3a\\n\\n:::\\n\\n\u8fd9\u65f6\u5019\u6211\u613f\u79f0\u4e4b\u4e3a\uff1a \u4e13\u5bb6/Master\u3002\\n\\n## \u601d\u7ef4\u6a21\u5f0f\\n\\n\u901a\u5e38\u5b66\u4e60\u5206\u4e3a\u4e24\u79cd\u573a\u666f\uff1a\\n\\n1. \u5de5\u5177\u6280\u672f\u5b66\u4e60 - \u5b9e\\n2. \u601d\u60f3\u65b9\u6cd5\u8bba\u5b66\u4e60 - \u865a\\n\\n\u56e0\u4e3a\u6211\u7684\u4e3b\u8981\u804c\u8d23\u662f\u8f6f\u4ef6\u5f00\u53d1\uff0c\u7ba1\u7406\u5bf9\u6211\u6765\u8bf4\u662f\u4e2a\u201c\u865a\u201d\u6280\u80fd\uff0c\u56e0\u4e3a\u5e76\u4e0d\u80fd\u76f4\u63a5\u6307\u5bfc\u5de5\u4f5c\u3002\u4f46\u5bf9\u4e8e\u9879\u76ee\u7ecf\u7406\u6765\u8bf4\uff0c\u7ba1\u7406\u662f\u4e2a\u201c\u5b9e\u201d\u6280\u80fd\uff0c\u800c\u8ba1\u7b97\u673a\u7406\u8bba\u5219\u662f\u201c\u865a\u201d\u6280\u80fd\u3002\\n\\n\u5b66\u4e60\u9879\u76ee\u7ba1\u7406\uff0c\u662f\u66f4\u591a\u662f\u4e3a\u4e86\u53bb\u4e86\u89e3\u9879\u76ee\u7ba1\u7406\u7684\u601d\u7ef4\u6a21\u5f0f\u3002\\n\\n:::tip \u6a21\u5f0f=\u9524\u5b50=\u5de5\u5177\\n\\n\u5f53\u6211\u4eec\u624b\u91cc\u62ff\u7740\u9524\u5b50\u65f6\uff0c\u770b\u5230\u6240\u6709\u4e1c\u897f\u90fd\u662f\u9489\u5b50\u3002\\n\\n-- \u5de5\u5177\u5b9a\u5f8b\\n\\n:::\\n\\n\x3c!-- \u9a6c\u65af\u6d1b\u7684\u9524\u5b50 \u300a\u79d1\u5b66\u7684\u5fc3\u7406\u5b66\u300b --\x3e\\n\\n\u9879\u76ee\u7ba1\u7406\u601d\u7ef4\u6a21\u5f0f \u548c \u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f \u975e\u5e38\u76f8\u4f3c\uff0c\u662f\u5f53\u6211\u4eec\u89e3\u51b3\u95ee\u9898\u65f6\u7684\u53c2\u7167\u3002\\n\\n\u4f46\u5f53\u4f60\u6ca1\u6709\u8fd9\u4e2a\u53c2\u7167\uff0c\u6ca1\u6709\u8fd9\u628a\u9524\u5b50\u65f6\uff0c\u5c31\u4f1a\u9677\u5165\u56f0\u5883\uff0c\u4e0d\u65ad\u91cd\u590d\u9519\u8bef\u3002\\n\\n## \u5b66\u4e60\u4e3b\u9898\\n\\n\u5b66\u4e60\u662f\u4e00\u4e2a\u52a8\u4f5c\uff0c\u5fc5\u7136\u4f1a\u6709\u76ee\u6807\uff0c\u5b66\u4e60\u7684\u4e3b\u9898\u53ef\u4ee5\u662f\u5927\u800c\u5e7f\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u5c0f\u800c\u7cbe\u7684\u3002\u4e0d\u5982\u8bf4\uff0c\u6211\u4eec\u90fd\u9700\u8981\u628a\u81ea\u5df1\u7684\u77e5\u8bc6\u50a8\u5907\u78e8\u7ec3\u6210 T \u578b\u7ed3\u6784\u3002\\n\\n![](https://kroki.io/excalidraw/svg/eNrdls1u20YQgN-Fvars_v_opjiOrdR1XNiFHRhCsRbX0tYUSZArWbLha1-gt158aq-9Bn2eBO1jdEjqD6LSCE7ToNVJuzucmZ35dmbuAz_LbNAO7LRvYhfl5varfuyyq9TkUdAKbGxHNvFF0L68D1wEgpHz12PHJ53vh_34ZO-wc6WPLEjO9Zg8T29hOQ3anLOQaa6YFkhTyVvBLGgTqUItNWEKMaHKzVsX-WHQpoiGCsEJoYIShQkcDa0bDH3QRq3AJIPYVv8Kn6c3di-N0xzsfYGqH1i8Mv2bQZ6Ok2hx5nOTFJnJ4QJwfu3i-NTPSi3B0PSH47x0u9Z2XvuAF-uFXJFCTEAK1A6GiS0gDqQVpJnpOw-XwQj8KW1m3agMUW_5_dDkWS0fVC6VlqyF-GGhicYaSdkKJjYvXJrApkLL1XGa9ME01lxIwjQCn1zxHPLgy8-vTVxYuGupc3-Zm2Qcx61gnEXG1zao1gzCzwUGM1nq6gxeohbqtS63RBr1wPXYFH4vHY2cBy0n5UcLzYU3uX_mksglg8WeTaKNnUqqU-Z_aE20Jre2N-fjoTWniT4zL7_pdvvadrPvzu72z05u7iZbaRKahUhLjISmlGuq5jjhUDHKGFOEEbwOFFrxg7UOBUMIM8FAuhT63_BEFZacKoHXeUKswRMwQSBOVD6dJ64gCU2eUKsR38-A0wYxy1gQQTdjobAC8un2p1Vh-e3gIp3-wPeywy_ZgZrI8-TV-etPmPMVjSXpgoZCIiwEwlyQRd1EALrEVDKOscT66eA234cUIYFSQTRFYAee06pacQK1iiu9O5cbLJXCDZKkqI3sBMIHQNoNkW3YNq7d6_0dSZThxqvCAiGOSJmO96BEOjOD2aE9OPdndpQM85sL--LfQkkSHjJCOBNQISRWi6JJQoyZBJoo01J8PErQ5zEUIQRcKokEdJ4VXJqEEjiWUBkg9YirBVyEUwzWMf5n2YJGoOjnZmtLQBpxqGmrIJnuvT5Jzgf7t9PJeEzNy4wd6_6qDXo79XUXlEKHME5xiYnSaFkcOA5hsFJI8XrQmuelbAqLNBD1X256Rfl_1fQY3JYiCO1602OqOURRSaki8ulNT2ClNSiuUtAO_nj85c_ffnz3-FjGIk38qbsDOwTVqxdm5OJZFYJSvhO7ATgWxPba14XEO5iyF9s-zaqIFzZ2SakFPuuDFgOrvLtELs3dwCUmPtv0YK1WzQFZlSrRLFUUmrMQMD29t1SZztHR9CLqjM5y__zg9PTV19fj409fqhi8C0KV0gpRxYSumyCDIVXCoCewxgxIr0CnWoUw6Smp64L28V1w84nMAQPLBPoww7ujuUNtEgQjincgB9S-ffPT2zc_v_v91wYjO6P1YZhWRh56VZ4teH7_8PAXflh1kw==)\\n\\n:::tip \u4fd7\u8bdd\u8bf4\\n\\n\u4e1c\u65b9\u4e0d\u4eae\u897f\u65b9\u4eae\u3002\\n\\n:::\\n\\n\u4e0d\u540c\u7684\u89d2\u5ea6\u3001\u89c2\u70b9\u90fd\u4f1a\u8ba9\u5b66\u4e60\u66f4\u52a0\u5bb9\u6613\u3002\\n\\n## \u5b66\u4e60\u8fc7\u7a0b\\n\\n\u5b66\u4e60\u662f\u6301\u7eed\u7684\u4e0d\u662f\u4e00\u6b21\u6027\u7684\uff0c\u6ca1\u6709\u65f6\u95f4\u9650\u5236\uff0c\u6ca1\u6709\u9886\u57df\u9650\u5236\uff0c\u6ca1\u6709\u601d\u7ef4\u9650\u5236\u3002\\n\\n\u5b66\u4e60\u7684\u9a71\u52a8\u5374\u80af\u5b9a\u662f\u6709\u6839\u56e0\u7684\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u6240\u4e0d\u540c\u3002\\n\\n> We are who we are.\\n\\n\u5b66\u4e60\u7684\u53c2\u8003\u4e0d\u5e94\u8be5\u662f\u522b\u4eba\uff0c\u800c\u662f\u81ea\u5df1\u3002\u4eca\u5929\u7684\u81ea\u5df1\u671f\u671b\u660e\u5929\u7684\u81ea\u5df1\u5bf9\u6bd4\u6628\u5929\u7684\u81ea\u5df1\u80fd\u6709\u6240\u63d0\u5347\uff0c\u800c\u8fbe\u6210\u8fd9\u6837\u63d0\u5347\u7684\u5c31\u662f\u5b66\u4e60\u3002"},{"id":"build-your-own-nas","metadata":{"permalink":"/story/build-your-own-nas","editUrl":"https://github.com/wenerme/wener/edit/master/story/2022/2022-01-14-build-your-own-nas.md","source":"@site/story/2022/2022-01-14-build-your-own-nas.md","title":"\u7ec4\u5efa\u4f60\u81ea\u5df1\u7684 NAS \u670d\u52a1\u5668","description":"- \u4ef7\u683c\u4fbf\u5b9c","date":"2022-02-21T07:56:38.118Z","formattedDate":"February 21, 2022","tags":[],"readingTime":8.51,"truncated":true,"authors":[],"prevItem":{"title":"\u4ece\u65b0\u5b66\u4e60","permalink":"/story/relearning"},"nextItem":{"title":"\u6570\u636e\u540c\u6b65\u6a21\u5f0f","permalink":"/story/etl-pattens"}},"content":":::tip \u76ee\u6807\\n\\n- \u4ef7\u683c\u4fbf\u5b9c\\n- \u5bb9\u91cf\u9ad8\\n\\n:::\\n\\n- HP MicroServer \u5168\u65b0\u5fae\u5854 - \u53c2\u8003\u4ef7\u683c: \xa54000 , \u529f\u8017 60W\\n  - HP MicroServer Gen 10\\n    - \u5168\u65b0 AMD x3216 8G \xa52300\\n    - \u6700\u591a 4 \u4e2a\u786c\u76d8\\n  - SAS 6T\xd74 - \xa51600\\n  - SAS \u5361 - \xa5100\\n- \u4e8c\u624b\u5854\u5f0f - \u53c2\u8003\u4ef7\u683c: \xa54700 , \u529f\u8017 120W\\n  - DDR4 \u670d\u52a1\u5668 - ~\xa52000\\n    - 1U 4\xd73.5 \u5bf8\u76d8\u4f4d\\n    - 2U 8\xd73.5 \u5bf8\u76d8\u4f4d\\n  - CPU XeonE5v4\xd72 ~\xa51000 - 32 \u6838 64 \u7ebf\u7a0b\\n  - \u5185\u5b58 DDR4 ECC REG 16G\xd74 - 64G ~\xa51000\\n  - SAS 6T\xd74 - \xa51600\\n  - SAS \u5361 - \xa5100\\n- \u661f\u9645\u8717\u725b J1900 - \u53c2\u8003\u4ef7\u683c: \xa52500 , \u529f\u8017 30W\\n  - \u661f\u9645\u8717\u725b DDR3 J1900 8G ~ \xa5800\\n  - SAS 6T\xd74 - \xa51600\\n  - SAS \u5361 - \xa5100\\n  - \u975e\u5e38\u5165\u95e8\u6b3e\uff0c\u6ca1\u4ec0\u4e48\u4e0a\u5347\u7a7a\u95f4\uff0c\u6ca1\u4ec0\u4e48\u6298\u817e\u7684\u610f\u4e49\\n\\n\x3c!-- more --\x3e\\n\\n:::tip \u5bb9\u91cf\u8003\u8651\\n\\n\u73b0\u5728 2022 \u5e74\uff0c\u624b\u673a\u5e73\u53f0\u5b58\u50a8\u4e0a T \u7684\u5df2\u7ecf\u8d8a\u6765\u8d8a\u591a\uff0c\u7b14\u8bb0\u672c SSD \u90fd\u6709\u51e0 T \u7684\u4e86\uff0c\u53f0\u5f0f\u673a\u66f4\u4e0d\u7528\u8bf4\uff0c\u51e0 T \u7684\u5b58\u50a8\u5f88\u6b63\u5e38\u3002\\n\\n- \u5355\u76d8 < 4T \u4f1a\u6bd4\u8f83\u6d6a\u8d39\u76d8\u4f4d\\n- \u5355\u76d8 > 10T \u6062\u590d\u975e\u5e38\u6162\\n- \u5efa\u8bae\u81f3\u5c11 6T\xd74 - RAID5 \u53ef\u7528\u5927\u7ea6 15T\\n\\n:::\\n\\n## \u90e8\u4ef6\u53c2\u8003\u4ef7\u683c\\n\\n| \u90e8\u4ef6                | \u89c4\u683c             | \xa5      | taobao                                           |\\n| ------------------- | ---------------- | ------ | ------------------------------------------------ |\\n| SAS                 | 6T 3.5 \u5bf8 7.2K   | \xa5400   | https://item.taobao.com/item.htm?id=560836442610 |\\n| SAS                 | 1.2T 2.5 \u5bf8 10K  | \xa5160   | https://item.taobao.com/item.htm?id=547264783830 |\\n| SAS \u76f4\u901a\u5361          |                  | \xa5100   | https://item.taobao.com/item.htm?id=521090584542 |\\n| SATA                | 14TB 3.5 \u5bf8 7.2K | \xa51200  | https://item.taobao.com/item.htm?id=599544680031 |\\n| \u5185\u5b58 DDR3 ECC REG   | 16G              | ~\xa5120  | https://item.taobao.com/item.htm?id=13978621463  |\\n| \u5185\u5b58 DDR4 ECC REG   | 16G              | ~\xa5250  | https://item.taobao.com/item.htm?id=567468034444 |\\n| \u5185\u5b58 DDR4 ECC REG   | 32G              | ~\xa5600  | https://item.taobao.com/item.htm?id=567468034444 |\\n| \u5185\u5b58 DDR4 ECC NOREG | 16G              | ~\xa5500  |\\n| \u5185\u5b58 DDR4 ECC NOREG | 32G              | ~\xa51000 |\\n| CPU [E5-2683V4]     | 2.1G 16C32T 120W | ~\xa5500  | https://item.taobao.com/item.htm?id=597514302182 |\\n| CPU [E3-1235Lv5]    |\\n\\n[e5-2683v4]: https://ark.intel.com/content/www/us/en/ark/products/91766/intel-xeon-processor-e52683-v4-40m-cache-2-10-ghz.html\\n[e3-1235lv5]: https://www.intel.cn/content/www/cn/zh/products/sku/88170/intel-xeon-processor-e31235l-v5-8m-cache-2-00-ghz/specifications.html\\n\\n:::caution PC \u548c \u4f01\u4e1a\u7ea7\u670d\u52a1\u5668 \u8fc7\u6e21\u4ea7\u54c1\\n\\n- \u670d\u52a1\u5668\u5e02\u573a\u6709\u6bd4 PC \u5f3a\uff0c\u4f46\u6bd4\u670d\u52a1\u5668\u5f31\u7684\u4e00\u4e2a\u4ea7\u54c1\u7ebf\uff0c\u901a\u5e38\u7528\u4e8e\u4e2a\u4eba\u5de5\u4f5c\u5ba4\u4e4b\u7c7b\u7684\u573a\u666f\u3002\\n- \u7279\u70b9\\n  - \u670d\u52a1\u5668\u4f53\u79ef\u5c0f\\n  - CPU \u529f\u8017\u4f4e - 25W\\n  - \u5185\u5b58\u4f7f\u7528 ECC NOREG\\n    - \u4e8c\u624b\u5e02\u573a\u5c11\uff0c\u4ef7\u683c\u504f\u9ad8\\n    - \u9700\u8981 CPU \u652f\u6301\\n    - \u9700\u8981\u4e3b\u677f\u652f\u6301\\n\\n:::\\n\\n## \u4e3b\u673a\u9009\u62e9\\n\\n- \u673a\u578b\u9009\u62e9\\n  - \u5fae\u5854 - \u566a\u97f3\u5c0f\uff0c\u529f\u8017\u4e00\u822c ~60w\\n    - \u4e8c\u624b\u5c11 - \u5927\u591a\u4e70\u65b0\u7684\uff0c\u4ef7\u683c\u9ad8\\n    - \u4f53\u79ef\u5c0f\\n    - \u4e00\u822c\u4e3b\u677f\u4e0d\u652f\u6301 ECC REG \u5185\u5b58\\n  - \u670d\u52a1\u5668 - \u566a\u97f3\u5927\uff0c\u529f\u8017\u4e00\u822c ~120w\\n    - \u4e8c\u624b\u591a - \u4fbf\u5b9c\\n    - \u4f53\u79ef\u5927 - \u4e00\u822c 1U\\n    - \u6269\u5c55\u80fd\u529b\u5f3a - \u901a\u5e38\u652f\u6301 \u4e00\u4e2a\u534a\u9ad8+\u4e00\u4e2a\u5168\u9ad8 PCI - \u56e0\u6b64\u53ef\u4ee5\u914d GPU\\n    - \u5982\u679c\u6ca1\u6709\u4e66\u623f\u3001\u5e93\u623f\u6216\u9690\u7792\u89d2\u843d\u4e0d\u63a8\u8350\\n    - \u90e8\u5206\u670d\u52a1\u5668\u566a\u97f3\u4e5f\u4e0d\u662f\u7279\u522b\u5927\\n- \u5e73\u53f0\u9009\u62e9\\n  - \u901a\u5e38\u4e8c\u624b\u90fd\u662f\u843d\u540e\u597d\u51e0\u4e2a\u4e16\u4ee3\uff0c\u4f46\u5efa\u8bae\u81f3\u5c11\u9009\u62e9 DDR4\\n  - DDR3 \u4ef7\u683c\u662f DDR4 \u7684\u4e00\u534a - \u5982\u679c\u9884\u7b97\u6709\u9650\uff0c\u90a3\u4e5f\u662f\u53ef\u4ee5\u7684\\n    - \u9009\u62e9 DDR3 CPU \u4e5f\u4f1a\u4fbf\u5b9c\u4e00\u534a\u4ee5\u4e0a - \u662f\u518d\u4e0a\u4e00\u4e2a\u4e16\u4ee3\u7684\u5e73\u53f0\\n- \u914d\u7f6e\u9009\u62e9\\n  - \u5168\u65b0\u6574\u5957\u4e3b\u673a - \u5305\u542b CPU+\u5185\u5b58\\n    - \u6027\u4ef7\u6bd4\u4e0d\u9ad8\uff0c\u4f46\u7701\u4e8b\\n  - \u4e8c\u624b\u670d\u52a1\u5668\\n    - \u6027\u4ef7\u6bd4\u6700\u9ad8\uff0c\u7701\u4e8b\\n    - \u53ef\u9009\u6027\u4e0d\u591a\\n  - \u81ea\u5df1\u914d\u4e3b\u673a - \u4e3b\u677f+\u673a\u7bb1+\u7535\u6e90+CPU+\u5185\u5b58\\n    - \u4e8b\u60c5\u6700\u591a\uff0c\u5982\u679c\u4e0d\u662f\u559c\u6b22\u641e\u8fd9\u4e2a\uff0c\u5efa\u8bae\u4e0d\u8981\\n- \u670d\u52a1\u5668\u9009\u62e9\\n  - \u67b6\u5f0f\\n    - \u4e8c\u624b\u5e02\u573a\u6700\u591a\uff0c\u5360\u5730\u9762\u79ef\u5927\\n    - 1U\\n      - 8 \u4e2a 2.5 \u5bf8\u76d8\u4f4d\\n      - 4 \u4e2a 3.5 \u5bf8\u76d8\u4f4d\\n  - \u5854\u5f0f\\n    - \u4e8c\u624b\u5e02\u573a\u4e0d\u591a\uff0c\u5360\u5730\u9762\u79ef\u5927\\n    - \u548c\u666e\u901a\u53f0\u5f0f\u7535\u8111\u5dee\u4e0d\u591a\\n    - \u670d\u52a1\u5668\u4e3b\u677f\\n  - \u5200\u7247\\n    - \u4e8c\u624b\u5e02\u573a\u5f88\u5c11\\n  - \u6a21\u5757\\n    - \u4e8c\u624b\u5e02\u573a\u4e0d\u592a\u591a\uff0c\u5360\u5730\u9762\u79ef\u5f88\u5c0f\\n    - \u9b54\u6539\u540e\u7684\u975e\u5e38\u5b89\u9759\\n- \u6210\u54c1 NAS \u670d\u52a1\u5668\\n  - \u7fa4\u6656 - \u4e0d\u518d\u8fd9\u91cc\u7684\u8ba8\u8bba\u8303\u56f4\u5185\\n\\n### \u914d\u7f6e\u76ee\u6807\\n\\n| -    | \u673a\u578b     | CPU      | \u5185\u5b58  | \u786c\u76d8        |\\n| ---- | -------- | -------- | ----- | ----------- |\\n| \u6700\u4f4e | \u5fae\u5854,ITX | 4 \u6838     | 8G    | 6T\xd74 raidz1 |\\n| \u63a8\u8350 | -        | 4 \u6838+    | 16G+  |\\n| \u66f4\u9ad8 | \u670d\u52a1\u5668   | 32 \u6838\u5fc3+ | 128G+ |\\n\\n> \u901a\u5e38\u914d\u7f6e\u4e2a\u6700\u4f4e\uff0c\u540e\u671f\u80fd\u591f\u8c03\u6574\u7ec4\u4ef6\u5373\u53ef\\n\\n### \u5168\u65b0\u6574\u5957\u4e3b\u673a\\n\\n- [hp microserver gen 10]\\n  - AMD x3216 8G \xa52300\\n  - https://item.taobao.com/item.htm?id=564308249868#detail\\n- hp microserver gen 10 plus\\n  - **\u975e\u5e38\u5c0f\u5de7**\\n  - \u9700\u8981\u6d77\u6dd8\\n  - \xa55000\\n- mineNAS \u81f3\u5f3a \u5fae\u5854\\n  - Core \u7cfb\u5217 CPU https://item.taobao.com/item.htm?id=546747046542\\n    - \xa53600\\n  - Xeon \u7cfb\u5217 CPU https://item.taobao.com/item.htm?id=523041473305\\n    - \xa57500+\\n\\n[hp microserver gen 10 spec]: https://support.hpe.com/hpesc/public/docDisplay?docId=a00028525en_us&docLocale=en_US\\n[hp microserver gen 10]: https://www.hpe.com/psnow/doc/a00008701enw\\n\\n### \u4e8c\u624b\u670d\u52a1\u5668\\n\\n- \u67b6\u5f0f\\n  - HP DL160G9 https://item.taobao.com/item.htm?id=564082577179\\n    - \u51c6\u7cfb\u7edf \xa5750\\n    - E5-4650V3\\\\*2 24 \u6838 48 \u7ebf + 64G + Intel 800G SSD \xa53290\\n    - 8\xd72.5 \u5bf8\u76d8\u4f4d\\n  - DELL R430 X99 https://item.taobao.com/item.htm?id=567440742661\\n    - \u51c6\u7cfb\u7edf \xa52200\\n    - 4\xd73.5 \u5bf8\u76d8\u4f4d\\n  - DELL R630 https://item.taobao.com/item.htm?id=557304169457\\n    - \u51c6\u7cfb\u7edf \xa51449\\n    - 8\xd72.5 \u5bf8\u76d8\u4f4d\\n  - DELL R730 - https://item.taobao.com/item.htm?id=604846119404\\n    - 2U\\n    - 8-12 3.5 \u5bf8\u76d8\u4f4d, 8-24 2.5 \u5bf8\u76d8\u4f4d,\\n- \u6a21\u5757\u670d\u52a1\u5668\\n  - \u5e7f\u8fbe \u5355\u6a21\u5757\u5373\u53ef\\n  - \u6539\u88c5\u540e\u7684\u975e\u5e38\u5b89\u9759\\n  - \u4ef7\u683c ~\xa5500\\n  - **\u6ce8\u610f** \u786c\u76d8\u53ef\u80fd\u4e0d\u592a\u597d\u653e\\n\\n### \u88c5\u673a\\n\\n:::tip\\n\\n- \u88c5\u673a\u901a\u5e38\u4e3b\u677f\u90fd\u662f\u4e70\u65b0\u7684\\n- \u673a\u7bb1\u770b\u60c5\u51b5\u4e70\u65b0\u7684\u6216\u4e8c\u624b\u7684\u6216\u5b9a\u5236\u7684\\n- \u660e\u786e\u88c5\u673a\u8981\u8fbe\u6210\u7684\u76ee\u6807 - \u4e0d\u8981\u4e3a\u4e86\u88c5\u673a\u800c\u88c5\u673a\\n  - \u5bb9\u91cf\uff1f\\n  - \u5c3a\u5bf8\u5927\u5c0f\uff1f\\n  - \u786c\u76d8\u3001\u5185\u5b58\u3001CPU\uff1f\\n\\n:::\\n\\n- \u4e3b\u677f\\n  - https://www.asrockrack.com/\\n    - \u9009\u62e9\u597d\u540e\u53ef\u6dd8\u4e8c\u624b\\n- \u673a\u7bb1\\n  - \u786e\u5b9a\u597d\u4e3b\u677f\u7c7b\u578b\u540e\u51b3\u5b9a\\n  - \u5c0f\u7684\u60c5\u51b5\u53ef\u5b9a\u5236 \u4e9a\u514b\u529b \u673a\u7bb1\\n- \u7535\u6e90\\n  - \u529f\u8017 < 120W \u65f6\u53ef\u8003\u8651\u5916\u7f6e\\n  - \u670d\u52a1\u5668\u529f\u8017\u6700\u597d\u4e70 \u4e8c\u624b \u670d\u52a1\u5668\u7535\u6e90\u6a21\u5757\\n\\n## \u7cfb\u7edf\\n\\n1. \u9ed1\u7fa4\u6656\\n\\n- \u5b89\u88c5\u4f7f\u7528\u5bb9\u6613\\n- \u73b0\u6210\u7684\u5e94\u7528\\n- \u9002\u7528\u4e8e\u65b0\u624b\u6216\u4e0d\u613f\u610f\u6298\u817e\u7684\u73a9\u5bb6\\n- \u76f8\u5bf9\u5c01\u95ed - \u4e0d\u5efa\u8bae\u7528\u670d\u52a1\u5668\u8fd0\u884c\uff0c\u53ef\u4ee5\u8003\u8651\u5f00\u865a\u62df\u673a\\n\\n2. Linux\\n\\n### Linux\\n\\n- AlpineLinux\\n- zfs\\n  - \u770b\u60c5\u51b5\u4f7f\u7528 raidz1,raidz2,draid\\n    - raidz1=raid5 - 4 \u76d8\u65f6\\n    - raidz2=raid6 - 6 \u76d8\u65f6\\n    - draid - >= 12 \u76d8\u65f6\\n  - SSD \u7f13\u5b58 - \u5982\u679c\u6709\u9884\u7b97\\n- \u5e94\u7528\u573a\u666f\\n  - \u591a\u5a92\u4f53 - Jeylyfin, Plex, \u7167\u7247, \u97f3\u4e50\\n  - \u4e0b\u8f7d\u5668 - aria2, qtorrent, transimision\\n  - \u5bb6\u5ead - Nextcloud\\n  - \u5171\u4eab - samba, afp\\n  - \u5907\u4efd - afp/TimeMachine\\n  - \u5e38\u7528\u5e94\u7528 - vaultwarden\\n  - \u670d\u52a1\u5668\\n    - Kubernetes/k3s - \u63a8\u8350\\n    - Docker\\n    - \u865a\u62df\u673a\\n\\n# \u5e38\u89c1\u95ee\u9898\\n\\n## \u5982\u4f55\u9009\u62e9\u786c\u76d8\u7f13\u5b58\\n\\n- \u5982\u679c\u4f7f\u7528 ZFS+SSD \u4f5c\u4e3a\u7f13\u5b58\uff0c\u90a3\u786c\u76d8\u7684\u7f13\u5b58\u5f71\u54cd\u4e0d\u5927\\n- \u5982\u679c\u4f7f\u7528 \u786c\u4ef6 RAID\uff0c\u90a3\u786c\u76d8\u7684\u7f13\u5b58\u80fd\u63d0\u6548\\n\\n## \u4e3a\u4ec0\u4e48\u9009\u62e9 SAS \u786c\u76d8\\n\\n- SAS \u4e3a\u4f01\u4e1a\u7ea7\u786c\u76d8 - \u4e8c\u624b\u8d28\u91cf\u9ad8\\n- \u4e8c\u624b\u5e02\u573a\u591a\\n- \u652f\u6301\u70ed\u63d2\u62d4 - \u66f4\u6362\u5bb9\u6613\\n- **\u4f46** \u901a\u5e38\u9700\u8981\u989d\u5916\u7684 SAS \u5361 - \u4e00\u822c\u9009\u62e9\u534a\u9ad8 PCI\\n- SAS \u8fd8\u9700\u8981\u6ce8\u610f\u533a\u5206 2.5 \u548c 3.5\\n  - 3.5 - \u5bb9\u91cf 300G-5T, \u8f6c\u901f 7200+\\n  - 2.5 - \u5bb9\u91cf 120G-1T, \u8f6c\u901f 10000-15000\\n\\n## \u5982\u4f55\u9009\u62e9 CPU\\n\\n- \u5fd7\u5f3a Xeon\\n  - \u4f18\u70b9\\n    - \u4e8c\u624b\u5e02\u573a\u591a\\n    - \u4ef7\u683c\u4fbf\u5b9c\\n    - \u6027\u80fd\u975e\u5e38\u597d - \u6838\u5fc3\u591a\\n  - \u7f3a\u70b9\\n    - \u529f\u8017\u9ad8 - 120W\\n    - \u9700\u8981\u4e3b\u677f\u652f\u6301\\n    - \u4e00\u822c\u5a92\u4f53\u80fd\u529b\u666e\u901a\\n    - \u5168\u65b0\u975e\u5e38\u8d35\\n- \u5fd7\u5f3a Xeon L\\n  - \u4f18\u70b9\\n    - \u529f\u8017\u4f4e - 25W\\n  - \u7f3a\u70b9\\n    - ECC NOREG\\n    - \u901a\u5e38\u5185\u5b58\u53ea\u652f\u6301 2 \u901a\u9053 - \u4e00\u822c\u5bb6\u7528 NAS \u8db3\u77e3\\n- \u9177\u777f Core\\n  - \u4f18\u70b9\\n    - \u5355\u6838\u9891\u7387\u9ad8\\n    - \u5a92\u4f53\u5904\u7406\u80fd\u529b\u5f3a\\n    - \u529f\u8017\u4e00\u822c - 60W\\n  - \u7f3a\u70b9\\n    - \u8d35\\n    - \u6838\u5fc3\u6570\u5c11 - \u4f5c\u4e3a\u670d\u52a1\u5668\u6838\u5fc3\u6570\u6bd4\u5355\u6838\u9891\u7387\u66f4\u91cd\u8981\\n- \u51cc\u52a8 Celeron\\n  - \u4f18\u70b9\\n    - \u529f\u8017\u975e\u5e38\u4f4e - 10W\\n  - \u7f3a\u70b9\\n    - \u80fd\u529b\u6709\u9650\\n\\n## \u670d\u52a1\u5668 \u548c PC/HTPC \u7684\u533a\u522b\\n\\n- \u670d\u52a1\u5668\u901a\u5e38\u652f\u6301\u7ba1\u7406\u6a21\u5757\\n  - \u542f\u52a8\u6162\\n  - \u652f\u6301\u8fdc\u7a0b\u8fdc\u79bb - \u5f00\u673a\uff0c\u505c\u673a\uff0c\u5065\u5eb7\u68c0\u67e5\uff0cKVM\\n  - \u56fa\u4ef6\u5347\u7ea7\\n- PC/HTPC \u4e00\u822c\u76f4\u63a5\u542f\u52a8\u5373\u53ef"},{"id":"etl-pattens","metadata":{"permalink":"/story/etl-pattens","editUrl":"https://github.com/wenerme/wener/edit/master/story/2022/2022-01-26-etl-pattens.md","source":"@site/story/2022/2022-01-26-etl-pattens.md","title":"\u6570\u636e\u540c\u6b65\u6a21\u5f0f","description":"A \u540c\u6b65\u5230 B","date":"2022-02-21T07:56:38.118Z","formattedDate":"February 21, 2022","tags":[],"readingTime":2.655,"truncated":true,"authors":[],"prevItem":{"title":"\u7ec4\u5efa\u4f60\u81ea\u5df1\u7684 NAS \u670d\u52a1\u5668","permalink":"/story/build-your-own-nas"},"nextItem":{"title":"Java 11 JavaFX \u7b2c\u4e00\u4e2a\u5e94\u7528","permalink":"/story/java11-javafx-first-app"}},"content":"> A \u540c\u6b65\u5230 B\\n>\\n> DBA -> A -> B -> DBB\\n>\\n> Extract -> Load\\n>\\n> Extract -Transform-> Load\\n\\n\x3c!-- more --\x3e\\n\\n## \u573a\u666f\\n\\n**A,B,DBA,DBB \u4e92\u901a\u6027**\\n\\n| from\\\\to | DBA | A   | B   | DBB |\\n| ------- | --- | --- | --- | --- |\\n| DBA     |     |     |     | \ud83d\udfe1  |\\n| A       |     |     | \ud83d\udfe2  | \ud83d\udfe1  |\\n| B       | \ud83d\udfe0  | \ud83d\udfe2  |     |     |\\n| DBB     | \ud83d\udfe0  |     |     |     |\\n\\n- \ud83d\udfe2 - \u6709\u53ef\u80fd - A <-> B\\n- \ud83d\udfe1 - \u4e5f\u8bb8\u53ef\u80fd - \u63d0\u4f9b\u516c\u6709\u4e91\u6570\u636e\u5e93\u4f5c\u4e3a\u540c\u6b65\u76ee\u6807\\n- \ud83d\udfe0 - \u4e0d\u592a\u53ef\u80fd\\n  - \u5982\u679c\u662f\u5185\u90e8\u670d\u52a1\u662f\u53ef\u80fd\u7684\\n\\n## \u6a21\u5f0f\\n\\n- Push - \u63a8 - A -> B\\n- Pull - \u62c9 - A <- B\\n- Reactive - A <-> B\\n- \u7b2c\u4e09\u65b9 - A -> X -> B\\n\\n## \u65b9\u5f0f\\n\\n- \u5168\u91cf\\n- \u589e\u91cf\\n  - \u57fa\u4e8e\u589e\u91cf\u6e38\u6807\\n  - \u57fa\u4e8e CDC \u4e8b\u4ef6\\n- Schema+Data\\n\\n## \u5b9e\u73b0\u65b9\u6848\\n\\n- DBA -> A -> B -> DBB\\n  - B \u66b4\u9732 API\uff0cA \u8bf7\u6c42 B - Push/Hook\\n  - \u4f8b\u5982: WebHook\\n- DBA -> A <- B -> DBB\\n  - A \u66b4\u9732 API\uff0cB \u8bf7\u6c42 A - Pull/Query\\n  - \u4f8b\u5982: WebHook\\n- DBA -> A -> DBB\\n  - \u4f8b\u5982: \u914d\u7f6e\u540c\u6b65\u76ee\u6807\u7ed9 A, A \u76f4\u63a5\u5199\u5165\\n- DBA -> B -> DBB\\n  - \u4f8b\u5982: RLS \u66b4\u9732\u7ed9 B \u8bbf\u95ee\\n- DBA <-> DBB\\n  - \u4f8b\u5982: DB Link, Replication\\n- DBA -> A -> Queue -> B -> DBB\\n  - A,B \u901a\u8fc7 Queue \u4ea4\u4e92 - A,B \u90fd\u6ca1\u6709\u66b4\u9732\u63a5\u53e3\\n  - \u88ab\u52a8\\n  - Queue \u5b9a\u4f4d\\n    - \u6570\u636e\u5b58\u50a8 - Kafka\\n    - \u4fe1\u606f\u4f20\u8f93 - Redis, Nats - \u4f8b\u5982 RPC over Redis Stream\\n- DBA -> X -> DBB\\n- DBA -> A -> X -> B -> DBB\\n  - \u501f\u52a9\u7b2c\u4e09\u65b9\u670d\u52a1 - \u4f8b\u5982: AirByte, PgLoader\\n  - X \u670d\u52a1\u4f5c\u4e3a \u4e2d\u95f4\u670d\u52a1 \u4e0e A,B \u4ea4\u4e92\\n    - \u66ff\u4ee3 Queue \u89d2\u8272\\n    - \u4e3b\u52a8\\n  - X \u5177\u6709\u9002\u914d\u80fd\u529b\\n\\n## Transform \u8003\u8651\\n\\n- \u6570\u636e Schema \u9002\u914d\\n- \u6570\u636e\u7c7b\u578b\u9002\u914d\\n- \u8fc7\u6ee4\u3001\u8f6c\u6362\u3001\u8ba1\u7b97\\n- \u901a\u5e38\u5305\u542b\u903b\u8f91\\n  - \u903b\u8f91 ~= Script\\n    - Lua, Python, JS\\n  - gRPC - \u5916\u90e8\u8c03\u7528\\n- Transform \u7684\u590d\u6742\u5ea6\u51b3\u5b9a\u4e86\u662f ETL \u8fd8\u662f\u6d41\u5904\u7406\\n  - ETL - \u7b80\u5355\u9002\u914d\u3001\u8c03\u6574\u3001\u5143\u6570\u636e\\n  - \u6d41\u5904\u7406 - \u5305\u542b\u72b6\u6001\u3001\u4f9d\u8d56\u524d\u540e\u6d88\u606f/Window\u3001\u5305\u542b\u805a\u5408\\n- \u4f8b\u5982: Flink, SparkSQL, Storm\u3001KafkaSQL\\n\\n## \u6570\u636e\u7f16\u7801 \u8003\u8651\\n\\n- \u6587\u672c\u7f16\u7801 - CSV,JSON,JSONL - \u57fa\u7840\uff0c\u4e22\u5931\u7c7b\u578b\u4fe1\u606f\\n- \u4e8c\u8fdb\u5236\u7f16\u7801 - Avro, Parqute, Protobuf\\n- CBOR - Concise Binary Object Representation\\n  - \u5bf9\u6bd4 JSON \u80fd\u66f4\u597d\u7684\u4fdd\u7559\u7c7b\u578b\u4fe1\u606f\\n- Schema+Data - \u6570\u636e\u66f4\u7d27\u51d1"},{"id":"java11-javafx-first-app","metadata":{"permalink":"/story/java11-javafx-first-app","editUrl":"https://github.com/wenerme/wener/edit/master/story/2018/2018-12-06-java11-javafx-first-app.md","source":"@site/story/2018/2018-12-06-java11-javafx-first-app.md","title":"Java 11 JavaFX \u7b2c\u4e00\u4e2a\u5e94\u7528","description":"\u6982\u8ff0","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Java","permalink":"/story/tags/java"},{"label":"JavaFX","permalink":"/story/tags/java-fx"},{"label":"GUI","permalink":"/story/tags/gui"},{"label":"\u963f\u91cc","permalink":"/story/tags/\u963f\u91cc"}],"readingTime":10.47,"truncated":true,"authors":[],"prevItem":{"title":"\u6570\u636e\u540c\u6b65\u6a21\u5f0f","permalink":"/story/etl-pattens"},"nextItem":{"title":"\u5982\u4f55\u4ece0\u52301\u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00","permalink":"/story/get-started-with-dsl"}},"content":"## \u6982\u8ff0\\n\\nJava 11 \u81ea 2018.9.25 \u53d1\u5e03\u4ee5\u6765\uff0c\u5df2\u7ecf\u597d\u51e0\u4e2a\u6708\u4e86\uff0c\u5728\u8fd8\u6ca1\u6b63\u5f0f GA \u4e4b\u524d\u90fd\u4e60\u60ef\u6027\u7684\u53bb [java-countdown.xyz](http://www.java-countdown.xyz/) check \u53d1\u5e03\u5012\u8ba1\u65f6\u3002Java 11 \u6709\u6bd4\u8f83\u591a\u7684\u65b0\u529f\u80fd\uff0c\u800c\u5176\u4e2d\u6700\u5438\u5f15\u6211\u7684\\n\\n- Java 11 \u662f LTS \u7248\u672c\\n  - \u8fd9\u610f\u5473\u7740\u4f53\u9a8c Java9 \u5e26\u6765\u7684\u6a21\u5757\u7279\u6027\u53d8\u5f97\u66f4\u6709\u610f\u4e49\\n- JavaFX \u4ece JDK \u4e2d\u79fb\u9664\uff0c\u4f5c\u4e3a\u72ec\u7acb\u6a21\u5757\\n\\n\x3c!-- more --\x3e\\n\\n\u5728 11 \u53d1\u5e03\u65f6\uff0cJavaFX \u4e5f\u53d1\u5e03\u4e86 11 \u7684 GA \u7248\u672c\u3002JavaFX \u672c\u8eab\u5e76\u4e0d\u65b0\u5947\uff0c\u4f46\u81ea Java9 \u6a21\u5757\u5316\u540e\uff0cJavaFX \u5f97\u76ca\u4e8e jlink \u7684\u80fd\u529b\uff0c\u80fd\u591f\u5c06 JavaFX \u5c01\u88c5\u4e3a\u72ec\u7acb\u7684 GUI \u5e94\u7528\uff0c**\u4e0d\u8981\u6c42\u5b89\u88c5 JDK** \u3002\u8fd9\u4f7f\u5f97\u5728\u684c\u9762\u5e94\u7528\u5f00\u53d1\u7684\u573a\u666f\uff0c\u9664\u4e86 Electron\u3001Mono\u3001QT \u7b49\u8de8\u5e73\u53f0\u5f00\u53d1\u6846\u67b6\uff0cJava \u4e5f\u80fd\u4f5c\u4e3a\u5176\u4e2d\u7684\u4e00\u9879\u9009\u62e9\u4e86\u3002\u5728 Swing \u65f6\u4ee3\uff0cJava \u7684\u684c\u9762\u5e94\u7528\u5f00\u53d1\u4f53\u9a8c\u4e5f\u4e0d\u5dee\uff08\u66fe\u7ecf\u505a\u8fc7\u7684\u5c0f\u6e38\u620f [wenerme/GTetris](https://github.com/wenerme/GTetris)\uff09\uff0c\u4f46\u7531\u4e8e\u7d2f\u8d58\u7684 JDK \uff08\u5927\u7ea6 150m\uff09\u4f7f\u5f97\u5f00\u53d1\u4e00\u4e2a\u5c0f\u5e94\u7528\u53d8\u5f97\u4e0d\u5207\u5b9e\u9645\u3002\\n\\nJLink \u53ef\u4ee5\u5c06\u9879\u76ee\u4f9d\u8d56\u7684\u6a21\u5757\u52a0\u4e0a\u57fa\u7840 VM \u6765\u751f\u6210\u4e00\u4e2a\u65b0\u7684 JDK\uff0c\u5e94\u7528\u7684\u4f53\u79ef\u80fd\u591f\u5927\u5927\u51cf\u5c0f\uff0c\u5982\u679c\u8fd8\u80fd\u518d\u914d\u5408 progard\uff0c\u90a3\u4f53\u79ef\u8fd8\u80fd\u518d\u7f29\u5c0f\u4e00\u5708\u3002\\n\\n## Motivation\\n\\n\u57fa\u4e8e\u4f53\u9a8c Java11 \u548c JavaFX \u7684\u524d\u63d0\uff08\u6bcf\u4e2a Java \u7a0b\u5e8f\u5458\u90fd\u4f1a\u5199\u754c\u9762\u662f\u5e38\u8bc6\uff1f\uff09\uff0c\u5c06\u751f\u6210 \u5965\u683c\u4eba\u7fa4\u670d\u52a1\u5316\u63a5\u53e3\u6587\u6863 \u7684\u751f\u6210\u5668\u505a\u6210\u4e86\u4e00\u4e2a GUI \u5de5\u5177\uff0c\u6e90\u7801\u5728 wener.cyw/tools\u3002\\n\\ndoc/screenshot-java.png\\n\\ndoc/screenshot-markdown.png\\n\\n\x3c!-- \u56fe\u7247\u4f4d\u4e8e\u4ed3\u5e93\uff0c\u7f3a\u5931 --\x3e\\n\\n\u5de5\u5177\u4e0b\u8f7d\u5730\u5740\u89c1\u9644\u4ef6 - \u53ea\u6253\u5305\u4e86 Mac \u7248\u5e94\u7528\uff0c\u56e0\u4e3a\u6ca1\u6709 Windows\u3002\\n\\n## \u5b89\u88c5\\n\\n\u4ece Java 11 \u5f00\u59cb\uff0cOracle \u7684 JDK \u4fbf\u4e0d\u518d\u5efa\u8bae\u4f7f\u7528\u4e86\uff0c\u56e0\u6b64\u9996\u9009 OpenJDK\uff0c\u800c OpenJDK \u7684\u4e8c\u8fdb\u5236\u63d0\u4f9b\u65b9\u4e5f\u6709\u4e0d\u5c11\uff0c\u5728\u8fd9\u91cc\u63a8\u8350\u4f7f\u7528 [adoptopenjdk](https://adoptopenjdk.net/)\uff0c\u4e0e Oracle \u4e0d\u540c\u7684\u662f\uff0c\u5728\u8fd9\u91cc\u4e0b\u8f7d\u7684 JDK \u90fd\u662f\u538b\u7f29\u5305\uff0c\u65e0\u987b\u5b89\u88c5\uff0c\u89e3\u538b\u5c31\u80fd\u4f7f\u7528\uff0c\u5f53\u7136\u4e5f\u4e0d\u4f1a\u6709\u81ea\u52a8\u66f4\u65b0\u7684\u80fd\u529b\u3002\\n\\n**[\u70b9\u51fb\u524d\u5f80\u4e0b\u8f7d](https://adoptopenjdk.net/archive.html?variant=openjdk11&jvmVariant=hotspot)**\\n\\n\u4e0b\u8f7d\u540e\u6211\u89e3\u538b\u5230\u4e86 `~/jdk` \u76ee\u5f55\uff0c\u7136\u540e\u5efa\u7acb\u8f6f\u8fde\u63a5 `~/jdk/11` \u6307\u5411\u5230\u4e86\u8be5\u7248\u672c\u3002\\n\\n## \u5f00\u53d1\\n\\n\u603b\u7ed3\u4e00\u4e0b\u5728\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898\\n\\n1. \u9879\u76ee\u642d\u5efa - 10%\\n2. \u5e94\u7528\u5f00\u53d1 - 20%\\n3. \u751f\u6210 JDK - \u975e\u6a21\u5757\u4f9d\u8d56\u8f6c\u6a21\u5757\u4f9d\u8d56 - 50%\\n4. \u5e94\u7528\u6253\u5305 - 20%\\n\\n### \u9879\u76ee\u642d\u5efa\\n\\n\u642d\u5efa\u4e00\u4e2a Java 11 \u7684 Maven \u9879\u76ee\u4e0e\u642d\u5efa\u4e00\u4e2a\u666e\u901a\u7684\u9879\u76ee\u533a\u522b\u5e76\u4e0d\u5927\uff0c\u53ea\u662f\u4f1a\u591a\u4e00\u4e9b\u914d\u7f6e\uff0c\u5e76\u4e14\u6240\u6709\u7684\u4f9d\u8d56\u90fd\u9700\u8981\u4f7f\u7528\u6700\u65b0\u7684\u3002\\n\\n\u7236 POM \u7684 build/plugins \u914d\u7f6e\u8bf4\u660e\\n\\n```xml\\n\x3c!-- \u5bf9 Java 11 \u6301\u6709\u57fa\u672c\u7684\u5c0a\u656c --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-compiler-plugin</artifactId>\\n    <version>3.8.0</version>\\n    <configuration>\\n        <release>11</release>\\n        <source>11</source>\\n        <target>11</target>\\n    </configuration>\\n</plugin>\\n\\n\x3c!-- \u6253\u5305\u65f6\u6253\u5305\u5230 modules \u76ee\u5f55 --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-jar-plugin</artifactId>\\n    <version>3.1.0</version>\\n    <configuration>\\n        <outputDirectory>\\n            ${project.build.directory}/modules\\n        </outputDirectory>\\n    </configuration>\\n</plugin>\\n\x3c!-- \u5c06\u4f9d\u8d56\u62f7\u8d1d\u5230 modules \u76ee\u5f55 --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-dependency-plugin</artifactId>\\n    <version>3.1.1</version>\\n    <executions>\\n        <execution>\\n            <phase>package</phase>\\n            <goals>\\n                <goal>copy-dependencies</goal>\\n            </goals>\\n            <configuration>\\n                <outputDirectory>\\n                    ${project.build.directory}/modules\\n                </outputDirectory>\\n                <includeScope>runtime</includeScope>\\n            </configuration>\\n        </execution>\\n    </executions>\\n</plugin>\\n\\n\x3c!-- \u56e0\u4e3a\u5e76\u4e0d\u662f\u6240\u6709\u4f9d\u8d56\u90fd\u662f\u6a21\u5757\u5316\u7684\uff0c\u6240\u4ee5\u53ef\u80fd\u4f1a\u51fa\u73b0 illegal-access \u7684\u95ee\u9898 --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-surefire-plugin</artifactId>\\n    <version>2.22.0</version>\\n    <configuration>\\n        <argLine>\\n            --illegal-access=permit\\n        </argLine>\\n        <forkCount>0</forkCount>\\n    </configuration>\\n</plugin>\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-failsafe-plugin</artifactId>\\n    <version>2.22.0</version>\\n    <configuration>\\n        <argLine>\\n            --illegal-access=permit\\n        </argLine>\\n    </configuration>\\n</plugin>\\n```\\n\\n\u5e94\u7528\u9879\u76ee\u7684 build \u914d\u7f6e\\n\\n```xml\\n<build>\\n    \x3c!-- \u56e0\u4e3a\u7528\u5230\u4e86 fxml\uff0c\u4e14 fxml \u662f\u653e\u5728\u7c7b\u65c1\u8fb9\u7684\uff0c\u6240\u4ee5\u9700\u8981\u624b\u52a8\u6307\u5b9a\u8be5\u7c7b\u8d44\u6e90 --\x3e\\n    <resources>\\n        <resource>\\n            <directory>src/main/java</directory>\\n            <includes>\\n                <include>**/*.fxml</include>\\n            </includes>\\n        </resource>\\n        <resource>\\n            <directory>src/main/resources</directory>\\n        </resource>\\n    </resources>\\n    <plugins>\\n        \x3c!-- \u786e\u4fdd jar \u4e2d\u751f\u6210\u6b63\u786e\u7684\u4fe1\u606f --\x3e\\n        <plugin>\\n            <groupId>org.codehaus.mojo</groupId>\\n            <artifactId>exec-maven-plugin</artifactId>\\n            <version>1.6.0</version>\\n            <executions>\\n                <execution>\\n                    <id>module-main-class</id>\\n                    <phase>package</phase>\\n                    <goals>\\n                        <goal>exec</goal>\\n                    </goals>\\n                    <configuration>\\n                        \x3c!-- \u56e0\u4e3a PATH \u4e2d\u7684 jar \u662f Java8\uff0c\u6240\u4ee5\u8fd9\u91cc\u6307\u5b9a\u7684\u7edd\u5bf9\u8def\u5f84 --\x3e\\n                        <executable>/Users/wener/jdk/11/Contents/Home/bin/jar</executable>\\n                        <arguments>\\n                            <argument>\\n                                --update\\n                            </argument>\\n                            <argument> --file=${project.build.directory}/modules/${project.build.finalName}.jar\\n                            </argument>\\n                            \x3c!-- \u542f\u52a8\u7c7b --\x3e\\n                            <argument> --main-class=me.wener.tools.app.AppMain\\n                            </argument>\\n                            <argument> --module-version=${project.version}\\n                            </argument>\\n                        </arguments>\\n                    </configuration>\\n                </execution>\\n            </executions>\\n        </plugin>\\n    </plugins>\\n</build>\\n```\\n\\n\u6700\u7ec8\u7684\u914d\u7f6e\u5728 `mvn package` \u540e\uff0c\u4f1a\u5728 `target/modules` \u76ee\u5f55\u4e0b\u770b\u5230\u6240\u6709\u7684 jar \u5305\u3002\u8fd9\u91cc\u7684 jar \u5728\u751f\u6210 JDK \u65f6\u4f1a\u7528\u5230\u3002\\n\\n\u5728\u9879\u76ee\u642d\u5efa\u597d\u540e\uff0c\u5efa\u7acb\u51fa\u5bf9\u5e94\u7684\u5b50\u6a21\u5757\uff0c\u4e14\u5728\u5b50\u6a21\u5757\u4e2d `src/main/java` \u8bbe\u7f6e\u597d `module-info.java`\\n\\n### \u5e94\u7528\u5f00\u53d1\\n\\nJavaFX \u7684\u5f00\u53d1\u975e\u5e38\u6709\u610f\u601d\uff0c\u56e0\u4e3a\u53ef\u4ee5\u4f7f\u7528 FXML\uff0c\u5f00\u53d1\u7684\u8fc7\u7a0b\u4f53\u9a8c\u4e0e React/Vue/Angular \u8fd9\u6837\u7684\u524d\u7aef\u5f00\u53d1\u4f53\u9a8c\u975e\u5e38\u76f8\u4f3c\uff0c\u53ea\u9700\u8981\u5728 FXML \u505a\u597d\u5e03\u5c40\uff0c\u5728 css \u4e2d\u5b9a\u4e49\u597d\u6837\u5f0f\uff0c\u7136\u540e\u7ed1\u5b9a\u597d\u4ea4\u4e92\u5904\u7406\u65b9\u6cd5\u5373\u53ef\u3002\\n\\n\u5e94\u7528\u7684\u542f\u52a8\u7c7b\\n\\n```java\\npublic class AppMain extends Application {\\n    public static void main(String[] args) {\\n        launch(args);\\n    }\\n\\n    @Override\\n    public void start(Stage stage) throws Exception {\\n        Parent root = FXMLLoader.load(getClass().getResource(\\"scene/Main.fxml\\"));\\n\\n        Scene scene = new Scene(root, 640, 480);\\n        stage.setTitle(\\"@\u6587\u8fe9 \u7684\u5c0f\u5de5\u5177\\");\\n        stage.setScene(scene);\\n        stage.show();\\n    }\\n}\\n```\\n\\n\u56e0\u4e3a\u662f\u57fa\u4e8e fxml\uff0c\u542f\u52a8\u7c7b\u53ea\u9700\u8981\u5c06\u8be5\u573a\u666f\u521d\u59cb\u5316\u5c55\u793a\u5373\u53ef\u3002\\n\\n\u4e00\u4e2a fxml \u7684\u57fa\u672c\u6846\u67b6\\n\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n\\n<?import javafx.scene.control.*?>\\n<?import javafx.scene.layout.*?>\\n<?import javafx.stage.Screen?>\\n<AnchorPane fx:id=\\"masterPane\\"\\n            xmlns=\\"http://javafx.com/javafx/8.0.121\\"\\n            xmlns:fx=\\"http://javafx.com/fxml/1\\"\\n            fx:controller=\\"me.wener.tools.app.scene.MainScene\\">\\n</AnchorPane>\\n```\\n\\n\u5176\u4e2d\u6bd4\u8f83\u5173\u952e\u7684\u662f `fx:controller` \u7ed1\u5b9a\u4e86\u63a7\u5236\u7c7b `me.wener.tools.app.scene.MainScene`\u3002\\n\\n\u56e0\u6b64\u5728\u540e\u7eed\u7684 `action` \u5b9a\u4e49\u4e2d\u53ef\u76f4\u63a5\u5f15\u7528\u63a7\u5236\u7c7b\u4e0a\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u5c06\u9875\u9762\u5143\u7d20\u76f4\u63a5\u5173\u8054\u5230\u63a7\u5236\u7c7b\u3002\\n\\n\u7ed1\u5b9a\u5143\u7d20\\n![javafx-binding.png](./javafx-binding.png)\\n\\n\u5143\u7d20\u5173\u8054\\n![javafx-relation.png](./javafx-relation.png)\\n\\nIntellij \u6bd4\u8f83\u667a\u80fd\uff0c\u53ef\u76f4\u63a5\u5728\u8fd9\u4e24\u4e2a\u5730\u65b9\u4e92\u76f8\u8df3\u8f6c\u3002\\n\\n```xml\\n\x3c!-- \u6309\u94ae\u70b9\u51fb\u5173\u8054\u63a7\u5236\u7c7b\u4e0a\u7684\u65b9\u6cd5 doConvert --\x3e\\n<Button mnemonicParsing=\\"false\\" onAction=\\"#doConvert\\" text=\\"\u751f\u6210\u6587\u6863\\"/>\\n```\\n\\n### \u751f\u6210 JDK\\n\\n\u5728 APP \u5f00\u53d1\u5b8c\u6210\u540e\uff0c\u5373\u53ef\u4e3a\u8be5 APP \u751f\u6210\u4e00\u4e2a\u5b9a\u5236\u7684 JDK\uff0c\u8be5 JDK \u53ea\u9700\u8981\u5305\u542b APP \u6240\u9700\u4f9d\u8d56\uff0c\u751f\u6210\u7684 JDK \u53ef\u91cd\u590d\u4f7f\u7528\uff0c\u9664\u975e APP \u7684\u4f9d\u8d56\u53d8\u66f4\u3002\\n\\n```bash\\n# \u786e\u4fdd\u4e0b\u9762\u7684 Java \u547d\u4ee4\u662f Java 11 \u7684\\nexport PATH=$JAVA_11_HOME/bin:$PATH\\n\\n# \u67e5\u770b\u6253\u5305\u62f7\u8d1d\u7684\u6a21\u5757\\n# \u5176\u4e2d\u4f1a\u53d1\u73b0\u5f88\u591a automatic \u7684\u6a21\u5757\\njava --list-modules -p target/modules/\\n\\n# \u67e5\u770b\u4e3b\u5e94\u7528 jar \u7684\u4f9d\u8d56\u8bf7\u6c42\\njdeps  --module-path target/modules/ target/modules/tools-app-1.0-SNAPSHOT.jar\\n\\n# \u751f\u6210 JDK \u5230\u8be5\u76ee\u5f55 jdk/Contents/Home/jre\\n# add-modules \u7684\u5217\u8868\u6765\u81ea\u4e8e module-info \u7684\u5b9a\u4e49\\njlink --strip-debug --compress 2 \\\\\\n    --no-header-files --no-man-pages \\\\\\n    --output jdk/Contents/Home/jre \\\\\\n    -p $PWD/target/modules \\\\\\n    --add-modules javafx.controls,javafx.fxml,com.google.common,com.github.javaparser.core,com.github.javaparser.symbolsolver.logic,com.github.javaparser.symbolsolver.model,me.wener.tools.core\\n```\\n\\n\u4f46\u5728\u751f\u6210 JDK \u65f6\u4f1a\u53d1\u73b0\u5f02\u5e38\\n\\n```\\nError: automatic module cannot be used with jlink: com.github.javaparser.symbolsolver.logic from xxx.jar\\n```\\n\\n\u5f02\u5e38\u7684\u539f\u56e0\u662f jlink \u4e0d\u652f\u6301 automatic \u7684\u6a21\u5757\uff0c\u6240\u8c13 automatic \u6a21\u5757\uff0c\u6307\u7684\u662f\u6ca1\u6709 module-info \u7684\u6a21\u5757\uff0c\u4f46\u5728 jar \u7684 `META-INF/MANIFEST.MF` \u4e2d\u5b9a\u4e49\u4e86 `Automatic-Module-Name` \u4fe1\u606f\u3002\\n\\n\u9488\u5bf9\u8fd9\u7c7b jar\uff0c\u552f\u4e00\u80fd\u6bd4\u8f83\u597d\u7684\u5904\u7406\u65b9\u5f0f\\n\\n1. \u751f\u6210 module-info.java\\n2. \u89e3\u5305\\n3. \u7f16\u8bd1 module-info.java\\n4. \u66f4\u65b0 jar\\n\\n\u4e00\u4e0b\u4ee5 javax.inject \u4e3a\u6848\u4f8b\\n\\n```bash\\nwget http://central.maven.org/maven2/javax/inject/javax.inject/1/javax.inject-1.jar\\n\\n# \u67e5\u770b\u4f9d\u8d56\u60c5\u51b5\uff0c\u975e\u6a21\u5757\u5316\u7684 jar \u4f9d\u8d56\u548c\u6a21\u5757\u5316 jar \u7684\u4f9d\u8d56\u73b0\u5b9e\u4e0d\u540c\\n# \u8f93\u51fa: javax.inject-1.jar -> java.base\\n# \u6a21\u5757\u5316\u7684 jar \u8f93\u51fa: javax.inject -> java.base\\njdeps javax.inject-1.jar\\n\\n\\n# \u751f\u6210 module-info.java\\njdeps --generate-open-module info javax.inject-1.jar\\n# \u89e3\u538b jar\\nunzip javax.inject-1.jar -d classes/\\n# \u7f16\u8bd1 module-info.java\\njavac -p javax.inject -d classes/ info/javax.inject/module-info.java\\n# \u66f4\u65b0 jar\\njar uf javax.inject-1.jar -C classes/ module-info.class\\n# \u518d\u6b21\u67e5\u770b\u4f9d\u8d56\\njdeps javax.inject-1.jar\\n```\\n\\n\u5176\u4e2d `info/javax.inject/module-info.java` \u7684\u5185\u5bb9\u4e3a\\n\\n```\\nopen module javax.inject {\\n}\\n```\\n\\n\u63a5\u4e0b\u6765\u7684\u4e00\u6bb5\u65f6\u95f4\u4fbf\u662f\u5c06\u6240\u6709\u7528\u5230\u7684\u4f9d\u8d56\u8fdb\u884c\u8fd9\u6837\u7684\u8f6c\u6362\uff0c\u5176\u4e2d\u9700\u8981\u6ce8\u610f\u7684\u662f **\u95f4\u63a5\u4f9d\u8d56\u4e5f\u9700\u8981\u6a21\u5757\u5904\u7406**\u3002\u5176\u4e2d\u6700\u96be\u5904\u7406\u7684\u662f guava\uff0c\u56e0\u4e3a\u9700\u8981\u5c06 guava \u6a21\u5757\u5316\uff0c\u4e5f\u9700\u8981\u5b83\u4f9d\u8d56\u7684\u6240\u6709\u6a21\u5757\u90fd\u5b58\u5728\u3002\\n\\n```\\nopen module com.google.common {\\n    requires j2objc.annotations;\\n    requires java.logging;\\n    requires jdk.unsupported;\\n    requires jsr305;\\n\\n    requires transitive error.prone.annotations;\\n\\n}\\n```\\n\\n\u56e0\u6b64\u4e3a\u4e86\u5c06 guava \u6a21\u5757\u5316\uff0c\u9700\u8981\u4ece maven \u4e0a\u4e0b\u8f7d\u6240\u6709\u7684\u8fd9\u4e9b jar \u5e76\u8fdb\u884c\u6a21\u5757\u5316\u3002\\n\\n\u5b8c\u6210\u6240\u6709\u7684\u6a21\u5757\u5316\u540e\uff0c\u518d\u6b21\u901a\u8fc7 jlink \u751f\u6210 jdk \u5230 `jdk/Contents/Home/jre`\uff0c\u4e4b\u6240\u4ee5\u751f\u6210\u5230\u8fd9\u6837\u7684\u4e00\u4e2a\u76ee\u5f55\uff0c\u662f\u56e0\u4e3a\u5728\u5e94\u7528\u6253\u5305\u65f6\u80fd\u7b26\u5408\u9ed8\u8ba4\u7684 Java \u76ee\u5f55\u7ed3\u6784\u3002\\n\\n```bash\\n# \u4f7f\u7528\u751f\u6210\u7684 JDK \u6765\u8fd0\u884c\u5e94\u7528\\n./jdk/Contents/Home/jre/bin/java -Xmx64m --upgrade-module-path target/modules -m me.wener.tools.app\\n\\n# \u751f\u6210\u7684 JDK \u5927\u7ea6 50m - \u5bf9\u6b64\u5df2\u7ecf\u975e\u5e38\u6ee1\u610f\u4e86\uff0cElectron \u4e00\u822c\u90fd\u662f 100m \u5de6\u53f3\\ndu -s jdk/\\n```\\n\\n### \u5e94\u7528\u6253\u5305\\n\\n\u5e94\u7528\u6253\u5305\u4e3b\u8981\u662f\u5c06\u73b0\u5728\u5df2\u7ecf\u80fd\u8fd0\u884c\u7684 jdk \u73af\u5883\u6253\u5305\u4e3a\u4e00\u4e2a macOs \u7684 app\u3002\u6253\u5305\u5668\u6709\u4e0d\u540c\u7684\u9009\u62e9\uff0c\u4f46\u7528\u4e0b\u6765\u8fd8\u662f jar2app \u6bd4\u8f83\u597d\u7528\u3002\u5982\u679c\u9700\u8981\u6253\u5305\u5176\u5b83\u5e73\u53f0\u5e94\u7528\uff0c\u9700\u8981\u9009\u62e9\u5176\u5b83\u5e73\u53f0\u7684\u6253\u5305\u5668\u3002\\n\\n```bash\\ngit clone https://github.com/Jorl17/jar2app\\n# jar2app \u662f Python \u811a\u672c\uff0c\u56e0\u6b64\u9700\u8981 Python \u73af\u5883\\n# \u6253\u5305\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49 jdk target/jdk\\n./jar2app/jar2app ./target/modules/tools-app-1.0-SNAPSHOT.jar -r target/jdk/ -b me.wener.tools -n WenerTools -j \\"-Xmx64M --upgrade-module-path $APP_ROOT/Contents/PlugIns/jdk/modules\\"\\n\\n# \u6700\u7ec8\u6253\u5305\u540e\u7684\u5e94\u7528\u7ea6 50m\\n# 50M     WenerTools.app\\ndu -s WenerTools.app\\n\\n# \u53cc\u51fb\u542f\u52a8\u6216\u547d\u4ee4\u884c\u542f\u52a8\\nopen WenerTools.app\\n```\\n\\n\u4e00\u5207\u5927\u529f\u544a\u6210\uff0c\u4e00\u4e2a APP \u5c31\u6b64\u8bde\u751f\u4e86\uff01\u5982\u679c\u8fd8\u60f3\u8981\u63d0\u4ea4\u5230 AppStore\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8fd8\u4f1a\u9700\u8981\u5176\u4ed6\u7684\u4e0d\u5c11\u6b65\u9aa4\uff0c\u5728\u8fd9\u5c31\u4e0d\u8be6\u7ec6\u8bf4\u660e\u5566\u3002\\n\\n## \u603b\u7ed3\\n\\n\u5e94\u7528\u5f00\u53d1\u8fc7\u7a0b\uff0c\u6253\u5305\u8fc7\u7a0b\u90fd\u8fd8\u662f\u6bd4\u8f83\u6109\u5feb\u7684\uff0c\u6700\u56f0\u96be\u7684\u662f\u6a21\u5757\u5316 jar \u7684\u5904\u7406\uff0c\u56e0\u4e3a\u5f88\u591a\u6a21\u5757\u90fd\u8fd8\u6ca1\u6709 module-info.java\uff0c\u5bfc\u81f4\u5927\u90e8\u5206\u7684 jar \u90fd\u5f97\u5148\u5904\u7406\u4e00\u904d\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u53ef\u4ee5\u7d2f\u8ba1\u7684\uff0c\u88ab\u5904\u7406\u8fc7\u7684 jar \u53ef\u4ee5\u88ab\u91cd\u590d\u5229\u7528\u3002\u5982\u679c\u4e0d\u9700\u8981\u914d\u5408 jlink\uff0c\u90a3\u4e48\u662f\u4e0d\u9700\u8981\u5904\u7406\u7684\u3002\\n\\nJava 11 \u610f\u5473\u7740 Java 9\u300110\u300111 \u7684\u6240\u6709\u65b0\u7279\u6027\uff0cJavaFX \u5f00\u53d1\u4e5f\u5f02\u5e38\u7684\u7b80\u5355\uff0c\u6574\u4e2a\u8fc7\u7a0b\u8fd8\u662f\u5f88\u723d\u7684\uff01"},{"id":"get-started-with-dsl","metadata":{"permalink":"/story/get-started-with-dsl","editUrl":"https://github.com/wenerme/wener/edit/master/story/2019/2019-07-26-\u4ece0\u52301\u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00.md","source":"@site/story/2019/2019-07-26-\u4ece0\u52301\u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00.md","title":"\u5982\u4f55\u4ece0\u52301\u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00","description":"\u8bed\u8a00\u5c31\u662f\u7a0b\u5e8f\u5458\u7684\u9152\u7cbe/Languages are alcohol to programmer\u3002\ud83c\udf7a","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u5f00\u53d1","permalink":"/story/tags/\u5f00\u53d1"},{"label":"\u8bed\u8a00","permalink":"/story/tags/\u8bed\u8a00"},{"label":"\u963f\u91cc","permalink":"/story/tags/\u963f\u91cc"}],"readingTime":10.78,"truncated":true,"authors":[],"prevItem":{"title":"Java 11 JavaFX \u7b2c\u4e00\u4e2a\u5e94\u7528","permalink":"/story/java11-javafx-first-app"},"nextItem":{"title":"\u56e7 -\u300a\u54ea\u5412\u4e4b\u9b54\u7ae5\u964d\u4e16\u300b\u89c2\u540e\u611f","permalink":"/story/tt10627720-review"}},"content":"> \u8bed\u8a00\u5c31\u662f\u7a0b\u5e8f\u5458\u7684\u9152\u7cbe/Languages are alcohol to programmer\u3002\ud83c\udf7a\\n> \u23e4 wener\\n\\n\x3c!--more--\x3e\\n\\n## DSL\\n\\nDSL \u5168\u540d\u4e3a Domain-specific Lnaguage/\u9886\u57df\u7279\u5b9a\u8bed\u8a00\uff0c\u8bf4\u5230 domain-specific \u4f1a\u4e0d\u4f1a\u7b2c\u4e00\u4e2a\u60f3\u5230\u7684\u662f DDD \u5462\uff1fDDD \u4e2d\u7684\u8bed\u8a00\u53eb\u505a Ubiquitous Language\uff0c\u5373\u901a\u7528\u8bed\u8a00\uff0c\u6307\u7684\u662f\u5728\u5f53\u524d Domain \u4e0b\u4f7f\u7528\u7edf\u4e00\u7684\u81ea\u7136\u8bed\u8a00\u8fdb\u884c\u6c9f\u901a\u4ea4\u6d41\u4fbf\u4e8e\u4e0a\u4e0b\u6587\u7684\u7406\u89e3\u548c\u6c9f\u901a\u3002DSL \u7684\u76ee\u7684\u662f\u975e\u5e38\u7c7b\u4f3c\u7684\uff0c\u4e3a\u7279\u5b9a\u9886\u57df\u5b9e\u73b0\u7684\u8bed\u8a00\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u66f4\u52a0\u9ad8\u6548\u4fbf\u6377\u7684\u89e3\u51b3\u7279\u5b9a\u9886\u57df\u7684\u95ee\u9898\u3002\\n\\nDSL \u662f\u9886\u57df\u7279\u5b9a\u8bed\u8a00\uff0c\u4e0e\u4e4b\u76f8\u53cd\u7684\u8bed\u8a00\u53eb\u505a General purpose language/\u901a\u7528\u8bed\u8a00\u3002\u901a\u7528\u8bed\u8a00\u5747\u4e3a\u56fe\u7075\u5b8c\u5907\u8bed\u8a00\uff0c\u800c DSL \u5219\u4e0d\u5fc5\u8981\u5177\u5907\u8fd9\u6837\u7684\u80fd\u529b\u3002\u4e00\u4e2a\u901a\u7528\u8bed\u8a00\u4e5f\u6709\u5176\u7279\u5b9a\u7684\u5e94\u7528\u9886\u57df\uff0c\u4f8b\u5982 \u7cfb\u7edf\u7f16\u7a0b\u3001Web \u7f16\u7a0b\u3001\u811a\u672c \u7b49\uff0c\u6765\u533a\u522b\u4e8e\u5176\u5b83\u8bed\u8a00\uff0c\u56e0\u6b64\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u6765\u8bf4\u901a\u7528\u8bed\u8a00\u4e5f\u662f\u201cDSL\u201d\u3002\\n\\n**\u5e38\u89c1\u7684 DSL**\\n\\n| \u8bed\u8a00 | \u9886\u57df       |\\n| ---- | ---------- |\\n| JSON | \u6570\u636e\u4ea4\u6362   |\\n| CSS  | \u6837\u5f0f\u7f16\u6392   |\\n| SQL  | \u7ed3\u6784\u67e5\u8be2   |\\n| JSX  | \u7ed3\u6784\u5316\u7ec4\u4ef6 |\\n\\n\u4f46\u65e0\u8bba\u9886\u57df\u4e3a\u4f55\uff0cDSL \u672c\u8d28\u662f\u8bed\u8a00\uff0c\u6709\u7279\u5b9a\u7684\u8bcd\u6cd5\u3001\u8bed\u6cd5\u548c\u4e0a\u4e0b\u6587\u903b\u8f91\u3002\u5f53\u9700\u8981\u5b9e\u73b0\u4e00\u79cd DSL \u8bed\u8a00\u65f6\uff0c\u9700\u8981\u8003\u8651\\n\\n- \u8bed\u8a00\u7684\u76ee\u7684\\n- \u671f\u671b\u7684\u8bed\u6cd5\u8bcd\u6cd5\\n- \u5904\u7406\u903b\u8f91\\n\\n\u9a71\u52a8\u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00\uff0c\u5f80\u5f80\u56e0\u4e3a\\n\\n- \u8bbe\u8ba1\u7406\u5ff5\u4e0d\u540c\\n- \u66f4\u5b89\u5168\u53ef\u63a7 - \u9650\u5236\u8bed\u8a00\u80fd\u529b\\n- \u4e3a\u5e94\u7528\u63d0\u4f9b\u66f4\u52a0\u7075\u6d3b\u7684\u5904\u7406\u80fd\u529b - \u811a\u672c\\n- \u6269\u5c55\u73b0\u6709\u8bed\u8a00\u589e\u5f3a\u8868\u8fbe\u80fd\u529b - \u8f6c\u8bd1 - JSX\u3001TS\\n- \u5229\u7528\u73b0\u6709\u7684\u8fd0\u884c\u73af\u5883\u5b9e\u73b0\u66f4\u7b80\u6d01\u9ad8\u6548\u7684\u8bed\u8a00 - Kotlin\u3001Elixir\\n- \u80fd\u591f\u66f4\u5feb\u66f4\u5bb9\u6613\u7684\u89e3\u51b3/\u63cf\u8ff0\u7279\u5b9a\u9886\u57df\u95ee\u9898 - DSL\\n\\n\u76ee\u7684\u4e0d\u540c\u9a71\u52a8\u5b9e\u73b0\u7684\u65b9\u5f0f\u4e5f\u5404\u4e0d\u76f8\u540c\uff0c\u6bcf\u79cd\u7684\u505a\u6cd5\u4e5f\u4e0d\u5c3d\u76f8\u540c\uff0c\u5728\u8fd9\u91cc\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u5b66\u8ba1\u7b97\u8bed\u8a00\u4f5c\u4e3a\u6f14\u793a\u3002\\n\\n## \u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00\\n\\n- \u76ee\u7684: \u5b9e\u73b0\u7b80\u5355\u7684\u6570\u503c\u8ba1\u7b97\uff0c\u652f\u6301\u57fa\u672c\u7684\u4e09\u89d2\u51fd\u6570\\n- \u8bed\u8a00\\n  _ \u6570\u5b66\u64cd\u4f5c\u652f\u6301 \u52a0\u51cf\u4e58\u9664\\n  _ \u4e09\u89d2\u51fd\u6570\u652f\u6301 sin\u3001cos \\\\* \u8fd0\u884c\u65f6\u6570\u503c\u7c7b\u578b\u5747\u4e3a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\\n\\n\u5f53\u8bed\u8a00\u7684\u57fa\u7840\u786e\u5b9a\u540e\uff0c\u9700\u8981\u5c06\u8bed\u8a00\u7684\u8bed\u6cd5\u4ee5\u67d0\u79cd\u5f62\u5f0f\u8868\u73b0\u51fa\u6765\uff0c\u8868\u73b0\u8bed\u8a00\u8bed\u6cd5\u7684\u65b9\u5f0f\u4e5f\u662f\u4f7f\u7528\u4e00\u95e8\u8bed\u8a00(\u267b\ufe0f\ud83d\ude04)\u3002[EBNF](https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form) - \u6269\u5c55\u5df4\u79d1\u65af\u8303\u5f0f\uff0c\u8bed\u6cd5\u8868\u8ff0\u5982\u4e0b\\n\\n```\\n\u8868\u8fbe\u5f0f = \u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f | \u51fd\u6570\u8868\u8fbe\u5f0f | \u6570\u503c\\n\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f = \u8868\u8fbe\u5f0f \u64cd\u4f5c\u7b26 \u8868\u8fbe\u5f0f\\n\u51fd\u6570\u8868\u8fbe\u5f0f = \u51fd\u6570\u540d ( \u8868\u8fbe\u5f0f )\\n\u64cd\u4f5c\u7b26 = + | - | * | /\\n\u6570\u503c = \u4e00\u4e2a\u6216\u591a\u4e2a \u6570\u5b57\\n\u6570\u5b57 = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9\\n```\\n\\n\u8bed\u6cd5\u80fd\u7528\u901a\u7528\u7684 EBNF \u8868\u8ff0\u51fa\u6765\uff0c\u5728\u5404\u79cd\u8bed\u8a00\u91cc\u9762\u6709\u5b9e\u73b0\u7c7b\u4f3c EBNF \u8868\u8fbe\u8bed\u8a00\u8bed\u6cd5\u7ed3\u6784\u7684\u5e93\uff0c\u5728\u8fd9\u91cc\u4f7f\u7528 [pegjs](https://pegjs.org) \u6765\u8fdb\u884c\u539f\u578b\u9a8c\u8bc1\u548c\u5b9e\u9a8c\u3002\\n\\n\u5728 pegjs \u7684[\u5728\u7ebf Demo](https://pegjs.org/online)\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u6709\u4e00\u4e2a\u652f\u6301\u6570\u5b66\u8fd0\u7b97\u7684\u8bed\u8a00\u3002\u73b0\u5c06\u5de6\u4fa7\u8bed\u6cd5\u66ff\u6362\u4e3a\u5c06\u8981\u5b9e\u73b0\u7684\u8bed\u6cd5\u63cf\u8ff0\\n\\n```\\n\u8868\u8fbe\u5f0f = \u52a0\u51cf\u8868\u8fbe\u5f0f\\n\u52a0\u51cf\u8868\u8fbe\u5f0f  = \u4e58\u9664\u8868\u8fbe\u5f0f ((\'+\' / \'-\') \u4e58\u9664\u8868\u8fbe\u5f0f)*\\n\u4e58\u9664\u8868\u8fbe\u5f0f = \u51fd\u6570\u8868\u8fbe\u5f0f ((\'*\' / \'/\') \u51fd\u6570\u8868\u8fbe\u5f0f)*\\n\u51fd\u6570\u8868\u8fbe\u5f0f = \u51fd\u6570\u540d \'(\' \u8868\u8fbe\u5f0f \')\' / \u6570\u503c\\n\u6570\u503c = [0-9]+\\n\u51fd\u6570\u540d = [a-z]+\\n```\\n\\n:::tip PEG\\n\\n\u7ec6\u5fc3\u7684\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6211\u4eec\u8fd9\u91cc\u5b9a\u4e49\u7684\u8bed\u6cd5\u4e0e EBNF \u6709\u4e00\u5b9a\u533a\u522b\uff0c\u4f8b\u5982\u5355\u72ec\u5b9a\u4e49\u4e86 `\u52a0\u51cf\u8868\u8fbe\u5f0f`,`\u4e58\u9664\u8868\u8fbe\u5f0f`\uff0c\u5e76\u4e14\u662f\u81ea\u9876\u5411\u4e0b\u5d4c\u5957\u7684\uff0c\u800c\u4e0d\u662f EBNF \u7684 `\u8868\u8fbe\u5f0f = \u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f | \u51fd\u6570\u8868\u8fbe\u5f0f | \u6570\u503c` \u4e00\u5c42\u76f4\u63a5\u5c55\u5f00\u3002\\n\\n\u4e4b\u6240\u4ee5\u4e66\u5199\u6210\u8fd9\u6837\uff0c\u662f\u56e0\u4e3a pegjs \u662f [PEG](https://en.wikipedia.org/wiki/Parsing_expression_grammar) \u7c7b\u7684\u89e3\u6790\u5668\uff0c\u4e0d\u80fd\u505a\u5de6\u9012\u5f52\u3002\u8be5\u7ec6\u8282\u6d89\u53ca\u5230\u5982\u4f55\u5b9e\u73b0\u8bed\u8a00\u89e3\u6790\u548c\u8bed\u6cd5\u7684\u4f18\u5148\u7ea7\u5904\u7406\uff0c\u5c06\u4f1a\u5728\u989d\u5916\u7684\u6587\u7ae0\u4e2d\u8fdb\u884c\u9610\u8ff0\u89e3\u91ca\uff0c\u5e76\u8bb2\u89e3\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u89e3\u6790\u8bed\u8a00\u7684\u8bed\u8a00\u3002\\n\\n:::\\n\\n\u7136\u540e\u5728\u53f3\u4e0a\u8f93\u5165\u8868\u8fbe\u5f0f `sin(1)*2+3`, \u89e3\u6790\u5b8c\u6210\u540e\uff0c\u53f3\u4e0b\u89d2\u51fa\u73b0\u5982\u4e0b JSON \u5185\u5bb9\\n\\n```json\\n[[[[\\"s\\", \\"i\\", \\"n\\"], \\"(\\", [[[\\"1\\"], []], []], \\")\\"], [[\\"*\\", [\\"2\\"]]]], [[\\"+\\", [[\\"3\\"], []]]]]\\n```\\n\\n\u8be5 JSON \u662f pegjs \u7684\u8f93\u51fa\uff0c\u5728\u6ca1\u505a\u4efb\u4f55\u5904\u7406\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u8bed\u6cd5\u6811\u3002\u5176\u4e2d\u6bcf\u4e00\u4e2a\u6570\u7ec4\u5bf9\u5e94\u4e86\u8bed\u6cd5\u63cf\u8ff0\u4e2d\u7684\u4e00\u4e2a\u5b9a\u4e49\u3002\u4f8b\u5982 `[ \\"s\\", \\"i\\", \\"n\\" ], \\"(\\", [ [ [ \\"1\\" ], [] ], [] ], \\")\\"` \u5bf9\u5e94\u8bed\u6cd5\u6811\u4e2d\u7684 `\u51fd\u6570\u540d \'(\' \u8868\u8fbe\u5f0f \')\'`\uff0c\u8868\u793a\u5bf9`1`\u6267\u884c\u51fd\u6570`sin`\u3002\\n\\n\u4e3a\u4e86\u66f4\u597d\u7684\u5c55\u793a\u8bed\u6cd5\u6811\uff0c\u6211\u4eec\u5728\u8bed\u6cd5\u6811\u4e2d\u8c03\u6574\u8fd4\u56de\u7ed3\u679c\\n\\n```\\n\u8868\u8fbe\u5f0f = \u52a0\u51cf\u8868\u8fbe\u5f0f\\n\u52a0\u51cf\u8868\u8fbe\u5f0f  = a:\u4e58\u9664\u8868\u8fbe\u5f0f b:(op:(\'+\' / \'-\') right:\u4e58\u9664\u8868\u8fbe\u5f0f {return {type:\'Op\',op,right}})* {return b.reduce((left,right)=>(right.left=left,right),a)}\\n\u4e58\u9664\u8868\u8fbe\u5f0f = a:\u51fd\u6570\u8868\u8fbe\u5f0f b:(op:(\'*\' / \'/\') right:\u51fd\u6570\u8868\u8fbe\u5f0f {return {type:\'Op\',op,right}})* {return b.reduce((left,right)=>(right.left=left,right),a)}\\n\u51fd\u6570\u8868\u8fbe\u5f0f = name:\u51fd\u6570\u540d \'(\' arg:\u8868\u8fbe\u5f0f \')\' {return {type:\'Func\',name,arg}} / \u6570\u503c\\n\u6570\u503c = [0-9]+ {return {type:\'Int\',value:parseInt(text())}}\\n\u51fd\u6570\u540d = [a-z]+ {return {type:\'Name\',name:text()}}\\n```\\n\\n\u5bf9\u540c\u6837\u7684\u8868\u8fbe\u5f0f `sin(1)*2+3` \u6211\u4eec\u5f97\u5230\u7684\u8bed\u6cd5\u6811\u4e3a\\n\\n```json\\n{\\n  \\"type\\": \\"Op\\",\\n  \\"op\\": \\"+\\",\\n  \\"left\\": {\\n    \\"type\\": \\"Op\\",\\n    \\"op\\": \\"*\\",\\n    \\"left\\": { \\"type\\": \\"Func\\", \\"name\\": { \\"type\\": \\"Name\\", \\"name\\": \\"sin\\" }, \\"arg\\": { \\"type\\": \\"Int\\", \\"value\\": 1 } },\\n    \\"right\\": { \\"type\\": \\"Int\\", \\"value\\": 2 }\\n  },\\n  \\"right\\": { \\"type\\": \\"Int\\", \\"value\\": 3 }\\n}\\n```\\n\\n\u8fd9\u65f6\u5019\u770b\u4e0a\u53bb\u66f4\u50cf\u662f\u6811\u7684\u7ed3\u6784\uff0ctype \u4e3a\u6bcf\u4e2a\u8282\u70b9\u7684\u7c7b\u578b\u3002\\n\\n- Func \u51fd\u6570\u8c03\u7528\u8282\u70b9 - \u6709 name \u548c arg \u5c5e\u6027\\n- Op \u6570\u5b66\u64cd\u4f5c\u7b26\u8282\u70b9 - \u6709 op\u3001left\u3001right \u5c5e\u6027\\n- Int \u6570\u503c\u8282\u70b9 - \u6709 value \u5c5e\u6027\\n- Name \u540d\u5b57\u8282\u70b9 - \u6709 name \u5c5e\u6027\\n\\n\u8bed\u6cd5\u7ed3\u6784\u8868\u73b0\u7684\u5185\u5bb9\u4e0e\u8868\u8fbe\u5f0f\u672c\u8eab\u662f\u5b8c\u5168\u7b49\u4ef7\u7684\uff0c\u53ef\u8ba4\u4e3a\u662f\u7a0b\u5e8f/\u8ba1\u7b97\u673a\u7406\u89e3\u7684\u8868\u8fbe\u5f0f\uff0c\u662f\u66f4\u52a0\u7ed3\u6784\u5316\u7684\u5185\u5bb9\u3002\\n\u8bed\u6cd5\u6811\u4f1a\u6709\u5f88\u591a\u5e94\u7528\u573a\u666f\uff0c\u56e0\u4e3a\u8bed\u6cd5\u6811\u4e0e\u8868\u8fbe\u5f0f\u7b49\u4ef7\uff0c\u4e5f\u5305\u542b\u4e86\u5b8c\u6574\u7684\u8ba1\u7b97\u903b\u8f91\u548c\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u89e3\u6790\u5668\u8fdb\u884c\u89e3\u6790\u3002\u53ef\u7528\u4e8e\u751f\u6210\u66f4\u52a0\u5e95\u5c42\u7684\u8868\u73b0\u5f62\u5f0f\uff0c\u4e5f\u53ef\u7528\u4e8e\u76f4\u63a5\u6267\u884c\u3002\u573a\u666f\u7684\u573a\u666f\u5305\u542b\\n\\n- \u751f\u6210 IR - \u4e2d\u95f4\u5f62\u5f0f\uff0c\u4fbf\u4e8e\u8fdb\u884c\u66f4\u591a\u540e\u7eed\u5904\u7406 - .Net\u3001GnuRTL\u3001LLVM\\n- \u751f\u6210\u6c47\u7f16 - \u751f\u6210\u80fd\u76f4\u63a5\u5728\u76ee\u6807\u5e73\u53f0\u6267\u884c\u7684\u4e8c\u8fdb\u5236 - x86\\n- \u4ee3\u7801\u8f6c\u8bd1 - \u5229\u7528\u4e00\u5b9a\u7684\u89c4\u5219\u751f\u6210\u975e\u539f\u59cb\u7c7b\u578b\u4ee3\u7801 - Gwt(Java to Js)\u3001java2objc\\n- \u4ee3\u7801\u4f18\u5316 - \u8bed\u6cd5\u6811\u7ed3\u6784\u6bd4\u8f83\u901a\u7528\uff0c\u7a0b\u5e8f\u4fbf\u4e8e\u5904\u7406\uff0c\u53ef\u5229\u7528\u516c\u5171\u7684\u89c4\u5219\u8fdb\u884c\u5339\u914d\u5224\u65ad\\n- \u4ee3\u7801\u7b80\u5316 - \u5728\u4e0d\u5f71\u54cd\u8bed\u4e49\u7684\u60c5\u51b5\u4e0b\u8c03\u6574\u4ee3\u7801 - UglifyJs\u3001\u4ee3\u7801\u6df7\u6dc6 - \u751f\u6210\u539f\u59cb\u7c7b\u578b\u4ee3\u7801\\n- \u4ee3\u7801\u5206\u6790 - \u9759\u6001\u7c7b\u578b\u3001\u5b89\u5168\u3001\u201c\u574f\u201d\u4ee3\u7801\u68c0\u6d4b\\n- \u4ee3\u7801\u7d22\u5f15 - \u4e00\u822c\u751f\u6210\u7684\u8bed\u6cd5\u6811\u8282\u70b9\u90fd\u53ef\u4ee5\u5305\u542b\u539f\u59cb\u4ee3\u7801\u4f4d\u7f6e\uff0c\u53ef\u5b9e\u73b0\u57fa\u4e8e\u65b9\u6cd5\u6216\u5f15\u7528\u7b49\u8fdb\u884c\u5feb\u901f\u7d22\u5f15 - sourcegraph\\n- \u4ee3\u7801\u9884\u5904\u7406\\n- ...\\n\\n\u8868\u8fbe\u5f0f\u8f6c\u6362\u6210\u8bed\u6cd5\u6811\uff0c\u5c31\u597d\u6bd4\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u4ece\u81ea\u7136\u8bed\u8a00\u4e2d\u62bd\u53d6\u51fa\u610f\u56fe\u3001\u5b9e\u4f53\u3001\u4e0a\u4e0b\u6587\u7b49\u4fe1\u606f\uff0c\u662f\u8ba1\u7b97\u673a\u5bf9\u7406\u89e3\u201c\u4eba\u201d\u8981\u505a\u4ec0\u4e48\u7684\u7b2c\u4e00\u6b65\u3002\\n\\n\u65e2\u7136\u540c\u6837\u7684\u8bed\u6cd5\u80fd\u8c03\u6574\u4e3a\u751f\u6210\u8bed\u6cd5\u6811\uff0c\u90a3\u4e48\u4e5f\u5c31\u80fd\u8c03\u6574\u4e3a\u76f4\u63a5\u8ba1\u7b97\u7ed3\u679c\uff0c\u56e0\u6b64\u5f97\u5230\u5982\u4e0b\u5185\u5bb9\\n\\n```\\n\u8868\u8fbe\u5f0f = \u52a0\u51cf\u8868\u8fbe\u5f0f\\n\u52a0\u51cf\u8868\u8fbe\u5f0f  = a:\u4e58\u9664\u8868\u8fbe\u5f0f b:((\'+\' / \'-\') \u4e58\u9664\u8868\u8fbe\u5f0f)* {return b.reduce((r,[o,v])=>o==\'+\'?r+v:r-v,a)}\\n\u4e58\u9664\u8868\u8fbe\u5f0f = a:\u51fd\u6570\u8868\u8fbe\u5f0f b:((\'*\' / \'/\') \u51fd\u6570\u8868\u8fbe\u5f0f)* {return b.reduce((r,[o,v])=>o==\'*\'?r*v:r/v,a)}\\n\u51fd\u6570\u8868\u8fbe\u5f0f = name:\u51fd\u6570\u540d \'(\' arg:\u8868\u8fbe\u5f0f \')\' {return Math[name](arg)} / \u6570\u503c\\n\u6570\u503c = [0-9]+ {return parseInt(text())}\\n\u51fd\u6570\u540d = [a-z]+ {return text()}\\n```\\n\\n\u8f93\u5165\u8868\u8fbe\u5f0f `sin(1)*2+3`\uff0c\u5f97\u5230\u7684\u8f93\u51fa\u503c\u4e3a `4.6829419696157935`\u3002\\n\\n\u81f3\u6b64\uff0c\u4e00\u95e8\u7b80\u5355\u7684\u8bed\u8a00\u4fbf\u9a8c\u8bc1\u5b9e\u73b0\u5b8c\u6210\u4e86\u3002\\n\\n## \u603b\u7ed3\\n\\npegjs \u662f\u975e\u5e38\u65b9\u4fbf\u7684\u5de5\u5177\uff0c\u4f46\u5b9e\u9645\u5728\u751f\u4ea7\u4e2d\u4f7f\u7528\u65f6\uff0c\u8bed\u6cd5\u7684\u89e3\u6790\u5904\u7406\u9700\u8981\u5728\u4e2a\u4e2a\u8bed\u8a00\u91cc\u627e\u7c7b\u4f3c\u7684\u5b9e\u73b0\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u89e3\u6790\u4e0e\u8ba1\u7b97\u662f\u5f02\u6784\u7684\uff0c\u4f8b\u5982\u901a\u8fc7\u670d\u52a1\u7aef\u89e3\u6790\u5b8c\u6210\uff0c\u4e0b\u53d1\u8bed\u6cd5\u6811\u5230\u5ba2\u6237\u7aef\u8fdb\u884c\u6267\u884c\u3002\u8fd9\u4e5f\u4e0e\u6700\u8fd1\u4e00\u4e2a js \u6807\u51c6\u8bf7\u6c42\u7684\u76ee\u7684\u7c7b\u4f3c,[tc39/proposal-binary-ast](https://github.com/tc39/proposal-binary-ast) \u5e0c\u671b\u6d4f\u89c8\u5668\u80fd\u6267\u884c\u4e8c\u8fdb\u5236\u7684\u8bed\u6cd5\u6811\uff0c\u800c\u4e0d\u518d\u662f\u6bcf\u6b21\u90fd\u8fdb\u884c\u89e3\u6790 js\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u4e8c\u8fdb\u5236\u7684\u8bed\u6cd5\u6811\u4e0e\u6c47\u7f16/bytecode \u51e0\u4e4e\u53ea\u6709\u4e00\u7ebf\u4e4b\u9694\uff0c\u7136\u540e\u8fd9\u4e5f\u6b63\u662f[webassembly](https://webassembly.org/)\u7684\u76ee\u7684\uff0c\u76f4\u63a5\u8ba9\u6d4f\u89c8\u5668\u6267\u884c\u6c47\u7f16\uff0c\ud83d\ude04\u3002\u8bed\u8a00\u4e0e\u8fd0\u884c\u73af\u5883\u662f\u5468\u800c\u590d\u59cb\u8fed\u4ee3\u7684\uff0c\u591a\u4e48\u7684\u201c\u81ea\u7136\u201d\u3002\\n\\n## \u9644\u5f55\uff1a\u5e38\u7528\u7684\u8bed\u6cd5\u89e3\u6790\u5668\\n\\n| \u89e3\u6790\u5668    | \u76ee\u6807\u8bed\u8a00                             |\\n| --------- | ------------------------------------ |\\n| flex/yacc | C                                    |\\n| Antlr4    | Java\u3001JS\u3001Python\u3001Switf\u3001C#\u3001C++\u3001Go |\\n| JavaCC    | Java                                 |\\n| pegjs     | JavaScript                           |\\n\\n- [antlr/grammars-v4](https://github.com/antlr/grammars-v4)\\n  - \u5176\u4e2d\u7684 [Dart2](https://github.com/antlr/grammars-v4/blob/master/dart2/Dart2.g4) \u7531\u6211\u63d0\u4ea4\\n  - \u5047\u5982\u80fd\u5b9e\u73b0\u4e00\u4e2a\u9488\u5bf9 Dart2 \u7684 JSX\uff0c\u90a3\u4e48 Flutter \u7684\u5f00\u53d1\u5c06\u4f1a\u66f4\u52a0\u7f8e\u597d \ud83e\udd29\\n- [Comparison of parser generators](https://en.wikipedia.org/wiki/Comparison_of_parser_generators)"},{"id":"tt10627720-review","metadata":{"permalink":"/story/tt10627720-review","editUrl":"https://github.com/wenerme/wener/edit/master/story/2019/2019-07-28-\u300a\u54ea\u5412\u4e4b\u9b54\u7ae5\u964d\u4e16\u300b\u89c2\u540e\u611f.md","source":"@site/story/2019/2019-07-28-\u300a\u54ea\u5412\u4e4b\u9b54\u7ae5\u964d\u4e16\u300b\u89c2\u540e\u611f.md","title":"\u56e7 -\u300a\u54ea\u5412\u4e4b\u9b54\u7ae5\u964d\u4e16\u300b\u89c2\u540e\u611f","description":"\u5728\u60f3\u6807\u9898\u7684\u65f6\u5019\uff0c\u770b\u5230\u4e3b\u6f14\u91cc\u6709 \u56e7\uff08\u68ee\u745f\u592b\uff09\uff0c\u7a81\u7136\u89c9\u5f97\u597d\u8d34\u5207\u611f\u53d7\uff0c\u5728\u89c2\u5f71\u65f6\u5927\u90e8\u5206\u662f\u8fd9\u4e2a\u8868\u60c5\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u7535\u5f71","permalink":"/story/tags/\u7535\u5f71"}],"readingTime":5.075,"truncated":true,"authors":[],"prevItem":{"title":"\u5982\u4f55\u4ece0\u52301\u5b9e\u73b0\u4e00\u95e8\u8bed\u8a00","permalink":"/story/get-started-with-dsl"},"nextItem":{"title":"Jackson \u4f7f\u7528\u603b\u7ed3","permalink":"/story/jackson-summary"}},"content":"\u5728\u60f3\u6807\u9898\u7684\u65f6\u5019\uff0c\u770b\u5230\u4e3b\u6f14\u91cc\u6709 \u56e7\uff08\u68ee\u745f\u592b\uff09\uff0c\u7a81\u7136\u89c9\u5f97\u597d\u8d34\u5207\u611f\u53d7\uff0c\u5728\u89c2\u5f71\u65f6\u5927\u90e8\u5206\u662f\u8fd9\u4e2a\u8868\u60c5\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u6700\u8fd1\u503c\u5f97\u53bb\u7535\u5f71\u9662\u770b\u7684\u7535\u5f71\u5e76\u4e0d\u591a\uff0c\u770b\u5230\u54ea\u5412\u8fc7\u4e86\u4e24\u5468\u5f71\u9662\u8fd8\u90a3\u4e48\u7206\u6ee1\uff0c\u8bc4\u5206\u4f9d\u7136 8.7\uff0c\u57fa\u672c\u53ef\u8c13\u4e4b\u795e\u4f5c\u5f85\u9047\u4e86\u3002\u5728\u6ca1\u6709\u4eba\u4e3b\u52a8\u5b89\u5229\uff0c\u5a92\u4f53\u4e0a\u5404\u79cd\u5439\u7206\u7684\u524d\u63d0\u4e0b\uff0c\u6000\u7740\u6ee1\u6ee1\u7684\u671f\u5f85\u9a76\u5411\u4e86\u7535\u5f71\u9662\u3002\u5750\u7740\u597d\u4e0d\u5bb9\u6613\u62a2\u5230\u7684 10:40 \u76846\u63924\u5ea7\u5f00\u59cb\u4e86\u6fc0\u52a8\u7684\u89c2\u5f71\u3002\\n\\n\u5f53\u4ee5\u4e3a\u5f71\u7247\u5f00\u59cb\u65f6\uff0c\u624d\u53d1\u73b0\u8fd8\u662f\u5f71\u4e1a\u516c\u53f8LOGO\uff0c\u624d\u53d1\u73b0\u8fd8\u662f\u5f71\u4e1a\u516c\u53f8LOGO\uff0c\u624d\u53d1\u73b0\u8fd8\u662f\u5f71\u4e1a\u516c\u53f8LOGO\u3002\u3002\u3002\u8fd9\uff0c\u672a\u514d\u4e1a\u592a\u957f\u4e86\u5427\uff0c\u800c\u4e14\u9664\u4e86 COLOROOM \u7684\uff0c\u5176\u4ed6\u7684\u4e5f\u592a\u54ea\u4e2a\u5565\u4e86\u5427\uff0c\u7535\u5f71\u8fd9\u4e48\u9ad8\u5927\u4e0a\uff0c\u54b1\u5c31\u4e0d\u80fd\u591a\u6295\u5165\u70b9\u628a\u81ea\u5df1LOGO\u7ed9\u505a\u597d\u4e48\uff1f\\n\\n\u597d\u5427\uff0c\u5f71\u7247\u6b63\u5f0f\u5f00\u59cb\u3002\u627f\u8ba4\u53bb\u770b\u8fd9\u4e2a\u7535\u5f71\u7684\u65f6\u5019\u53ea\u77e5\u9053\u540d\u5b57\u53eb\u54ea\u5412\uff0c\u5e76\u6ca1\u770b\u5230\u526f\u6807\uff0c\u6240\u4ee5\u5bf9\u4e00\u5f00\u59cb\u7684\u5c55\u5f00\u4e00\u4e0b\u5b50\u6ca1\u7f13\u8fc7\u6765\u3002\u7b2c\u4e00\u6b21\u770b\u5230\u592a\u4e59\u771f\u4eba\u4e0a\u573a\uff0c\u89c9\u5f97\u5f62\u8c61\u8fd8\u662f\u6bd4\u8f83\u8ba8\u559c\u6bd4\u8f83\u641e\u7b11\u7684\uff0c\u7136\u540e\u5f00\u53e3\u56db\u5ddd\u8bdd\uff08\u7b97\u662f\u5427\uff09\uff1f\u4f5c\u4e3a\u4e00\u4e2a\u56db\u5ddd\u4eba\uff0c\u89c9\u5f97\u8fd8\u662f\u86ee\u6709\u610f\u601d\u7684\u3002\u4f46\u63a5\u4e0b\u6765\u6c14\u6c1b\u5f00\u59cb\u9010\u6e10\u51dd\u56fa\uff0c\u573a\u9762\u4e00\u5ea6\u5341\u5206\u5c34\u5c2c\u3002\\n\\n\u592a\u4e59\u771f\u4eba\u4ece\u4e00\u5f00\u59cb\u641e\u7b11\uff0c\u4e00\u76f4\u641e\u7b11\u5230\u6700\u540e\uff0c\u4f46\u641e\u7b11\u6ca1\u6709\u4efb\u4f55\u9a71\u52a8\uff0c\u7eaf\u7cb9\u662f\u5929\u7136\u7684\u5f31\u667a\uff1f\u7b2c\u4e00\u6b21\uff0c\u7b2c\u4e8c\u6b21\uff0c\u7b2c\u4e09\u6b21\uff0c\u5c31\u5f00\u59cb\u53d7\u4e0d\u4e86\u4e86\u3002\u5f00\u59cb\u4ee5\u4e3a\u8fd9\u4e2a\u89d2\u8272\u540e\u671f\u80af\u5b9a\u4f1a\u6709\u53cd\u8f6c\uff0c\u4f46\u770b\u5230\u90a3\u6735\u4e91\u7684\u5fb7\u6027\u540e\uff0c\u624d\u53d1\u73b0\u662f\u6211\u60f3\u591a\u4e86\uff0c\u8fd9\u6574\u90e8\u5267\u5c31\u8fd9\u5c3f\u6027\uff0c\u5236\u4f5c\u7ec4\u5f88\u597d\u7684\u8868\u8fbe\u4e86\u201c\u4f60\u4eec\u7231\u770b\u4e0d\u770b\u201d\uff0c\u6211: \u65e0\u8a00\u4ee5\u5bf9\ud83d\ude26\u3002\\n\\n\u5982\u679c\u5168\u5c40\u6240\u6709\u4eba\u90fd\u8fd9\u6837\u7eaf\u7cb9\u641e\u7b11\u4e5f\u5c31\u7b97\u4e86\uff0c\u4f46\u5374\u504f\u504f\u5c31\u8981\u6b63\u513f\u516b\u7ecf\u7ed9\u4f60\u8bb2\u8bb2\u6545\u4e8b\uff0c\u641e\u5f97\u5341\u5206\u96be\u53d7\uff0c\u770b\u7740\u90fd\u662f\u9e21\u76ae\u7599\u7629\u3002\u54ea\u5412\u7684\u201c\u9b54\u201d\u53ea\u662f\u4e3a\u9b54\u800c\u9b54\uff0c\u56e0\u4e3a\u662f\u9b54\u4e38\uff0c\u6240\u4ee5\u8981\u5f88\u91ce\uff0c\u5f88\u72c2\u5984\uff0c\u5f88\u56a3\u5f20\uff1f\u7136\u800c\u5bfc\u6f14\u544a\u8bc9\u6211\u5e76\u4e0d\u662f\u7684\uff0c\u662f\u56e0\u4e3a\u672c\u6765\u6709\u5c0f\u59b9\u59b9\u8981\u548c\u6211\u73a9\uff0c\u7ed3\u679c\u522b\u4eba\u5bb6\u957f\u4e0d\u8ba9\uff0c\u90a3\u6211\u5c31\u8981\u641e\u6b7b\u4ed6\u4eec\uff01WTF\uff1f\u8fd9\u54ea\u662f\u9b54\u4e38\uff0c\u8fd9\u5b8c\u5168\u5c31\u662f\u718a\u5b69\u5b50\u7684\u5b9a\u4f4d\uff0c\u800c\u4e14\u8fd8\u662f\u5f88\u8ba9\u4eba\u538c\u70e6\u90a3\u79cd\u718a\u5b69\u5b50\uff0c\u4e00\u5ea6\u611f\u5230\u6076\u5fc3\u96be\u53d7\ud83e\udd22\u3002\u5979\u5988\u4e0e\u4ed6\u4e5f\u662f\u540c\u6837\u7684\u95ee\u9898\uff0c\u4e00\u53e3\u4e0d\u77e5\u9053\u4ec0\u4e48\u5473\u7684\u53e3\u97f3\uff0c\u542c\u7684\u4e00\u5ea6\u51fa\u620f\uff08\u597d\u50cf\u4e5f\u6ca1\u5165\u620f\u8fc7\ud83e\udd2d\uff09\u3002\u89c9\u5f97\u6700\u53d7\u4e0d\u4e86\u7684\u662f\uff0c\u6211\u5f88\u7231\u4f60\uff0c\u5f88\u60f3\u966a\u4f34\u4f60\uff0c\u4f60\u53ea\u80fd\u6d3b\u4e09\u5e74\uff0c\u53ef\u662f\u6211\u8981\u53bb\u6253\u5996\u602a\uff0c\u90a3\u4f60\u5c31\u54ea\u8fb9\u51c9\u5feb\u54ea\u8fb9\u5446\u7740\u53bb\u5427\uff1f\uff1f\uff1f\u65a9\u5996\u9664\u9b54\u4e3a\u4ed6\u79ef\u5fb7\uff0c\u662f\u5e0c\u671b\u80fd\u591a\u6d3b\u4e00\u5206\u949f\u4e48\uff1f\uff1f\uff1f\u90a3\u4e0d\u7136\uff0c\u653e\u5f03\u4e0e\u5a03\u513f\u76f8\u5904\uff0c\u4f60\u5f97\u5230\u4e86\u4ec0\u4e48\uff1f\uff1f\uff1f\u5f71\u7247\u5e76\u6ca1\u6709\u5f3a\u8c03\u5e0c\u671b\u5f97\u5230\u8ba4\u540c\uff0c\u5982\u679c\u662f\u5e0c\u671b\u88ab\u8ba4\u540c\uff0c\u90a3\u5e94\u8be5\u662f\u5e26\u7740\u4e00\u8def\u53bb\u6253\u5996\u602a\uff0c\u770b\u5230\u8e22\u952e\u5b50\u7684\u65f6\u5019\u4e00\u5ea6\u4ee5\u4e3a\u4f1a\u8fd9\u6837\u53d1\u5c55\u3002\\n\\n\u770b\u5230\u9f99\u5bab\u51fa\u573a\u540e\uff0c\u53c8\u5f00\u59cbYY\u8fd9\u6761\u6545\u4e8b\u7ebf\uff0c\u611f\u89c9\u5f88\u6709\u610f\u601d\u5f88\u6709\u641e\u5934\u5440\uff0c\u573a\u666f\u5e03\u7f6e\u7684\u90a3\u4e48\u597d\uff0c\u4e5f\u662f\u4e00\u4e2a\u90a3\u4e48\u6709\u6545\u4e8b\u7684\u80cc\u666f\u7ebf\u3002\u63cf\u7ed8\u7684\u8fd9\u5929\u5ead\uff0c\u771f\u7684\u5f88\u201c\u5929\u5ead\u201d\uff0c\u611f\u89c9\u4e5f\u91ca\u6000\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u592a\u4e59\u771f\uff0c\u4e3a\u4ec0\u4e48\u8981\u5f53\u7533\u516c\u8c79\u7684\u9762\u7ed9\u592a\u4e59\u771f\u4eba\u5347\u804c\ud83e\udd23\u3002\\n\\n\u5f71\u7247\u7684\u4ef7\u503c\u89c2\u548c\u4e0d\u60f3\u505a\u8fc7\u591a\u8bc4\u4ef7\uff0c\u592a\u591a\u4eba\u8bb2\u4e86\uff0c\u8fd9\u601d\u60f3\uff0c\u8fd9\u6001\u5ea6\uff0c\u8fd9\u8bc4\u8bba\u53cd\u9988\uff0c\u7b2c\u4e00\u8054\u60f3\u5230\u7684\u5c31\u662f\u6218\u72fc\u3001\u6d41\u6d6a\u5730\u7403\u3002\u3002\u3002\u4e0d\u53ef\u8bf4\\n\\n\u6700\u540e\u8fd9\u7ed3\u5c3e\uff0c\u5f3a\u884c\u6253\u4e00\u67b6\uff0c\u5f3a\u884c\u5e2e\u4f60\u5fd9\uff0c\u5f3a\u884c\u9ed1\u5316\uff0c\u518d\u5f3a\u884c\u6d17\u767d\uff0c\u8fd9\u3002\u3002\u3002\u77ed\u77ed\u7684\u4e00\u4e8c\u5341\u5206\u949f\u53d1\u751f\u7684\u4e8b\u60c5\u592a\u591a\u4e86\uff0c\u6709\u70b9\u63a5\u53d7\u7684\u4e0d\u80fd\u3002\u592a\u667a\u969c\uff0c\u8ba9\u4eba\u60f3\u5230\u7684\u53ef\u80fd\u5c31\u662f\u5927\u9c7c\u6d77\u68e0\u4e86\uff5e\uff5e\ud83d\ude02\\n\\n\u4ee5\u4e0a\u53ea\u662f\u4e2a\u4eba\u5410\u69fd\uff0c\u90fd\u71ac\u591c\u770b\u7535\u5f71\u4e86\uff0c\u518d\u71ac\u591c\u5199\u4e2a\u5410\u69fd\u597d\u50cf\u4e5f\u8bf4\u5f97\u8fc7\u53bb\u3002"},{"id":"jackson-summary","metadata":{"permalink":"/story/jackson-summary","editUrl":"https://github.com/wenerme/wener/edit/master/story/2019/2019-08-11-jackson-summary.md","source":"@site/story/2019/2019-08-11-jackson-summary.md","title":"Jackson \u4f7f\u7528\u603b\u7ed3","description":"\u52a8\u6001\u7b56\u7565","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Java","permalink":"/story/tags/java"},{"label":"Jackson","permalink":"/story/tags/jackson"},{"label":"Json","permalink":"/story/tags/json"},{"label":"\u963f\u91cc","permalink":"/story/tags/\u963f\u91cc"}],"readingTime":12.545,"truncated":true,"authors":[],"prevItem":{"title":"\u56e7 -\u300a\u54ea\u5412\u4e4b\u9b54\u7ae5\u964d\u4e16\u300b\u89c2\u540e\u611f","permalink":"/story/tt10627720-review"},"nextItem":{"title":"Hello CGO","permalink":"/story/hello-cgo"}},"content":"## \u52a8\u6001\u7b56\u7565\\n\\n\u52a8\u6001\u7b56\u7565\u6982\u5ff5\u76f8\u5bf9\u5bbd\u6cdb\uff0c\u5728\u8fdb\u5165\u6b63\u5f0f\u7684\u5185\u5bb9\u4e4b\u524d\u5bb9\u6211\u5148\u660e\u786e\u9898\u76ee\u4e2d\u52a8\u6001\u7b56\u7565\u7684\u8303\u7574\u3002\\n\\n\u8fd9\u91cc\u7684\u52a8\u6001\u7b56\u7565\u6307\uff0c\u73b0\u5728\u4ee5 A \u65b9\u5f0f\u6765\u505a\u67d0\u4ef6\u4e8b\uff0c\u5728\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u88ab\u5207\u6362\u4e3a B \u65b9\u6848\uff0c\u4f46\u5bf9\u4e0a\u5c42\u6765\u8bf4\u662f\u65e0\u611f\u7684\u3002\u7b56\u7565\u53ef\u4ee5\u6620\u5c04\u4e3a\u7b56\u7565\u6a21\u5f0f\uff08Strategy Pattern\uff09\uff0c\u4f8b\u5982\\n\\n\x3c!-- more --\x3e\\n\\n_\u56fe\u7247\u7f3a\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565334699201-7c97dc59-48a8-4327-aa3e-4bd562230017.png) --\x3e\\n\\n\u4e0a\u4e0b\u6587\u4f9d\u8d56\u4e86\u4e00\u4e2a IStrategy \u63a5\u53e3\uff0c\u800c IStrategy \u6709\u4e24\u79cd\u5b9e\u73b0\uff0cStrategyA\u3001StrategyB\uff0c\u5728\u8fd0\u884c\u4e2d\u53ef\u80fd\u662f\u9009\u62e9\u7684 A \u7b56\u7565\u6216 B \u7b56\u7565\u3002\u518d\u4e00\u4e2a\u73b0\u5b9e\u4e00\u70b9\u7684\u4f8b\u5b50\\n\\n_\u56fe\u7247\u7f3a\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565335036438-50a9b700-1498-4153-96be-f5764341edb5.png) --\x3e\\n\\n\u56fe\u4f8b\u63cf\u8ff0\u4e86\u4e00\u4e2a\u5177\u4f53\u7684\u5b58\u50a8\u7b56\u7565\uff0cCachedStrategy \u662f\u5e26\u7f13\u5b58\u7684\u5b58\u50a8\u7b56\u7565\uff0c cache \u548c backend \u5b9e\u73b0\u7f13\u5b58\u903b\u8f91\uff0cIStorage \u672c\u8eab\u662f\u62bd\u8c61\u7684\u63a5\u53e3\uff0c\u56e0\u6b64\u7f13\u5b58\u903b\u8f91\u4e5f\u53ea\u9700\u8981\u4f9d\u8d56\u63a5\u53e3\u800c\u4e0d\u9700\u8981\u5173\u5fc3\u5177\u4f53\u5b9e\u73b0\u3002MemoryStorage \u662f\u4e00\u4e2a\u5185\u5b58\u5b58\u50a8\uff0c\u6570\u636e\u5b58\u5728\u5185\u5b58\u7684 Map \u4e2d\uff0cRedisStorage \u662f\u8bbf\u95ee\u8fdc\u7a0b\u7684\u5b58\u50a8\u3002\u6240\u6709\u7684\u8fd9\u4e9b\u7b56\u7565\u7ec6\u8282\u5bf9\u4e0a\u5c42\u800c\u8a00\u90fd\u662f\u65e0\u611f\u7684\uff0c\u6700\u4e0a\u5c42\u4f7f\u7528\u7684\u4f9d\u7136\u662f\u4e00\u4e2a\u5b58\u50a8\u63a5\u53e3\u3002\\n\\n\u8fd9\u6837\u7684\u7b56\u7565\u662f\u8fd8\u53ef\u4ee5\u53e0\u52a0\u7684\uff0c\u8fd9\u6837\u505a\u7b56\u7565\u7684\u76ee\u7684\u662f\u7b80\u5316\u4e86\u5355\u4e2a\u7b56\u7565\u5b9e\u73b0\u7684\u590d\u6742\u5ea6\uff0c\u4e13\u6ce8\u4e8e\u5b9e\u73b0\u4e00\u4e2a\u529f\u80fd\u70b9\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u7b56\u7565\uff0c\u5219\u9700\u8981\u5728\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u91cc\u5b9e\u73b0\u8fc7\u591a\u7684\u903b\u8f91\uff0c\u5f53\u9762\u4e34\u65b0\u7684\u9700\u6c42\uff0c\u63a5\u5165\u65b0\u7684\u9002\u914d\u7684\u65f6\u5019\uff0c\u5bfc\u81f4\u6539\u52a8\u4f1a\u5f02\u5e38\u56f0\u96be\uff0c\u4ee5\u4e0b\u7684\u4f2a\u4ee3\u7801\u5c55\u793a\u4e86\u8fd9\u6837\u7684\u533a\u522b\\n\\n**\u5355\u4e2a\u7c7b\u5b9e\u73b0**\\n\\n```js\\nclass StorageImpl {\\n  constructor({ redisUrl, redisPort }) {\\n    this.cache = {};\\n    this.redis = new Redis({ url: redisUrl, port: redisPort });\\n  }\\n  get(key) {\\n    if (this.cache[key]) {\\n      return this.cache[key];\\n    }\\n    let val = this.redis.get(key);\\n    if (val) {\\n      this.cache[key] = val;\\n    }\\n    return val;\\n  }\\n  set(key, value) {\\n    delete this.cache[key];\\n    this.redis.set(key, value);\\n  }\\n}\\n```\\n\\n**\u63a5\u53e3\u7b56\u7565\u5b9e\u73b0**\\n\\n```js\\nclass CachedStorage {\\n  constructor({ cache, backend }) {\\n    this.cache = cache;\\n    this.backend = backend;\\n  }\\n  get(key) {\\n    let val = this.cache.get(key);\\n    if (!val) {\\n      val = this.backend.get(key);\\n      if (val) {\\n        this.cache.set(key, val);\\n      }\\n    }\\n    return val;\\n  }\\n  set(key, val) {\\n    this.cache.set(key, null);\\n    this.backend.set(key, val);\\n  }\\n}\\n\\nclass MemoryStorage {\\n  constructor() {\\n    this.data = {};\\n  }\\n  get(key) {\\n    return this.data[key];\\n  }\\n  set(key, val) {\\n    this.data[key] = val;\\n  }\\n}\\n\\nclass RedisStorage {\\n  constructor({ url, host }) {\\n    this.redis = new Redis({ url, port });\\n  }\\n  get(key) {\\n    return this.redis.get(key);\\n  }\\n  set(key, val) {\\n    this.redis.set(key, val);\\n  }\\n}\\n```\\n\\n\u5f53\u4ee3\u7801\u548c\u7b56\u7565\u8f83\u5c11\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u76f4\u63a5\u5b9e\u73b0\u662f\u66f4\u7b80\u5355\u7684\uff0c\u4f46\u5f53\u7b56\u7565\u9010\u6e10\u589e\u591a\uff0c\u4e1a\u52a1\u903b\u8f91\u8d8a\u52a0\u590d\u6742\u7684\u65f6\u5019\uff0c\u5199\u5728\u5355\u4e2a\u5b9e\u73b0\u4e2d\u662f\u975e\u5e38\u96be\u4ee5\u7ef4\u62a4\u7684\uff0c\u4e00\u4e9b\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u4f8b\u5982 \u540e\u7aef\u8bbf\u95ee\u9700\u8981\u652f\u6301\u6309 key \u8fdb\u884c\u5206\u7247\u8bbf\u95ee\uff0c\u652f\u6301\u4ece\u53e6\u5916\u4e00\u79cd\u5b58\u50a8\u52a0\u8f7d\u6570\u636e\u3002\\n\\n\u7b56\u7565\u53ef\u4ee5\u5f88\u7075\u6d3b\uff0c\u4e14\u4e0d\u53ef\u9884\u77e5\u7684\uff0c\u56e0\u6b64\u9700\u8981\u5b9e\u73b0\u8fd9\u6837\u7684\u7b56\u7565\u7ba1\u7406\u76f4\u63a5\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u662f\u4e0d\u53ef\u884c\u7684\u3002\\n\\n## \u57fa\u4e8e JSON \u7684\u52a8\u6001\u7b56\u7565\u914d\u7f6e\\n\\n\u6bcf\u4e2a\u7b56\u7565\u90fd\u662f\u4e00\u4e2a\u901a\u7528\u7684\u63a5\u53e3\u5b9e\u73b0\uff0c\u4e00\u4e2a\u7b56\u7565\u7684\u5b9e\u73b0\u53ef\u80fd\u4f9d\u8d56\u5176\u5b83\u7b56\u7565\uff0c\u8fd9\u6837\u7684\u7ed3\u6784\u662f\u4e00\u4e2a\u6811\u5f62\u7684\uff0c\u90a3\u4e48\u914d\u7f6e\u4e5f\u662f\u4e00\u4e2a\u6811\u5f62\u7684\u7ed3\u6784\uff0c\u4f8b\u5982\\n\\n```json\\n{\\n  \\"type\\": \\"cached\\",\\n  \\"cache\\": {\\n    \\"type\\": \\"memory\\"\\n  },\\n  \\"backend\\": {\\n    \\"type\\": \\"redis\\",\\n    \\"port\\": 6379,\\n    \\"host\\": \\"127.0.0.1\\"\\n  }\\n}\\n```\\n\\n\u6574\u4f53\u7ed3\u6784\u4e0e\u7b56\u7565\u7684\u7ec4\u6210\u4e00\u81f4\uff0c\u4ece\u914d\u7f6e\u89d2\u5ea6\u6765\u8bf4\uff0c\u975e\u5e38\u76f4\u89c2\u4fbf\u4e8e\u7406\u89e3\u3002\u4f46\u5b9e\u9645\u4f7f\u7528\u65f6\u9700\u8981\u8fdb\u884c\u89e3\u6790\u5904\u7406\u5e76\u6620\u5c04\u4e3a\u5177\u4f53\u7684\u7b56\u7565\u5b9e\u73b0\u3002\\n\\n\u5728\u73b0\u6709\u7684 Java JSON \u89e3\u6790\u5e93\u4e2d\uff0cJackson \u529f\u80fd\u6700\u4e3a\u4e30\u5bcc\uff0c\u8981\u5b9e\u73b0\u8fd9\u6837\u7684\u7b56\u7565\u914d\u7f6e\u6709\u4e09\u79cd\u65b9\u5f0f\\n\\n1. JSON -> \u914d\u7f6e\u5bf9\u8c61 -> \u5b9e\u73b0\\n   - \u4f55\u65f6\u9009\u7528\uff1a\u5b9e\u73b0\u590d\u6742\uff0c\u6709\u8f83\u591a\u8fd0\u884c\u72b6\u6001\\n   - \u9700\u8981\u989d\u5916\u7684\u4e00\u6b21\u5b9e\u73b0\u6620\u5c04\\n   - \u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316\u7b80\u5355\\n2. JSON -> \u5b9e\u73b0\\n   - \u4f55\u65f6\u9009\u7528\uff1a\u5b9e\u73b0\u7b80\u5355\uff0c\u8fd0\u884c\u72b6\u6001\u53ef\u63a7\\n   - \u9700\u8981\u989d\u5916\u65b9\u6cd5\u8fdb\u884c\u521d\u59cb\u5316\\n   - \u72b6\u6001\u5b57\u6bb5\u9700\u8981\u6ce8\u610f\u4e0d\u8981\u88ab\u5e8f\u5217\u5316 - `@JsonIgnore` \u6216 transient\\n3. JSON->\u62bd\u8c61\u914d\u7f6e\u5bf9\u8c61->\u62bd\u8c61\u5b9e\u73b0->\u5b9e\u9645\u914d\u7f6e\u5bf9\u8c61->\u5b9e\u9645\u5b9e\u73b0\\n   - \u4f55\u65f6\u9009\u7528\uff1a\u5b9e\u73b0\u590d\u6742\u4e14\u6709\u7ee7\u627f\u5173\u7cfb\uff0c\u6bcf\u4e00\u5c42\u5b9e\u73b0\u590d\u6742\u5904\u7406\u4e0d\u540c\u7684\u914d\u7f6e\\n   - \u9700\u8981\u57fa\u4e8e\u914d\u7f6e\u5bf9\u8c61\uff0c\u914d\u7f6e\u5bf9\u8c61\u6709\u7ee7\u627f\u5173\u7cfb\\n   - \u914d\u7f6e\u5bf9\u8c61\u80fd\u6301\u6709\u4efb\u610f\u914d\u7f6e\u5185\u5bb9\uff0c\u4e0d\u540c\u914d\u7f6e\u5bf9\u8c61\u53ef\u5728\u4e0d\u4e22\u5931\u6570\u636e\u7684\u524d\u63d0\u4e0b\u4e92\u76f8\u8f6c\u6362\\n\\n### \u914d\u7f6e\u8fc7\u7a0b\\n\\n\u4ee5\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u4f7f\u7528\u914d\u7f6e\u5bf9\u8c61\u6765\u5b9e\u73b0\u914d\u7f6e\u7684\u62bd\u8c61\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\\n\\n```java\\npublic class ConfigObjectDemo {\\n    @Test\\n    public void test() throws IOException {\\n        ObjectMapper mapper = new ObjectMapper();\\n\\n        String config = \\"{\\\\\\"type\\\\\\":\\\\\\"cached\\\\\\",\\\\\\"cache\\\\\\":{\\\\\\"type\\\\\\":\\\\\\"memory\\\\\\"},\\\\\\"backend\\\\\\":{\\\\\\"type\\\\\\":\\\\\\"redis\\\\\\",\\\\\\"port\\\\\\":6379,\\\\\\"host\\\\\\":\\\\\\"127.0.0.1\\\\\\"}}\\";\\n        StorageConfig storageConfig = mapper.readValue(config, StorageConfig.class);\\n        // \u8f93\u51fa CachedStorageConfig(cache=MemoryConfig(), backend=RedisConfig(host=127.0.0.1, port=6379))\\n        System.out.println(storageConfig);\\n        // \u8f93\u51fa {\\"type\\":\\"cached\\",\\"cache\\":{\\"type\\":\\"memory\\"},\\"backend\\":{\\"type\\":\\"redis\\",\\"host\\":\\"127.0.0.1\\",\\"port\\":6379}}\\n        System.out.println(mapper.writeValueAsString(storageConfig));\\n    }\\n}\\n\\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = \\"type\\")\\n@JsonSubTypes({\\n        @JsonSubTypes.Type(value = CachedStorageConfig.class, name = \\"cached\\"),\\n        @JsonSubTypes.Type(value = MemoryConfig.class, name = \\"memory\\"),\\n        @JsonSubTypes.Type(value = RedisConfig.class, name = \\"redis\\")\\n})\\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE)\\ninterface StorageConfig{ String getType();}\\n\\n@Data\\nclass CachedStorageConfig implements StorageConfig{\\n    private StorageConfig cache;private StorageConfig backend;\\n    @Override public String getType() { return \\"cached\\"; }\\n}\\n@Data\\nclass MemoryConfig implements StorageConfig{ @Override public String getType() { return \\"memory\\"; }}\\n@Data\\nclass RedisConfig implements StorageConfig{\\n    private String host; private int port;\\n    @Override public String getType() { return \\"redis\\"; }\\n}\\n```\\n\\n\u5728\u8fd9\u91cc\u770b\u5230\u6bd4\u8f83\u590d\u6742\u7684\u6ce8\u89e3\u662f `@JsonSubTypes`\uff0c\u8be5\u6ce8\u89e3\u914d\u7f6e\u4e86\u7c7b\u578b\u4e0e\u5b9e\u9645\u5b9e\u73b0\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u800c `@JsonTypeInfo` \u914d\u7f6e\u4e86\u90a3\u4e2a\u5b57\u6bb5\u4f5c\u4e3a\u7c7b\u578b\u4fe1\u606f\u5b57\u6bb5\u3002\u901a\u8fc7\u6ce8\u89e3\u7684\u65b9\u5f0f\u914d\u7f6e\u4e0d\u592a\u7075\u6d3b\uff0c\u53ef\u80fd\u6709\u65f6\u5019\u4f1a\u5ffd\u7565\u914d\u7f6e\u6216\u914d\u7f6e\u9519\u8bef\uff0c\u4e14\u4e0d\u80fd\u52a8\u6001\u589e\u52a0\u3002\\n\\n\u89e3\u51b3\u914d\u7f6e\u6bd4\u8f83\u95ee\u9898\u4e5f\u6709\u4e24\u79cd\u529e\u6cd5\uff0c\u7b2c\u4e00\u79cd\u529e\u6cd5\u662f\u4fdd\u7559 `@JsonTypeInfo` \u6ce8\u89e3\uff0c\u7136\u540e\u624b\u52a8\u8fdb\u884c\u6620\u5c04\u5173\u7cfb\u7684\u914d\u7f6e\uff0c\u4f8b\u5982\\n\\n```java\\nObjectMapper mapper = new ObjectMapper();\\nmapper.registerSubtypes(new NamedType(CachedStorageConfig.class,\\"cached\\"));\\nmapper.registerSubtypes(new NamedType(MemoryConfig.class,\\"memory\\"));\\nmapper.registerSubtypes(new NamedType(RedisConfig.class,\\"redis\\"));\\n```\\n\\n\u7ed3\u679c\u4e0e\u901a\u8fc7\u6ce8\u89e3\u7684\u65b9\u5f0f\u914d\u7f6e\u662f\u76f8\u540c\u7684\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u52a8\u6001\u914d\u7f6e\u4e86\u3002\u5982\u679c\u8fde `@JsonTypeInfo` \u4e5f\u4e0d\u60f3\u8981\uff0c\u5e0c\u671b\u901a\u8fc7\u4ee3\u7801\u5b8c\u5168\u52a8\u6001\u6dfb\u52a0\uff0c\u8fd9\u6837\u7684\u8fc7\u7a0b\u4f1a\u6bd4\u8f83\u590d\u6742\u3002\u6700\u7ec8\u7684\u7ed3\u679c\u7c7b\u4f3c\u4e8e\\n\\n```java\\n// \u6ce8\u518c\u4e00\u4e2a\u52a8\u6001\u7c7b\u578b\uff0c\u4e14\u8bf4\u660e\u5982\u4f55\u83b7\u53d6\u5230\u7c7b\u578b\\nMyJson.registerDynamicType(StorageConfig.class, StorageConfig::getType);\\nMyJson.registerDynamicSubtypes(StorageConfig.class, new NamedType(CachedStorageConfig.class, \\"cached\\"));\\nMyJson.registerDynamicSubtypes(StorageConfig.class, new NamedType(MemoryConfig.class, \\"memory\\"));\\nMyJson.registerDynamicSubtypes(StorageConfig.class, new NamedType(RedisConfig.class, \\"redis\\"));\\n```\\n\\n`registerDynamicType` \u548c `registerDynamicSubtypes` \u7684\u5b9e\u73b0\u53ef\u53c2\u8003[\u8fd9\u91cc](https://github.com/wenerme/wava/blob/a216dfe8e92fe4822c9659949fbe862b9419eef4/wava-common/src/main/java/me/wener/wava/util/JSON.java#L114)\u3002\\n\\n\u81f3\u6b64\u4fbf\u5b8c\u6210\u4e86\u6240\u6709\u7684\u52a8\u6001\u914d\u7f6e\uff0c\u53cd\u5e8f\u5217\u5316\u4e3a\u914d\u7f6e\u5bf9\u8c61\u548c\u5b9e\u73b0\u6ca1\u6709\u7279\u522b\u5927\u7684\u533a\u522b\uff0c\u53ea\u9700\u8981\u63a7\u5236\u597d\u5b57\u6bb5\u53ef\u89c1\u6027\u5373\u53ef\u3002\\n\\n\u4f7f\u7528\u62bd\u8c61\u914d\u7f6e\uff0c\u5219\u9700\u8981\u80fd\u591f\u8bb0\u5f55\u5b8c\u6574\u7684\u4fe1\u606f\uff0c\u4ece\u62bd\u8c61\u914d\u7f6e\u8f6c\u6362\u4e3a\u5b9e\u9645\u914d\u7f6e\u65f6\u4e0d\u80fd\u4e22\u914d\u7f6e\u5185\u5bb9\uff0c\u4f7f\u7528 Jackson\uff0c\u53ef\u4f7f\u7528 `@JsonAnyGetter` \u548c `@JsonAnySetter` \u5b9e\u73b0\uff0c\u56e0\u4e3a\u6211\u4f1a\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u4f3c\u5982\u4e0b\u7684\u57fa\u7840\u7c7b\\n\\n```java\\npublic class PropertyObject {\\n    @JsonIgnore @Setter private Map<String, Object> properties;\\n\\n    @JsonAnyGetter public Map<String, Object> getProperties() { return properties; }\\n    @JsonAnySetter\\n    public Object set(String name, Object value) {\\n        if (properties == null) { properties = Maps.newHashMap(); }\\n        return properties.put(name, value);\\n    }\\n}\\n```\\n\\n\u5b8c\u6574\u5b9a\u4e49\u53c2\u8003 [PropertyObject](https://github.com/wenerme/wava/blob/a216dfe8e92fe4822c9659949fbe862b9419eef4/wava-common/src/main/java/me/wener/wava/model/PropertyObject.java)\u3002\\n\\n\u5bf9\u914d\u7f6e\u7684\u5904\u7406\u5219\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u8d23\u4efb\u94fe\u7684\u65b9\u5f0f\uff0c\u5982\u679c\u5b9e\u73b0\u5bf9\u914d\u7f6e\u611f\u5174\u8da3\uff0c\u5219\u5c06\u5176\u8f6c\u6362\u4e3a\u81ea\u5df1\u611f\u5174\u8da3\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u8fd9\u6837\u4e5f\u4fbf\u4e8e\u6dfb\u52a0\u6ce8\u89e3\u8fdb\u884c\u6821\u9a8c\u548c\u9a8c\u8bc1\u3002\\n\\n> \u5b9e\u73b0\u8fc7\u7a0b\\n>\\n> \u914d\u7f6e\u7684\u6b63\u786e\u5904\u7406\u548c\u6821\u9a8c\u4f7f\u5f97\u5b9e\u73b0\u8fc7\u7a0b\u76f8\u5bf9\u7b80\u5355\uff0c\u76f8\u5f53\u4e8e\u786e\u5b9a\u4e86\u7a0b\u5e8f\u7684\u6240\u6709\u5165\u53c2\uff0c\u5b9e\u73b0\u4fbf\u4e0d\u5728\u6b64\u8d58\u8ff0\u3002\\n\\n## \u7b56\u7565\u6269\u5c55\\n\\n\u6bcf\u4e00\u79cd\u7b56\u7565\u5b9e\u9645\u5bf9\u5e94\u7684\u90fd\u662f\u4e00\u90e8\u5206\u4e1a\u52a1\u903b\u8f91\uff0c\u90a3\u4e48 `1+1` \u548c `1-1` \u4e5f\u662f\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e24\u79cd\u7b56\u7565\uff0c\u5728[\u4ece 0 \u5230 1 \u5b9e\u73b0\u81ea\u5b9a\u4e49\u8bed\u8a00](https://wener.me/story/get-started-with-dsl/)\u4e2d\u6709\u63d0\u5230\uff0c\u8bed\u8a00\u88ab\u89e3\u6790\u540e\u4f1a\u751f\u6210\u8bed\u6cd5\u6811\uff0c\u800c\u8bed\u6cd5\u6811\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u4e00\u79cd\u6811\u5f62\u7684\u7b56\u7565\u903b\u8f91\u3002\u8868\u8fbe\u5f0f\u4e2d\u7684\u901a\u7528\u8282\u70b9\u4e00\u822c\u53eb\u505a Expression\uff0c\u800c\u6bcf\u4e2a Expression \u90fd\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6765\u4e00\u4e2a\u503c\uff0c\u8fd9\u4e2a\u503c\u53ef\u4ee5\u9690\u542b\u5728\u5176\u5b83\u7684\u4e00\u4e2a Expression \u4e2d\uff0c\u4f8b\u5982 1+1 \u53ef\u4ee5\u8868\u793a\u4e3a\\n\\n```json\\n{\\n  \\"type\\": \\"BinaryOperation\\",\\n  \\"operator\\": \\"ADD\\",\\n  \\"left\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 },\\n  \\"right\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 }\\n}\\n```\\n\\n\u800c 1+1+1 \u5219\u8868\u793a\u4e3a\\n\\n```json\\n{\\n  \\"type\\": \\"BinaryOperation\\",\\n  \\"operator\\": \\"ADD\\",\\n  \\"left\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 },\\n  \\"right\\": {\\n    \\"type\\": \\"BinaryOperation\\",\\n    \\"operator\\": \\"ADD\\",\\n    \\"left\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 },\\n    \\"right\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 }\\n  }\\n}\\n```\\n\\n\u5176\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u4e4b\u524d\u8ba8\u8bba\u7684\u914d\u7f6e\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u5f88\u591a\u7684\u4e1a\u52a1\u903b\u8f91\u672c\u8eab\u4e5f\u662f\u53ef\u4ee5\u901a\u8fc7\u8868\u8fbe\u5f0f\u6765\u8868\u8ff0\u7684\uff0c\u800c\u4f7f\u7528\u8868\u8fbe\u5f0f\u5219\u80fd\u662f\u7684\u573a\u666f\u914d\u7f6e\u66f4\u4e3a\u7075\u6d3b\u3002\\n\\n## \u5b9e\u9645\u5e94\u7528\\n\\n\u4ee5\u4e0b\u5217\u4e3e\u5728\u5b9e\u4f8b\u5f00\u53d1\u4e2d\u4f7f\u7528\u5230\u7684\u573a\u666f\uff0c\u4e09\u79cd\u573a\u666f\u5404\u4e0d\u76f8\u540c\u3002\\n\\n### \u5965\u683c\u5b58\u50a8\\n\\n\u5728 \u5965\u683c\u4eba\u7fa4\u4e8c\u65b9\u5305\u5f00\u53d1\u603b\u7ed3 \u4e2d\u6709\u63d0\u5230\u5e95\u5c42\u5b58\u50a8\u7684\u590d\u6742\u6027\\n\\n_\u56fe\u7247\u7f3a\u5931_\\n\\n\x3c!-- ![\u4eba\u7fa4\u4e8c\u65b9\u5305\u6587\u7ae0\u7d20\u6750 (2).png](https://intranetproxy.alipay.com/skylark/lark/0/2018/png/140424/1546074626769-bb495d37-803f-4dc6-8dc5-d2f3b373d263.png) --\x3e\\n\\n\u8be5\u914d\u7f6e\u7684\u5b9e\u73b0\u4fbf\u662f\u57fa\u4e8e\u8fd9\u6837\u7684\u914d\u7f6e\u903b\u8f91\u5b9e\u73b0\u7684\u3002\u5206\u522b\u5bf9\u5e94\u63a5\u53e3\\n\\n- CrowdStorage\\n- CrowdStore\\n\\n\u5982\u679c\u96c6\u6210\u4e86\u5965\u683c\u4e8c\u65b9\u5305 \u662f\u770b\u5f97\u5230\u76f8\u5e94\u5b9e\u73b0\u7684\u3002\\n\\n\u4f7f\u7528\u7684\u662f JSON \u76f4\u63a5\u53cd\u5e8f\u5217\u5316\u4e3a\u5b9e\u73b0\u7684\u65b9\u5f0f\u3002\\n\\n### \u4efb\u52a1\u8c03\u5ea6\\n\\n\u5965\u683c\u7684\u6e20\u9053\u7ba1\u7406\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u5957\u76f8\u5bf9\u901a\u7528\u7684\uff0c\u5728\u603b\u7ed3\u4e2d\u63d0\u5230\u591a\u5c42\u7ea7\u7684\u652f\u6301\u4fbf\u662f\u901a\u8fc7\u62bd\u8c61\u914d\u7f6e\u5b9e\u73b0\\n\\n- \u4efb\u52a1\u8c03\u5ea6\u652f\u6301\\n  _ \u6e20\u9053\u6295\u653e\\n  _ \u6e20\u9053\u652f\u6301 - \u77ed\u4fe1\u3001\u5916\u547c\u3001\u90ae\u4ef6/SMTP\\n  _ \u6570\u636e\u6e90\u652f\u6301 - \u63a5\u53e3\u3001\u4eba\u7fa4\u3001ODPS\\n  _ \u8c03\u5ea6\u652f\u6301 - \u5355\u6b21\u3001\u5468\u671f\u3001\u624b\u52a8\\n\\n\u914d\u7f6e\u5bf9\u8c61\u7c7b\u56fe\u5982\u4e0b\\n\\n_\u56fe\u7247\u7f3a\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565503501772-e6e9f241-72c2-41d5-94f4-95c4d9effa32.png) --\x3e\\n\\n### \u72b6\u6001\u4eba\u7fa4\u8868\u8fbe\u5f0f\\n\\n\u5965\u683c\u4e8c\u65b9\u5305\u73b0\u6709\u8868\u8fbe\u5f0f\u5904\u7406\u80fd\u529b\uff0c\u4f46\u5728\u4e0b\u4e00\u4e2a\u7248\u672c\u4e2d\u8be5\u529f\u80fd\u4f1a\u88ab\u589e\u5f3a\uff0c\u5c06\u4e0d\u5728\u5ba2\u6237\u7aef\u89e3\u6790\u7f16\u8bd1\uff0c\u800c\u662f\u5728\u670d\u52a1\u7aef\u5904\u7406\u540e\u4e0b\u53d1\u8bed\u6cd5\u6811\uff0c\u4e0b\u53d1\u7684\u8bed\u6cd5\u6811\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u7b56\u7565\u914d\u7f6e\uff0c\u8868\u8fbe\u5f0f\u7684\u7c7b\u56fe\u5982\u4e0b\\n\\n_\u56fe\u7247\u7f3a\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565504216442-e28b054c-0c3e-4b6d-b957-7f29600754f7.png) --\x3e\\n\\n## \u603b\u7ed3\\n\\n\u719f\u7ec3\u7684\u638c\u63e1\u548c\u4f7f\u7528\u5404\u79cd\u573a\u666f\u4e0b\u7684\u914d\u7f6e\u53ef\u4ee5\u51cf\u5c11\u5927\u91cf\u7684\u4e0d\u5fc5\u8981\u7684\u5904\u7406\u903b\u8f91\uff0c\u4e14\u80fd\u51cf\u5c11\u4e0d\u5c11\u7684 BUG\uff0c\u4e00\u4e9b Bad Smell \u4f8b\u5982 `JSON.parse(jsonString).get(\\"someThing\\").asLong()` \u662f\u5e94\u8be5\u88ab\u907f\u514d\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u4eba\u80fd\u77e5\u9053\u8fd9\u662f\u5728\u505a\u4ec0\u4e48\uff0c\u4e5f\u4e0d\u77e5\u9053\u91cc\u9762\u90fd\u6709\u4ec0\u4e48\uff0c\u50cf\u662f\u4e00\u4e2a\u9ed1\u76d2\u3002\u5f00\u53d1\u65f6\u5f80\u5f80\u4e1a\u52a1\u903b\u8f91\u662f\u76f8\u5bf9\u7b80\u5355\u7684\uff0c\u4f46\u662f\u786e\u4fdd\u62ff\u5230\u6b63\u786e\u7684\u914d\u7f6e\u5f88\u96be\uff0c\u9762\u5411\u5931\u8d25\u8bbe\u8ba1\uff0c\u5f00\u95ed\u539f\u5219\uff0c\u6709\u95ee\u9898\u7684\u5730\u65b9\u5fc5\u7136\u4f1a\u51fa\u95ee\u9898\uff0c\u5f80\u5f80\u6211\u4eec\u7528\u6765\u6821\u9a8c\u662f\u5426\u6b63\u786e\u7684\u4ee3\u7801\u6bd4\u5b9e\u9645\u7684\u4ee3\u7801\u8fd8\u8981\u591a\uff0c\u5f53\u9047\u5230\u8fd9\u6837\u95ee\u9898\u7684\u65f6\u5019\uff0c\u601d\u8003\u662f\u5426\u6709\u66f4\u597d\u7684\u65b9\u5f0f\u6765\u505a\u8fd9\u4e9b\u4e8b\u60c5\u3002"},{"id":"hello-cgo","metadata":{"permalink":"/story/hello-cgo","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-05-28-hello-cgo.md","source":"@site/story/2020/2020-05-28-hello-cgo.md","title":"Hello CGO","description":"Tips","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u5f00\u53d1","permalink":"/story/tags/\u5f00\u53d1"},{"label":"Golang","permalink":"/story/tags/golang"}],"readingTime":1.445,"truncated":false,"authors":[],"prevItem":{"title":"Jackson \u4f7f\u7528\u603b\u7ed3","permalink":"/story/jackson-summary"},"nextItem":{"title":"\u4e00\u5468 K3S \u5b66\u4e60\u5fc3\u5f97","permalink":"/story/k3s-one-week"}},"content":"## Tips\\n\\n- [\u7c7b\u578b\u8f6c\u6362](https://gist.github.com/zchee/b9c99695463d8902cd33)\\n\\n## \u521d\u8bd5\\n\\n```bash\\n# \u751f\u6210 libdemo.so libdemo.h\\ngo build -buildmode=c-shared -o libdemo.so ./demo.go\\n# \u7f16\u8bd1 main\\ngo build main.go\\n./main\\n\\n# macos - \u67e5\u770b\u5185\u5bb9\\nnm libdemo.so | grep hello -i\\n# linux\\nnm libdemo.so\\n# windows\\ndumpbin /EXPORTS libdemo.dll\\n\\n# windows \u4ea4\u53c9\u7f16\u8bd1 - \u9700\u8981\u5b89\u88c5 mingw\\nbrew install mingw-w64\\n\\n# 32 \u4f4d \u4ea4\u53c9\u7f16\u8bd1\\nGOOS=windows GOARCH=386 CGO_ENABLED=1 CC=i686-w64-mingw32-gcc go build -buildmode=c-shared -o libdemo.dll ./demo.go\\nGOOS=windows GOARCH=386 CGO_ENABLED=1 CC=i686-w64-mingw32-gcc go build main.go\\n\\n# macos wine \u4e0d\u652f\u6301 32 \u4f4d - mingw \u7248\u672c\u4f4e\u4e0d\u652f\u6301 64 \u4f4d\\n# mac \u4f1a\u51fa\u73b0\u5f02\u5e38 cc1: sorry, unimplemented: 64-bit mode not compiled in\\n# \u901a\u8fc7 docker \u7f16\u8bd1\\ndocker run --rm -v $HOME/go:/root/go -v $PWD:/host -w /host wener/go:win sh\\n\\nGOOS=windows GOARCH=amd64 CGO_ENABLED=1 CC=x86_64-w64-mingw32-gcc go build -buildmode=c-shared -o libdemo.dll ./demo.go\\nGOOS=windows GOARCH=amd64 CGO_ENABLED=1 CC=x86_64-w64-mingw32-gcc go build main.go\\n\\n# \u56de\u5230 mac \u4f7f\u7528 wine \u6267\u884c\\n# wine \u65e0\u6cd5\u5728 macos \u4e0a\u7f16\u8bd1\u5b89\u88c5 - \u7cfb\u7edf\u7248\u672c\u95ee\u9898 - \u9700\u8981\u4f7f\u7528 cask \u5b89\u88c5\\nbrew cask install wine-stable\\nwine64 main.exe\\n\\n# wine 4.0 \u521d\u59cb\u5316 dll \u5931\u8d25\\n# 0010:fixme:winsock:set_dont_fragment IP_DONTFRAGMENT for IPv4 not supported in this platform\\n# 0009:err:module:attach_dlls \\"libdemo.dll\\" failed to initialize, aborting\\n# 0009:err:module:attach_dlls Initializing dlls for L\\"Z:\\\\\\\\Users\\\\\\\\wener\\\\\\\\demo\\\\\\\\main.exe\\" failed, status c0000005\\n```\\n\\n**demo.go**\\n\\n```go\\npackage main\\n\\nimport \\"C\\"\\n\\n//export Version\\nfunc Version() int32 {\\n\\treturn 123\\n}\\n\\n//export Hello\\nfunc Hello(name *C.char) *C.char {\\n\\treturn C.CString(\\"Hello \\"+C.GoString(name)+\\"!\\")\\n}\\n\\nfunc main() {}\\n```\\n\\n**main.go**\\n\\n```go\\npackage main\\n\\nimport \\"fmt\\"\\n\\n/*\\n#cgo CFLAGS: -I.\\n#cgo LDFLAGS: -L. -ldemo\\n#include \\"libdemo.h\\"\\n*/\\nimport \\"C\\"\\n\\nfunc main() {\\n\\tfmt.Printf(\\"Int %v String %v\\\\n\\",C.Version(), C.GoString(C.Hello(C.CString(\\"Wener\\"))))\\n}\\n```"},{"id":"k3s-one-week","metadata":{"permalink":"/story/k3s-one-week","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-06-13-k3s-one-week.md","source":"@site/story/2020/2020-06-13-k3s-one-week.md","title":"\u4e00\u5468 K3S \u5b66\u4e60\u5fc3\u5f97","description":"k3s-one-week","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"label":"K3S","permalink":"/story/tags/k-3-s"},{"label":"\u8fd0\u7ef4","permalink":"/story/tags/\u8fd0\u7ef4"}],"readingTime":7.14,"truncated":true,"authors":[],"prevItem":{"title":"Hello CGO","permalink":"/story/hello-cgo"},"nextItem":{"title":"\u4f60\u5c31\u662f\u4f60","permalink":"/story/cyw-without-w"}},"content":"![k3s-one-week](./k3s-one-week.png)\\n\\n> K3S is five times eaiser than K8S \ud83d\ude0a\\n\\n\x3c!--more--\x3e\\n\\n\\n\\n## \u4e00\u70b9\u70b9\u5386\u53f2\\n\\n\u521a\u5f00\u59cb\u4e86\u89e3 K8S \u662f\u5927\u7ea6 1.4 \u7248\u672c Beta \u65f6\uff082016\uff09\uff0c[kubeadm](http://kubernetes.io/docs/getting-started-guides/kubeadm/) \u521a\u5f00\u59cb\u6709\u4e00\u5b9a\u96cf\u5f62\uff0cK8S \u624d\u5f00\u59cb\u5728\u4e00\u822c\u5927\u4f17\u9762\u524d\u5c55\u9732\u5934\u89d2\u3002\\n\\n\u5f53\u65f6\u7684 Docker \u7f16\u6392\u5de5\u5177\u7b97\u662f\u767e\u82b1\u9f50\u653e\uff0c\u4f46\u5f53\u65f6\u5982\u679c\u60f3\u8981\u73a9\u597d K8S \u662f\u76f8\u5f53\u96be\u7684\uff0c\u56e0\u4e3a K8S \u8c37\u6b4c\u7275\u5934\u5f00\u53d1\uff0c\u6240\u6709\u955c\u50cf\u90fd\u5728 gcr \u4e0a\uff0c\u95e8\u69db\u5df2\u7ecf\u7b97\u6bd4\u8f83\u9ad8\u4e86\u3002\u800c\u4e14\u90e8\u7f72\u7528\u7684\u5de5\u5177\u4e5f\u8fd8\u76f8\u5f53\u4e0d\u6210\u719f\uff0c\u6ca1\u6709\u4e13\u4e1a\u7684\u8fd0\u7ef4\u90e8\u7f72\u90fd\u5f88\u96be\uff0c\u51b5\u4e14\u8fd8\u9700\u8981\u4e13\u4eba\u7ef4\u62a4\u3002\\n\\n\u800c\u4eca\u5929\uff0c2020\uff0cK8S \u5df2\u7ecf\u6709\u5f88\u591a\u53d1\u884c\u7248\u4e86\uff0c\u5927\u591a\u7f16\u6392\u5e73\u53f0\u5e95\u5c42\u5982\u679c\u4e0d\u662f\u57fa\u4e8e K8S \u90a3\u4e5f\u662f\u652f\u6301 K8S\u3002Rancher 1.0 \u8f6c\u578b\u5230 2.0 \u65f6\u629b\u5f03\u4e86\u4e4b\u524d\u7684\u6a21\u5f0f\uff0c\u9009\u62e9\u4e86\u57fa\u4e8e K8S\uff0cRancher \u5b9a\u4f4d\u4e3a\u96c6\u7fa4\u7ba1\u7406\u3002\\n\\n\u56e0\u6b64 Rancher \u4e4b\u4e0b\u8bde\u751f\u4e86\u5f88\u591a\u8f85\u52a9\u4e8e K8S \u5e73\u53f0\u7684\u5de5\u5177\u548c\u5468\u8fb9\uff0cK3S \u4e5f\u7b97\u662f\u6838\u5fc3\u4e4b\u4e00\u3002\\n\\n\u5728\u8fd9\u4e4b\u524d\u5bf9\u4e8e K8S \u4ec5\u9650\u4e8e\u4e86\u89e3\uff0c\u800c\u73b0\u5728\u5219\u662f\u9700\u8981\u8003\u8651\u4f7f\u7528\u4e86\uff0c\u56e0\u6b64\u5f00\u59cb\u91cd\u65b0\u5b66\u4e60\u3002\\n\\n## \u5173\u4e8e K3S\\n\\nK3S \u5927\u5927\u964d\u4f4e\u4e86 K8S \u7684\u95e8\u69db\uff0c\u4e3b\u8981\u5728\u4e8e\\n\\n- \u5355\u673a\u53ef\u542f\u52a8\\n- Docker \u53ef\u542f\u52a8\\n- \u4e0d\u518d\u4f9d\u8d56 etcd\\n\\n\u5982\u679c\u7528\u4e0d\u5230\u96c6\u7fa4\uff0cK3S+Dashboard \u7528\u6765\u505a\u5355\u673a\u7684 Docker \u754c\u9762\u90fd\u662f\u975e\u5e38\u5408\u9002\u7684\u3002\\n\\n## \u5b66\u4e60\u8fc7\u7a0b\u603b\u7ed3\\n\\n### \u7406\u89e3 K3S\\n\\nKubernates \u7684\u6838\u5fc3\u662f\u4f9d\u8d56 ETCD \u4f5c\u4e3a\u6838\u5fc3\u72b6\u6001\u5b58\u50a8\uff0c\u5c31\u597d\u6bd4 Hadoop \u6838\u5fc3\u4f9d\u8d56 Zookeeper \u4e00\u6837\uff0c\u800c K3S \u4ee5 Adapter [kine](https://github.com/rancher/kine) \u66ff\u4ee3\u4e86\u5bf9 etcd \u7684\u4f9d\u8d56\uff0c\u66b4\u9732 etcd \u80fd\u529b\uff0c\u4f46\u540e\u7aef\u5b58\u50a8\u88ab\u9002\u914d\u5230\\n\\n- SQLite\\n- DQLite\\n- MySQL\\n- Postgres\\n\\n\u5728\u90e8\u7f72\u96c6\u7fa4 K3S \u65f6\u5019\u53ea\u8981\u9009\u62e9\u7684\u5b58\u50a8\u662f\u7f51\u7edc\u6570\u636e\u5e93\u5b58\u50a8\u6216\u8005\u5185\u5d4c\u7684 DQLite \u5373\u53ef\u3002\\n\\nK3S \u662f\u5355\u72ec\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5c06\u6240\u9700\u7684\u5927\u90e8\u5206\u529f\u80fd\u90fd\u6253\u5305\u5230\u4e86\u5185\u90e8\\n\\n- k3s server - \u4e3b\u8282\u70b9\u5b88\u62a4\u8fdb\u7a0b\\n- k3s agent - \u4ece\u8282\u70b9\u5b88\u62a4\u8fdb\u7a0b\\n- kubectl - \u4e0e k8s \u7684\u4ea4\u4e92\u5de5\u5177\\n- crictl - containerd \u8c03\u8bd5\u5de5\u5177\\n\\n\u5728\u542f\u52a8 k3s \u7684 server \u6216 agent \u65f6\u4f1a\u901a\u8fc7\u5bb9\u5668\uff08docker \u6216\u8005 containerd\uff09\u542f\u52a8 K8S \u7684\u6838\u5fc3\u670d\u52a1\uff08\u4f8b\u5982 apiserver\uff09\u3002\u4f7f\u5f97\u5728\u90e8\u7f72 K3S \u65f6\u5f02\u5e38\u7b80\u5355\uff0c\u6240\u6709\u4f9d\u8d56\u90fd\u5728\u4e00\u4e2a\u4e8c\u8fdb\u5236\uff0c\u4e5f\u56e0\u4e3a\u8fd9\u6837\uff0c\u652f\u6301 arm \u4e5f\u53ea\u9700\u8981\u518d\u6b21\u8fdb\u884c\u7f16\u8bd1\u5355\u4e2a\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5373\u53ef\uff08\u5f53\u7136\u4e5f\u8981\u6709\u5bb9\u5668\u955c\u50cf\u662f\u652f\u6301\u5bf9\u5e94\u67b6\u6784\u7684\uff09\u3002\\n\\n\u4e0d\u4ec5\u662f\u7b80\u5316\u4e86\u90e8\u7f72\u548c\u96c6\u7fa4\u4e00\u81f4\u6027\u7684\u4f9d\u8d56\uff0cK3S \u9488\u5bf9\u90e8\u5206\u6838\u5fc3\u670d\u52a1\u6709\u9ed8\u8ba4\u914d\u7f6e\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u90e8\u5206\u6838\u5fc3\u670d\u52a1\u7684\u5b9e\u73b0\\n\\n- servicelb - [rancher/klipper-lb](https://github.com/rancher/klipper-lb)\\n  - \u63d0\u4f9b\u6700\u7b80\u5316\u7684 lb \u5b9e\u73b0 - \u9009\u62e9\u5f00\u653e\u7aef\u53e3\\n- traefik\\n  - \u63d0\u4f9b Ingress \u548c LB\\n- [metric-server](https://github.com/kubernetes-sigs/metrics-server)\\n- cloud manager - K8S \u80fd\u83b7\u53d6\u5230\u8282\u70b9\u4fe1\u606f\\n- corndns\\n\\nK3S server/agent \u76f8\u5f53\u4e8e\u662f kubeadm + \u90e8\u5206\u63a7\u5236\u5668\u5b9e\u73b0\u3002\\n\\n### \u90e8\u7f72 K3S\\n\\n\u5b98\u65b9\u7ed9\u7684\u90e8\u7f72\u5c31\u4e00\u884c\u547d\u4ee4\\n\\n```bash\\ncurl -sfL https://get.k3s.io | sh -\\n```\\n\\n\u62c9\u53d6\u811a\u672c\u5e76\u6267\u884c\uff0c\u4f46\u521d\u6b21\u4f7f\u7528\uff0c\u8fd8\u662f\u5efa\u8bae\u81ea\u884c\u624b\u52a8\u90e8\u7f72\uff0c\u811a\u672c\u7b80\u5355\u660e\u4e86\uff0c\u9605\u8bfb\u540e\u5c31\u77e5\u9053[\u505a\u4e86\u4ec0\u4e48](https://wener.me/notes/devops/kubernetes/k3s#getk3sio)\u3002\\n\\n\u5982\u679c\u5bf9\u4e8e\u5927\u6279\u91cf\u90e8\u7f72\uff0c\u5efa\u8bae\u63d0\u524d\u4e0b\u8f7d k3s \u7136\u540e\u4e0a\u4f20\u542f\u52a8\u5373\u53ef\u3002\\n\\n### \u90e8\u7f72\u9009\u62e9\\n\\nK8S \u662f\u5206\u5e03\u5f0f\u7684 \u5bb9\u5668 \u7f16\u6392\u5de5\u5177\uff0c\u6240\u6709\u7684\u529f\u80fd\u90fd\u662f\u56f4\u7ed5\u8fd9\u4e2a\u6838\u5fc3\u6765\u5c55\u5f00\u7684\uff0c\u56e0\u4e3a\u5206\u5e03\u5f0f\uff0c\u90a3\u4e5f\u5fc5\u7136\u9762\u5bf9\u7740\u6240\u6709\u5206\u5e03\u5f0f\u5e73\u53f0\u90fd\u4f1a\u9762\u4e34\u7684\u95ee\u9898\u3002\\n\\n\u901a\u5e38\u7684\u5355\u8282\u70b9\u5e94\u7528\u6211\u4eec\u8003\u8651\u7684\u662f\\n\\n- CPU+\u5185\u5b58 - \u8ba1\u7b97 - \u57fa\u7840\u8d44\u6e90\\n- \u5e26\u5bbd - \u7f51\u7edc\\n- \u78c1\u76d8 - \u5b58\u50a8\\n\\n\u5728\u90e8\u7f72 Kubernates \u7684\u65f6\u5019\u6700\u5f00\u59cb\u4e5f\u662f\u8003\u8651\u8fd9\u4e9b\u95ee\u9898\uff0cK3S \u7684\u5355\u8282\u70b9\u90e8\u7f72\u80fd\u591f\u628a\u8fd9\u4e9b\u95ee\u9898\u7684\u601d\u8003\u65f6\u95f4\u6ede\u540e\uff0c\u4f46\u8fd8\u662f\u9700\u8981\u89e3\u51b3\u7684\u3002\\n\u5e76\u4e14\u90e8\u7f72\u7684\u8fc7\u7a0b\u5c31\u662f\u5404\u79cd\u9009\u62e9\u6743\u8861\u7684\u95ee\u9898\uff0c\u518d\u7ed3\u5408\u81ea\u8eab\u5b9e\u9645\u4f7f\u7528\u60c5\u51b5\u548c\u8d44\u6e90\u786c\u4ef6\u60c5\u51b5\u8fdb\u884c\u51b3\u7b56\u3002\\n\\n- \u8ba1\u7b97\u8d44\u6e90 - \u963f\u91cc\u4e91\u3001\u7269\u7406\u673a\u3001\u865a\u62df\u673a\\n- \u7f51\u7edc - \u5982\u4f55\u7ec4\u7f51\\n  - \u8de8\u7f51\u7edc\\n  - \u6df7\u5408\u7f51\u7edc\\n- \u5b58\u50a8\\n- \u5bb9\u5668\u8fd0\u884c\u73af\u5883 - docker\u3001containerd\\n- cni\\n  - flannel \u7ec4\u7f51\u65b9\u5f0f - wireguard\u3001host-gw\u3001vxlan\\n  - calico\\n  - wave\\n  - \u5176\u4ed6\u3002\u3002\u3002\\n- servicelb - \u5185\u5efa\u3001metallb\\n- ingress - traefik1\uff08\u9ed8\u8ba4\uff09\u3001traefik2\u3001nginx\u3001haproxy\u3001envoy\u3001\u4e91\u5e73\u53f0\u63d0\u4f9b\\n- K3S \u5b58\u50a8\u540e\u7aef - Postgres\u3001MySQL\\n\\n\u76ee\u524d\u6709\u7684\u4eba\u5458\u3001\u786c\u4ef6\u8d44\u6e90\u3001\u5e73\u53f0\u3001\u5df2\u6709\u73af\u5883\\n\\n- \u4eba\u5458 - 1 \u4e2a\u4eba - \u6211\\n- \u786c\u4ef6\\n  - 1 \u670d\u52a1\u5668 - 40 \u6838 250G\\n  - \u963f\u91cc\u4e91\u82e5\u5e72\\n  - \u817e\u8baf\u4e91\u82e5\u5e72\\n  - \u5c0f\u578b\u7269\u7406\u673a\u82e5\u5e72\\n  - \u6811\u8393\u6d3e\u82e5\u5e72\\n- \u5e73\u53f0\\n  - AMD64\u3001ARM64\\n  - \u963f\u91cc\u4e91\u3001\u817e\u8baf\u4e91\\n- \u5df2\u6709\\n  - Tinc\\n\\n\u505a\u4e86\u5982\u4e0b\u7684\u89c4\u5212\u90e8\u7f72\\n\\n- \u8ba1\u7b97\u8d44\u6e90\\n  - \u963f\u91cc\u4e91 - Bare Metal\\n  - \u670d\u52a1\u5668\u5f00\u865a\u62df\u673a - libvirt+qemu+kvm\\n  - \u7269\u7406\u673a\u770b\u60c5\u51b5\u5f00\u59cb\u865a\u62df\u673a\u6216\u76f4\u63a5\u4f7f\u7528\\n  - \u6811\u8393\u6d3e\u76f4\u63a5\u5b89\u88c5\\n- \u7f51\u7edc - flannel-host-gw + tinc + metallb\\n  - \u4f8b\u5982 10.10.0.0/16\u3001\u5176\u4e2d 10.10.0.0/18 \u9884\u7559\u4e3a\u5bbf\u4e3b\u673a\u300110.10.64.0/18 \u9884\u7559\u7ed9 metallb \u5206\u914d\\n- \u5b58\u50a8 - zfs+longhorn\\n  - \u9009\u53d6\u90e8\u5206\u8282\u70b9\\n- \u5bb9\u5668\u8fd0\u884c\u73af\u5883 - docker\\n- servicelb - metallb\\n- ingress - traefik2\\n  - \u963f\u91cc\u4e91\u8282\u70b9\u4f5c\u4e3a\u5bf9\u5916\u5165\u53e3\\n- K3S \u5b58\u50a8\u540e\u7aef - \u963f\u91cc\u4e91 Postgres\\n\\n\u90e8\u7f72\u5b8c\u6210\u540e\u53ea\u662f\u7b2c\u4e00\u6b65\uff0c\u5f00\u59cb\u4e86\u89e3[\u5404\u79cd\u6982\u5ff5](https://wener.me/notes/devops/kubernetes/k8s-glossary)\u90e8\u7f72\u5404\u79cd\u670d\u52a1\u9002\u914d\u5404\u79cd\u573a\u666f\u624d\u662f\u66f4\u91cd\u8981\u7684\u3002\\n\\n## \u662f\u5426\u5e94\u8be5\u9009\u62e9 K3S\\n\\n\u5982\u679c\u4f60\u72b9\u8c6b\u4f7f\u7528 K3S \u8fd8\u662f\u4f7f\u7528 K8S \u8bf7\u601d\u8003\u4ee5\u4e0b\u95ee\u9898\\n\\n- \u516c\u53f8\u5728\u5e73\u53f0\u6295\u5165\u591a\u5c11 \uff1f\\n- \u6709\u591a\u5c11\u4e13\u4eba\u7ef4\u62a4 \uff1f\\n  - K8S \u5efa\u8bae\u81f3\u5c11 3-5 \u4eba\\n- \u8282\u70b9\u8d44\u6e90\u6027\u80fd\u5982\u4f55 \uff1f\\n  - K8S \u5efa\u8bae\u81f3\u5c11 8 \u6838 32G - \u5426\u5219\u57fa\u7840\u670d\u52a1\u5360\u7528\u8d44\u6e90\u4e0d\u80fd\u88ab\u5e73\u644a\\n- \u662f\u5426\u9009\u62e9\u6258\u7ba1\u7684 K8S \uff1f\\n  - \u4e0d\u5b58\u5728\u4f7f\u7528 K3S\\n- \u6df7\u5408\u4e91\u3001\u79c1\u6709\u4e91\u3001\u516c\u6709\u4e91 \uff1f\\n\\n\u6216\u8005\u7528\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5224\u65ad\\n\\n- \u8282\u70b9\u6570 <=50 \u9009\u62e9 K3S\\n  - \u4e00\u4eba\u5de5\u4f5c\u91cf\\n- 50 < \u8282\u70b9\u6570 <= 150 \u9009\u62e9 K3S \u6216 K8S\\n- \u8282\u70b9\u6570\u91cf > 150 \u9009\u62e9 K8S\\n  - \u6709\u8fd9\u6837\u7684\u89c4\u6a21\uff0c\u8fd0\u7ef4\u5fc5\u7136\u662f\u4e00\u4e2a\u56e2\u961f\uff0c\u56e0\u6b64\u4e0d\u5b58\u5728 K8S \u590d\u6742\u7684\u95ee\u9898"},{"id":"cyw-without-w","metadata":{"permalink":"/story/cyw-without-w","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-06-15-cyw-without-w.md","source":"@site/story/2020/2020-06-15-cyw-without-w.md","title":"\u4f60\u5c31\u662f\u4f60","description":"YUN","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u6210\u957f","permalink":"/story/tags/\u6210\u957f"}],"readingTime":1.815,"truncated":true,"authors":[],"prevItem":{"title":"\u4e00\u5468 K3S \u5b66\u4e60\u5fc3\u5f97","permalink":"/story/k3s-one-week"},"nextItem":{"title":"\u5f00\u6e90 BI \u4ea7\u54c1\u6bd4\u8f83","permalink":"/story/compare-os-bi-tool"}},"content":"![YUN](./yun-explained.png)\\n\\n> CYW \u6ca1\u6709\u4e86 \u6211(W) \u4fbf\u662f \u4f60(CY)\\n>\\n> -- wener\\n\\n\x3c!-- more --\x3e\\n\\n\\n\\n\u5929\u6674\u4e0b\u96e8\u662f\u4e2a\u5f88\u96be\u8bf4\u5f97\u6e05\u695a\u7684\u4e1c\u897f\uff0c\u4f46\u8574\u548c\u6e29\u5176\u5b9e\u662f\u4e24\u4e2a\u5b57\u3002\\n\\n\u5bf9\u4e8e\u793e\u4f1a\u4eba\u7684\u4e0d\u7406\u89e3\uff0c\u4f60\u53ef\u4ee5\u8ba4\u8bc6\u201c\u8574\u85cf\u201d\uff0c\u53ef\u4ee5\u8ba4\u8bc6\u201c\u6e29\u6696\u201d\uff0c\u4f46\u5f53\u5355\u72ec\u770b\u5230\u8574\u7684\u65f6\u5019\uff0c\u4ed6\u5e94\u8be5\u8fd8\u662f\u8bfb\u4f5c y\xf9n\u3002\\n\\n\u5988\u5988\u8bf4\uff1a\u201c\u4f60\u6b20\u6211\u7684\u592a\u591a\uff01\u201d\uff08\u4e0d\u53ef\u5426\u8ba4\uff09\ud83e\udd37\u200d\u2642\ufe0f\\n\u5988\u5988\u8fd8\u8bf4\uff1a\u201c\u540d\u2018\u6b20\u8096\u2019\u597d\u4e86\u201d\\n\\n\u4f46\u4f60\u8fd8\u662f\u4f60\uff0c\u4e0d\u5e94\u8be5\u643a\u5e26\u6211\u4eec\u7684\u5f71\u5b50\u3002\\n\\n2020\u4e00\u4e2a\u4e00\u70b9\u70b9\u8d77\u4f0f\u52a8\u8361\u7684\u6570\u5b57\uff0c\u4f46\u4f60\u80fd\u770b\u52302100\uff0c\u90a3\u5e94\u8be5\u662f\u4e00\u756a\u975e\u5e38\u503c\u5f97\u671f\u5f85\u7684\u666f\u8c61\uff0c\u6709\u61a7\u61ac\u624d\u4f1a\u6709\u524d\u8fdb\u7684\u52a8\u529b\u3002\\n\u800c\u4f60\u662f\u6211\u4eec\u7684\u61a7\u61ac\uff0c\u4e0d\u8fc7\u6240\u5e78\u7684\u662f\u4f60\u7684\u7236\u6bcd\u8db3\u591f\u201c\u5927\u6761\u201d\uff0c\u4e0d\u9700\u8981\u6709\u5fc3\u91cc\u538b\u529b\uff08\u751f\u6d3b\u6709\u538b\u529b\u4e86\u8fd8\u8bf7\u81ea\u52a9\uff09\uff0c\u4fdd\u6301\u73b0\u5728\u7684\u5f00\u5fc3\u5feb\u4e50\u5c31\u597d\u3002\\n\u4e0d\u8fc7\u5176\u5b9e\u5f00\u5fc3\u5feb\u4e50\u7684\u53ef\u80fd\u662f\u6211\u4eec\uff1f\u90a3\u8fd9\u4e9b\u5e74\u8fd8\u8bf7\u591a\u591a\u62c5\u5f85\uff0c\u591a\u591a\u5305\u5bb9\uff0c\u591a\u591a\u7406\u89e3\u3002\\n\\n\u6211\u4eec\u5f7c\u6b64\u7684\u4f34\u968f\u662f\u751f\u547d\u7684\u5ef6\u7eed\uff0c\u8fd9\u4e9b\u5e74\u4e14\u7b97\u662f\u4e3a\u4e86\u66f4\u597d\u7684\u4e86\u89e3\u5f7c\u6b64\uff0c\u751f\u6d3b\u5728\u4e00\u8d77\u3002\\n\\n\u4f34\u968f\u7684\u662f\u723d\u6717\u7684\u7b11\u58f0\uff0c\u8c6a\u653e\u7684\u54ed\u58f0\uff0c\u54bf\u54bf\u5440\u5440\u54e6\u54e6\u7684\u513f\u661f\u8bed\uff1f\\n\u8fd8\u6709\u73b0\u5728\u4f1a\u8bf4\u7684\u8bdd\uff0c\u201c\u5988\u5988\u201d\uff0c\u201c\u7238\u7238\u201d\uff0c\u201c\u5976\u5976\u201d\uff0c\u201c\u62ff\u6765\u201d\uff1f\u597d\u50cf\u6ca1\u4ec0\u4e48\u95ee\u9898\uff1f\ud83e\udd2d\\n\\n\u7ed9\u4f60\u7684\u662f\u6240\u6709\uff0c\u6bd5\u7adf\u4f60\u662f\u552f\u4e00\u7559\u4e0b\u7684\u3002"},{"id":"compare-os-bi-tool","metadata":{"permalink":"/story/compare-os-bi-tool","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-07-14-compare-os-bi-tool.md","source":"@site/story/2020/2020-07-14-compare-os-bi-tool.md","title":"\u5f00\u6e90 BI \u4ea7\u54c1\u6bd4\u8f83","description":"\u6bd4\u8f83 Metabase\u3001Redash\u3001Superset \u8fd9\u51e0\u6b3e\u5f00\u6e90\u7684 BI \u4ea7\u54c1\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"BI","permalink":"/story/tags/bi"},{"label":"\u5927\u6570\u636e","permalink":"/story/tags/\u5927\u6570\u636e"}],"readingTime":6.335,"truncated":true,"authors":[],"prevItem":{"title":"\u4f60\u5c31\u662f\u4f60","permalink":"/story/cyw-without-w"},"nextItem":{"title":"\u5fae\u670d\u52a1\u6742\u5ff5","permalink":"/story/microservice-thoughts"}},"content":"\u6bd4\u8f83 Metabase\u3001Redash\u3001Superset \u8fd9\u51e0\u6b3e\u5f00\u6e90\u7684 BI \u4ea7\u54c1\u3002\\n\\n| Name     | License | Stars               | Languages | Deps          | Github                        |\\n| -------- | ------- | ------------------- | --------- | ------------- | ----------------------------- |\\n| Metabase | AGPL    | ![][metabase-stars] | Clojure   | H2/PostgreSQL | [metabase/metabase][metabase] |\\n| Redash   | BSD     | ![][redash-stars]   | JS        | Redis+DB      | [getredash/redash][redash]    |\\n| Superset | Apache  | ![][superset-stars] | Python    | Cache+DB      | [apache/superset][superset]   |\\n\\n[metabase]: https://github.com/metabase/metabase\\n[redash]: https://github.com/getredash/redash\\n[superset]: https://github.com/apache/superset\\n[metabase-stars]: https://img.shields.io/github/stars/metabase/metabase\\n[redash-stars]: https://img.shields.io/github/stars/getredash/redash\\n[superset-stars]: https://img.shields.io/github/stars/apache/superset\\n\\n\x3c!-- more --\x3e\\n\\n- metabase\\n  - \u754c\u9762\u64cd\u4f5c\u53cb\u597d\\n  - \u504f\u5411\u4e8e\u4ea7\u54c1\\n  - \u56fe\u8868\u7c7b\u578b\u5c11\\n  - AGPL\\n  - \u5d4c\u5165\u53bb Logo \u6536\u8d39 - 300$/\u6708 3000$/\u5e74\\n  - \u5546\u4e1a\u7248 - 10000+ \\\\$/\u5e74\\n    - \u5d4c\u5165\u65e0 Logo\\n    - SSO - SAML\\n    - \u884c\u7ea7\u6743\u9650\\n    - \u5ba1\u8ba1\u5de5\u5177\\n  - \u53ef\u5355\u4e2a Docker \u76f4\u63a5\u542f\u52a8 - \u4f7f\u7528 H2 \u5d4c\u5165\u5f0f\u6570\u636e\u5e93\\n  - \u754c\u9762\u597d\u770b - \u672c\u5730\u5316\u5f88\u597d\u3001\u5206\u4eab\u53cb\u597d\\n- redash\\n  - \u7eaf SQL\\n  - \u56fe\u8868\u4f7f\u7528 PlotlyJS\\n    - \u53ef\u4ee5\u7406\u89e3\u4e3a Redash \u53ea\u8d1f\u8d23\u5904\u7406\u6570\u636e\\n  - \u652f\u6301\u6700\u591a\u7684\u6570\u636e\u6e90/JDBC\\n  - \u6ca1\u6709\u672c\u5730\u5316\\n- superset\\n  - \u652f\u6301\u6700\u591a\u7684\u56fe\u8868\\n  - \u65e2\u53ef\u4ee5 SQL \u53c8\u53ef\u4ee5 UI\\n  - \u529f\u80fd\u6700\u5f3a\\n  - \u6269\u5bb9\u6027\u6700\u597d - \u652f\u6301\u5927\u89c4\u6a21\u5206\u6790\u573a\u666f\\n  - \u754c\u9762\u504f\u8fd0\u7ef4 - \u90e8\u5206\u672c\u5730\u5316\\n  - \u80fd\u81ea\u5b9a\u4e49 CSS\\n  - \u9ed8\u8ba4 **\u4e0d\u80fd** \u516c\u5171\u5206\u4eab\\n\\n## \u6570\u636e\u6e90\u7c7b\u578b\\n\\n- Redash [Supported Data Sources](https://redash.io/help/data-sources/supported-data-sources)\\n- Superset [supported database](https://superset.incubator.apache.org/#databases)\\n  - DB-API\\n  - SQLAlchemy\\n\\n| Data Source                              | Redash | Metabase | Superset |\\n| ---------------------------------------- | ------ | -------- | -------- |\\n| Amazon Athena                            | \u2705     |          | \u2705       |\\n| Amazon DynamoDB                          | \u2705     |\\n| Amazon Redshift                          | \u2705     | \u2705       | \u2705       |\\n| Apache Drill                             |        |          | \u2705       |\\n| Apache Hive                              | \u2705     |          | \u2705       |\\n| Apache Impala                            | \u2705     |          | \u2705       |\\n| Apache Kylin                             | \u2705     |          | \u2705       |\\n| Apache Pinot                             |        |          | \u2705       |\\n| Apache SparkSQL                          |        | \u2705       | \u2705       |\\n| Axibase Time Series Database             | \u2705     |\\n| CSV                                      | \u2705     |\\n| Cassandra                                | \u2705     |\\n| ClickHouse                               | \u2705     |          | \u2705       |\\n| CockroachDB                              | \u2705     |          | \u2705       |\\n| DB2 by IBM                               | \u2705     |          | \u2705       |\\n| Databricks (Apache Spark)                | \u2705     |\\n| Dremio                                   |        |          | \u2705       |\\n| Druid                                    | \u2705     | \u2705       | \u2705       |\\n| Elasticsearch                            | \u2705     |          | \u2705       |\\n| Exasol                                   |        |          | \u2705       |\\n| Google Analytics                         | \u2705     |\\n| Google BigQuery                          | \u2705     | \u2705       | \u2705       |\\n| Google Spreadsheets                      | \u2705     |          | \u2705       |\\n| Graphite                                 | \u2705     |          | \u2705       |\\n| Greenplum                                | \u2705     |          | \u2705       |\\n| H2                                       |        | \u2705       |\\n| Hana                                     |        |          | \u2705       |\\n| InfluxDB                                 | \u2705     |\\n| JIRA                                     | \u2705     |\\n| JSON                                     | \u2705     |\\n| MemSQL                                   | \u2705     |\\n| Microsoft Azure Data Warehouse / Synapse | \u2705     |\\n| Microsoft Azure SQL Database             | \u2705     |\\n| Microsoft SQL Server                     | \u2705     | \u2705       | \u2705       |\\n| MongoDB                                  | \u2705     | \u2705       |\\n| MySQL                                    | \u2705     | \u2705       | \u2705       |\\n| OmniSciDB (Formerly MapD)                | \u2705     |\\n| Oracle                                   | \u2705     | \u2705       | \u2705       |\\n| PostgreSQL                               | \u2705     | \u2705       | \u2705       |\\n| Presto                                   | \u2705     | \u2705       | \u2705       |\\n| Prometheus                               | \u2705     |\\n| Python                                   | \u2705     |\\n| Qubole                                   | \u2705     |\\n| Rockset                                  | \u2705     |\\n| SQLite                                   | \u2705     | \u2705       | \u2705       |\\n| Salesforce                               | \u2705     |\\n| ScyllaDB                                 | \u2705     |\\n| Shell Scripts                            | \u2705     |\\n| Snowflake                                | \u2705     | \u2705       | \u2705       |\\n| TreasureData                             | \u2705     |\\n| Vertica                                  | \u2705     | \u2705       | \u2705       |\\n| Yandex AppMetrrica                       | \u2705     |\\n| Yandex Metrica                           | \u2705     |\\n\\n## metabase\\n\\n- \u8bed\u8a00\\n  - Clojure\\n  - React\\n- \u53c2\u8003\\n  - [\u5b89\u88c5\u6587\u6863](https://www.metabase.com/docs/latest/operations-guide/running-metabase-on-docker.html)\\n\\n```bash\\n# H2\\ndocker run -d -p 3000:3000 \\\\\\n  -v $PWD/metabase-data:/metabase-data \\\\\\n  -e \\"JAVA_TIMEZONE=Asia/Shanghai\\" \\\\\\n  -e \\"MB_DB_FILE=/metabase-data/metabase.db\\" \\\\\\n  --name metabase metabase/metabase\\n\\n# PG\\ndocker run -d -p 3000:3000 \\\\\\n -e \\"MB_DB_TYPE=postgres\\" \\\\\\n -e \\"MB_DB_DBNAME=metabase\\" \\\\\\n -e \\"MB_DB_PORT=5432\\" \\\\\\n -e \\"MB_DB_USER=<username>\\" \\\\\\n -e \\"MB_DB_PASS=<password>\\" \\\\\\n -e \\"MB_DB_HOST=my-database-host\\" \\\\\\n --name metabase metabase/metabase\\n```\\n\\n## redash\\n\\n- \u8bed\u8a00\\n  - NodeJS\\n  - Python + Flask + gunicorn + celery\\n- \u4f9d\u8d56\\n  - PostgreSQL\\n  - Redis\\n- \u53c2\u8003\\n  - [\u5b89\u88c5\u6587\u6863](https://redash.io/help/open-source/setup)\\n  - [docker-compose.yml](https://github.com/getredash/setup/blob/master/data/docker-compose.yml)\\n    - server - redash/redash\\n    - scheduler\\n    - scheduled_worker\\n    - adhoc_worker\\n    - redis\\n    - postgres\\n    - nginx\\n  - [Worker architecture question](https://discuss.redash.io/t/worker-architecture-question/5025)\\n- \u67b6\u6784\\n  - \u70ed\u67e5\u8be2\uff08adhoc query - \u7528\u6237\u53d1\u8d77\uff09\u4f7f\u7528 \u67e5\u8be2 Celery \u961f\u5217\\n  - \u5468\u671f\u67e5\u8be2\uff08scheduled_queries - scheduler \u53d1\u8d77\uff09\u4f7f\u7528 scheduled \u961f\u5217\\n  - Celery \u652f\u6301\u8bbe\u7f6e\u961f\u5217\u7684 worker \u6570\uff0c\u9ed8\u8ba4\u542f\u52a8\u4f1a\u5206\u79bb adhoc \u548c scheduled \u961f\u5217\\n  - \u4f1a\u5207\u6362\u5230 RQ - Redis Queue\\n\\n### \u542f\u52a8\u914d\u7f6e\\n\\n- [\u73af\u5883\u53d8\u91cf\u914d\u7f6e](https://redash.io/help/open-source/admin-guide/env-vars-settings)\\n- \u521d\u59cb\u5316\u4f7f\u7528 python [\u811a\u672c](https://github.com/getredash/redash/blob/master/redash/settings/__init__.py)\\n- [\u5347\u7ea7](https://redash.io/help/open-source/admin-guide/how-to-upgrade)\\n\\n```bash\\n# compose \u4e2d\u4f7f\u7528\u7684\u8be5\u76ee\u5f55\\nmkdir /opt/redash\\ncd /opt/redash\\n\\ncurl -LO https://raw.githubusercontent.com/getredash/setup/master/data/docker-compose.yml\\ntouch env\\n\\ndocker-compose -f docker-compose.yml up\\n```\\n\\n### ERROR: relation \\"queries\\" does not exist\\n\\n- \u811a\u672c\u4f4d\u4e8e `./setup/docker/create_database.sh`\\n\\n```bash\\ndocker-compose run --rm server manage database create_tables\\ndocker-compose run --rm server manage db upgrad\\n```\\n\\n## superset\\n\\n- \u8bed\u8a00\\n  - Python - Flask + Celery\\n  - Typescript\\n- \u673a\u6784\u4f9d\u8d56\\n  - \u5143\u6570\u636e\u5b58\u50a8 MySQL, Postgres, MariaDB, SQLite\\n  - \u6d88\u606f\u961f\u5217 Redis, RabbitMQ, SQS\\n  - \u7ed3\u679c\u5b58\u50a8 S3, Redis, Memcached\\n  - \u7f13\u5b58 Memcached, Redis\\n  - WebServer \u548c Celery \u662f\u65e0\u72b6\u6001\u7684 - \u6613\u4e8e\u6269\u5bb9\\n- \u6ce8\u610f\\n  - \u9ed8\u8ba4\u4e0d\u5141\u8bb8\u516c\u5171\u8bbf\u95ee\uff0c\u9700\u8981 [\u914d\u7f6e](https://superset.incubator.apache.org/security.html?highlight=public#public)\\n- \u53c2\u8003\\n  - [\u5b89\u88c5\u6587\u6863](https://superset.incubator.apache.org/installation.html)\\n  - [docker-compose.yml](https://github.com/apache/incubator-superset/blob/master/docker-compose.yml)\\n    - \u9700\u8981\u5148 Build \u5728\u542f\u52a8\\n    - redis\\n    - db - postgres\\n    - superset\\n    - superset-init - \u6784\u5efa\\n    - superset-node - \u524d\u7aef\\n    - superset-worker\\n    - superset-tests-worker\\n  - [amancevice/docker-superset](https://github.com/amancevice/docker-superset) - \u5355 docker \u542f\u52a8 superset\\n    - [\u542f\u52a8\u793a\u4f8b](https://github.com/amancevice/docker-superset/tree/main/examples)\\n  - [\u5982\u4f55\u65b0\u589e\u63d2\u4ef6](https://preset.io/blog/2020-07-02-hello-world/)\\n  - K8S Helm \u90e8\u7f72 [stable/superset](https://github.com/helm/charts/blob/master/stable/superset)\\n\\n```bash\\nmkdir /opt/superset\\ncd /opt/superset\\n\\n# SQLite\\n# ==========\\ncurl -LO https://raw.githubusercontent.com/amancevice/docker-superset/main/examples/sqlite/superset_config.py\\ncurl -LO https://raw.githubusercontent.com/amancevice/docker-superset/main/examples/sqlite/docker-compose.yml\\n\\n# \u4f1a\u4f7f\u7528 local volume \u6302\u8f7d\u6570\u636e\\ndocker-compose up -d\\nsleep 30\\n# \u521d\u59cb\u5316 - \u521b\u5efa\u8d26\u53f7\u5bc6\u7801\u3001\u521d\u59cb\u6570\u636e\u5e93\\ndocker-compose exec superset superset-demo\\n\\n# \u5df2\u6709 PostgreSQL\\n# ==========\\ncat <<YAML > docker-compose.yml\\nversion: \'3\'\\nservices:\\n  redis:\\n    image: redis\\n    restart: always\\n    volumes:\\n      - redis:/data\\n  superset:\\n    image: amancevice/superset\\n    restart: always\\n    depends_on:\\n      - redis\\n    environment:\\n      MAPBOX_API_KEY: ${MAPBOX_API_KEY}\\n    ports:\\n      - \\"8088:8088\\"\\n    volumes:\\n      - ./superset_config.py:/etc/superset/superset_config.py\\nvolumes:\\n  redis:\\nYAML\\n# \u6570\u636e\u5e93\u94fe\u63a5\\n# postgresql+psycopg2://superset:superset@postgres:5432/superset\\nDATABASE_URL=\\nSECRET_KEY=$(cat /dev/urandom | env LC_CTYPE=C tr -dc \'a-zA-Z0-9\' | head -c 32)\\n\\ncat <<PY > superset_config.py\\nimport os\\n\\nMAPBOX_API_KEY = os.getenv(\'MAPBOX_API_KEY\', \'\')\\nCACHE_CONFIG = {\\n    \'CACHE_TYPE\': \'redis\',\\n    \'CACHE_DEFAULT_TIMEOUT\': 300,\\n    \'CACHE_KEY_PREFIX\': \'superset_\',\\n    \'CACHE_REDIS_HOST\': \'redis\',\\n    \'CACHE_REDIS_PORT\': 6379,\\n    \'CACHE_REDIS_DB\': 1,\\n    \'CACHE_REDIS_URL\': \'redis://redis:6379/1\'}\\nSQLALCHEMY_DATABASE_URI = \'${DATABASE_URL}\'\\nSQLALCHEMY_TRACK_MODIFICATIONS = True\\nSECRET_KEY = \'${SECRET_KEY}\'\\nPY\\n```\\n\\n### UserWarning: Flask-Caching: CACHE_TYPE is set to null, caching is effectively disabled."},{"id":"microservice-thoughts","metadata":{"permalink":"/story/microservice-thoughts","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-08-15-microservice-thoughts.md","source":"@site/story/2020/2020-08-15-microservice-thoughts.md","title":"\u5fae\u670d\u52a1\u6742\u5ff5","description":"\u5fae\u670d\u52a1\u5df2\u7ecf\u662f\u4e00\u4e2a\u4e0d\u518d\u65b0\u9c9c\u7684\u6982\u5ff5\uff0c\u4f46\u6211\u5374\u4f9d\u7136\u6a21\u7cca\u4e0d\u6e05\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u67b6\u6784","permalink":"/story/tags/\u67b6\u6784"},{"label":"\u5fae\u670d\u52a1","permalink":"/story/tags/\u5fae\u670d\u52a1"}],"readingTime":12.615,"truncated":true,"authors":[],"prevItem":{"title":"\u5f00\u6e90 BI \u4ea7\u54c1\u6bd4\u8f83","permalink":"/story/compare-os-bi-tool"},"nextItem":{"title":"\u4eba\u751f\u7b2c\u56db\u9636\u6bb5","permalink":"/story/stage-four-of-life"}},"content":"[![](https://www.plantuml.com/plantuml/svg/TP51I-D068Rlyok6x3NTiikoM3Mb9csyUF9QYinqFjjWceIPqLfABmL12Zs8UDE3NeKgY8Y2-ckI-ZFCcCOqjSqflFDyxpnyKn6ISCbyYPZJuYHeustSHvxFe2xQ9023-iUwa3qNZ7t7TO7fJT_rkI4vyKH0E7YoWPB1EbPZ0WBZZnwV7Z276zhEhjP0w500nuKoRX49NT93QFQZilZeo6d27baMKeHGNvKPWdHW8uCpOf3Krrr2mJKsmybDTFeqlRqhwrWP9xhQBzEircnJQwItfFpqzImyULY0hRNQVwiKmz_tfNXqEGv7rrjbVHwtRQjQ_Jk7qpnkhi3LlhBgZz5mEdp-KMsNh7yfI_EikO9bT4xuuZuQJyANyuLYzlN5S2QTUuqi9ofFL9TaD3UVSaftHYaPX18RBNoR92k9heRX-oCkuBQKWLWl5hlW0V_T0GqDK0Kyndpv2G00)](https://wener.me)\\n\\n\\n\\n\u5fae\u670d\u52a1\u5df2\u7ecf\u662f\u4e00\u4e2a\u4e0d\u518d\u65b0\u9c9c\u7684\u6982\u5ff5\uff0c\u4f46\u6211\u5374\u4f9d\u7136\u6a21\u7cca\u4e0d\u6e05\u3002\\n\\n\x3c!-- more --\x3e\\n\\n\u5fae\u670d\u52a1\uff0c\u629b\u5f00 \u5fae \u4e0d\u770b\uff0c\u9996\u5148\u662f\u4e00\u4e2a\u9762\u5411\u670d\u52a1\u7684\u67b6\u6784\uff0c\u5373 SOA\u3002\u7cfb\u7edf\u6a21\u5757\uff0c\u4e1a\u52a1\u903b\u8f91\u4e4b\u95f4\u7684\u754c\u9650\u662f\u670d\u52a1\uff0c\u670d\u52a1\u4e3a \u670d\u52a1\u540d+\u65b9\u6cd5\u540d\uff0c\u4e0e CRUD/REST \u4e0d\u540c\u3002\u670d\u52a1\u91cd\u5728\u4ea4\u4e92\uff0cCRUD/REST \u91cd\u5728\u6570\u636e\u3002\\n\\nSOA \u66fe\u7ecf\u6709 SOAP\u3001 Java RMI\uff0c\u73b0\u5728\u4e3b\u6d41\u7684 gRPC \u548c\u5e38\u89c1\u7684 JsonRPC\u3002\u8fd9\u4e9b\u5b9a\u4e49\u7684\u90fd\u662f\u670d\u52a1\u4ea4\u4e92\u534f\u8bae\uff0c\u800c\u5fae\u670d\u52a1\u66f4\u591a\u7684\u5173\u6ce8\u670d\u52a1\u7684\u7ec4\u5408\u3001\u5206\u5e03\u3001\u7f16\u6392\u3001\u5bb9\u9519\u3001\u53d1\u73b0\u3001\u901a\u4fe1\u3001\u8ddf\u8e2a\u7b49\u3002\u56e0\u6b64\u4f1a\u60f3\u5230\u8fd9\u6837\u7684\u4e00\u4e9b\u4e3b\u9898\uff1a\\n\\n- \u670d\u52a1\u901a\u4fe1\\n  - \u70b9\u5bf9\u70b9 - \u7b80\u5355\u597d\u7406\u89e3\uff0c\u60f3\u8981\u7a33\u5b9a\u4f7f\u7528\u5219\u4f1a\u5bfc\u81f4\u5b9e\u73b0\u590d\u6742\\n  - \u5e7f\u64ad\u603b\u7ebf - \u5b9e\u73b0\u7b80\u5355\u4f46\u4f9d\u8d56\u989d\u5916\u670d\u52a1\\n  - \u7f51\u5173 - \u5b9e\u73b0\u7b80\u5355\uff0c\u6613\u4e8e\u7406\u89e3\uff0c\u989d\u5916\u7684\u4e00\u6b21\u8df3\u8f6c\\n- \u670d\u52a1\u5e8f\u5217\u5316\\n  - \u4e00\u4e2a\u53d1\u5c55\u4e86\u5f88\u4e45\uff0c\u8ba4\u4e3a\u5df2\u7ecf\u88ab\u89e3\u51b3\u7684\u95ee\u9898\\n  - \u66fe\u7ecf\u5e8f\u5217\u5316\u4e3b\u8981\u4ee5\u6027\u80fd\u4f5c\u4e3a\u8003\u8651\uff0c\u73b0\u4eca\u8ba1\u7b97\u5197\u4f59\uff0c\u524d\u671f\u9009\u62e9\u6700\u7b80\u5355\u7684 JSON \u5df2\u7ecf\u8db3\u591f\\n- \u670d\u52a1\u53d1\u73b0\\n- \u670d\u52a1\u5bb9\u9519\\n\\n## \u670d\u52a1\u901a\u4fe1\\n\\n\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u53ef\u7c7b\u6bd4\u4e3a\u7f51\u7edc\u901a\u4fe1\uff0c\u4e3b\u8981\u5206\u4e3a\u70b9\u5bf9\u70b9\uff0c\u5e7f\u64ad\u548c\u7f51\u5173\uff1a\\n\\n- \u70b9\u5bf9\u70b9\u573a\u666f\\n  - \u524d\u540e\u7aef\u901a\u4fe1\\n  - \u670d\u52a1\u7aef\u8c03\u7528\\n- \u5e7f\u64ad\u573a\u666f\\n  - \u670d\u52a1\u53d1\u73b0\\n  - \u670d\u52a1\u603b\u7ebf\\n- \u7f51\u5173\u573a\u666f\\n  - \u524d\u540e\u7aef\u901a\u4fe1\\n  - \u670d\u52a1\u8def\u7531\\n  - \u534f\u8bae\u9002\u914d\\n  - \u9274\u6743\\n\\n\u4ece\u670d\u52a1\u63d0\u4f9b\u65b9\u6765\u8bf4\u670d\u52a1\u7684\u901a\u4fe1\u4e5f\u53ef\u4ee5\u533a\u5206\u4e3a\u4e3b\u52a8\u548c\u88ab\u52a8\uff1a\\n\\n- \u4e3b\u52a8\\n  - \u76d1\u542c\u8fc7\u6ee4\u7279\u5b9a\u670d\u52a1\u8fdb\u884c\u5904\u7406\\n    - \u4f8b\u5982 \u76d1\u542c Topic\uff0c\u7ef4\u62a4\u94fe\u63a5\u7a33\u5b9a\u6027\uff0c\u8fc7\u6ee4\u53ea\u5904\u7406\u672c\u5730\u63d0\u4f9b\u7684\u670d\u52a1\\n  - \u957f\u94fe\u63a5\u6ce8\u518c\u670d\u52a1\\n    - \u94fe\u63a5\u65ad\u5f00\u5219\u670d\u52a1\u505c\u6b62\\n- \u88ab\u52a8\\n  - \u76d1\u542c\u56fa\u5b9a\u63a5\u53e3\\n    - \u4f8b\u5982 \u76d1\u542c\u672c\u5730 8080\uff0c\u63d0\u4f9b JsonRPC\uff0c\u5904\u7406\u4e3b\u52a8\u8bf7\u6c42\u8fc7\u6765\u7684\u670d\u52a1\u8c03\u7528\\n  - \u542f\u52a8\u65f6\u6ce8\u518c\u670d\u52a1\\n    - \u7531\u6ce8\u518c\u4e2d\u5fc3\u670d\u52a1\u5b9a\u671f\u68c0\u6d4b\u670d\u52a1\u5b58\u6d3b\\n\\n### \u70b9\u5bf9\u70b9\u901a\u4fe1\\n\\n**HTTP**\\n\\n\u76ee\u524d HTTP \u5728\u5feb\u901f\u53d1\u5c55\uff0c\u65b0\u7684\u534f\u8bae\u63d0\u9ad8\u7684\u4e3b\u8981\u662f\u6027\u80fd\u548c\u5bf9\u957f\u94fe\u63a5\u6d41\u7684\u652f\u6301\uff0c\u5982\u679c\u9009\u62e9\u7b80\u5355\u5b9e\u73b0\u670d\u52a1\u8c03\u7528\uff0cHTTP \u8bf7\u6c42\u8db3\u4ee5\u3002\\n\\n\u4f7f\u7528 HTTP POST \u5b9e\u73b0 \u5355\u6b21\u8bf7\u6c42\u54cd\u5e94\uff0c\u4f7f\u7528 WebSocket \u5b9e\u73b0\u6d41\u5f0f\u8bf7\u6c42\u3002\u4f7f\u7528 HTTP \u7684\u597d\u5904\u662f\u80fd\u5229\u7528\u73b0\u6709\u7684\u57fa\u7840\u8bbe\u65bd\uff0cHTTP \u662f\u76ee\u524d\u652f\u6301\u6700\u4e3a\u5e7f\u6cdb\u7684\u534f\u8bae\uff0c\u4e5f\u662f\u6700\u53d7\u5173\u6ce8\u7684\u534f\u8bae\u3002\\n\\n\u4f46\u9009\u62e9 HTTP \u65f6\uff0c\u5982\u679c\u81ea\u884c\u5b9e\u73b0\uff0c\u5219\u6700\u597d\u9009\u62e9 HTTP 1\uff0c\u907f\u514d\u4f7f\u7528 HTTP 2 \u7b49\u65b0\u589e\u7279\u6027\uff0cHTTP 2+ \u80fd\u4f20\u9012 HTTP 1 \u7684\u6240\u6709\u8bed\u4e49\uff0c\u4e14\u6027\u80fd\u5404\u65b9\u9762\u80fd\u5f97\u5230\u5f88\u597d\u7684\u63d0\u5347\uff0c\u8fd9\u6837\u8db3\u4ee5\u3002\u5982\u679c\u8981\u72ec\u7acb\u4f7f\u7528 HTTP \u534f\u8bae\u65b0\u7279\u6027\uff0c\u4f8b\u5982 Trailer\uff0c\u5219\u5b9e\u73b0\u4f1a\u53d8\u5f97\u8fc7\u4e8e\u590d\u6742\u3002\\n\\n**\u975e HTTP \u8bed\u4e49**\\n\\n\u5f53\u4f7f\u7528\u975e HTTP \u8bed\u4e49\u8bed\u4e49\u65f6\uff0c\u53ef\u80fd\u662f\u57fa\u4e8e TCP\uff0c\u4e5f\u53ef\u80fd\u662f\u5bf9 Payload \u8fdb\u884c\u5b9a\u4e49\uff0c\u62bd\u8c61\u4f20\u8f93\u5c42\uff0c\u4f46\u5982\u4eca\u60f3\u8981\u8de8\u8bed\u8a00\uff0c\u4f7f\u7528\u975e HTTP \u534f\u8bae\u963b\u788d\u4f1a\u975e\u5e38\u5927\uff0c\u56e0\u6b64\u5b81\u613f\u9009\u62e9\u5bf9 Payload \u505a\u81ea\u5b9a\u4e49\u4e5f\u4e0d\u4f1a\u9009\u62e9\u4e0d\u4f7f\u7528 HTTP\u3002\\n\\n#### \u70b9\u5bf9\u70b9\u7f51\u5173\\n\\n\u901a\u5e38\u70b9\u5bf9\u70b9\u662f\u9700\u8981\u76f4\u63a5\u901a\u4fe1\uff0c\u4f46\u73b0\u4eca\u6709\u63d0\u4f9b Mesh \u7f51\u7edc\u7684\u7f51\u5173\u7ec4\u4ef6\uff0c\u4f7f\u5f97\u539f\u672c\u4e0d\u4e92\u901a\u7684\u7f51\u7edc\u670d\u52a1\u80fd\u591f\u4e92\u76f8\u8bbf\u95ee\u3002\u540c\u65f6\u4e5f\u80fd\u5b9e\u73b0\u5bf9\u5e94\u7684\u670d\u52a1\u4e4b\u95f4\u7684\u6743\u9650\u7ba1\u7406\u548c\u76d1\u63a7\u3002\\n\\n\u4f7f\u7528 Mesh \u7f51\u5173\u5219\u53ef\u4ee5\u8ba9\u5ba2\u6237\u7aef\u7684\u7f51\u7edc\u5c42\u5b9e\u73b0\u66f4\u4e3a\u7b80\u5355\uff0c\u7531\u7f51\u5173\u53bb\u7ef4\u62a4\u670d\u52a1\u7f51\u7edc\u7684\u7a33\u5b9a\u6027\uff0c\u5bf9\u670d\u52a1\u7f51\u7edc\u7684\u53d8\u5316\u4e5f\u80fd\u66f4\u5feb\u7684\u53cd\u5e94\u3002\u4f46\u6210\u672c\u662f\u7ef4\u62a4\u989d\u5916\u7684\u57fa\u7840\u8bbe\u65bd\u7ec4\u4ef6\uff0c\u4e14\u6ce8\u518c\u4e2d\u5fc3\u4e0e\u7f51\u5173\u6709\u5f3a\u5173\u8054\u548c\u4ea4\u4e92\uff0c\u6bcf\u4e2a\u8282\u70b9\u8fd0\u884c\u4e00\u4e2a\u7f51\u5173\u4e5f\u662f\u989d\u5916\u7684\u8d44\u6e90\u6d88\u8017\u3002\\n\\n### \u5e7f\u64ad\u901a\u4fe1\\n\\n\u670d\u52a1\u603b\u7ebf\u672c\u6765\u662f\u4e00\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u6bd4\u8f83\u5e38\u89c1\u7684\u662f\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u7684\u8bbe\u8ba1\uff0c\u4f46\u5728\u670d\u52a1\u573a\u666f\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u4e8b\u4ef6\u9a71\u52a8\u4e00\u822c\u6709\u56fa\u5b9a\u7684 \u4e3b\u9898/Topic \uff0c\u5728\u5b9a\u8ba2\u9605\u521d\u5df2\u7ecf\u786e\u5b9a\u4e86\u90e8\u5206\u8bed\u4e49\u3002\u800c\u670d\u52a1\u603b\u7ebf\u5219\u53ef\u4ee5\u7406\u89e3\u4e3a\u53ea\u6709\u4e00\u4e2a Topic\uff0c\u901a\u8fc7\u6d88\u606f\u7684\u5185\u5bb9\u6765\u8fdb\u884c\u8fc7\u6ee4\u8c01\u5904\u7406\u8c01\u4e0d\u9700\u8981\u5904\u7406\u3002\\n\\n\u603b\u7ebf\u7684\u901a\u4fe1\u6a21\u5f0f\u89e3\u51b3\u4e86\u670d\u52a1\u4e4b\u95f4\u7f51\u7edc\u9694\u79bb\u7684\u963b\u788d\uff0c\u4e0d\u518d\u9700\u8981 A \u670d\u52a1 \u4e0e B \u670d\u52a1 \u7f51\u7edc\u4e92\u901a\uff0c\u7f51\u7edc\u7684\u53d8\u5316\u4e5f\u4e0d\u4f1a\u963b\u788d\u670d\u52a1\u7684\u901a\u4fe1\u3002\u4f46\u5982\u679c\u603b\u7ebf\u672c\u8eab\u5982\u679c\u4e0d\u652f\u6301\u4e00\u4e9b meta \u4fe1\u606f\u7684\u6a21\u5f0f\u5339\u914d\uff0c\u5219\u4f1a\u5bfc\u81f4\u6d41\u91cf\u8fc7\u5927\uff0c\u5904\u7406\u80fd\u529b\u53d7\u9650\u3002\\n\\n\u9009\u62e9\u5e7f\u64ad\u901a\u4fe1\uff0c\u5219\u5fc5\u7136\u4f1a\u9009\u62e9\u67d0\u79cd\u5f62\u5f0f\u7684 \u6d88\u606f\u961f\u5217/MQ \u5b9e\u73b0\uff0c\u56e0\u6b64\u4f1a\u7275\u626f\u5230\u5176\u4ed6\u7684\u57fa\u7840\u8bbe\u65bd\u670d\u52a1\uff0c\u4ece\u90e8\u7f72\u8ddf\u8e2a\u4e0a\u6765\u8bf4\uff0c\u8fd9\u662f\u6263\u5206\u7684\u3002\\n\\n### \u7f51\u5173\u901a\u4fe1\\n\\n\u7f51\u5173\u901a\u4fe1\u4e0e Mesh \u7f51\u5173\u4e0d\u540c\uff0cMesh \u7684\u76ee\u7684\u5728\u4e8e\u6253\u901a\u8282\u70b9\uff0c\u7f51\u5173\u7684\u76ee\u7684\u5728\u4e8e\u78e8\u5e73/\u9002\u914d\u4e0d\u540c\u7684\u73af\u5883\u670d\u52a1\uff0c\u63d0\u4f9b\u76f8\u540c\u7684\u80fd\u529b\u3002\\n\\n\u6240\u6709\u7684\u8bf7\u6c42\u901a\u8fc7\u7f51\u5173\uff0c\u7531\u7f51\u5173\u8fdb\u884c\u8def\u7531\uff0c\u8fd9\u662f\u5178\u578b\u7684 Nginx \u53cd\u5411\u4ee3\u7406\u573a\u666f\u3002\u56e0\u4e3a\u6240\u6709\u8bf7\u6c42\u90fd\u52a0\u4e86\u4e2d\u95f4\u5c42\uff0c\u56e0\u6b64\u5f88\u591a\u4e8b\u60c5\u90fd\u53ef\u4ee5\u5728\u4e2d\u95f4\u5c42\u5b8c\u6210\uff1a\\n\\n- \u8def\u7531\\n  - \u670d\u52a1 A -> \u8282\u70b9 B\\n- \u76d1\u63a7\\n  - \u91c7\u96c6\u670d\u52a1\u8bf7\u6c42\u6307\u6807\\n- \u9274\u6743\\n  - \u7528\u6237\u662f\u5426\u5141\u8bb8\u8bbf\u95ee\u670d\u52a1\\n  - \u670d\u52a1\u4e4b\u95f4\u662f\u5426\u5141\u8bb8\u901a\u4fe1\\n- \u9002\u914d\\n  - \u524d\u7aef JsonRPC -> \u540e\u7aef\u670d\u52a1 gRPC\\n- \u8ddf\u8e2a\\n  - \u6dfb\u52a0 RequestID\\n  - \u8bb0\u5f55\u8bf7\u6c42\u5230 Elastic\\n- \u96c6\u6210\u670d\u52a1\\n  - \u670d\u52a1 A -> \u5916\u90e8\u670d\u52a1 B\\n- \u670d\u52a1\u9519\u8bef\u7194\u65ad\\n- \u8d1f\u8f7d\u5747\u8861\\n- TLS\\n\\n\u8be5\u6a21\u5f0f\u4e0e\u5b9e\u9645\u6700\u5e95\u5c42\u7684\u670d\u52a1\u901a\u4fe1\u6709\u6709\u4e00\u70b9\u533a\u522b\uff0c\u4e3b\u8981\u4f5c\u4e3a\u9002\u914d\u548c\u8026\u5408\u5b58\u5728\uff0c\u5982\u679c\u7f51\u5173\u529f\u80fd\u8d8a\u591a\u505a\u7684\u4e8b\u60c5\u8d8a\u591a\u4e5f\u8d8a\u5bb9\u6613\u9020\u6210\u5355\u70b9\u74f6\u9888\u3002\\n\\n### \u901a\u4fe1\u4e0e\u5176\u4ed6\u7ec4\u4ef6\u7684\u5173\u8054\\n\\n\u901a\u4fe1\u662f\u670d\u52a1\u7684\u6839\u672c\uff0c\u5bf9\u4e8e\u5fae\u670d\u52a1\u66f4\u662f\u5982\u6b64\u3002\u901a\u4fe1\u7684\u6a21\u5f0f\u95f4\u63a5\u6216\u76f4\u63a5\u7684\u5f71\u54cd\u5176\u4ed6\u7ec4\u4ef6\u7684\u9009\u62e9\u548c\u8bbe\u8ba1\u3002\u4f46\u4e0d\u540c\u7684\u901a\u4fe1\u6a21\u5f0f\u5e76\u4e0d\u662f\u4e92\u65a5\u7684\uff0c\u5728\u5bf9\u4e8e\u7684\u573a\u666f\u9009\u62e9\u5bf9\u4e8e\u7684\u65b9\u5f0f\u624d\u662f\u6700\u597d\u7684\u9009\u62e9\u3002\\n\\n- \u70b9\u5bf9\u70b9\\n  - \u4f18\u52bf\\n    - \u6613\u4e8e\u8ddf\u8e2a\\n    - \u6613\u4e8e\u7406\u89e3\\n    - \u53ef\u5229\u7528\u73b0\u6709\u57fa\u7840\u8bbe\u65bd\\n  - \u6ce8\u518c\u65f6\u5019\u9700\u8981\u6ce8\u518c\u672c\u5730 IP\u3001\u7aef\u53e3\\n    - \u5982\u679c\u662f\u88ab\u52a8\uff0c\u5219\u8fd8\u9700\u8981 IP \u548c \u7aef\u53e3\u80fd\u591f\u88ab\u6ce8\u518c\u4e2d\u5fc3\u8bbf\u95ee\u4ee5\u786e\u4fdd\u670d\u52a1\u5065\u5eb7\\n    - \u5982\u679c\u662f\u4e3b\u52a8\uff0c\u5219\u53ef\u80fd\u6ce8\u518c\u4e2d\u5fc3\u4f1a\u6210\u4e3a\u74f6\u9888\\n  - \u53d7\u7f51\u7edc\u5f71\u54cd\u8f83\u5927\\n    - \u90e8\u7f72\u8282\u70b9\u53d8\u66f4\u53ef\u80fd\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u624d\u80fd\u66f4\u6b63\u4e3a\u65b0\u7684\u5730\u5740\\n    - \u5f71\u54cd\u56e0\u7d20\u4e3b\u8981\u6709\uff1a\\n      1. \u68c0\u6d4b\u5230\u670d\u52a1\u4e0b\u7ebf\u7684\u65f6\u95f4\\n      - \u5bf9\u4e8e\u88ab\u52a8\u573a\u666f\u5219\u662f \u5fc3\u8df3\u95f4\u9694*\u5931\u8d25\u6b21\u6570 - \u4e00\u822c\u4e3a `15s * 3 = 45s` - \u4e0d\u8fdb\u884c\u4e3b\u52a8\u5e72\u9884\u7684\u60c5\u51b5\\n      2. \u5ba2\u6237\u7aef\u68c0\u6d4b\u5230\u65b0\u670d\u52a1\u4fe1\u606f\u7684\u65f6\u95f4\\n    - \u4e3a\u4e86\u51cf\u5c11\u7f51\u7edc\u5f71\u54cd\uff0c\u53ef\u80fd\u62bd\u8c61\u670d\u52a1\u4e3a VIP\\n      - \u4f8b\u5982 K8S \u7684\u670d\u52a1\u5b9a\u4e49\uff0c\u8282\u70b9\u6ce8\u518c\u7684\u5730\u5740\u4f5c\u4e3a endpoing\uff0c\u5b9e\u9645\u8bf7\u6c42 service\\n      - \u5f15\u5165\u65b0\u7684\u57fa\u7840\u8bbe\u65bd\u670d\u52a1\\n  - \u91cd\u5ba2\u6237\u7aef\\n    - \u60f3\u8981\u5b9e\u73b0\u7a33\u5b9a\u7684\u670d\u52a1\u8bf7\u6c42\uff0c\u5ba2\u6237\u7aef\u8bbe\u8ba1\u5b9e\u73b0\u4f1a\u53d8\u5f97\u590d\u6742\uff0c\u4e3b\u8981\u662f\u670d\u52a1\u53d1\u73b0\u548c\u5143\u6570\u636e\u53d8\u66f4\u76f8\u5173\u3002\\n  - \u53ef\u7528\u4e8e Web \u7aef - \u4f46\u901a\u5e38\u8fd8\u662f\u4f1a\u4f7f\u7528 API \u7f51\u5173\u8fdb\u884c\u66b4\u9732\\n- \u5e7f\u64ad/\u603b\u7ebf\u901a\u4fe1\\n  - \u4f18\u52bf\\n    - \u67b6\u6784\u7b80\u5355\\n    - \u90e8\u7f72\u65f6\u5bf9\u73af\u5883\u8981\u6c42\u66f4\u5c0f\\n  - \u6ce8\u518c\u65f6\u5019\u53ea\u9700\u8981\u6ce8\u518c\u57fa\u672c\u4fe1\u606f\u5373\u53ef\uff0c\u6d88\u8d39\u7aef\u548c\u63d0\u4f9b\u7aef\u57fa\u672c\u53ef\u4ee5\u5b9e\u73b0 0 \u8026\u5408\\n    - \u70b9\u5bf9\u70b9\u9700\u8981\u77e5\u9053\u63d0\u4f9b\u7aef\u7684\u5730\u5740\u4fe1\u606f\\n  - \u5f3a\u4f9d\u8d56\u989d\u5916\u7684\u6d88\u606f\u961f\u5217\u670d\u52a1\\n    - \u5b9e\u65f6\u578b\u6d88\u606f\u961f\u5217\\n    - \u4f7f\u7528\u6d88\u606f\u961f\u5217\u5e26\u6765\u989d\u5916\u5ef6\u65f6\\n  - \u63d0\u4f9b\u670d\u52a1\u7684\u4e00\u7aef\u5fc5\u987b\u662f\u957f\u94fe\u63a5\u76d1\u542c\u6d88\u606f\\n    - \u56e0\u6b64 PHP \u8fd9\u7c7b\u7684 CGI \u811a\u672c\u8bed\u8a00\u6bd4\u8f83\u96be\u4ee5\u4f7f\u7528\\n- \u7f51\u5173\\n  - \u4f18\u52bf\\n    - \u6574\u5408\\n  - \u4e0d\u4e00\u5b9a\u4e0e\u5b9e\u9645\u670d\u52a1\u8c03\u7528\u76f8\u5173\\n  - \u4e0e\u6ce8\u518c\u4e2d\u5fc3\u8026\u5408 - \u53d7\u6ce8\u518c\u4e2d\u5fc3\u63a7\u5236\\n  - \u4e0d\u7ba1\u9009\u7528\u4f55\u79cd\u901a\u4fe1\uff0c\u4e00\u822c\u90fd\u4f1a\u5b58\u5728\u4e00\u4e2a\u7f51\u5173\\n\\n## \u670d\u52a1\u53d1\u73b0\\n\\n\u670d\u52a1\u53d1\u73b0\u901a\u5e38\u53ea\u662f\u4e00\u79cd\u884c\u4e3a\uff0c\u4f46\u5b9e\u9645\u4f7f\u7528\u7684\u5e94\u8be5\u662f\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\uff0c\u4e3b\u8981\u80fd\u529b\u5305\u62ec\uff1a\\n\\n- \u8bb0\u5f55\u670d\u52a1\u8282\u70b9\u4fe1\u606f - \u9762\u5411\u670d\u52a1\u63d0\u4f9b\u8005\\n  - \u63d0\u4f9b A \u670d\u52a1\u8282\u70b9\u7684 IP \u662f\u591a\u5c11\uff0c\u7aef\u53e3\u662f\u591a\u5c11\\n- \u63d0\u4f9b\u670d\u52a1\u8282\u70b9\u5bf9\u5e94\u5173\u7cfb - \u9762\u5411\u670d\u52a1\u6d88\u8d39\u8005 - \u53d1\u73b0\\n  - \u8c01\u63d0\u4f9b A \u670d\u52a1\\n- \u670d\u52a1\u5143\u6570\u636e\u8bb0\u5f55 - \u670d\u52a1\u7ba1\u7406\\n  - A \u670d\u52a1\u6709\u90a3\u4e9b\u7248\u672c\uff0c\u6709\u90a3\u4e9b\u65b9\u6cd5\uff0c\u53c2\u6570\u7c7b\u578b\u662f\u4ec0\u4e48\u6837\u7684\\n  - A \u670d\u52a1\u662f\u7528\u6765\u505a\u4ec0\u4e48\u7684\u670d\u52a1\\n- \u670d\u52a1\u5065\u5eb7\u72b6\u6001 - \u670d\u52a1\u7ef4\u62a4\\n  - \u4e3b\u52a8\u68c0\u67e5\\n  - \u88ab\u52a8\u4e0a\u62a5\\n- \u670d\u52a1\u5b89\u5168 - \u901a\u5e38\u9700\u8981\u914d\u5408\u7f51\u5173\\n  - A \u670d\u52a1\u662f\u5426\u5141\u8bb8\u8c03\u7528 B \u670d\u52a1\\n\\n\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\u901a\u5e38\u4e0d\u662f\uff0c\u800c\u662f\u4e00\u4e2a\u96c6\u7fa4\uff0c\u5176\u4e2d\u7684\u670d\u52a1\u5143\u4fe1\u606f\u4e5f\u53ef\u88ab\u540c\u6b65\u5230 RDBMS \u4fbf\u4e8e\u5f00\u53d1\u4eba\u5458\u67e5\u770b\u548c\u4f7f\u7528\uff0c\u573a\u666f\u4f8b\u5982\uff1a\\n\\n- \u641c\u7d22\u63a5\u53e3\\n- \u67e5\u627e\u63a5\u53e3\u6587\u6863\\n- \u67e5\u770b\u670d\u52a1\u72b6\u6001\\n- \u751f\u6210\u5ba2\u6237\u7aef\u4ee3\u7801\\n- \u6d4b\u8bd5\u8c03\u7528\u670d\u52a1\\n\\n## \u670d\u52a1\u5bb9\u9519\\n\\n\u670d\u52a1\u5bb9\u9519\u5305\u542b\u670d\u52a1\u5f02\u5e38\u3001\u8282\u70b9\u5f02\u5e38\u3001\u7f51\u7edc\u5f02\u5e38\uff0c\u4e0d\u540c\u7684\u5f02\u5e38\u53ef\u80fd\u91c7\u53d6\u4e0d\u540c\u7684\u5e94\u5bf9\u65b9\u5f0f\uff0c\u6211\u7406\u89e3\u7684\u5e38\u89c1\u529f\u80fd\u5305\u62ec\\n\\n- \u9650\u6d41\\n- \u91cd\u8bd5\\n- \u8d1f\u8f7d\\n\\n\u5bb9\u9519\u7684\u5b9e\u73b0\u901a\u5e38\u914d\u5408\u76d1\u63a7\uff0c\u7f51\u5173\uff0c\u6ce8\u518c\u4e2d\u5fc3\u3002\u7b97\u662f\u4f18\u5316\u670d\u52a1\u4f53\u9a8c\u7684\u4e00\u90e8\u5206\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u5ef6\u4f38\u652f\u6301\u8003\u8651\u3002\\n\\n## \u5fae\u670d\u52a1\\n\\n\u5fae\u670d\u52a1\uff0c\u5fae\u7684\u662f\u9664\u4e86\u670d\u52a1\u4e4b\u5916\u7684\u90e8\u5206\uff0c\u4e5f\u5c31\u662f\u4e0a\u8ff0\u7684\u6240\u6709\u5185\u5bb9\u3002\u5fae\u670d\u52a1\u7684\u671f\u671b\u662f\u8ba9\u5f00\u53d1\u53ea\u5173\u5fc3\u4e1a\u52a1\u903b\u8f91\u7684\u7f16\u5199\uff0c\u5f00\u53d1\u597d\u7684\u4e1a\u52a1\u903b\u8f91\u80fd\u591f\u5feb\u901f\u7a33\u5b9a\u7684\u4e0a\u7ebf\u88ab\u4f7f\u7528\u3002\\n\\n\u5982\u679c\u4e0d\u5728\u4e00\u5957\u5b8c\u5584\u7684\u4f53\u7cfb\u4e0b\u8c08\u8bba\u5f00\u53d1\u5fae\u670d\u52a1\u90fd\u662f\u6ca1\u6709\u610f\u4e49\u4e14\u96be\u4ee5\u5b9e\u73b0\u7684\uff0c\u800c\u8fd9\u5957\u4f53\u7cfb\u7684\u642d\u5efa\u4e0d\u80cc\u9760\u73b0\u5728\u7684 K8S \u4e4b\u7c7b\u7684\u4f53\u7cfb\u4e5f\u662f\u96be\u4ee5\u6210\u5f62\u7684\u3002\\n\\n## \u603b\u7ed3\\n\\n\u5c06\u6700\u8fd1\u6df7\u4e71\u601d\u7eea\u8fdb\u884c\u68b3\u7406\uff0c\u4e0d\u4e00\u5b9a\u90fd\u662f\u6b63\u786e\uff0c\u4ec5\u4f5c\u4e3a\u53c2\u8003\u4fbf\u4e8e\u7406\u89e3\uff0c\u5f15\u5bfc\u4e4b\u540e\u7684\u9009\u62e9\u548c\u51b3\u5b9a\u3002\\n\\n## \u53c2\u8003\\n\\n- https://martinfowler.com/articles/microservices.html\\n- http://www.richardrodger.com/monolithic-nodejs\\n- [\u5fae\u670d\u52a1\u6742\u5ff5](https://wener.me/blog/microservice-thoughts)\\n  - [\u5fae\u4fe1](https://mp.weixin.qq.com/s/JMTH-mr_jHq5U8qLFmqQjA)\\n  - [Markdown](https://github.com/wenerme/wener/blob/master/story/2020/2020-08-15-microservice-thoughts.md)"},{"id":"stage-four-of-life","metadata":{"permalink":"/story/stage-four-of-life","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-08-16-stage-four-of-life.md","source":"@site/story/2020/2020-08-16-stage-four-of-life.md","title":"\u4eba\u751f\u7b2c\u56db\u9636\u6bb5","description":"\u4eba\u751f\u9636\u6bb5","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u6210\u957f","permalink":"/story/tags/\u6210\u957f"}],"readingTime":2.78,"truncated":true,"authors":[],"prevItem":{"title":"\u5fae\u670d\u52a1\u6742\u5ff5","permalink":"/story/microservice-thoughts"},"nextItem":{"title":"Kubernetes vs OpenStack","permalink":"/story/kubernetes-vs-openstack"}},"content":"## \u4eba\u751f\u9636\u6bb5\\n\\n\u9c81\u9053\u592b\xb7\u65bd\u6cf0\u7eb3\u7684\u4eba\u667a\u5b66\u7406\u8bba\uff0c\u5b9a\u4e49\u4eba\u7684\u53d1\u5c55\u6bcf\u4e03\u5e74\u4e00\u4e2a\u9636\u6bb5\u3002\\n\\n> \u9c81\u9053\u592b\xb7\u65bd\u6cf0\u7eb3 - Rudolf Steiner\uff0c1861 \u5e74 2 \u6708 27 \u65e5\uff0d1925 \u5e74 3 \u6708 30 \u65e5\uff0c\u5965\u5730\u5229\u7684\u54f2\u5b66\u5bb6\u3001\u6539\u9769\u5bb6\u3001\u5efa\u7b51\u5e08\u548c\u6559\u80b2\u5bb6\\n\\n\x3c!-- more --\x3e\\n\\n\u4e0d\u77e5\u66fe\u51e0\u4f55\u65f6\u542c\u8bf4\u8fc7\u8fd9\u6837\u4e00\u4e2a\u7406\u8bba\uff0c\u542c\u5230\u7684\u5f53\u5e74\u5f53\u65f6\u4fbf\u6df1\u523b\u7684\u8bb0\u5fc6\u5728\u4e86\u8111\u6d77\u91cc\u3002\u5982\u679c\u4ed4\u7ec6\u53bb\u60f3\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u610f\u601d\u7684\u7406\u8bba\uff0c\u5f80\u5f80\u6211\u4eec\u4e60\u60ef\u8bf4\u4eba\u751f\u9636\u68af\u8fd9\u6837\u7684\u8bcd\u8bed\uff0c\u4f46\u5c11\u6709\u60f3\u8fc7\u6211\u4eec\u7684\u9636\u68af\u662f\u4ec0\u4e48\u6837\u7684\u3002\u4e03\u5e74\u662f\u6211\u8ba4\u4e3a\u5bf9\u4eba\u751f\u9636\u6bb5\u5b9a\u4e49\u5f88\u597d\u7684\u91cc\u7a0b\u7891\u5f0f\u4e8b\u4ef6\u3002\\n\\n\u4e03\u5e74\uff0c\u4e0d\u957f\u4e0d\u77ed\u3002\u7b2c\u4e00\u4e2a\u4e03\u5e74\uff0c\u6709\u4e86\u81ea\u6211\u610f\u8bc6\uff1b\u7b2c\u4e8c\u4e2a\u4e03\u5e74\uff0c\u6709\u4e86\u751f\u6d3b\u751f\u5b58\u610f\u8bc6\uff1b\u7b2c\u4e09\u4e2a\u4e03\u5e74\uff0c\u6709\u4e86\u60c5\u611f\u60c5\u7eea\u610f\u8bc6\uff1b\u7b2c\u56db\u4e2a\u4e03\u5e74\uff0c\u6709\u4e86\u8d23\u4efb\u3002\\n\\n## \u7b2c\u56db\u9636\u6bb5\\n\\n> 4 \u2a09 7 = 28\\n\\n\u7ed3\u675f\u4e86\u751f\u5982\u864e\u7684\u5c11\u5e74\u65f6\u4ee3\uff0c\u7ed3\u675f\u4e86\u65e0\u6240\u754f\u60e7\uff0c\u7ed3\u675f\u4e86\u65e0\u5fe7\u65e0\u8651\u3002\\n\\nThere are a lot of people that not make it go throught the 28, like my favorite DJ Avicii, sorry for them.\\n\\nI know, need a lot courage to live, but only need one step to die. Life never gose easy until the end.\\n\\nI don\'t know what\'s next I have to face, but I think I\'m prepared for whatever it is.\\n\\n\u6bcf\u4e00\u6b21\u7684\u7ed3\u675f\u5f53\u7136\u662f\u65b0\u7684\u5f00\u59cb\u3002\\n\\n\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c28-35\uff0c\u4e3a\u4eba\uff0c\u5c06\u8fce\u6765\u751f\u547d\u529b\u7684\u5dc5\u5cf0\uff0c\u4f3c\u4e4e\u4e00\u76f4\u90fd\u5728\u4e3a\u6240\u80a9\u8d1f\u8fdb\u884c\u51c6\u5907\u3002\u6709\u6240\u671f\u5f85\uff0c\u6cbf\u9014\u7684\u98ce\u666f\u6216\u8bb8\u624d\u662f\u6700\u5927\u7684\u52a8\u529b\uff1b\u6709\u6240\u671f\u671b\uff0c\u770b\u7740\u201c\u5979\u201d\u7684\u5f00\u59cb\u6216\u8bb8\u662f\u6bcf\u5929\u5feb\u4e50\u7684\u6e90\u6cc9\uff1b\u6709\u6240\u966a\u4f34\uff0c\u4ee5\u81f3\u4e8e\u4e0d\u5728\u5b64\u5355\u3002\\n\\nSo, I can keep going.\\n\\n\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u6216\u8bb8\u4f1a\u6709\u5f88\u591a\u5bf9\u4e0d\u8d77\u3002\u5bf9\u4e0d\u8d77\u90a3\u4e9b\u7167\u987e\u966a\u4f34\u4f60\u7684\u4eba\uff0c\u56e0\u4e3a\u4f60\u5c06\u6ca1\u6709\u90a3\u4e48\u591a\u65f6\u95f4\u7559\u5728\u4ed6\u4eec\u8eab\u8fb9\uff1b\u5bf9\u4e0d\u8d77\u90a3\u4e9b\u671f\u671b\u7740\u4f60\u56de\u5bb6\u7684\u4eba\u513f\uff0c\u56e0\u4e3a\u4f1a\u6709\u5f88\u591a\u4e2a\u65e5\u591c\u90fd\u4f1a\u8f9c\u8d1f\u4ed6\u4eec\u7684\u7b49\u5f85\uff1b\u6216\u8bb8\uff0c\u4e5f\u4f1a\u5bf9\u4e0d\u8d77\u90a3\u4e2a\u671f\u5f85\u7684\u81ea\u5df1\uff0c\u4eca\u5929\u7684\u627f\u8bfa\u4e0d\u77e5\u5728\u67d0\u5929\u624d\u80fd\u8fbe\u6210\u3002\\n\\nBut, I have to keep going.\\n\\n> May the path be with you.\\n\\n## \u53c2\u8003\\n\\n- https://tommonte.com/the-7-year-cycles-of-life/\\n  - The 7-Year Cycles of Life\\n- \u539f\u6587 - https://wener.me/blog/stage-four-of-life\\n  - Markdown - https://github.com/wenerme/wener/blob/master/story/2020/2020-08-16-stage-four-of-life.md"},{"id":"kubernetes-vs-openstack","metadata":{"permalink":"/story/kubernetes-vs-openstack","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-09-28-kubernetes-vs-openstack.md","source":"@site/story/2020/2020-09-28-kubernetes-vs-openstack.md","title":"Kubernetes vs OpenStack","description":"10\u5e74\u8d8b\u52bf","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"label":"\u865a\u62df\u5316","permalink":"/story/tags/\u865a\u62df\u5316"}],"readingTime":5.055,"truncated":true,"authors":[],"prevItem":{"title":"\u4eba\u751f\u7b2c\u56db\u9636\u6bb5","permalink":"/story/stage-four-of-life"},"nextItem":{"title":"Firecracker \u8fd0\u884c AlpineLinux","permalink":"/story/alpine-in-firecracker"}},"content":"![10\u5e74\u8d8b\u52bf](./2020-09-28-kubernetes-vs-openstack-10y-trend.jpg)\\n\\n\\n\\n## \u7b80\u4ecb\\n\\n\x3c!-- https://trends.google.com/trends/explore?date=2010-01-01%202020-09-28&geo=US&q=%2Fg%2F11b7lxp79d,%2Fm%2F0cm87w_ --\x3e\\n\\n| vs           | OpenStack                 | Kubernetes                             |\\n| ------------ | ------------------------- | -------------------------------------- |\\n| \u8d77\u6e90         | 2010 \u5e74 NASA+Rackspace    | 1.0 2015 \u5e74 Google                     |\\n| \u5b9a\u4f4d         | \u79c1\u6709\u4e91                    | \u5bb9\u5668\u7f16\u6392                               |\\n| \u4e3b\u8981\u8c03\u5ea6\u8d44\u6e90 | \u8ba1\u7b97/VM<br/>\u5b58\u50a8<br/>\u7f51\u7edc | \u5bb9\u5668<br/>\u53ca\u914d\u5957\u5468\u8fb9\u8d44\u6e90<br/>\u81ea\u5b9a\u4e49\u8d44\u6e90 |\\n| \u4e3b\u8981\u7f16\u5199\u8bed\u8a00 | Python                    | Golang                                 |\\n\\n\x3c!-- more --\x3e\\n\\n## \u533a\u522b\\n\\nOpenStack \u4e0e Kubernetes \u7684\u533a\u522b\u5c31\u7b49\u540c\u4e8e\u865a\u62df\u673a\u4e0e\u5bb9\u5668\u7684\u533a\u522b\uff0cDocker \u4e0e VirtualBox \u7684\u533a\u522b\u3002\\n\\n### OpenStack\\n\\nOpenStack \u7684\u5b58\u5728\u4e3b\u8981\u89e3\u51b3\u57fa\u7840\u8bbe\u65bd\u7ba1\u7406\uff0c\u90a3\u5e74\u4ee3\u4e5f\u6b63\u503c\u5927\u6570\u636e\u5feb\u901f\u53d1\u5c55\uff0c\u5bb9\u5668\u8fd8\u6ca1\u6709\u51fa\u73b0\u4e8e\u516c\u4f17\u89c6\u91ce\u3002\\nOpenStack \u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u7684\u79c1\u6709\u4e91\u89e3\u51b3\u65b9\u6848\uff0c\u63d0\u4f9b\u6700\u4e3a\u57fa\u7840\u7684\u8bbe\u65bd\u5c42\u4e91\u5316\u3002\u56e0\u4e3a\u662f\u8bbe\u65bd\u5c42\u4e91\u5316\uff0cOpenStack \u662f\u9700\u8981\u5728\u88f8\u673a\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684\uff0c\u57fa\u7840\u5e73\u53f0\u5373\u9700\u8981\u76f8\u5f53\u7684\u8d44\u6e90\u3002\\nOpenStack \u51fa\u73b0\u540e\u5174\u8d77\u8fc7\u4e00\u6bb5\u6f6e\u6d41\uff0c\u4e0d\u5c11\u4f01\u4e1a\u5f00\u59cb\u7ec4\u5efa\u4e91\uff0c\u5e76\u63d0\u4f9b\u670d\u52a1\uff0c\u6211\u5370\u8c61\u6df1\u523b\u7684\u4fbf\u662f\u4eac\u4e1c\u4e91\u3002\u4f46\u5728 2015 \u5e74 Kubernetes 1.0 \u53d1\u5e03\u540e\uff0c\u5927\u91cf\u4f01\u4e1a\u5f00\u59cb\u8fc1\u51fa OpenStack\uff0c\u8f6c\u5411 Kubernets\u3002\\n\\n\u90a3\u4e48\u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4f7f\u7528 OpenStack \u5462\uff1f\\n\\n1. **\u6838\u5fc3\u4e1a\u52a1\u662f\u63d0\u4f9b\u516c\u6709\u4e91**\\n\\n- \u865a\u62df\u673a\\n- \u865a\u62df\u7f51\u7edc\\n- \u865a\u62df\u5b58\u50a8\\n\\n2. \u6709 OpenStack \u4e13\u7528\u673a\u623f\\n3. \u6709 OpenStack \u4e13\u5bb6\u56e2\u961f\\n4. \u6709\u8db3\u591f\u7684\u8d44\u91d1\u652f\u4ed8 OpenStack \u54a8\u8be2/\u652f\u6301\u8d39\u7528\\n\\nOpenStack \u53ea\u8d1f\u8d23\u89e3\u51b3\u57fa\u7840\u8bbe\u65bd\u7684\u7ba1\u7406\u9694\u79bb\uff0c\u4e0d\u8d1f\u8d23\u89e3\u51b3\u670d\u52a1\u90e8\u7f72\u8fd0\u7ef4\uff0c\u4e0d\u8d1f\u8d23\u652f\u6491 Web \u89c4\u6a21\u7684\u5e94\u7528\u3002\\n\\n### Kubernetes\\n\\nKubernetes \u7684\u51fa\u73b0\u548c\u5174\u8d77\u662f\u5bb9\u5668\u53d1\u5c55\u540e\u7684\u7ed3\u679c\u3002\\n\\n- 2007 \u5e74 cgroups \u7684\u51fa\u73b0\u5b9e\u73b0\u4e86\u8fdb\u7a0b\u8d44\u6e90\u9694\u79bb - \u6765\u6e90\u4e8e Google\\n- 2008 \u5e74 lxc \u57fa\u672c\u5b9e\u73b0\u4e86 Linux \u7684\u7cfb\u7edf\u7ea7\u865a\u62df\u5316 - \u57fa\u4e8e cgroups \u548c \u547d\u540d\u7a7a\u95f4\\n- 2013 \u5e74 google \u5f00\u6e90\u53ef\u5185\u90e8\u5bb9\u5668\u6280\u672f\u6808 [lmctfy](https://github.com/google/lmctfy) \u5b9e\u73b0\u4e86 Linux \u4e0b\u5e94\u7528\u9694\u79bb\\n- 2013 \u5e74 Docker \u51fa\u73b0\u5728\u516c\u4f17\u89c6\u91ce - \u57fa\u4e8e LXC\\n- 2014 \u5e74 CoreOS \u7684 RTK \u51fa\u73b0\uff0c\u63a8\u8fdb\u5bb9\u5668\u7684\u53d1\u5c55\\n  - \u53ea\u63d0\u4f9b\u5bb9\u5668\u7684\u7cfb\u7edf\uff0c\u5c31\u597d\u6bd4 xen \u7684 dom0 \u53ea\u63d0\u4f9b\u865a\u62df\u5316\\n- 2015 \u5e74 Kubernetes 1.0\\n- 2016 \u5e74 Windows \u652f\u6301\u5bb9\u5668\u5316\u6280\u672f\\n\\n\u5230\u4eca\u5929\uff0cKubernetes \u4e0d\u53ea\u662f\u7528\u4e8e\u8c03\u5ea6\u5bb9\u5668\uff0c\u66f4\u50cf\u662f\u4e00\u4e2a\u6cdb\u7528\u7684\u96c6\u7fa4\u8d44\u6e90\u8c03\u5ea6\u5e73\u53f0\u3002\\n\\nKubernetes \u4e5f\u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a IaaS\uff0c\u56e0\u4e3a\u63d0\u4f9b\u4e86\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u7684\u80fd\u529b\uff0c\u4f46\u53c8\u4e0e\u4f20\u7edf\u7684\u57fa\u7840\u8bbe\u65bd\u4e0d\u592a\u76f8\u540c\uff0c\u66f4\u52a0\u8f7b\u91cf\u4fbf\u6377\u3002\u8fd9\u65f6\u5019\u5982\u4f55\u9009\u62e9\uff0c\u5c31\u770b\u9700\u8981\u57fa\u7840\u8bbe\u65bd\u8fd0\u7ef4\u5c42\u4ea4\u4ed8\u4ec0\u4e48\u6837\u7684\u8d44\u6e90\u5185\u5bb9\u3002\\n\\nKubernetes \u7684\u51fa\u73b0\u4f7f\u5f97\u8fd0\u7ef4\u6982\u5ff5\u66f4\u52a0\u6cdb\u5316\uff0cDevOps \u7684\u6982\u5ff5\u5174\u8d77\uff0c\u57fa\u7840\u8bbe\u65bd\u4e0e\u5f00\u53d1\u4eba\u5458\u8ddd\u79bb\u53d8\u5f97\u66f4\u4e3a\u63a5\u8fd1\u3002\\nKubernetes \u9664\u4e86\u63d0\u4f9b\u57fa\u7840\u7684\u5bb9\u5668\u90e8\u7f72\uff0c\u8fd8\u63d0\u4f9b\u4e86\u5b9e\u73b0\u89c4\u6a21\u670d\u52a1\u9700\u8981\u7684\u6240\u6709\u8d44\u6e90\u7c7b\u578b\uff0c\u4f8b\u5982 \u670d\u52a1\u3001Ingress\u3001\u914d\u7f6e\u3001\u5bc6\u94a5 \u7b49\u7b49\uff0c\u8fd9\u4e00\u5c42\u662f OpenStack \u4e0d\u53ef\u80fd\u6d89\u53ca\u7684\u3002\\n\\n\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528 Kubernetes \uff1f\\n\\n1. \u5f53\u4e3b\u673a\u4e0d\u6b62\u4e00\u53f0\u3001\u5e94\u7528\u4e0d\u53ea\u4e00\u4e2a\\n2. \u6838\u5fc3\u4ea4\u4ed8\u4ea7\u54c1\u662f\u670d\u52a1\\n\\n## \u4e92\u8865\\n\\n- Kubernetes \u53ef\u4ee5\u9009\u62e9\u8fd0\u884c\u5728 OpenStack \u4e2d\\n- OpenStack \u53ef\u4ee5\u901a\u8fc7 LXD \u5c31\u884c\u8c03\u5ea6\u5bb9\u5668\\n- Kubernetes \u53ef\u4ee5\u63d0\u4f9b\u865a\u62df\u673a\u7684\u4f53\u9a8c\\n  - \u5bb9\u5668\u5b89\u88c5 SSH\\n  - \u4f7f\u7528 Kubvirt \u8c03\u5ea6\u865a\u62df\u673a\\n- Kubernetes \u53ef\u4ee5\u63d0\u4f9b\u865a\u62df\u673a\u7a0b\u5ea6\u7684\u9694\u79bb\\n\\n## \u975e\u5e38\u89c4\u5e73\u53f0\\n\\nOpenStack \u548c Kubernetes \u90fd\u662f\u901a\u7528\u7684\u4e91\u5e73\u53f0 - \u901a\u7528\u8ba1\u7b97\u3001\u901a\u7528\u5b58\u50a8\u3001\u901a\u7528\u7f51\u7edc\u3002\\n\u6709\u4e9b\u65f6\u5019\u5e73\u53f0\u573a\u666f\u5e76\u4e0d\u662f\u6cdb\u7528\u7684\u573a\u666f\uff0c\u4f8b\u5982\\n\\n- \u79c1\u6709\u5b58\u50a8\u4e91\\n- \u6d41\u6570\u636e\u5904\u7406\u5e73\u53f0\\n- \u8fb9\u7f18\u8282\u70b9\u8c03\u5ea6\\n- \u5927\u6570\u636e - \u8ba1\u7b97\u3001\u5b58\u50a8\\n- GPU \u8ba1\u7b97\\n\\n\u8fd9\u65f6\u5019\u5219\u9700\u8981\u6309\u9700\u9009\u62e9\u5bf9\u5e94\u7684\u8c03\u5ea6\u5e73\u53f0\u6216\u5de5\u5177\u3002\u4f8b\u5982 \u5b58\u50a8\u4f7f\u7528 Ceph\uff0c\u5e76\u4e0d\u662f\u4e00\u5b9a\u9700\u8981\u90e8\u7f72\u5728 Kubernetes \u4e4b\u4e0a\uff0c\u5927\u6279\u91cf\u7684\u8fb9\u7f18\u8282\u70b9\u8c03\u5ea6\u53ef\u80fd Nomad \u4f1a\u66f4\u52a0\u9002\u5408\uff0c\u5927\u6570\u636e\u5e73\u53f0\u53ef\u80fd\u6709 Hadoop \u66f4\u52a0\u9002\u5408\u7684\u573a\u666f\u3002\\n\\n\u4f46\u4e0d\u53ef\u5426\u8ba4\u7684\u662f\uff0c99% \u7684\u4f01\u4e1a\u90fd\u662f\u5c5e\u4e8e\u901a\u7528\u7684\u4e00\u7c7b\uff0c\u56e0\u6b64 99% \u7684\u573a\u666f\u9009\u62e9 Kubernetes \u5373\u53ef\u3002\\n\\n## \u53c2\u8003\\n\\n- [\u4eac\u4e1c\u5982\u4f55\u4ece OpenStack \u8fc1\u79fb\u81f3 Kubernetes](https://yq.aliyun.com/articles/139446)\\n- [The future of OpenStack?](https://www.suse.com/c/the-future-of-openstack/)\\n- [What is the future of Openstack?](https://qr.ae/pNPMWM)"},{"id":"alpine-in-firecracker","metadata":{"permalink":"/story/alpine-in-firecracker","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-10-23-alpine-in-firecracker.md","source":"@site/story/2020/2020-10-23-alpine-in-firecracker.md","title":"Firecracker \u8fd0\u884c AlpineLinux","description":"Firecracker \u662f\u4e9a\u9a6c\u900a AWS \u4e3a\u4e86\u89e3\u51b3\u865a\u62df\u5316\u8fd0\u884c serveless \u670d\u52a1\u5b9e\u73b0\u7684 VMM/Virtual Machine Monitor\uff0c\u4f5c\u4e3a QEMU \u7684\u66ff\u4ee3\u54c1\uff0c\u4e13\u6ce8\u4e8e\u4e3a\u4e91\u4e0a\u73af\u5883\u63d0\u4f9b\u865a\u62df\u5316\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"label":"Firecracker","permalink":"/story/tags/firecracker"}],"readingTime":7.75,"truncated":true,"authors":[],"prevItem":{"title":"Kubernetes vs OpenStack","permalink":"/story/kubernetes-vs-openstack"},"nextItem":{"title":"Rancher vs. Kubesphere","permalink":"/story/rancher-vs-kubesphere"}},"content":"Firecracker \u662f\u4e9a\u9a6c\u900a AWS \u4e3a\u4e86\u89e3\u51b3\u865a\u62df\u5316\u8fd0\u884c serveless \u670d\u52a1\u5b9e\u73b0\u7684 VMM/Virtual Machine Monitor\uff0c\u4f5c\u4e3a QEMU \u7684\u66ff\u4ee3\u54c1\uff0c\u4e13\u6ce8\u4e8e\u4e3a\u4e91\u4e0a\u73af\u5883\u63d0\u4f9b\u865a\u62df\u5316\u3002\\n\\n**\u4f18\u70b9**\\n\\n- \u542f\u52a8\u5feb < 125ms\\n- \u5185\u5b58\u5360\u7528\u5c11 < 5mb\\n- Rust \u5b9e\u73b0\\n- musl \u9759\u6001\u94fe\u63a5\\n- firecracker \u81ea\u8eab\u7ea6 **1.6 MB** - **\u65e0\u4f9d\u8d56**\\n\\n\x3c!-- more --\x3e\\n\\n**\u8bbe\u8ba1\u76ee\u6807/\u7f3a\u9677**\\n\\n- \u57fa\u4e8e KVM \u5b9e\u73b0\\n  - \u53ea\u6709 Linux \u5e73\u53f0\\n  - \u53ea\u80fd\u8fd0\u884c\u76f8\u540c\u67b6\u6784\\n- \u4e13\u6ce8\u4e8e\u865a\u62df\u5316\u573a\u666f\\n  - \u652f\u6301\u7684\u865a\u62df\u8bbe\u5907\u5c11\\n    - virtio-net - \u865a\u62df\u5316\u7f51\u7edc\\n    - virtio-block - \u865a\u62df\u5316\u5757\u8bbe\u5907\\n    - virtio-vsock - unix sock\\n    - \u4e32\u53e3 - ttyS0 \u7ec8\u7aef\u767b\u9646\\n    - \u6700\u7b80\u952e\u76d8\u63a7\u5236\u5668\\n  - \u6ca1\u6709 bios\\n  - \u901a\u8fc7 vmlinux+initramfs+rootfs \u542f\u52a8\\n- \u8981\u6c42 Kernel 4.14+\\n\\n**\u4e3a\u4ec0\u4e48\u9009\u62e9 Alpine\uff1f**\\n\\n- \u6700\u5bb9\u6613\u6784\u5efa\\n- \u6700\u5bb9\u6613\u4f7f\u7528\\n- \u6784\u5efa Firecracker \u80fd\u4f7f\u7528\u7684 CentOS, Debian, Ubuntu, Fedora \u771f\u592a\u96be\u4e86 - \u5982\u679c\u6ca1\u638c\u63e1\u5185\u90e8\u542f\u52a8\u673a\u5236\u4e0d\u5efa\u8bae\u5c1d\u8bd5\\n\\n## \u6ce8\u610f\\n\\n\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9879\u5199\u5728\u524d\u9762\uff1a\\n\\n:::info Firecracker \u6ce8\u610f\u70b9\\n\\n- \u6ca1\u6709\u7535\u6e90\u7ba1\u7406\uff0c\u56e0\u6b64\u4e0d\u652f\u6301\u91cd\u542f\uff0c\u4f1a\u76f4\u63a5\u9000\u51fa\\n- \u7cfb\u7edf\u5185 poweroff \u6216 halt \u4e0d\u4f1a\u9000\u51fa - reboot \u4f1a\\n- \u53ef\u4ee5\u53d1\u9001 SendCtrlAltDel \u9000\u51fa\\n- \u4e0d\u652f\u6301 QCOW2 \u683c\u5f0f\uff0c\u53ef\u4ee5\u8003\u8651\u914d\u5408 NDB \u4f7f\u7528\\n- alpine \u5185\u6838\u9700\u8981 boot-source.initrd_path => initramfs-virt\\n- alpine netboot \u7684 initramfs-virt \u6ca1\u6709 ext4\\n\\n:::\\n\\n## \u5b89\u88c5\\n\\nFirecracker \u7684[\u53d1\u5e03\u9875](https://github.com/firecracker-microvm/firecracker/releases)\u53ef\u76f4\u63a5\u4e0b\u8f7d\u6bcf\u4e2a\u7248\u672c\u3002\u8fd9\u91cc\u4f7f\u7528 curl \u4e0b\u8f7d\u6700\u65b0\u7248\u5e76\u5b89\u88c5\u5230 `/usr/loca/bin`\u3002\\n\\n```bash\\n# \u4e0b\u8f7d\u5b89\u88c5 firecracker \u5230 /usr/local/bin/firecracker\\nlatest=$(basename $(curl -fsSLI -o /dev/null -w  %{url_effective} https://github.com/firecracker-microvm/firecracker/releases/latest))\\nsudo curl -L -o /usr/local/bin/firecracker https://github.com/firecracker-microvm/firecracker/releases/download/${latest}/firecracker-${latest}-$(uname -m)\\nsudo chmod +x /usr/local/bin/firecracker\\n```\\n\\n## rootfs\\n\\n\u542f\u52a8 firecracker \u9700\u8981 kernel \u548c rootfs\uff0c\u5b9e\u9645\u4f7f\u7528\u7684\u65f6\u5019\u53ef\u80fd\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u662f\u5728\u51c6\u5907 rootfs\u3002\u8fd9\u91cc\u4f7f\u7528 alpinelinux\uff0c\u529f\u80fd\u5b8c\u5584\u6784\u5efa\u7b80\u5355\u3002\\n\\n\u56e0\u4e3a alpine \u90fd\u4f1a\u63d0\u4f9b\u57fa\u7840\u7684 rootfs\uff0c\u8fd9\u91cc\u76f4\u63a5\u4e0b\u8f7d\u89e3\u538b\u5230 ext4 \u7684 loopdev \u4e2d\u3002\\n\\n```bash\\n# \u521b\u5efa root \u76d8\\nqemu-img create -f raw alpine.rootfs.ext4 1G\\n# \u683c\u5f0f\u5316\u4e3a ext4\\nmkfs.ext4 ./alpine.rootfs.ext4\\n# \u6302\u8f7d\u5230 /tmp/rootfs\\nmkdir /tmp/rootfs\\nsudo mount alpine.rootfs.ext4 /tmp/rootfs\\n\\n# \u4e0b\u8f7d rootfs\\ncurl -OJ https://mirrors.aliyun.com/alpine/v3.12/releases/x86_64/alpine-minirootfs-3.12.0-x86_64.tar.gz\\n# \u5b89\u88c5\u5230 /tmp/rootfs\\nsudo tar zxvf alpine-minirootfs-3.12.0-x86_64.tar.gz -C /tmp/rootfs/\\n```\\n\\n\u57fa\u7840 rootfs \u8fd8\u4e0d\u8db3\u4ee5\u542f\u52a8\u7cfb\u7edf\uff0c\u56e0\u4e3a\u65e0\u6cd5\u8fdb\u884c\u7cfb\u7edf init\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u5728 rootfs \u4e2d\u5b89\u88c5\u5fc5\u8981\u7684\u5305\u542f\u52a8\u5fc5\u8981\u7684\u670d\u52a1\u3002\\n\\n\u8fdb\u5165 rootfs \u4e4b\u524d\u9700\u8981 resolv.conf\uff0c\u5305\u542b\u4e86 DNS \u4fe1\u606f\u3002\\n\\n```bash\\n# \u62f7\u8d1d dns \u914d\u7f6e - \u6ca1\u6709\u4f1a\u65e0\u6cd5\u8fdb\u884c dns \u89e3\u6790\\nsudo cp /etc/resolv.conf /tmp/rootfs/etc\\n# \u5982\u679c\u4e3b\u673a\u662f alpinelinux \u53ef\u4ee5\u4ece\u4e3b\u673a\u62f7\u8d1d\u914d\u955c\u50cf\u7f6e\u6587\u4ef6\\n# \u5982\u679c\u4e0d\u662f\u5efa\u8bae\u8bbe\u7f6e\u955c\u50cf\\n# sudo cp /etc/apk/repositories /tmp/rootfs/etc/apk/repositories\\n\\n# chroot \u8fdb\u5165 rootfs \u5b89\u88c5\u73af\u5883\\nsudo chroot /tmp/rootfs/ /bin/sh\\n```\\n\\n\u6b64\u65f6\u8fdb\u5165\u4e86 rootfs\uff0c\u56e0\u4e3a\u6ca1\u6709\u6302\u8f7d procfs\u3001sysfs \u7b49\u76ee\u5f55\uff0c\u5e76\u4e0d\u662f\u4e00\u4e2a\u80fd\u5b8c\u6574\u4f7f\u7528\u7684 rootfs\uff0c\u4f46\u5bf9\u4e8e\u5b89\u88c5\u5305\u6765\u8bf4\u5df2\u7ecf\u8db3\u591f\u3002\\n\\n- [alpine-base](https://pkgs.alpinelinux.org/package/v3.12/main/x86_64/alpine-base)\\n  - \u57fa\u7840\u7cfb\u7edf\\n  - \u4f9d\u8d56\u4e86 openrc\uff0clayout\uff0cbusybox\uff0capk\uff0cconf \u7b49\u57fa\u7840\u5305\\n- linux-virt\\n  - virt \u5185\u6838 - \u4e0d\u5305\u542b\u56fa\u4ef6\uff08200MB \u5de6\u53f3\uff09\uff0c\u9ed8\u8ba4 init \u5305\u542b virtio \u7b49\u5185\u6838\u6a21\u5757\\n  - \u5b89\u88c5\u540e\u80fd\u83b7\u53d6\u5230\u5185\u6838\u548c initramfs\\n  - /boot \u4e0b vmlinuz+initramfs+System.map \u7ea6 15MB - \u542f\u52a8\u662f\u4e0d\u9700\u8981\u7684\uff0c\u62ff\u5230\u540e\u53ef\u4ee5\u5220\u9664\\n- haveged\\n  - \u968f\u673a\u71b5\u670d\u52a1\\n  - \u865a\u62df\u5316\u73af\u5883\u80fd\u66f4\u5feb\u542f\u52a8\uff0c\u5426\u5219\u71b5\u521d\u59cb\u5316\u53ef\u80fd\u9700\u8981\u51e0\u5206\u949f\\n\\n```bash\\napk add alpine-base linux-virt haveged\\n# \u5f00\u673a\u542f\u52a8\\nrc-update add haveged\\n# root \u8d26\u53f7\u5bc6\u7801\\necho root:root | chpasswd\\n# \u57fa\u7840\u670d\u52a1\\nfor svc in devfs procfs sysfs; do ln -fs /etc/init.d/$svc /etc/runlevels/boot; done\\nexit\\n\\n# firecracker \u4f7f\u7528 ttyS0\\nln -s agetty /etc/init.d/agetty.ttyS0\\necho ttyS0 > /etc/securetty\\nrc-update add agetty.ttyS0 default\\n\\n# \u4ece rootfs \u83b7\u53d6\u5230 vmlinuz \u548c initramfs\\nsudo cp /tmp/rootfs/boot/initramfs-virt initramfs-virt\\nsudo cp /tmp/rootfs/boot/vmlinuz-virt vmlinuz-virt\\n\\n# \u53d6\u6d88\u6302\u8f7d\\nsudo umount /tmp/rootfs\\n```\\n\\nrootfs \u51c6\u5907\u5b8c\u6210\u3002\\n\\n## vmlinux+initrd\\n\\n\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b rootfs \u62ff\u5230\u7684 Linux \u5185\u6838 vmlinuz-virt \u548c\u521d\u59cb\u5185\u5b58\u955c\u50cf initramfs-virt\\n\\n- vmlinuz-virt\\n  - \u538b\u7f29\u540e\u7684 Linux \u5185\u6838 - \u9700\u8981\u89e3\u538b\u540e firecracker \u624d\u80fd\u8bc6\u522b\\n  - \u89e3\u538b\u540e\u4e3a ELF \u683c\u5f0f\u53ef\u6267\u884c\u6587\u4ef6 - \u4e0e\u4e00\u822c Linux \u4e0b\u53ef\u6267\u884c\u6587\u4ef6\u76f8\u540c\\n- initramfs-virt\\n  - \u538b\u7f29\u540e\u7684 cpio \u683c\u5f0f\\n  - \u5305\u542b\u4e86 Linux \u5185\u6838\u9700\u8981\u7684 virtio \u548c ext4 \u7b49\u6a21\u5757\\n  - \u5305\u542b\u4e86 Alpine \u7684 init \u7cfb\u7edf\\n    - \u52a0\u8f7d\u5185\u6838\u6a21\u5757\\n    - \u627e\u5230\u5e76\u6302\u8f7d rootfs\\n\\n\u56e0\u4e3a\u5185\u6838\u662f\u538b\u7f29\u540e\u7684\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u8fdb\u884c\u89e3\u538b\\n\\n```bash\\n# \u4e0b\u8f7d\u5b89\u88c5 extract-vmlinux\\nsudo curl -L -o /usr/local/bin/extract-vmlinux https://raw.githubusercontent.com/torvalds/linux/master/scripts/extract-vmlinux\\nsudo chmod +x /usr/local/bin/extract-vmlinux\\n# \u89e3\u538b vmlinuz-virt\\nextract-vmlinux vmlinuz-virt > vmlinux-virt\\n```\\n\\n## \u542f\u52a8\\n\\n\u6240\u6709\u51c6\u5907\u5de5\u4f5c\u5df2\u5b8c\u6210\uff0c\u5f97\u5230\\n\\n- alpine.rootfs.ext4 - \u7cfb\u7edf\u76d8\\n- vmlinux-virt - \u5185\u6838\\n- initramfs-virt - \u521d\u59cb\u5185\u5b58\u955c\u50cf\\n\\nfirecracker \u6709\u4e24\u79cd\u542f\u52a8\u65b9\u5f0f\\n\\n1. \u76d1\u542c\u7aef\u53e3/socket\\n\\n- \u901a\u8fc7\u8c03\u7528\u63a5\u53e3\u914d\u7f6e rootfs\u3001\u5185\u6838\u7b49\\n- \u914d\u7f6e\u5b8c\u6210\u540e\u8bf7\u6c42 InstanceStart \u8fdb\u884c\u542f\u52a8\\n\\n2. \u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\\n\\n- \u914d\u7f6e\u6587\u4ef6\u7b49\u540c\u4e8e\u63a5\u53e3\u8bf7\u6c42\\n- \u53c2\u6570\u5185\u5bb9\u548c\u8def\u5f84\u4e0e\u63a5\u53e3\u4e00\u81f4\\n\\n\u8fd9\u91cc\u4f7f\u7528\u65b9\u6cd5 #2\uff0c\u56e0\u4e3a\u65b9\u4fbf\u4e66\u5199\u7f16\u8f91\u7b80\u5355\u3002\\n\\n```bash\\n# \u751f\u6210 alpine.json \u914d\u7f6e\\ncat <<CONF > alpine.json\\n{\\n  \\"boot-source\\": {\\n    \\"initrd_path\\": \\"initramfs-virt\\",\\n    \\"kernel_image_path\\": \\"vmlinux-virt\\",\\n    \\"boot_args\\": \\"console=ttyS0 reboot=k panic=1 pci=off modules=virtio_mmio,ext4 rootfstype=ext4\\"\\n  },\\n  \\"drives\\": [\\n    {\\n      \\"drive_id\\": \\"rootfs\\",\\n      \\"path_on_host\\": \\"alpine.rootfs.ext4\\",\\n      \\"is_root_device\\": true,\\n      \\"is_read_only\\": false\\n    }\\n  ],\\n  \\"machine-config\\": {\\n    \\"vcpu_count\\": 1,\\n    \\"mem_size_mib\\": 1024,\\n    \\"ht_enabled\\": false\\n  }\\n}\\nCONF\\n\\n# \u914d\u7f6e\u5b8c\u6210 - \u542f\u52a8\\n# \u8fdb\u5165\u540e\u4f7f\u7528 root:root \u767b\u9646\\nfirecracker --api-sock /tmp/firecracker.socket --config-file alpine.json\\n```\\n\\n## \u505c\u6b62\\n\\n:::caution Firecracker \u4e0d\u80fd\u6b63\u5e38\u5173\u673a\\n\\nfirecracker \u4e0d\u80fd\u4f7f\u7528 poweroff \u5173\u673a\uff0c\u5982\u679c\u4f7f\u7528\u4e86 poweroff \u5219\u53ea\u80fd kill \u8fdb\u7a0b\u6765\u9000\u51fa\u3002\\n\\n:::\\n\\n\u5728\u7cfb\u7edf\u4e4b\u5916\u53ef\u4ee5\u8bf7\u6c42 `Ctrl+Alt+Del` \u8fdb\u884c\u5173\u673a\uff0c\u5b9e\u8d28\u4e0a\u662f\u91cd\u542f\u7684\u6548\u679c\uff0c\u4f46\u56e0\u4e3a firecracker \u4e0d\u80fd\u91cd\u542f\uff0c\u56e0\u6b64 init \u9000\u51fa\u540e\u5c31\u5173\u673a\u4e86\u3002\\n\\n```bash\\ncurl --unix-socket /tmp/firecracker.socket -i \\\\\\n    -X PUT \\"http://localhost/actions\\" \\\\\\n    -H  \\"accept: application/json\\" \\\\\\n    -H  \\"Content-Type: application/json\\" \\\\\\n    -d \'{\\"action_type\\": \\"SendCtrlAltDel\\"}\'\\n```\\n\\n\u7cfb\u7edf\u5185\u53ef\u4ee5\u76f4\u63a5 `reboot` \u8fdb\u884c\u5173\u673a\u3002\\n\\n## \u603b\u7ed3\\n\\nFirecracker \u4f7f\u7528\u8d77\u6765\u86ee\u60ca\u8273\uff0c\u80fd\u6210\u529f\u7684\u5feb\u901f\u7684\u542f\u52a8\u7cfb\u7edf\uff0c\u542f\u52a8\u901f\u5ea6\u4f1a\u6bd4 QEMU \u5feb\u4e0d\u5c11\uff0c\u56e0\u4e3a\u5c11\u4e86 bios\u3001bootloader\u3001\u5185\u6838\u89e3\u538b \u7b49\u8fc7\u7a0b\u3002\\n\\n\u56e0\u4e3a Firecracker \u4f18\u7f3a\u70b9\u975e\u5e38\u660e\u663e\uff0c\u8fd9\u91cc\u603b\u7ed3\u4e00\u4e0b\u9002\u7528\u573a\u666f\uff1a\\n\\n- serveless \u573a\u666f - \u9700\u8981\u5feb\u901f\u8d77\u505c\uff0c\u5b89\u5168\u9694\u79bb\uff0c\u73af\u5883\u72ec\u7acb\\n- \u5904\u4e8e\u5b89\u5168\u8003\u8651\u8fdb\u884c\u5bb9\u5668\u6267\u884c\u73af\u5883\u9694\u79bb - \u4f5c\u4e3a\u5bb9\u5668\u8fd0\u884c\u65f6\\n- \u5c06\u5e94\u7528\u6253\u5305\u4e3a\u7cfb\u7edf\u8fdb\u884c\u5206\u53d1\uff0c\u4f7f\u7528 firecracker \u5c4f\u853d\u7cfb\u7edf\u5dee\u5f02\\n\\n\u4e0d\u9002\u7528\u573a\u666f\u4e5f\u5f88\u660e\u663e\uff1a\\n\\n- \u5982\u679c\u9700\u8981\u4f7f\u7528 CentOS\u3001Debian\u3001Ubuntu \u4e4b\u7c7b\u7cfb\u7edf\uff0c\u975e\u5e38\u4e0d\u5efa\u8bae\\n  - \u6784\u9020\u4e00\u4e2a\u53ef\u4f7f\u7528\u7684 rootfs \u548c initramfs \u975e\u5e38\u9ebb\u70e6\\n- \u9700\u8981\u7528\u5230\u7684\u8bbe\u5907 firecracker \u53ef\u80fd\u4e0d\u652f\u6301\\n- \u9700\u8981\u900f\u4f20\u8bbe\u5907\u5230 VM\\n\\nFirecracker \u76f8\u5bf9\u8f83\u65b0\uff0c\u96c6\u6210\u4f7f\u7528\u65b9\u9762\u8fd8\u6709\u6240\u6b20\u7f3a\uff0c\u4f46\u5728 Firecracker \u64c5\u957f\u7684\u9886\u57df\u4f7f\u7528\u8d77\u6765\u662f\u975e\u5e38\u8212\u670d\u7684\u3002\\n\\n## \u53c2\u8003\\n\\n- [boot-alpine-in-firecracker.sh](https://gist.github.com/wenerme/97a2f088496bb3e6492ef7e8fe23da8a) - \u4ee5\u4e0a\u6240\u6709\u4ee3\u7801\\n- [firecracker-microvm/firecracker](https://github.com/firecracker-microvm/firecracker) - \u6838\u5fc3\u4ed3\u5e93\\n- [firecracker-microvm/firectl](https://github.com/firecracker-microvm/firectl) - Golang \u5b9e\u73b0\u7528\u4e8e\u7ba1\u7406 firecracker \u865a\u62df\u673a\u7684\u8f85\u52a9\u5de5\u5177\\n- [firecracker-microvm/firecracker-go-sdk](https://github.com/firecracker-microvm/firecracker-go-sdk) - Golang \u76f4\u63a5\u64cd\u4f5c Firecracker"},{"id":"rancher-vs-kubesphere","metadata":{"permalink":"/story/rancher-vs-kubesphere","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-10-27-rancher-vs-kubesphere.md","source":"@site/story/2020/2020-10-27-rancher-vs-kubesphere.md","title":"Rancher vs. Kubesphere","description":"| info.                 | Rancher                                                 | Kubesphere                                                          |","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"label":"\u8fd0\u7ef4","permalink":"/story/tags/\u8fd0\u7ef4"}],"readingTime":14.25,"truncated":true,"authors":[],"prevItem":{"title":"Firecracker \u8fd0\u884c AlpineLinux","permalink":"/story/alpine-in-firecracker"},"nextItem":{"title":"CRM \u57fa\u7840 - \u7ebf\u7d22\u3001\u5546\u673a\u3001\u8d26\u6237\u3001\u8054\u7cfb\u4eba","permalink":"/story/crm-basic-leads-opportunities-accounts-contacts"}},"content":"| info.                 | Rancher                                                 | Kubesphere                                                          |\\n| --------------------- | ------------------------------------------------------- | ------------------------------------------------------------------- |\\n| \u5f00\u53d1\u8005                | Rancher/SUSE                                            | \u9752\u4e91\u5f00\u6e90                                                            |\\n| \u6e90\u7801                  | [rancher/rancher](https://github.com/rancher/rancher)   | [kubesphere/kubesphere](https://github.com/kubesphere/kubesphere)   |\\n| Stars                 | 15.5k                                                   | 4.6k                                                                |\\n| \u5f00\u6e90\u534f\u8bae              | Apache-2.0                                              | \u63a7\u5236\u5668 Apache-2.0 <br/> \u524d\u7aef **AGPL-3.0** / \u4e0d\u5141\u8bb8\u5546\u4e1a\u95ed\u6e90\u4fee\u6539\u524d\u7aef  |\\n| \u5b89\u88c5                  | Helm                                                    | ks-installer(Ansible)+CRD                                           |\\n| \u90e8\u7f72 K8S              | rke/rancher                                             | kubekey                                                             |\\n| \u7248\u672c                  | v2.5                                                    | v3.0                                                                |\\n| \u76d1\u63a7                  | Grafana+Prometheus                                      | Prometheus+\u524d\u7aef\u96c6\u6210                                                 |\\n| \u544a\u8b66                  | Grafana/Altermanager                                    | \u90ae\u4ef6\u3001\u4f01\u4e1a\u5fae\u4fe1\u3001Slack                                               |\\n| \u65e5\u5fd7                  | Banzi Operator                                          | Elasticseach, fluentbit + \u524d\u7aef\u96c6\u6210<br/>\u4e8b\u4ef6\u65e5\u5fd7\uff0c\u5ba1\u8ba1\u65e5\u5fd7           |\\n| ServiceMesh           | Istio                                                   | Istio                                                               |\\n| DevOps                | 2.5 \u4e4b\u540e Fleet GitOps<br/>~~2.5 \u4e4b\u524d Pipeline/Jenkins~~ | Jenkins                                                             |\\n| \u5e94\u7528\u5546\u5e97              | Helm Repo                                               | [openpitrix/openpitrix](https://github.com/openpitrix/openpitrix)   |\\n| \u89d2\u8272\u6743\u9650\u7ba1\u7406          | \u2705                                                      | \u2705                                                                  |\\n| \u914d\u7f6e\u65b9\u5f0f              | Web UI/CRD                                              | \u7f16\u8f91 CRD/yaml                                                       |\\n| \u5e94\u7528                  | Helm                                                    | Helm/[CRD](https://github.com/kubernetes-sigs/application)          |\\n| \u5b9e\u73b0\u4f9d\u8d56              | -                                                       | etcd+redis+minio+openldap+mysql                                     |\\n| \u5b9e\u73b0\u670d\u52a1              | rancher+fleet                                           | ks-controller-manager<br/>ks-apiserver+ks-console                   |\\n| \u591a\u96c6\u7fa4                | \u2705                                                      | \u2705                                                                  |\\n| UI \u7f8e\u89c2               | \u2b50\ufe0f\u2b50\ufe0f                                                  | \u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f                                                           |\\n| UI \u529f\u80fd               | \u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f                                               | \u2b50\ufe0f\u2b50\ufe0f                                                              |\\n| \u4e91\u5e73\u53f0\u96c6\u6210            | \u2b50\ufe0f\u2b50\ufe0f                                                  | \u274c                                                                  |\\n| \u6587\u6863                  | \u2b50\ufe0f\u2b50\ufe0f                                                  | \u2b50\ufe0f                                                                 |\\n| \u5f00\u53d1\u53cb\u597d              | \u2b50\ufe0f                                                     | \u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f                                                           |\\n| \u8fd0\u7ef4\u53cb\u597d              | \u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f                                               | \u2b50\ufe0f                                                                 |\\n| \u4f7f\u7528\u8005\u5bf9 K8S \u638c\u63e1\u7a0b\u5ea6 | \u9ad8                                                      | \u4f4e                                                                  |\\n| \u6838\u5fc3\u4f53\u9a8c              | \u591a\u96c6\u7fa4\u8fd0\u7ef4\u90e8\u7f72                                          | \u53cb\u597d\u7684\u4e00\u4f53\u5316\u5f00\u53d1<br/>\u53cb\u597d=\u7f8e\u89c2\u7684\u754c\u9762<br/>\u4e00\u4f53\u5316\u5f00\u53d1=Jenkins+Elastic |\\n| \u6838\u5fc3\u7ade\u4e89\u529b            | \u591a\u96c6\u7fa4<br/>\u8d44\u6e90\u7ba1\u7406\u8fd0\u7ef4<br/>\u6838\u5fc3\u5e94\u7528\u96c6\u6210                | \u96c6\u6210\u591a\u529f\u80fd\u7684**\u7f8e\u89c2\u754c\u9762** / AGPL-3.0                                 |\\n\\n\x3c!-- more --\x3e\\n\\n:::tip\\n\\n- \u9009\u62e9 Kubesphere\\n  - \u5982\u679c\u72b9\u8c6b - \u56e0\u4e3a\u4f7f\u7528\u7b80\u5355\\n  - \u5982\u679c\u8ffd\u6c42\u754c\u9762\u7f8e\u89c2\\n  - \u5982\u679c\u5de5\u4f5c\u4ee5\u5f00\u53d1\u4e3a\u4e3b\\n  - \u5982\u679c\u5e0c\u671b\u5b9a\u5236\u5316\u4ea7\u51fa\u81ea\u5df1\u5e73\u53f0\u7ba1\u7406\\n    - \u754c\u9762 AGPL-3.0 ,\u5b9a\u5236\u540e\u7684\u95ed\u6e90\u5546\u4e1a\u4ea7\u54c1\u9700\u4ed8\u8d39\\n- \u9009\u62e9 Rancher\\n  - \u5982\u679c\u5bf9 Kubernetes \u638c\u63e1\u900f\u5f7b\\n  - \u5982\u679c\u9700\u8981\u7ba1\u7406\u591a\u96c6\u7fa4\\n  - \u5982\u679c\u5de5\u4f5c\u4ee5\u8fd0\u7ef4\u90e8\u7f72\u4e3a\u4e3b\\n  - \u5982\u679c\u9700\u8981\u6574\u5408\u4e91\u5e73\u53f0\u8d44\u6e90\\n\\n:::\\n\\n\u7efc\u5408\u4f7f\u7528\u4e0b\u6765\u540e\u89c9\u5f97 Kubesphere \u4e0e Rancher \u5e94\u7528\u573a\u666f\u5e76\u4e0d\u7279\u522b\u91cd\u590d\uff0c\u6309\u81ea\u5df1\u7684\u9700\u6c42\u9009\u62e9\u5373\u53ef\uff0c\u5b9e\u9645\u60c5\u51b5\u53ef\u80fd\u662f\u4e24\u4e2a\u90fd\u7528\u3002Ranher \u7528\u4e8e\u7ba1\u7406\u548c\u5f00\u901a\u96c6\u7fa4\uff0cKubesphere \u7528\u4e8e\u7ed9\u5f00\u53d1\u8005\u64cd\u4f5c\u5355\u4e2a\u96c6\u7fa4\u3002\\n\\n## Rancher\\n\\n### \u4f18\u70b9\\n\\n- \u66f4\u5927\u7684\u5f00\u53d1\u56e2\u961f\\n- \u66f4\u597d\u7684 K3S \u652f\u6301\\n- \u66f4\u597d\u7684\u4e91\u5e73\u53f0\u652f\u6301\\n- \u66f4\u597d\u7684\u591a\u96c6\u7fa4\u7ba1\u7406\\n- \u9ed8\u8ba4 HTTPS\\n- \u4e3a\u4ec0\u4e48\u66f4\u597d\uff1f\\n  - 2.5 \u7684 Exploere\\n  - WebShell \u4f1a\u663e\u793a Helm \u5b89\u88c5\u8fc7\u7a0b\\n  - \u5185\u7f6e Helm \u4ed3\u5e93\u5305\u542b Rancher \u96c6\u6210\u5e94\u7528\\n  - Helm Values \u80fd\u88ab\u6620\u5c04\u4e3a Form \u8868\u5355\\n  - \u96c6\u7fa4\u5907\u4efd\u6062\u590d\\n  - Fleet GitOps\\n\\n### \u7f3a\u70b9\\n\\n- \u8981\u6c42\u4f7f\u7528\u4eba\u5458\u5bf9 Kubernetes \u6709\u4e00\u5b9a\u8ba4\u77e5\u548c\u8fd0\u7ef4\u80fd\u529b\\n- WebUI \u4f7f\u7528\u8d77\u6765\u603b\u6709\u79cd\u5361\u987f\u7684\u611f\u89c9\\n- 2.5 \u7684\u65b0 UI \u76ee\u524d\u52a0\u8f7d\u603b\u4f1a\u95ea\u70c1 - Loadding\\n- \u8d44\u6e90\u5206\u7c7b\u6709\u70b9\u6df7\u4e71 - \u6ca1\u6709 Lens \u6e05\u6670\\n- ~2.5 \u8fd8\u5728 latest \u9636\u6bb5\uff0c\u5c1a\u672a\u8fdb\u5165 stable~\\n- ~2.5 \u7684 Exploere \u8fd8\u6ca1\u6709\u4e2d\u6587\uff0c\u4e0d\u8fc7\u5df2\u6709\u591a\u8bed\u8a00\u652f\u6301~\\n\\n## Kubesphere\\n\\n### \u4f18\u70b9\\n\\n- **\u754c\u9762\u53cb\u597d\u7f8e\u89c2**\\n- \u96c6\u6210\u76d1\u63a7\\n- \u96c6\u6210\u65e5\u5fd7\\n- \u96c6\u6210 DevOps\\n- \u96c6\u6210\u5e94\u7528\u4e00\u4f53\u5316\u4f53\u9a8c - \u4e0d\u9700\u8981\u53bb Grafana \u770b\u76d1\u63a7\uff0c\u4e0d\u9700\u8981\u53bb Kibana \u770b\u65e5\u5fd7\\n- \u9762\u5411\u5185\u90e8\u7684\u5e94\u7528\u5546\u5e97\u6bd4 Helm Repo \u5728\u5b9e\u9645\u5f00\u53d1\u65f6\u66f4\u6709\u5b9e\u9645\u610f\u4e49\\n\\n### \u7f3a\u70b9\\n\\n- **\u4e0d\u517c\u5bb9 k8s v1.19** - \u5728 v1.19 \u5df2\u7ecf\u53d1\u5e03\u4e24\u4e2a\u6708\u540e\\n  - csr v1 [#2928](https://github.com/kubesphere/kubesphere/issues/2928)\\n- \u901a\u8fc7\u7f16\u8f91 CRD \u542f\u52a8\u529f\u80fd\\n  - \u4e0d\u77e5\u9053\u72b6\u6001\u548c\u9519\u8bef - \u53ea\u80fd\u770b\u65e5\u5fd7\\n- Ansible \u63a7\u5236\u529f\u80fd\\n  - \u5f00\u542f\u5bb9\u6613\uff0c\u5173\u95ed\u96be\\n  - Ansible \u672c\u8eab\u65e0\u72b6\u6001\uff0c\u6ca1\u6709 Helm \u7684\u5378\u8f7d\u6982\u5ff5\\n- \u5217\u8868\u4e0d\u80fd\u8bbe\u7f6e\u6bcf\u9875\u6570\u91cf - \u9ed8\u8ba4 10 \u6761\u76ee/\u9875 - \u5bf9\u4e8e K8S \u8d44\u6e90\u7ba1\u7406\u6765\u8bf4\u6709\u70b9\u5c11\u4e86\\n- \u7ffb\u9875\u4e0d\u4fbf\u64cd\u4f5c\\n- \u5305\u542b\u9752\u4e91\u96c6\u6210\u529f\u80fd\\n\\n## \u5b89\u88c5\u7ef4\u5ea6\\n\\n### Rancher\\n\\nRancher \u6ce8\u91cd\u7ba1\u7406\uff0cv2.5 \u6ca1\u6709 Pipeline \u548c\u5185\u5efa\u7684\u76d1\u63a7\u96c6\u6210\uff0c\u81ea\u8eab\u975e\u5e38\u8f7b\u91cf\uff0c\u751a\u81f3\u76ee\u524d\u5728\u5c1d\u8bd5\u5355\u4e8c\u8fdb\u5236\u542f\u52a8\uff0cRancherD\u3002\\nRancher \u7684\u7528\u6237\uff0c\u9879\u76ee\uff0c\u96c6\u7fa4\u7b49\u914d\u7f6e\u5747\u4f7f\u7528 CRD\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u6570\u636e\u5e93\u5b58\u50a8\uff0c\u4f7f\u7528 CRD \u76f8\u5f53\u4e8e\u63a5\u53e3\uff0c\u5229\u4e8e\u81ea\u52a8\u5316\u96c6\u6210\u3002\\n\\n\u4e00\u822c\u901a\u8fc7 Helm \u5b89\u88c5 Rancher\uff0c\u65b9\u4fbf\u5347\u7ea7\u3001\u7ba1\u7406\u3001\u914d\u7f6e\u3002\\n\\n```bash\\n# stable\\nhelm repo add rancher https://releases.rancher.com/server-charts/stable\\n# \u914d\u7f6e\u9879 https://rancher.com/docs/rancher/v2.x/en/installation/resources/chart-options\\ncat <<YAML > rancher.values.yaml\\nhostname: rancher.my.corp\\n# \u4e0d\u4f7f\u7528 cert-manager \u5219\u9700\u8981\u5f00\u542f - \u5efa\u8bae\u4f7f\u7528 cert-manager\\n# privateCA: true\\n# rancher \u7cfb\u7edf\u955c\u50cf\\nsystemDefaultRegistry: registry.cn-hangzhou.aliyuncs.com\\n# \u9ed8\u8ba4 3 \u526f\u672c\\nreplicas: 1\\nYAML\\n# \u5b89\u88c5\u6216\u5347\u7ea7\\nhelm upgrade -i rancher rancher/rancher -n cattle-system --create-namespace -f rancher.values.yaml\\n```\\n\\n### Kubesphere\\n\\nKubesphere \u9ed8\u8ba4\u6709\u5927\u91cf\u96c6\u6210\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e v2.5 \u4e4b\u524d\u7684 Rancher\u3002\\n\u529f\u80fd\u8f83\u591a\uff0c\u4e14\u63a7\u5236\u5668\u901a\u8fc7\u6570\u636e\u5e93\u8fdb\u884c\u5b58\u50a8\uff0c\u90e8\u7f72 Kubesphere \u65f6\u9700\u8981\u90e8\u7f72\u6570\u636e\u5e93\uff0c\u8fd0\u7ef4\u5c42\u9762\u6765\u8bf4\u4f1a\u53d8\u5f97\u9ebb\u70e6\uff0c\u56e0\u4e3a K8S \u4e0a\u6570\u636e\u5e93\u6d89\u53ca\u5230\u5b58\u50a8\u95ee\u9898\uff0c\u9664\u4e86\u6570\u636e\u5e93\uff0cKubesphere \u8fd8\u9ed8\u8ba4\u4f9d\u8d56\u4e86 etcd+redis+minio+openldap\uff0c\u53ef\u4ee5\u7b97\u662f\u6bd4\u8f83\u590d\u6742\u7684\u4e00\u4e2a\u7cfb\u7edf\u4e86\u3002\\n\\n\u5b9e\u9645\u90e8\u7f72\u914d\u7f6e\u4f7f\u7528 Ansible\uff0c\u89d2\u8272\u5b9a\u4e49\u4f4d\u4e8e [ks-installer/roles](https://github.com/kubesphere/ks-installer/tree/master/roles)\u3002\\n\u8be5\u90e8\u7f72\u6a21\u5f0f\u4f18\u7f3a\u70b9\u660e\u663e\uff1a\\n\\n- \u4f18\u70b9\\n  - Ansible \u90e8\u7f72\u64cd\u4f5c\u5e42\u7b49\\n  - Ansible \u64c5\u957f\u96c6\u6210\u90e8\u7f72\u5404\u79cd\u670d\u52a1\\n- \u7f3a\u70b9\\n  - \u5931\u53bb\u4e86 K8S \u7684 \u58f0\u660e\u5f0f Yaml\\n    - Ansible \u6d89\u53ca\u5927\u91cf\u7684\u6a21\u7248\u64cd\u4f5c\uff0c\u8fd8\u6709\u5927\u91cf\u7684\u76f4\u63a5 kubectl\\n  - \u5373\u61c2 Ansible \u53c8\u61c2 K8S \u7684\u4eba\u5360\u5c11\u6570 - \u786e\u4fdd\u80fd\u7528\uff0c\u4f46\u60f3\u8981\u4fee\u6539\u6216\u6df1\u5165\u4e86\u89e3\u6709\u95e8\u69db\\n  - Ansible \u65e0\u72b6\u6001 - \u57fa\u672c\u7b49\u540c\u4e8e **\u65e0\u6cd5\u5220\u9664**\\n\\nKubesphere \u4f53\u7cfb\u590d\u6742\uff0c\u4e5f\u80fd\u7406\u89e3\u9009\u62e9 Ansible\uff0c\u4f46\u66fe\u7ecf\u4f7f\u7528\u8fc7 Ansible \u8fd0\u7ef4 K8S\uff0c\u590d\u6742\u540e\u771f\u7684\u4f1a\u5f88\u96be\u53d7\u3002\\n\\n```bash\\n# \u90e8\u7f72\u5b89\u88c5\u5668 - Operator\\nkubectl apply -f https://raw.githubusercontent.com/kubesphere/ks-installer/v3.0.0/deploy/kubesphere-installer.yaml\\n# \u6dfb\u52a0 CRD \u8d44\u6e90 - \u5b9a\u4e49 ks \u5b89\u88c5\u914d\u7f6e\\nkubectl apply -f https://raw.githubusercontent.com/kubesphere/ks-installer/v3.0.0/deploy/cluster-configuration.yaml\\n\\n# \u5b89\u88c5\u8fc7\u7a0b\\nkubectl logs -n kubesphere-system $(kubectl get pod -n kubesphere-system -l app=ks-install -o jsonpath=\'{.items[0].metadata.name}\') -f\\n```\\n\\n## \u5f00\u53d1\u7ef4\u5ea6\\n\\n\u5f00\u53d1\u4e3b\u8981\u5206\u4e3a CI \u548c CD \u4e24\u90e8\u5206\uff0cCI \u504f\u5411\u4ee3\u7801\u5230\u4ea7\u51fa\u7269\u7684\u8fc7\u7a0b\uff0cCD \u504f\u5411\u4ea7\u51fa\u7269\u5230\u7ebf\u4e0a\u8fd0\u884c\u7684\u8fc7\u7a0b\u3002\\n\\n\u4e24\u8005\u7684\u6838\u5fc3\u90fd\u662f\u6d41\u7a0b\u81ea\u52a8\u5316\u5904\u7406\uff0c\u4f46\u9762\u5411\u7684\u5bf9\u8c61\u548c\u573a\u666f\u5374\u5dee\u522b\u5f88\u5927\u3002\\n\\n- CI - \u4ee3\u7801\u5230\u4ea7\u51fa\u7269\u7684\u8fc7\u7a0b\\n  - \u63d0\u4ea4\u4ee3\u7801 - \u89e6\u53d1 Hook - \u9009\u62e9\u6267\u884c\u5668 - \u6267\u884c\u5b9a\u4e49\u7684 Pipeline\\n  - \u4f9d\u8d56: \u4ee3\u7801\u4ed3\u5e93\u3001\u4ea7\u51fa\u7269\u4ed3\u5e93\u3001\u52a8\u6001\u8c03\u5ea6\u7684\u6267\u884c\u8282\u70b9\\n  - \u4eae\u70b9: **\u5feb**\u3001\u7075\u6d3b\u7684\u6d41\u7a0b\u5b9a\u4e49\u3001\u53ef\u89c6\u5316\u7684\u6267\u884c\u8fc7\u7a0b\u3001\u4e0e\u4ee3\u7801\u4ed3\u5e93\u7684\u96c6\u6210\u7a0b\u5ea6\\n  - \u4ea7\u54c1\\n    - Jenkins\\n    - DroneCI\\n    - Github Action\\n    - Gitlab CI/CD\\n- CD - \u4ea7\u51fa\u7269\u90e8\u7f72\u5230\u7ebf\u4e0a\u7684\u8fc7\u7a0b - \u73b0\u5728\u7684\u4e3b\u6d41\u505a\u6cd5\u662f GitOps\\n  - \u63d0\u4ea4\u90e8\u7f72\u5b9a\u4e49 - \u89e6\u53d1 Hook/\u5b9a\u65f6\u626b\u63cf\u4fee\u6539 - \u5e94\u7528 yaml\\n  - \u4eae\u70b9: \u53ef\u89c6\u5316\u3001\u591a\u96c6\u7fa4\u3001\u81ea\u52a8\u4fee\u590d\\n  - \u4ea7\u54c1\\n    - ArgoCD - \u53ef\u89c6\u5316\u4f9d\u8d56\u3001\u53ef\u89c6\u5316\u65e5\u5fd7\u3001\u591a\u96c6\u7fa4(\u504f\u5f31)\u3001\u5065\u5eb7\u7ba1\u7406\\n    - rancher/fleet - rancher \u96c6\u6210\u7ba1\u7406\u3001\u591a\u96c6\u7fa4\u3001\u624d\u51fa\u4e0d\u4e45\u5c1a\u4e0d\u5b8c\u5584\\n    - fluxcd - v1 \u5e9f\u5f03\u7ef4\u62a4\u9636\u6bb5\uff0cv2 \u53d8\u5316\u8f83\u5927\u53d8\u4e3a\u5de5\u5177\u96c6 - \u9009\u62e9 fluxcd \u4f1a\u6709\u70b9\u5c34\u5c2c\\n\\nCD \u903b\u8f91\u4f53\u9a8c\u76f8\u5bf9\u7b80\u5355\uff0c\u4f46 CI \u7684\u4f53\u9a8c\u5374\u53ef\u4ee5\u533a\u522b\u5f88\u5927\u3002\\n\u6211\u8ba4\u4e3a\u79c1\u6709 CI \u6700\u597d\u7684\u4f53\u9a8c\u662f Gitlab \u81ea\u884c\u90e8\u7f72 Runner\uff0c\u5176\u6b21\u662f DroneCI\uff0c\u6700\u540e\u624d\u662f Jenkins\u3002\\n\\n- Gitlab CI/CD\\n  - \u9760\u8fd1\u4ee3\u7801\u4ed3\u5e93 - \u5f00\u53d1\u672c\u80fd\\n  - \u652f\u6301\u81ea\u884c\u90e8\u7f72 Runner - Docker/Shell - **\u5feb**, \u53ef\u4ee5\u5728\u79c1\u6709\u73af\u5883\\n  - yaml \u5b9a\u4e49 ci \u5904\u7406 - \u529f\u80fd\u5f3a\u5927\\n  - Gitlab \u63d0\u4f9b\u4e86 Docker \u4ed3\u5e93\uff0c\u5f53\u7136 Push \u7684\u65f6\u5019\u4e5f\u53ef\u4ee5 Push \u5230\u5176\u4ed6\u4ed3\u5e93\\n  - Gitlab \u63d0\u4f9b\u4e86\u5f00\u53d1\u4ed3\u5e93 - \u76f8\u5f53\u4e8e\u8282\u7701\u4e00\u4e2a Nexus\\n- DroneCI\\n  - \u5927\u4f53\u4e0a\u7c7b\u4f3c Gitlab Runner\\n  - \u4f46\u72ec\u7acb\u4e8e\u4ee3\u7801\u4ed3\u5e93\\n- Jenkins\\n  - \u592a\u91cd\\n  - \u754c\u9762\u4e0d\u592a\u53cb\u597d\\n\\n\u6211\u7406\u89e3 CI \u4e0e CD \u8fd8\u6709\u4e00\u4e2a\u4e2d\u95f4\u4e34\u754c\u70b9\uff0c\u5e94\u7528\u5546\u5e97\u6216 Helm Repo\uff0c\u5f00\u53d1\u597d\u7684\u5e94\u7528\u53ef\u4ee5\u5f88\u597d\u5448\u73b0\u7ed9\u9700\u8981\u7684\u4eba\uff0c\u9700\u8981\u7684\u4eba\u53ef\u4ee5\u975e\u5e38\u4fbf\u6377\u7684\u90e8\u7f72\u5e94\u7528\u5230\u96c6\u7fa4\u3002\\n\\n### Rancher\\n\\n2.5 \u4e4b\u524d\u7684 Pipeline \u4fbf\u662f Jenkins \u7684\u5c01\u88c5\uff0c\u57fa\u672c\u7b49\u540c\u4e8e Kubesphere \u7684 DevOps\u3002\\n2.5 \u4e4b\u540e Rancher \u5e9f\u5f03\u4e86 Pipeline \u8f6c\u800c\u9ed8\u8ba4\u90e8\u7f72 Fleet\u3002\\n\\n[rancher/fleet](https://github.com/rancher/fleet) \u662f\u9762\u5411\u591a\u96c6\u7fa4\u7684 GitOps\uff0c\u4e0e Pipeline \u5b8c\u5168\u662f\u4e24\u4e2a\u65b9\u5411\u3002rancher \u6ce8\u91cd\u8fd0\u7ef4\uff0cfleet \u4f7f\u5f97 rancher \u7684\u8fd0\u7ef4\u80fd\u529b\u6b65\u4e0a\u65b0\u7684\u53f0\u9636\u3002\\n\\nfleet \u591a\u96c6\u7fa4\u6bd4 argocd \u5f3a\\n\\n- \u9ed8\u8ba4\u652f\u6301\u4e00\u4e2a\u5e94\u7528\u90e8\u7f72\u5230\u591a\u4e2a\u96c6\u7fa4 - \u96c6\u7fa4\u9009\u62e9\u5668\\n- \u4e0d\u540c\u96c6\u7fa4\u652f\u6301\u4e0d\u540c overlay \u8fdb\u884c\u5b9a\u5236\u5316\\n- fleet agent \u5b89\u88c5\u7b80\u5355\\n- \u652f\u6301\u96c6\u7fa4\u5c5e\u6027 - \u6253\u6807\u3001\u9009\u62e9\\n\\n\u4f46 fleet \u8fd8\u6709\u5f88\u591a\u5f31\u9879\\n\\n- \u5fc5\u987b\u8981\u8d44\u6e90\u5148\u4e0d\u5b58\u5728 - \u65e0\u6cd5\u8fc1\u79fb\\n- \u53ef\u89c6\u5316\u8f83\u5f31 - \u5bf9\u6bd4 ArgoCD\\n\\n\u5982\u679c\u7684\u786e\u662f\u9700\u8981\u591a\u96c6\u7fa4\u8fd0\u7ef4\uff0c\u90a3\u4e48 fleet \u7684\u786e\u662f\u4e0d\u4e8c\u4e4b\u9009\uff0c\u5982\u679c\u53ea\u8981\u573a\u666f\u53ea\u6709\u4e00\u4e2a\u6216\u5c11\u6570\u96c6\u7fa4\uff0c\u5efa\u8bae\u4f7f\u7528 ArgoCD\u3002\\n\\n### Kubesphere\\n\\nKubesphere \u5305\u542b DevOps \u6a21\u5757\u548c Elastic \u65e5\u5fd7\u91c7\u96c6\u96c6\u6210\u3002\\n\u96c6\u6210\u529f\u80fd\u90fd\u63d0\u4f9b\u4e86\u7f8e\u89c2\u7684\u754c\u9762\uff08**\u754c\u9762\u624d\u662f KS \u7684\u6838\u5fc3\u7ade\u4e89\u529b**\uff09\uff0c\u4f7f\u5f97\u4f53\u9a8c\u7684\u786e\u975e\u5e38\u597d\u3002\\n\\nDevOps \u57fa\u4e8e Jenkins\u3001Harbor\u3001Mino\u3001SonarQube \u7b49\uff0c\u56e0\u6b64\u6240\u6709\u76f8\u5173\u7ec4\u4ef6\u7684\u95ee\u9898\u4e5f\u4f1a\u53d8\u6210 KS \u7684\u95ee\u9898\uff0c\u4e5f\u4f1a\u53d1\u73b0\u793e\u533a\u6709\u975e\u5e38\u591a\u5173\u4e8e Jenkins\u3001Harbod \u4e4b\u7c7b\u7684\u95ee\u9898\uff0c\u6211\u8ba4\u4e3a Rancher \u653e\u5f03\u57fa\u4e8e Jenkins \u7684 Pipeline \u662f\u5341\u5206\u6b63\u786e\u7684\u9009\u62e9\u3002\\n\\n\u81f3\u4e8e Elastic \u65e5\u5fd7\u96c6\u6210\uff0c\u6211\u8ba4\u4e3a\uff0c\u5982\u679c\u4f7f\u7528\u5916\u90e8\u8fd0\u7ef4\u7684 Elastic \u7ed3\u5408 KS \u7684\u754c\u9762\u662f\u503c\u5f97\u7684\uff0c\u56e0\u4e3a\u8981\u5728 K8S \u4e0a\u8fd0\u7ef4\u597d Elastic \u8fd9\u79cd\u4f53\u91cf\u7684\u5e94\u7528\u8fd8\u662f\u4e0d\u5bb9\u6613\u3002\\n\\n## \u8fd0\u7ef4\u7ef4\u5ea6\\n\\n\u6211\u7406\u89e3\u7684\u8fd0\u7ef4\u5305\u542b\u4e86 K8S \u8d44\u6e90\u53ef\u89c6\u5316\u3001\u8d44\u6e90\u7f16\u8f91\u3001\u6307\u6807\u53ef\u89c6\u5316\u3001\u591a\u96c6\u7fa4\u652f\u6301\u3001\u7528\u6237\u6743\u9650\u4f53\u7cfb\u3001\u96c6\u6210\u5e94\u7528\u7ba1\u7406\u80fd\u529b\u7b49\u3002\\n\\n### More Than Kubernetes Dashboard/Lens\\n\\nKubernetes Dashboard \u548c Lens \u90fd\u662f\u975e\u5e38\u7b80\u6d01\u660e\u4e86\u7684\u96c6\u7fa4\u7ba1\u7406\u5de5\u5177\uff0cLens \u751a\u81f3\u4e5f\u80fd\u652f\u6301\u591a\u96c6\u7fa4\u3002Kubernetes Dashboard \u5360\u7528\u5f02\u5e38\u5c11\u7684\u8d44\u6e90\u63d0\u4f9b\u96c6\u7fa4\u8d44\u6e90\u7684 CRUD\uff0c\u8d44\u6e90\u53ef\u89c6\u5316\u3002\\n\\n\u4e4b\u6240\u4ee5\u9009\u62e9\u5176\u4ed6\u7684\u7ba1\u7406\u5e73\u53f0\uff0c\u662f\u56e0\u4e3a\u96c6\u7fa4\u7ba1\u7406\u4e2d\u5fc5\u987b\u7684\u4e00\u4e9b\u529f\u80fd\u4e0d\u5728 Kubernetes Dashboard \u548c Lens \u7684\u9886\u57df\u8303\u7574\u3002\\n\\n1. \u89d2\u8272\u6743\u9650\u7ba1\u7406 - \u591a\u7528\u6237\\n1. \u5e94\u7528\u751f\u547d\u5468\u671f\u7ba1\u7406 - Helm \u5e94\u7528\\n1. \u8d44\u6e90\u96c6\u6210\u7ba1\u7406 - \u4f7f\u7528 UI \u800c\u975e Yaml \u7684\u65b9\u5f0f\u7f16\u8f91\u8d44\u6e90\\n1. \u591a\u96c6\u7fa4\\n\\nRancher \u548c Kubesphere \u90fd\u5f88\u597d\u7684\u5b8c\u6210\u4e86\u8fd9\u4e9b\u76ee\u6807\u3002\\n\\n\u4f46\u9057\u61be\u7684\u662f Kubesphere \u6700\u57fa\u7840\u7684\u8d44\u6e90\u7ba1\u7406\u529f\u80fd\u8fd8\u6ca1\u6709 Lens/Kubernetes Dashboard \u76f4\u89c2\uff0c\u56e0\u4e3a\u8ffd\u6c42\u4e86\u754c\u9762\u96c6\u6210\u548c\u7f8e\u89c2\uff0c\u6240\u4ee5\u5bf9\u4e8e\u6709 Kubernetes \u7ecf\u9a8c\u7684\u4f7f\u7528\u8005\u6765\u8bf4\u53cd\u800c\u89c9\u5f97\u7e41\u7410\u3002\\n\\nRancher 2.5 \u7684 \u96c6\u7fa4\u8d44\u6e90\u6d4f\u89c8\u5668 \u7b97\u662f\u8ffd\u8d76\u4e0a\u4e86 Lens/Kubernetes Dashboard \u6240\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u4f46\u4f9d\u7136\u6ca1\u6709 Lens \u76f4\u89c2\u3002\\n\\nRancher \u548c Kubesphere \u90fd\u6ca1\u6709\u5f88\u597d\u7684\u96c6\u6210 metric-server\uff0c\u5bfc\u81f4\u6ca1\u6709\u5b89\u88c5\u7279\u5b9a\u7684\u76d1\u63a7\u5e94\u7528\u65f6\u65e0\u6cd5\u67e5\u770b\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u3002\\n\u800c\u76d1\u63a7\u7684\u5b89\u88c5\u53c8\u56e0\u4e3a\u5e73\u53f0\u96c6\u6210\u65b9\u5f0f\u4e0d\u540c\uff0c\u5b89\u88c5\u65b9\u5f0f\u4e0d\u540c\uff0c\u5373\u4fbf\u5df2\u7ecf\u5b58\u5728\u4e5f\u53ef\u80fd\u770b\u4e0d\u5230\u76d1\u63a7\uff0c\u8fd9\u4e00\u70b9\u8fd8\u6ca1\u6709 Kubernetes Dashboard \u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u6765\u7684\u76f4\u89c2\u3002\\n\\nRancher \u548c Kubesphere \u4ece\u7ba1\u7406\u4e0a\u8d85\u8d8a\u4e86 Kubernetes Dashboard/Lens\uff0c\u4f46\u5b9e\u9645\u4f53\u9a8c\u548c\u4f7f\u7528\u4e0a\u5374\u4ecd\u6709\u4e0d\u8db3\u3002\\n\\n### \u591a\u96c6\u7fa4\\n\\n\u8ba8\u8bba\u591a\u96c6\u7fa4\u65f6\uff0c\u4f18\u5148\u660e\u786e\u573a\u666f\\n\\n1. \u5927\u91cf\u96c6\u7fa4 - Rancher - \u4ee5\u8fd0\u7ef4\u4e3a\u4e3b\\n\\n- \u5e94\u7528\u90e8\u7f72\\n- \u8d44\u6e90\u7ba1\u7406\\n- Agent \u6613\u4e8e\u5b89\u88c5\uff0c\u5360\u7528\u8d44\u6e90\u5c11\\n\\n1. \u5c11\u91cf\u96c6\u7fa4 - Kubesphere - \u5f00\u53d1\u4f53\u9a8c\\n\\n- DevOps\\n\\n\u56e0\u4e3a Kubesphere \u672c\u8eab\u8d44\u6e90\u7ba1\u7406\u80fd\u529b\u5f31\u4e8e Rancher\uff0c\u56e0\u6b64\u5f53\u591a\u96c6\u7fa4\u8d44\u6e90\u8fc7\u591a\u7684\u65f6\u5019\u53ea\u80fd\u9009\u62e9 Rancher\u3002Rancher \u7684\u8d44\u6e90\u6d4f\u89c8\u5668\u548c Fleet \u90fd\u662f\u9488\u5bf9\u8fd9\u6837\u7684\u573a\u666f\u8bbe\u8ba1\u7684\u3002\\nRancher agent \u548c fleet agent \u8d44\u6e90\u5360\u7528\u90fd\u8f83\u5c11\uff0c\u56e0\u6b64\u5927\u91cf\u90e8\u7f72\u65f6\u8d1f\u62c5\u4e5f\u4e0d\u4f1a\u5927\u3002\\n\\n\u5982\u679c\u9700\u8981 DevOps \u5219\u53ef\u4ee5\u8003\u8651\u5355\u72ec\u96c6\u7fa4\u5b89\u88c5 Kubesphere \u6216\u8005\u9009\u62e9 Argocd\u3001Gitlab \u7b49\u5bf9\u5e94\u573a\u666f\u7684\u5e94\u7528\u4ea7\u54c1\u3002\\n\\n# \u603b\u7ed3\\n\\n\u9009\u62e9 Rancher \u548c Kubesphere \u5e76\u4e0d\u51b2\u7a81\uff0c\u4e24\u8005\u53d1\u5c55\u65b9\u5411\u4e5f\u4e0d\u5c3d\u76f8\u540c\u3002\u56e0\u6b64\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u548c\u9879\u76ee\u9700\u8981\u9009\u62e9\u5373\u53ef\u3002\\n\\n# \u53c2\u8003\\n\\n- [rancher/rancher](https://github.com/rancher/rancher)\\n- [kubesphere/kubesphere](https://github.com/kubesphere/kubesphere)\\n- [A Buyer\u2019s Guide to Enterprise Kubernetes Management Platforms](https://info.rancher.com/hubfs/eBooks,%20reports,%20and%20whitepapers/%5BBuyers%20Guide%5D%20Rancher,%20Openshift,%20Tanzu,%20Anthos%2020200911.pdf)\\n  - Rancher \u5bf9\u81ea\u5df1\u7684\u5b9a\u4f4d\u4e0d\u540c\u4e8e Kubesphere"},{"id":"crm-basic-leads-opportunities-accounts-contacts","metadata":{"permalink":"/story/crm-basic-leads-opportunities-accounts-contacts","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-12-26-crm-basic.md","source":"@site/story/2020/2020-12-26-crm-basic.md","title":"CRM \u57fa\u7840 - \u7ebf\u7d22\u3001\u5546\u673a\u3001\u8d26\u6237\u3001\u8054\u7cfb\u4eba","description":"CRM \u57fa\u7840 - \u7ebf\u7d22\u3001\u5546\u673a\u3001\u8d26\u6237\u3001\u8054\u7cfb\u4eba","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"CRM","permalink":"/story/tags/crm"},{"label":"\u67b6\u6784","permalink":"/story/tags/\u67b6\u6784"}],"readingTime":5.895,"truncated":true,"authors":[],"prevItem":{"title":"Rancher vs. Kubesphere","permalink":"/story/rancher-vs-kubesphere"},"nextItem":{"title":"\u5de5\u5355\u7cfb\u7edf\u8bbe\u8ba1\u5b9e\u73b0","permalink":"/story/issues-system-design"}},"content":"## CRM \u57fa\u7840 - \u7ebf\u7d22\u3001\u5546\u673a\u3001\u8d26\u6237\u3001\u8054\u7cfb\u4eba\\n\\n- \u7ebf\u7d22 - leads\\n  - \u662f \u8425\u9500/marketing \u4e0e \u9500\u552e/sales \u7684\u4ea4\u754c\u70b9\\n  - \u8425\u9500\u8d1f\u8d23\u521b\u9020\u3001\u53d1\u73b0\u7ebf\u7d22\uff0c\u9500\u552e\u4eba\u5458\u9700\u8981\u4ece\u7ebf\u7d22\u6316\u6398\u5546\u673a\u8fdb\u884c\u9500\u552e\u8f6c\u5316\\n  - \u6316\u6398\u8fc7\u7a0b\u5c31\u662f\u5224\u65ad\u7ebf\u7d22\u662f\u5426\u5408\u683c\uff08qualify\uff09\u6216\u4e0d\u5408\u683c\uff08disqualify\uff09\u7684\u8fc7\u7a0b\uff0c\u5982\u679c\u5408\u683c\u5219\u80fd\u88ab\u8f6c\u5316\u4e3a\u5546\u673a\\n  - \u7ebf\u7d22\u8868\u793a\u7684 **\u6f5c\u5728** \u7684 **\u9500\u552e\u76ee\u6807**\\n  - \u5305\u542b\u57fa\u7840\u7684\u6307\u5411\u4fe1\u606f - \u4f8b\u5982 \u540d\u7247\u3001\u7535\u8bdd\u53f7\u7801+\u540d\u5b57\\n- \u5546\u673a - opportunities\\n  - \u5546\u673a\u53ef\u7531\u7ebf\u7d22\u8f6c\u5316\uff0c\u4e5f\u53ef\u76f4\u63a5\u5f55\u5165\\n  - \u5546\u673a\u540c\u65f6\u4e5f\u662f\u8054\u7cfb\u4eba\uff08contact\uff09\uff0c\u5728\u521b\u5efa\u5546\u673a\u65f6\u81ea\u52a8\u521b\u5efa\u5173\u8054\u7684\u8054\u7cfb\u4eba\u548c\u8d26\u6237\\n  - \u5546\u673a=\u6f5c\u5728\u9500\u552e\u76ee\u6807\uff08lead+contact\uff09+\u6f5c\u5728\u53ef\u9500\u552e\u670d\u52a1\\n- \u8d26\u6237 - accounts\\n  - B2B \u5173\u7cfb\u5f80\u6765\u76ee\u6807 - \u901a\u5e38\u5bf9\u65b9\u4e3a\u516c\u53f8\\n  - \u5173\u7cfb\u5f80\u6765\u7c7b\u578b\u4e0d\u53ea\u662f\u9500\u552e\u5ba2\u6237\u5173\u7cfb\uff0c\u8fd8\u53ef\u80fd\u662f \u5408\u4f5c\u4f19\u4f34\uff08partner\uff09\u3001\u4f9b\u5e94\u5546\uff08vendor\uff09 \u7b49\\n  - \u6709\u5c42\u7ea7\u5173\u7cfb\uff0c\u652f\u6301\u590d\u6742\u7684\u7ec4\u7ec7\u7ed3\u6784\\n- \u8054\u7cfb\u4eba - contacts\\n  - B2B \u5173\u7cfb\u4e2d\u5bf9\u65b9\u516c\u53f8\u5b9e\u9645\u64cd\u4f5c\u7684\u4eba - \u4f8b\u5982 \u4e0b\u5355\u3001\u5ba1\u6838\u3001\u5904\u7406\u53d1\u7968\u6536\u636e \u7684 **\u4eba**\\n\\n\x3c!-- more --\x3e\\n\\n## \u4ece Issues \u770b CRM \u57fa\u7840\u6982\u5ff5\\n\\n\u4f5c\u4e3a\u4e00\u4e2a\u5f00\u53d1\u8005\uff0c\u5bf9 Issues/\u5de5\u5355/\u8bae\u9898 \u66f4\u52a0\u719f\u6089\u3002\u7ba1\u7406\u7684\u597d\u7684\u5de5\u5355\u4f1a\u4f7f\u5f97\u6574\u4e2a\u5f00\u53d1\u6d41\u7a0b\u66f4\u52a0\u987a\u7545\uff0c\u7ba1\u7406\u7684\u4e0d\u597d\u5219\u4f1a\u5bfc\u81f4\u5de5\u5355\u66b4\u589e\u5bfc\u81f4\u65e0\u6cd5\u6536\u5c3e\u6700\u7ec8\u53ea\u6709\u5927\u6279\u91cf\u5173\u95ed\u3002\\n\\n\u5de5\u5355\u7ecf\u5386\u53d1\u73b0\u3001\u521b\u5efa\u3001\u786e\u8ba4\u3001\u4fee\u590d\u3001\u5173\u95ed\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e0e CRM \u7684 \u7ebf\u7d22\u3001\u5546\u673a\u3001\u6210\u4ea4\u8fc7\u7a0b\u5341\u5206\u76f8\u4f3c\u3002\\n\\n\u5de5\u5355\u770b\u4f3c\u662f\u7ebf\u6027\u7684\uff0c\u4f46\u5b9e\u9645\u5904\u7406\u7684\u65f6\u5019\u53c8\u662f\u6d41\u7a0b\u5316\u7684\uff0c\u8fd9\u4e2a\u6d41\u7a0b\u5e76\u4e0d\u56fa\u5b9a\uff0c\u800c\u662f\u53d6\u51b3\u4e8e\u5f53\u524d\u95ee\u9898\u7684\u72b6\u6001\u3001\u7c7b\u578b\u3001\u6307\u6d3e\u4eba\u3002\\n\\n\u4ee5 kubernetes \u7684 [issues](https://github.com/kubernetes/kubernetes/issues) \u4e3a\u4f8b\uff0c\u5927\u91cf\u7684 issues \u90fd\u4f1a\u6253\u4e0a[\u5404\u79cd\u6807\u7b7e](https://github.com/kubernetes/kubernetes/labels?sort=count-desc)\u3002\\n\\n| Label             | CRM          |\\n| ----------------- | ------------ |\\n| needs-triage      | \u5f85\u8ddf\u8fdb       |\\n| triage/unresolved | \u65e0\u6548\u7684       |\\n| triage/accepted   | \u5df2\u786e\u8ba4       |\\n| `kind/*`          | \u5212\u5206\u7c7b\u578b     |\\n| `area/*`          | \u5212\u5206\u670d\u52a1\u8303\u56f4 |\\n\\nCRM \u7684\u6838\u5fc3\u662f **\u534f\u4f5c**\uff0c\u5de5\u5355\u7684\u6807\u7b7e\u7cfb\u7edf\u4e5f\u662f\u4e3a\u4e86\u65b9\u4fbf\u534f\u4f5c\uff0c\u4e0d\u540c\u7684\u9879\u76ee\u4f7f\u7528\u7684\u4f53\u7cfb\u4e0d\u5c3d\u76f8\u540c\uff0c\u56e0\u4e3a\u573a\u666f\u548c\u5904\u7406\u6d41\u7a0b\u4e0d\u540c\uff0c\u4f46\u6838\u5fc3\u76ee\u7684\u90fd\u662f\u4e3a\u4e86\u534f\u4f5c\u89e3\u51b3\u95ee\u9898\u3002\\n\\n\u901a\u8fc7\u5de5\u5355\u7684\u6807\u7b7e\u5b9a\u4e49\u53ef\u89c2\u6d4b\u51fa\u5904\u7406\u6d41\u7a0b\uff0c\u8fd9\u6837\u7684\u5904\u7406\u6d41\u7a0b\u662f\u4e00\u5957 **\u9879\u76ee\u7ba1\u7406\u6846\u67b6**\uff0cCRM \u4e2d\u9500\u552e\u4e5f\u9700\u8981\u4e00\u5957\u884c\u4e4b\u6709\u6548\u7684\u6846\u67b6\uff0c\u53ea\u6709\u5f53\u9500\u552e\u4eba\u5458\u9075\u5faa\u4e00\u5957\u6846\u67b6\u4f53\u7cfb\u65f6\u6d41\u7a0b\u624d\u53ef\u80fd\u5f97\u4ee5\u4f18\u5316\u3002\\n\\n\u5927\u5c0f\u9879\u76ee\u7684\u6807\u7b7e\u5206\u53d1\u6d41\u7a0b\u4f53\u7cfb\u4e0d\u540c\uff0c\u5c31\u597d\u6bd4\u5927\u5c0f\u516c\u53f8\u5bf9 CRM \u8981\u6c42\u4e0d\u540c\uff0c\u521d\u671f\u7684\u9700\u6c42\u53ea\u8981\u8bb0\u5f55\u4fe1\u606f\uff0c\u4e2d\u9636\u7684\u8981\u6c42\u9700\u8981\u80fd\u6309\u4eba\u5458\u6309\u6307\u8d23\u53bb\u6d41\u8f6c\u8ddf\u8fdb\uff0c\u9ad8\u9636\u7684\u5219\u9700\u8981\u96c6\u6210\u5927\u91cf\u7684\u5916\u90e8\u7cfb\u7edf\u4f7f\u5f97\u6d41\u7a0b\u81ea\u52a8\u5316\u3002\\n\\n\u5de5\u5355\u7cfb\u7edf\u8fd9\u6837\u7684\u81ea\u52a8\u5316\u6bd4\u4f20\u7edf CRM \u4e00\u6761\u4e00\u6761\u8bb0\u5f55\u66f4\u52a0\u667a\u80fd\uff0c\u4f8b\u5982 Github \u80fd\u96c6\u6210\u5404\u79cd\u7b2c\u4e09\u65b9\u7684 CI/CD \u4f53\u73b0\u72b6\u6001\uff0c\u96c6\u6210\u5404\u79cd\u673a\u5668\u4eba\u5bf9 issue \u8fdb\u884c\u81ea\u52a8\u6253\u6807\uff0c\u8fd8\u6709\u6700\u5e38\u89c1\u7684\u673a\u5668\u4eba\u6807\u8bb0 issue \u8fc7\u671f\u5e76\u81ea\u52a8\u5173\u95ed\u3002\\n\\n\u4e0d\u7ba1\u662f\u5de5\u5355\u8fd8\u662f CRM \u7684\u8ddf\u8fdb\u4f53\u7cfb\u6700\u91cd\u8981\u7684\u662f\u8fbe\u5230\u6700\u7ec8\u5b8c\u6210\u72b6\u6001\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u63a8\u8fdb\u5219\u9700\u8981\u7cfb\u7edf\u8fdb\u884c\u8f85\u52a9\uff0c\u6700\u5e38\u89c1\u7684\u5c31\u662f\u786e\u5b9a\u4e0b\u4e00\u4ef6\u4e8b\u7684\u65f6\u95f4\u8282\u70b9\uff0c\u5c06\u4e0d\u540c\u7684\u5de5\u5355/\u8ddf\u8fdb\u5206\u6d41\u7ed9\u4e0d\u540c\u7684\u4eba\u53bb\u5904\u7406\u3002\\n\\n\u5de5\u5355/\u8ddf\u8fdb\u90fd\u662f\u975e\u5e38\u539f\u59cb/\u539f\u5b50\uff08primitive\uff09\u7684\u5bf9\u8c61\uff0c\u5728\u8fd9\u6837\u7684\u4f53\u7cfb\u4e4b\u4e0a\u53ef\u4ee5\u6784\u5efa\\n\\n- \u770b\u677f\\n- \u91cc\u7a0b\u7891\\n- \u5f85\u529e\u5217\u8868/Todo List\\n- Epic\\n- \u5916\u90e8\u96c6\u6210\\n- \u81ea\u52a8\u5316\\n\\n\u4f5c\u4e3a\u9a71\u52a8 CRM \u9500\u552e\u65e5\u5e38\u4e8b\u52a1\u6765\u8bf4\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\\n\\n\u4f46\uff0c\u5de5\u5355\u7cfb\u7edf\u4e0e\u8ddf\u8fdb\u4e5f\u6709\u5f88\u591a\u4e0d\u540c\u70b9\uff1a\\n\\n| -        | \u5de5\u5355              | \u9500\u552e\u8ddf\u8fdb                    |\\n| -------- | ----------------- | --------------------------- |\\n| \u53ef\u89c1\u6027   | \u516c\u5f00\u3001\u5c0f\u7ec4        | \u4e2a\u4eba\u3001\u5c0f\u7ec4                  |\\n| \u5185\u5bb9     | \u6587\u672c\u3001\u8bc4\u8bba\u3001\u6d3b\u52a8  | \u8868\u5355\u3001\u6d3b\u52a8\u3001\u9644\u4ef6            |\\n| \u5185\u5bb9\u76ee\u6807 | \u4e8b                | \u4eba+\u4e8b                       |\\n| \u534f\u4f5c\u4eba\u5458 | \u5f00\u53d1+\u6d4b\u8bd5+\u8bbe\u8ba1+PM | \u9500\u552e\u4e2a\u4eba+\u9500\u552e\u5c0f\u7ec4+\u5ba2\u670d+\u7ecf\u7406 |\\n| KPI      | \u5c0f\u7ec4\u76f8\u5173          | \u4e2a\u4eba\u76f8\u5173\u3001\u5c0f\u7ec4\u76f8\u5173          |\\n| \u9891\u5ea6     | \u9ad8                | \u4f4e                          |\\n| \u5de5\u4f5c\u5185\u5bb9 | PR, \u63d0\u4ea4          | \u7535\u8bdd\u3001\u6c9f\u901a\u3001\u65e5\u5e38\u4e8b\u52a1        |\\n\\n## \u7ebf\u7d22\u3001\u5546\u673a\u3001\u8d26\u6237\u3001\u8054\u7cfb\u4eba\\n\\n\u56de\u5230\u672c\u6765\u7684\u5173\u6ce8\u70b9\uff0c\u5148\u53c2\u7167\u73b0\u6709\u7684\u7cfb\u7edf\u8bbe\u8ba1\u3002\\n\\n### Dynamic 365\\n* [Lead Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/lead)\\n* [Opportunity Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/opportunity)\\n* [Account Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/account)\\n* [Contact Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/contact)\\n* [ActivityPointer](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/activitypointer)\\n  * \u5df2\u5b8c\u6210\u6216\u672a\u5b8c\u6210\u7684\u4e8b\u52a1\\n* [ActivityParty](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/activityparty)\\n  * \u6d3b\u52a8\u53c2\u4e0e\u65b9\\n\\n\u5176\u4e2d\u7684 Activity \u6d3b\u52a8\u6982\u5ff5\u5176\u5b9e\u5c31\u5bf9\u5e94\u4e86\u5de5\u5355\u4e2d\u7684\u6d3b\u52a8\u8bb0\u5f55\uff0c\u6240\u6709\u7684\u8ddf\u8fdb\u8fc7\u7a0b\u90fd\u4ee5\u6d3b\u52a8\u5448\u73b0\u3002\u4f3c\u4e4e\u63a5\u4e0b\u6765\u8be5\u4e86\u89e3\u4e00\u4e0b\u5de5\u5355\u7cfb\u7edf\u7684\u5b9e\u73b0\u4e86\\n\\n## \u53c2\u8003\\n\\n- [Understanding leads, opportunities, accounts and contacts in CRM](https://yaweriqbal.com/2016/01/10/understanding-leads-opportunities-accounts-and-contacts-in-crm/)\\n- [How Salesforce Manages Leads, Contacts, Accounts and Opportunities](https://www.salesforcetraining.com/salesforce-manages-leads-contacts-accounts-opportunities/)\\n- Gitlab [Issues](https://docs.gitlab.com/ee/user/project/issues/)"},{"id":"issues-system-design","metadata":{"permalink":"/story/issues-system-design","editUrl":"https://github.com/wenerme/wener/edit/master/story/2020/2020-12-27-issues-system-design.md","source":"@site/story/2020/2020-12-27-issues-system-design.md","title":"\u5de5\u5355\u7cfb\u7edf\u8bbe\u8ba1\u5b9e\u73b0","description":"\u5de5\u5355/Issues \u7cfb\u7edf\u90fd\u4e0d\u4f1a\u964c\u751f\uff0cGithub\u3001Gitlab\u3001Gitea \u4e2d\u6bcf\u5929\u90fd\u5728\u63a5\u89e6\u7684\u7cfb\u7edf\u3002\u60f3\u8981\u5b66\u4e60\u5982\u4f55\u8bbe\u8ba1\u5b9e\u73b0\u6700\u7b80\u5355\u7684\u662f\u76f4\u63a5\u4ece\u522b\u4eba\u7684\u7cfb\u7edf\u903b\u8f91\u53c2\u8003\u7406\u89e3\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u67b6\u6784","permalink":"/story/tags/\u67b6\u6784"}],"readingTime":10.185,"truncated":true,"authors":[],"prevItem":{"title":"CRM \u57fa\u7840 - \u7ebf\u7d22\u3001\u5546\u673a\u3001\u8d26\u6237\u3001\u8054\u7cfb\u4eba","permalink":"/story/crm-basic-leads-opportunities-accounts-contacts"},"nextItem":{"title":"\u7406\u89e3\u5b69\u5b50\u7684\u89c6\u529b","permalink":"/story/understand-baby-vision"}},"content":"\u5de5\u5355/Issues \u7cfb\u7edf\u90fd\u4e0d\u4f1a\u964c\u751f\uff0cGithub\u3001Gitlab\u3001Gitea \u4e2d\u6bcf\u5929\u90fd\u5728\u63a5\u89e6\u7684\u7cfb\u7edf\u3002\u60f3\u8981\u5b66\u4e60\u5982\u4f55\u8bbe\u8ba1\u5b9e\u73b0\u6700\u7b80\u5355\u7684\u662f\u76f4\u63a5\u4ece\u522b\u4eba\u7684\u7cfb\u7edf\u903b\u8f91\u53c2\u8003\u7406\u89e3\u3002\\n\\n\u6211\u7406\u89e3\u7684\u5de5\u5355\u7cfb\u7edf\\n\\n- \u5143\u6570\u636e\u4e30\u5bcc\\n- \u5206\u7c7b\u6807\u7b7e\u4f53\u7cfb\\n- \u57fa\u4e8e\u65f6\u95f4\u7ebf\u5448\u73b0\u6d3b\u52a8\\n- \u53ef\u6269\u5c55\u6027\u5f3a\\n- \u80fd\u5c01\u88c5\u51fa\u4e0a\u5c42\u7ba1\u7406\u4f53\u7cfb\\n  - \u770b\u677f\\n  - \u91cc\u7a0b\u7891\\n  - \u65e5\u5386\\n\\n\x3c!-- more --\x3e\\n\\n## Gitea\\n\\n- Issues \u7279\u6027\\n  - \u4e0a\u4e0b\u6587\u5207\u6362 - \u7ec4\u7ec7\u3001\u5f53\u524d\u7528\u6237\\n  - \u6a21\u677f\\n  - \u91cc\u7a0b\u7891\\n  - \u6807\u7b7e\\n  - \u6307\u6d3e\\n  - \u65f6\u95f4\u8ddf\u8e2a\\n  - \u56de\u5e94 - \u8868\u60c5\\n  - \u8fc7\u6ee4\\n    - Open\\n    - Closed\\n    - \u4f60\u7684\u4ed3\u5e93\\n    - \u88ab\u6307\u6d3e\u5de5\u5355\\n    - \u4f60\u521b\u5efa\u7684\u5de5\u5355\\n    - \u4ed3\u5e93\\n  - \u6392\u5e8f\uff1a \u6700\u8001\u7684\u3001\u6700\u8fd1\u66f4\u65b0\u3001\u8bc4\u8bba\u6570\u91cf\\n  - \u641c\u7d22\u3001\u8bc4\u8bba\u3001\u9644\u4ef6\\n- \u6570\u636e\u6a21\u578b\u4f4d\u4e8e [models](https://github.com/go-gitea/gitea/tree/master/models)\\n  - 13 \u4e2a\u5173\u4e8e\u7528\u6237\u7684\u6a21\u578b\u6587\u4ef6\\n  - 23 \u4e2a\u5173\u4e8e\u4ed3\u5e93\u7684\u6a21\u578b\u6587\u4ef6\\n  - **28** \u4e2a\u5173\u4e8e\u5de5\u5355\u7684\u6a21\u578b\u6587\u4ef6 - \u662f\u7cfb\u7edf\u4e2d\u6700\u591a\u7684\u6a21\u5757\\n- \u8bc4\u8bba\u4f5c\u4e3a\u6d3b\u52a8/\u6307\u4ee4\uff0cIssues \u57fa\u4e8e\u65f6\u95f4\u5173\u8054\u8bc4\u8bba\u4fee\u6539\u64cd\u4f5c\\n\\n\u6838\u5fc3 Issue \u6a21\u578b\\n\\n```go\\n// Issue represents an issue or pull request of repository.\\ntype Issue struct {\\n\\tID               int64       `xorm:\\"pk autoincr\\"`\\n\\tRepoID           int64       `xorm:\\"INDEX UNIQUE(repo_index)\\"`\\n\\tRepo             *Repository `xorm:\\"-\\"`\\n\\tIndex            int64       `xorm:\\"UNIQUE(repo_index)\\"` // Index in one repository.\\n\\tPosterID         int64       `xorm:\\"INDEX\\"`\\n\\tPoster           *User       `xorm:\\"-\\"`\\n\\tOriginalAuthor   string\\n\\tOriginalAuthorID int64      `xorm:\\"index\\"`\\n\\tTitle            string     `xorm:\\"name\\"`\\n\\tContent          string     `xorm:\\"TEXT\\"`\\n\\tRenderedContent  string     `xorm:\\"-\\"`\\n\\tLabels           []*Label   `xorm:\\"-\\"`\\n\\tMilestoneID      int64      `xorm:\\"INDEX\\"`\\n\\tMilestone        *Milestone `xorm:\\"-\\"`\\n\\tProject          *Project   `xorm:\\"-\\"`\\n\\tPriority         int\\n\\tAssigneeID       int64        `xorm:\\"-\\"`\\n\\tAssignee         *User        `xorm:\\"-\\"`\\n\\tIsClosed         bool         `xorm:\\"INDEX\\"`\\n\\tIsRead           bool         `xorm:\\"-\\"`\\n\\tIsPull           bool         `xorm:\\"INDEX\\"` // Indicates whether is a pull request or not.\\n\\tPullRequest      *PullRequest `xorm:\\"-\\"`\\n\\tNumComments      int\\n\\tRef              string\\n\\n\\tDeadlineUnix timeutil.TimeStamp `xorm:\\"INDEX\\"`\\n\\n\\tCreatedUnix timeutil.TimeStamp `xorm:\\"INDEX created\\"`\\n\\tUpdatedUnix timeutil.TimeStamp `xorm:\\"INDEX updated\\"`\\n\\tClosedUnix  timeutil.TimeStamp `xorm:\\"INDEX\\"`\\n\\n\\tAttachments      []*Attachment `xorm:\\"-\\"`\\n\\tComments         []*Comment    `xorm:\\"-\\"`\\n\\tReactions        ReactionList  `xorm:\\"-\\"`\\n\\tTotalTrackedTime int64         `xorm:\\"-\\"`\\n\\tAssignees        []*User       `xorm:\\"-\\"`\\n\\n\\t// IsLocked limits commenting abilities to users on an issue\\n\\t// with write access\\n\\tIsLocked bool `xorm:\\"NOT NULL DEFAULT false\\"`\\n\\n\\t// For view issue page.\\n\\tShowTag CommentTag `xorm:\\"-\\"`\\n}\\n```\\n\\n\u5173\u8054\u5185\u5bb9\\n\\n- \u4e0a\u4e0b\u6587\u5173\u8054: Repo, Project\\n- \u5143\u4fe1\u606f\u5173\u8054: Poster, OriginalAuthor, PullRequest\\n- \u5206\u7c7b\u5173\u8054: Labels, Milestone\\n- \u6307\u6d3e\u5173\u8054: Assignee, Assignees\\n- \u5185\u5bb9\u5173\u8054: Attachments, Comments, Reactions\\n\\n\u8bc4\u8bba\u6838\u5fc3\u6a21\u578b\\n\\n```go\\n// Comment represents a comment in commit and issue page.\\ntype Comment struct {\\n\\tID               int64       `xorm:\\"pk autoincr\\"`\\n\\tType             CommentType `xorm:\\"INDEX\\"`\\n\\tPosterID         int64       `xorm:\\"INDEX\\"`\\n\\tPoster           *User       `xorm:\\"-\\"`\\n\\tOriginalAuthor   string\\n\\tOriginalAuthorID int64\\n\\tIssueID          int64  `xorm:\\"INDEX\\"`\\n\\tIssue            *Issue `xorm:\\"-\\"`\\n\\tLabelID          int64\\n\\tLabel            *Label   `xorm:\\"-\\"`\\n\\tAddedLabels      []*Label `xorm:\\"-\\"`\\n\\tRemovedLabels    []*Label `xorm:\\"-\\"`\\n\\tOldProjectID     int64\\n\\tProjectID        int64\\n\\tOldProject       *Project `xorm:\\"-\\"`\\n\\tProject          *Project `xorm:\\"-\\"`\\n\\tOldMilestoneID   int64\\n\\tMilestoneID      int64\\n\\tOldMilestone     *Milestone `xorm:\\"-\\"`\\n\\tMilestone        *Milestone `xorm:\\"-\\"`\\n\\tAssigneeID       int64\\n\\tRemovedAssignee  bool\\n\\tAssignee         *User `xorm:\\"-\\"`\\n\\tAssigneeTeamID   int64 `xorm:\\"NOT NULL DEFAULT 0\\"`\\n\\tAssigneeTeam     *Team `xorm:\\"-\\"`\\n\\tResolveDoerID    int64\\n\\tResolveDoer      *User `xorm:\\"-\\"`\\n\\tOldTitle         string\\n\\tNewTitle         string\\n\\tOldRef           string\\n\\tNewRef           string\\n\\tDependentIssueID int64\\n\\tDependentIssue   *Issue `xorm:\\"-\\"`\\n\\n\\tCommitID        int64\\n\\tLine            int64 // - previous line / + proposed line\\n\\tTreePath        string\\n\\tContent         string `xorm:\\"TEXT\\"`\\n\\tRenderedContent string `xorm:\\"-\\"`\\n\\n\\t// Path represents the 4 lines of code cemented by this comment\\n\\tPatch       string `xorm:\\"-\\"`\\n\\tPatchQuoted string `xorm:\\"TEXT patch\\"`\\n\\n\\tCreatedUnix timeutil.TimeStamp `xorm:\\"INDEX created\\"`\\n\\tUpdatedUnix timeutil.TimeStamp `xorm:\\"INDEX updated\\"`\\n\\n\\t// Reference issue in commit message\\n\\tCommitSHA string `xorm:\\"VARCHAR(40)\\"`\\n\\n\\tAttachments []*Attachment `xorm:\\"-\\"`\\n\\tReactions   ReactionList  `xorm:\\"-\\"`\\n\\n\\t// For view issue page.\\n\\tShowTag CommentTag `xorm:\\"-\\"`\\n\\n\\tReview      *Review `xorm:\\"-\\"`\\n\\tReviewID    int64   `xorm:\\"index\\"`\\n\\tInvalidated bool\\n\\n\\t// Reference an issue or pull from another comment, issue or PR\\n\\t// All information is about the origin of the reference\\n\\tRefRepoID    int64                 `xorm:\\"index\\"` // Repo where the referencing\\n\\tRefIssueID   int64                 `xorm:\\"index\\"`\\n\\tRefCommentID int64                 `xorm:\\"index\\"`    // 0 if origin is Issue title or content (or PR\'s)\\n\\tRefAction    references.XRefAction `xorm:\\"SMALLINT\\"` // What hapens if RefIssueID resolves\\n\\tRefIsPull    bool\\n\\n\\tRefRepo    *Repository `xorm:\\"-\\"`\\n\\tRefIssue   *Issue      `xorm:\\"-\\"`\\n\\tRefComment *Comment    `xorm:\\"-\\"`\\n\\n\\tCommits     *list.List `xorm:\\"-\\"`\\n\\tOldCommit   string     `xorm:\\"-\\"`\\n\\tNewCommit   string     `xorm:\\"-\\"`\\n\\tCommitsNum  int64      `xorm:\\"-\\"`\\n\\tIsForcePush bool       `xorm:\\"-\\"`\\n}\\n```\\n\\n\u56e0\u4e3a\u8bc4\u8bba\u540c\u65f6\u8868\u793a\u4e86 Issue \u7684\u8bc4\u8bba\u548c Commit \u8bc4\u8bba\uff0c\u56e0\u6b64\u5305\u542b\u4e86\u5f88\u591a\u63d0\u4ea4\u76f8\u5173\u7684\u4fe1\u606f\u3002\u8bc4\u8bba\u6709\u76f8\u5f53\u591a\u7684\u7c7b\u578b\\n\\n```go\\nconst (\\n  // \u666e\u901a\u8bc4\u8bba - \u53ef\u5173\u8054\u5230\u63d0\u4ea4\u548c\u884c\\n\\tCommentTypeComment CommentType = iota\\n\\tCommentTypeReopen\\n\\tCommentTypeClose\\n\\n\\tCommentTypeIssueRef         // \u5de5\u5355\u5f15\u7528\\n\\tCommentTypeCommitRef        // \u63d0\u4ea4\u5f15\u7528\\n\\tCommentTypeCommentRef       // \u8bc4\u8bba\u5f15\u7528\\n\\tCommentTypePullRef          // PR \u5f15\u7528\\n\\tCommentTypeLabel            // \u6807\u7b7e\u4fee\u6539\\n\\tCommentTypeMilestone        // \u91cc\u7a0b\u7891\u4fee\u6539\\n\\tCommentTypeAssignees        // \u6307\u6d3e\u4eba\u4fee\u6539\\n\\tCommentTypeChangeTitle      // \u6807\u9898\u4fee\u6539\\n\\tCommentTypeDeleteBranch     // \u5220\u9664\u5206\u652f\\n\\tCommentTypeStartTracking    // \u5f00\u59cb\u65f6\u95f4\u8ddf\u8e2a\\n\\tCommentTypeStopTracking     // \u7ed3\u675f\u65f6\u95f4\u8ddf\u8e2a\\n\\tCommentTypeAddTimeManual    // \u624b\u52a8\u6dfb\u52a0\u65f6\u95f4\u8ddf\u8e2a\u4fe1\u606f\\n\\tCommentTypeCancelTracking   // \u53d6\u6d88\u65f6\u95f4\u8ddf\u8e2a\\n\\tCommentTypeAddedDeadline    // \u6dfb\u52a0\u622a\u6b62\u65e5\u671f\\n\\tCommentTypeModifiedDeadline // \u4fee\u6539\u622a\u6b62\u65e5\u671f\\n\\tCommentTypeRemovedDeadline  // \u5220\u9664\u622a\u6b62\u65e5\u671f\\n\\tCommentTypeAddDependency    // \u6dfb\u52a0\u4f9d\u8d56\\n\\tCommentTypeRemoveDependency // \u5220\u9664\u4f9d\u8d56\\n\\tCommentTypeCode             // \u8bc4\u8bba\u4ee3\u7801\u884c\\n\\tCommentTypeReview           // PR \u8bc4\u8bba\u53cd\u9988\\n\\tCommentTypeLock             // \u9501\u5b9a\u5de5\u5355\u4e3a\u534f\u4f5c\u8005\\n\\tCommentTypeUnlock           // \u89e3\u9501\u5de5\u5355\\n\\tCommentTypeChangeTargetBranch // \u4fee\u6539 PR \u76ee\u6807\u5206\u652f\\n\\tCommentTypeDeleteTimeManual // \u5220\u9664\u65f6\u95f4\u8ddf\u8e2a\\n\\tCommentTypeReviewRequest    // \u6dfb\u52a0\u6216\u5220\u9664\u5ba1\u6838\u8bf7\u6c42\\n\\tCommentTypeMergePull        // \u5408\u5e76 PR\\n\\tCommentTypePullPush         // \u63a8\u9001\u5230 PR head \u5206\u652f\\n\\tCommentTypeProject          // \u4fee\u6539\u9879\u76ee\\n\\tCommentTypeProjectBoard     // \u4fee\u6539\u9879\u76ee\u9762\u677f\\n)\\n```\\n\\n\u8bc4\u8bba\u7c7b\u578b\u975e\u5e38\u8be6\u7ec6\uff0c\u56e0\u4e3a Issues \u662f\u57fa\u4e8e\u65f6\u95f4\u7ebf\u7684\u4e8b\u4ef6\uff0c\u8bc4\u8bba\u7b49\u540c\u4e8e\u6ce8\u91ca\uff0c\u6bcf\u4e2a\u6ce8\u91ca\u90fd\u662f\u4e00\u4e2a\u547d\u4ee4\uff0c\u4f7f\u7528\u547d\u4ee4\u7684\u65b9\u5f0f\u624d\u80fd\u5b9e\u73b0\u65f6\u95f4\u7ebf\u53d8\u5316\u3002\\n\\n## Gitlab\\n\\nGitlab \u76f8\u6bd4 Gitea \u7684 Issues \u529f\u80fd\u66f4\u52a0\u5f3a\u5927\\n\\n**Issues [\u529f\u80fd\u7279\u6027](https://docs.gitlab.com/ee/user/project/issues/)**\\n\\n- \u5185\u5bb9: \u6807\u9898, \u63cf\u8ff0, \u4efb\u52a1\\n- \u4eba\u5458: \u4f5c\u8005, \u6307\u6d3e\u4eba\\n- \u72b6\u6001: \u6253\u5f00/\u5173\u95ed, \u5065\u5eb7\u72b6\u6001, \u53ef\u4fe1\u5ea6, \u4efb\u52a1\u5b8c\u6210\u5ea6\\n- \u8ba1\u5212\u548c\u8ddf\u8e2a: \u91cc\u7a0b\u7891, \u622a\u6b62\u65e5\u671f\uff0c\u6743\u91cd\uff0c\u65f6\u95f4\u8ddf\u8e2a\uff0c\u6807\u7b7e\uff0c\u6295\u7968\uff0c\u8868\u60c5\uff0c\u5de5\u5355\u5173\u8054\uff0cEpic \u5173\u8054\uff0c\u552f\u4e00\u7684\u7f16\u53f7\u548c\u5730\u5740\\n- \u5176\u4ed6\u76f8\u5173\u529f\u80fd\\n  - \u770b\u677f\\n  - Epic\\n  - \u670d\u52a1\u53f0/Service Deck\\n  - \u5916\u90e8\u96c6\u6210\\n  - \u5e26\u8303\u56f4\u652f\u6301\u5c42\u7ea7\u7684 Label\\n  - \u7528\u6237 Todo List\\n  - \u71c3\u5c3d\u56fe\\n  - \u5206\u7ec4\u7ba1\u7406 - \u7ec4\u7ea7\u522b\u53ef\u7edf\u8ba1\u548c\u7ba1\u7406\u7ec4\u5185\u9879\u76ee\\n  - \u8fed\u4ee3\\n  - \u8bbe\u8ba1\u7ba1\u7406\\n  - \u4ef7\u503c\u6d41\\n  - \u6d1e\u5bdf\\n\\nIssues \u5bf9\u4e8e Gitlab \u6765\u8bf4\u4e0d\u53ea\u662f\u5de5\u5355\u7ba1\u7406\uff0c\u5728\u6700\u57fa\u7840\u7684\u529f\u80fd\u4e0a\u5b9e\u73b0\u4e86\u66f4\u591a\u7ba1\u7406\u548c\u5206\u6790\u76f8\u5173\u7684\u529f\u80fd\uff0c\u4f5c\u4e3a\u6709\u4e00\u5b9a\u89c4\u6a21\u7684\u56e2\u961f\uff0c\u8fd9\u4e9b\u9644\u52a0\u7684\u529f\u80fd\u90fd\u662f\u5f88\u6709\u5fc5\u8981\u7684\u3002\\n\\n\u6838\u5fc3 [issues](https://github.com/gitlabhq/gitlabhq/blob/2eaa60e4555bb11ad5c0af905217f0fa61cf7cc9/db/structure.sql#L13105) \\b \u8868\\n\\n- API [Reference](https://docs.gitlab.com/ee/api/api_resources.html)\\n- GraphQL [explorer](https://gitlab.com/-/graphql-explorer)\\n\\n```sql\\nCREATE TABLE issues (\\n    id integer NOT NULL,\\n    title character varying,\\n    author_id integer,\\n    project_id integer,                       -- \u9879\u76ee\u7ba1\u7406\\n    created_at timestamp without time zone,\\n    updated_at timestamp without time zone,\\n    description text,\\n    milestone_id integer,                     -- \u91cc\u7a0b\u7891\\n    iid integer,                              -- \u9879\u76ee\u5185 ID\\n    updated_by_id integer,\\n    weight integer,\\n    confidential boolean DEFAULT false NOT NULL,  -- \u9690\u79d8\\n    due_date date,                            -- \u622a\u6b62\u65e5\u671f\\n    moved_to_id integer,                      -- \u8fc1\u79fb\\n    lock_version integer DEFAULT 0,\\n    title_html text,\\n    description_html text,\\n    time_estimate integer,                    -- \u65f6\u95f4\u9884\u4f30\\n    relative_position integer,\\n    service_desk_reply_to character varying,\\n    cached_markdown_version integer,\\n    last_edited_at timestamp without time zone,\\n    last_edited_by_id integer,\\n    discussion_locked boolean,\\n    closed_at timestamp with time zone,\\n    closed_by_id integer,\\n    state_id smallint DEFAULT 1 NOT NULL,     -- \u72b6\u6001\\n    duplicated_to_id integer,                 -- \u91cd\u590d\u6807\u5fd7\\n    promoted_to_epic_id integer,              -- epic\\n    health_status smallint,                   -- \u5065\u5eb7\u72b6\u6001\\n    external_key character varying(255),      -- \u5916\u90e8\u5173\u8054\\n    sprint_id bigint,                         -- sprint \u5173\u8054\\n    issue_type smallint DEFAULT 0 NOT NULL,   -- \u7c7b\u578b\\n    blocking_issues_count integer DEFAULT 0 NOT NULL,\\n    CONSTRAINT check_fba63f706d CHECK ((lock_version IS NOT NULL))\\n);\\n\\n\\n-- \u63d0\u53ca\u7684\u7528\u6237\\nCREATE TABLE issue_user_mentions (\\n    id bigint NOT NULL,\\n    issue_id integer NOT NULL,\\n    note_id integer,\\n    mentioned_users_ids integer[],\\n    mentioned_projects_ids integer[],\\n    mentioned_groups_ids integer[]\\n);\\n-- \u6307\u6d3e\u5173\u7cfb\\nCREATE TABLE issue_assignees (\\n    user_id integer NOT NULL,\\n    issue_id integer NOT NULL\\n);\\n-- \u90ae\u4ef6 - service desk\\nCREATE TABLE issue_email_participants (\\n    id bigint NOT NULL,\\n    issue_id bigint NOT NULL,\\n    created_at timestamp with time zone NOT NULL,\\n    updated_at timestamp with time zone NOT NULL,\\n    email text NOT NULL\\n);\\n-- slas\\nCREATE TABLE issuable_slas (\\n    id bigint NOT NULL,\\n    issue_id bigint NOT NULL,\\n    due_at timestamp with time zone NOT NULL\\n);\\n-- \u4e25\u91cd\u7a0b\u5ea6\\nCREATE TABLE issuable_severities (\\n    id bigint NOT NULL,\\n    issue_id bigint NOT NULL,\\n    severity smallint DEFAULT 0 NOT NULL\\n);\\n-- epic\\nCREATE TABLE epic_issues (\\n    id integer NOT NULL,\\n    epic_id integer NOT NULL,\\n    issue_id integer NOT NULL,\\n    relative_position integer\\n);\\n```\\n\\nGitlab \u4e0d\u662f\u901a\u8fc7\u6ce8\u91ca\u6765\u5173\u8054\u6d3b\u52a8\uff0c\u800c\u662f\u901a\u8fc7 events \u8fdb\u884c\u5173\u8054\u3002\u4f8b\u5982\\n\\n```sql\\n-- \u8fed\u4ee3\u4e8b\u4ef6\\nCREATE TABLE resource_iteration_events (\\n    id bigint NOT NULL,\\n    user_id bigint NOT NULL,\\n    issue_id bigint,\\n    merge_request_id bigint,\\n    iteration_id bigint,\\n    created_at timestamp with time zone NOT NULL,\\n    action smallint NOT NULL\\n);\\n-- \u6807\u7b7e\u4e8b\u4ef6\\nCREATE TABLE resource_label_events (\\n    id bigint NOT NULL,\\n    action integer NOT NULL,\\n    issue_id integer,\\n    merge_request_id integer,\\n    epic_id integer,\\n    label_id integer,\\n    user_id integer,\\n    created_at timestamp with time zone NOT NULL,\\n    cached_markdown_version integer,\\n    reference text,\\n    reference_html text\\n);\\n-- \u91cc\u7a0b\u7891\u4e8b\u4ef6\\nCREATE TABLE resource_milestone_events (\\n    id bigint NOT NULL,\\n    user_id bigint,\\n    issue_id bigint,\\n    merge_request_id bigint,\\n    milestone_id bigint,\\n    action smallint NOT NULL,\\n    state smallint NOT NULL,\\n    created_at timestamp with time zone NOT NULL\\n);\\n-- \u72b6\u6001\u4e8b\u4ef6\\nCREATE TABLE resource_state_events (\\n    id bigint NOT NULL,\\n    user_id bigint,\\n    issue_id bigint,\\n    merge_request_id bigint,\\n    created_at timestamp with time zone NOT NULL,\\n    state smallint NOT NULL,\\n    epic_id integer,\\n    source_commit text,\\n    close_after_error_tracking_resolve boolean DEFAULT false NOT NULL,\\n    close_auto_resolve_prometheus_alert boolean DEFAULT false NOT NULL,\\n    source_merge_request_id bigint,\\n    CONSTRAINT check_f0bcfaa3a2 CHECK ((char_length(source_commit) <= 40)),\\n    CONSTRAINT state_events_must_belong_to_issue_or_merge_request_or_epic CHECK ((((issue_id <> NULL::bigint) AND (merge_request_id IS NULL) AND (epic_id IS NULL)) OR ((issue_id IS NULL) AND (merge_request_id <> NULL::bigint) AND (epic_id IS NULL)) OR ((issue_id IS NULL) AND (merge_request_id IS NULL) AND (epic_id <> NULL::integer))))\\n);\\n-- \u6743\u91cd\u4e8b\u4ef6\\nCREATE TABLE resource_weight_events (\\n    id bigint NOT NULL,\\n    user_id bigint,\\n    issue_id bigint NOT NULL,\\n    weight integer,\\n    created_at timestamp with time zone NOT NULL\\n);\\n```\\n\\n\u4f7f\u7528\u4e8b\u4ef6\u7684\u6a21\u5f0f\u5219\u90fd\u662f\u53cd\u5411\u5173\u8054\uff0c\u6269\u5c55\u6027\u76f8\u5bf9\u901a\u8fc7 Type+\u6761\u4ef6\u5b57\u6bb5 \u66f4\u597d\uff0c\u6a21\u5757\u4e4b\u95f4\u5f71\u54cd\u4e5f\u4f1a\u66f4\u5c0f\u3002\u4f46\u9700\u8981\u67e5\u8be2\u6240\u6709\u7684\u4e8b\u4ef6\u5219\u4f1a\u9ebb\u70e6\u4e00\u70b9\u3002\\n\\nGitlab \u7684 Issues \u9875\u9762\u662f\u5728\u670d\u52a1\u7aef\u751f\u6210\u7684\uff0c\u4e14\u751f\u6210\u7684\u5185\u5bb9\u4f1a\u7f13\u5b58\uff0cMarkdown \u751f\u6210\u7684 HTML \u4f1a\u76f4\u63a5\u5199\u5165\u8868\u4e2d\uff0c\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u51cf\u5c11\u4e86\u9700\u8981\u5ba2\u6237\u7aef\u62c9\u53d6\u6240\u6709\u4e8b\u4ef6\u7684\u590d\u6742\u5ea6\u3002\\n\\n## \u603b\u7ed3\\n\\n\u867d\u7136\u53ea\u770b\u4e86 Gitea \u548c Gitlab \u7684\u5b9e\u73b0\uff0c\u4f46\u4e5f\u8db3\u591f\u6709\u53c2\u8003\u610f\u4e49\uff0c\u5982\u679c\u8981\u5b9e\u73b0\u7b80\u5355\u7684\u5de5\u5355\u7cfb\u7edf\uff0c\u53ef\u80fd\u4f1a\u9009\u62e9\u7b2c\u4e00\u79cd\uff0c\u4f46\u8981\u5b9e\u73b0\u590d\u6742\u7684\u903b\u8f91\u5219\u8003\u8651\u9009\u62e9\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u3002"},{"id":"understand-baby-vision","metadata":{"permalink":"/story/understand-baby-vision","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-01-07-understand-baby-vision.md","source":"@site/story/2021/2021-01-07-understand-baby-vision.md","title":"\u7406\u89e3\u5b69\u5b50\u7684\u89c6\u529b","description":"\u65b0\u751f\u513f\u7684\u89c6\u529b\u662f\u975e\u5e38\u5f31\u7684\uff0c\u53ea\u80fd\u770b\u5230\u975e\u5e38\u8fd1\u8ddd\u79bb\u7684\u7269\u4f53\u3002\u5728\u516d\u4e03\u5468\u540e\u5b69\u5b50\u7684\u773c\u775b\u5e94\u8be5\u4f1a\u968f\u7740\u7269\u4f53\u8f6c\u52a8\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u5b66\u4e60","permalink":"/story/tags/\u5b66\u4e60"},{"label":"\u6210\u957f","permalink":"/story/tags/\u6210\u957f"}],"readingTime":13.005,"truncated":true,"authors":[],"prevItem":{"title":"\u5de5\u5355\u7cfb\u7edf\u8bbe\u8ba1\u5b9e\u73b0","permalink":"/story/issues-system-design"},"nextItem":{"title":"\u4e3a\u4ec0\u4e48\u9700\u8981 GraphQL","permalink":"/story/why-need-graphql"}},"content":"\u65b0\u751f\u513f\u7684\u89c6\u529b\u662f\u975e\u5e38\u5f31\u7684\uff0c\u53ea\u80fd\u770b\u5230\u975e\u5e38\u8fd1\u8ddd\u79bb\u7684\u7269\u4f53\u3002\u5728\u516d\u4e03\u5468\u540e\u5b69\u5b50\u7684\u773c\u775b\u5e94\u8be5\u4f1a\u968f\u7740\u7269\u4f53\u8f6c\u52a8\u3002\\n\u524d\u4e00\u4e24\u5c81\u7684\u65f6\u5019\uff0c\u5b69\u5b50\u7684\u89c6\u529b\u53d1\u80b2\u4f1a\u975e\u5e38\u8fc5\u901f\uff0c\u5230\u4e24\u5c81\u65f6\u89c6\u529b\u57fa\u672c\u7b49\u540c\u4e8e\u6b63\u5e38\u6210\u5e74\u4eba\u7684\u89c6\u529b\u3002\\n\\n\u7236\u6bcd\u5e94\u8be5\u5173\u6ce8\u5b69\u5b50\u7684\u773c\u775b\u6709\u6ca1\u6709\u4ee5\u4e0b\u73b0\u8c61\\n\\n- \u53cc\u773c\u4e0d\u5bf9\u79f0\u8f6c\u52a8\u6216\u4ea4\u53c9\\n- \u5c0f\u5b69\u5b50\u4e0d\u5bf9\u8138\u548c\u73a9\u5177\u611f\u5174\u8da3\\n- \u773c\u7403\u8f6c\u52a8\u6709\u8f7b\u5fae\u98a4\u6296\\n- \u770b\u4e1c\u897f\u5934\u90e8\u503e\u659c\\n- \u770b\u4e1c\u897f\u6324\u773c\\n\\n\x3c!-- more --\x3e\\n\\n\u4e00\u4e24\u5c81\u7684\u5b69\u5b50\u89c6\u529b\u6b63\u5904\u4e8e\u53d1\u80b2\u9636\u6bb5\uff0c\u56e0\u6b64\u662f\u5426\u9700\u8981\u4f69\u6234\u773c\u955c\uff0c\u773c\u775b\u662f\u5426\u6709\u89c6\u529b\u95ee\u9898\u9700\u8981\u5148\u68c0\u6d4b\u5e76\u4e14\u8fdb\u884c\u4e00\u5b9a\u7684\u89c2\u5bdf\u3002\\n\\n## \u5b69\u5b50\u7684\u89c6\u529b\\n\\n\u4eba\u4eec\u901a\u5e38\u5bf9\u4f69\u6234\u773c\u955c\u6709\u9519\u8bef\u7684\u8ba4\u8bc6\uff1a\\n\\n- \u5c0f\u7684\u65f6\u5019\u4f69\u6234\u4e86\u773c\u955c\uff0c\u957f\u5927\u540e\u4fbf\u4e0d\u9700\u8981\u4e86\\n- \u5c0f\u7684\u65f6\u5019\u4f69\u6234\u4e86\u773c\u955c\uff0c\u4f1a\u4ea7\u751f\u4f9d\u8d56\uff0c\u5bfc\u81f4\u4ee5\u540e\u4e00\u76f4\u4f1a\u4f69\u6234\u773c\u955c\\n\\n\u4e0a\u8ff0\u7684\u8bf4\u6cd5\u5e76\u4e0d\u6b63\u786e\uff0c\u5c0f\u5b69\u5b50\u4e4b\u6240\u4ee5\u9700\u8981\u4f69\u6234\u773c\u955c\uff0c\u66f4\u591a\u7684\u539f\u56e0\u662f **\u5148\u5929\u6027** \u7684 \u8fd1\u89c6\u3001\u8fdc\u89c6\u3001\u6563\u5149\u5bfc\u81f4\u7684\u3002\\n\u5982\u679c\u4e0d\u901a\u8fc7\u773c\u955c\u5e72\u9884\uff0c\u773c\u775b\u7684\u60c5\u51b5\u5e76\u4e0d\u4f1a\u81ea\u5df1\u5f97\u5230\u6539\u5584\u751a\u81f3\u53ef\u80fd\u52a0\u91cd\u3002\\n\\n\u8fd1\u89c6\u901a\u5e38\u53d1\u751f\u5728 8-15 \u5c81\uff0c\u4f46\u4e5f\u53ef\u80fd\u66f4\u65e9\u3002\\n\u8fdc\u89c6\u5219\u66f4\u4e3a\u5e38\u89c1\uff0c\u53ea\u8981\u8fdc\u89c6\u4e0d\u8fc7\u4e8e\u4e25\u91cd\u90fd\u4e0d\u9700\u8981\u8fdb\u884c\u4eba\u4e3a\u5e72\u9884\u3002\u4f46\u4e25\u91cd\u7684\u8fdc\u89c6\u4f1a\u5bfc\u81f4\u770b\u4e0d\u6e05\u8fd1\u5904\u7684\u7269\u4f53\uff0c\u751a\u81f3\u770b\u8fd1\u5904\u7269\u4f53\u65f6\u4f1a\u53d8\u6210\u201c\u6597\u9e21\u773c\u201d\u3002\\n\u8fdc\u89c6\u901a\u5e38\u53d1\u751f\u5728\u4e24\u5c81\u5de6\u53f3\u3002\\n\u51e0\u4e4e **\u6240\u6709\u4eba** \u90fd\u4f1a\u6709\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6563\u5149\uff0c\u5982\u679c\u6563\u5149\u8f83\u4e3a\u4e25\u91cd\uff0c\u5219\u9700\u8981\u4f69\u6234\u773c\u955c\u3002\\n\\n\u4e0e\u6210\u5e74\u4eba\u4e0d\u540c\u7684\u5730\u65b9\u5728\u4e8e\uff0c\u5c0f\u5b69\u5b50\u9700\u8981\u4f69\u6234\u773c\u955c\u4ee5\u9884\u9632 **\u5f31\u89c6**\uff0c\u5f31\u89c6\u7684\u662f\u8bf4\u53cc\u773c\u60c5\u51b5\u4e0d\u540c\uff0c\u6b63\u5e38\u7684\u773c\u775b\u53d7\u4e0d\u6b63\u5e38\u5f71\u54cd\uff0c\u5bfc\u81f4\u6700\u7ec8\u53cc\u773c\u65e0\u6cd5\u805a\u7126\u3002\\n\u5f31\u89c6\u8f83\u4e3a\u4e25\u91cd\u7684\u65f6\u5019\uff0c\u5219\u9700\u8981\u4f69\u6234\u773c\u955c\u6765 **\u4fdd\u62a4** \u6b63\u5e38\u7684\u773c\u775b\u3002\\n\\n## \u5b69\u5b50\u7684\u773c\u955c\\n\\n\u73b0\u4ee3\u533b\u5b66\u80fd\u591f\u5f88\u5bb9\u6613\u6d4b\u91cf\u5b69\u5b50\u7684\u89c6\u529b\u95ee\u9898\uff0c\u5373\u4fbf\u5c0f\u5b69\u5b50\u4e0d\u914d\u5408\u4e5f\u80fd\u591f\u8fdb\u884c\u51c6\u786e\u6d4b\u91cf\u3002\\n\\n\u73b0\u5728\u7684\u5927\u591a\u955c\u7247\u90fd\u662f\u5851\u6599\u7684\uff0c\u6bd4\u4f20\u7edf\u7684\u73bb\u7483\u955c\u7247\u66f4\u786c\u66f4\u8f7b\u3002\u5efa\u8bae\u955c\u7247\u8fdb\u884c\u9632\u522e\u6d82\u5c42\u5904\u7406\uff0c\u56e0\u4e3a\u5c0f\u5b69\u5b50\u5f88\u5bb9\u6613\u5c31\u628a\u773c\u955c\u522e\u82b1\u4e86\u3002\\n\u8981\u6ce8\u610f\u955c\u7247\u4e0d\u8981\u8fc7\u6697\uff0c\u907f\u514d\u65e0\u6cd5\u770b\u6e05\u5ba4\u5185\u73af\u5883\u3002\\n\\n\u955c\u6846\u5219\u9009\u62e9\u5b89\u5168\u8212\u9002\u7684\u5373\u53ef\u3002\u73b0\u5728\u6709\u8f83\u591a\u7684\u65b9\u5f0f\u4fdd\u6301\u773c\u955c\u4e0d\u4f1a\u6389\u843d\uff0c\u6241\u9f3b\u6881\u7684\u5b69\u5b50\u773c\u955c\u53ef\u80fd\u66f4\u5bb9\u6613\u8131\u843d\u3002\\n\u5b66\u6b65\u7684\u513f\u7ae5\u53ef\u9009\u62e9\u4f69\u6234\u8033\u52fe\uff0c\u5a74\u5e7c\u513f\u53ef\u9009\u62e9\u4f69\u6234\u773c\u94fe\u3002\u9009\u62e9\u5408\u9002\u7684\u773c\u955c\u4f69\u6234\u5c3d\u91cf\u8ba9\u773c\u955c\u548c\u5b69\u5b50\u4e00\u8d77\u201c\u6210\u957f\u201d\uff0c\u907f\u514d\u4fa7\u81c2\u6298\u65ad\u3002\\n\\n\u5c0f\u5b69\u5b50\u5927\u591a\u4e0d\u4f1a\u914d\u5408\u4f69\u6234\u773c\u955c\uff0c\u8fd9\u65f6\u5019\u9700\u8981\u5bb6\u957f\u8fdb\u884c\u5206\u6563\u6ce8\u610f\u529b\u3001\u8bf1\u5bfc\u6216\u8005\u201c\u6295\u98df\u201d\u6765\u5e2e\u52a9\u5b69\u5b50\u517b\u6210\u4f69\u6234\u773c\u955c\u7684\u4e60\u60ef\u3002\\n\u5982\u679c\u5b9e\u5728\u4e0d\u884c\uff0c\u53ef\u8ba9\u773c\u79d1\u533b\u751f\u5f00\u773c\u836f\u6c34\uff0c\u5728\u6ca1\u6709\u773c\u955c\u65f6\u5c06\u6b63\u5e38\u773c\u955c\u6a21\u7cca\u6389\uff0c\u8fd9\u6837\u901a\u5e38\u53ef\u4ee5\u514b\u670d\u5b69\u5b50\u7684\u521d\u671f\u62b5\u6297\u3002\\n\\n## \u5b69\u5b50\u7684\u9605\u8bfb\u95ee\u9898\\n\\n\u5f53\u5b69\u5b50\u6709\u9605\u8bfb\u56f0\u96be\u65f6\uff0c\u5bb6\u957f\u901a\u5e38\u8ba4\u4e3a\u662f\u773c\u775b\u6709\u95ee\u9898\uff0c\u5982\u679c\u68c0\u67e5\u6392\u9664\u4e86\u6240\u6709\u7684\u89c6\u529b\u95ee\u9898\uff0c\u90a3\u4e48\u66f4\u53ef\u80fd\u662f\u5b69\u5b50\u6709\u5b66\u4e60\u969c\u788d\u3002\\n\\n\u5b66\u4e60\u969c\u788d\u662f\u4eba\u5728 \u4e0d\u540c\u9886\u57df\u7684\u80fd\u529b\u548c\u8868\u73b0\u5dee\u8ddd\u3002\u4e0e\u667a\u529b\u667a\u5546 **\u65e0\u5173**\u3002\u5b66\u4e60\u969c\u788d\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b69\u5b50\u5728\u5b66\u6821\u8868\u73b0\u8f83\u5dee\uff0c\u5982\u679c\u4e0d\u8fdb\u884c\u5e72\u9884\u5219\u4f1a\u5bfc\u81f4\u5b69\u5b50\u4ea7\u751f\u81ea\u5351\u60c5\u7eea\uff0c\u8fdb\u800c\u538c\u5b66\u3002\\n\\n\u5b66\u4e60\u969c\u788d\u548c\u9605\u8bfb\u95ee\u9898\u901a\u5e38\u4e0e\u773c\u775b\u65e0\u5173\uff0c\u66f4\u591a\u7684\u662f\u9700\u8981\u5c1d\u8bd5\u4e0d\u540c\u7684\u6559\u80b2\u65b9\u5f0f\u3002\u7236\u6bcd\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u6781\u5176\u91cd\u8981\uff0c\u9700\u8981\u66f4\u591a\u9f13\u52b1\u652f\u6301\u5b69\u5b50\uff0c\u66f4\u591a\u7684\u966a\u540c\uff0c\u4e00\u8d77\u9605\u8bfb\u7b49\u3002\\n\u5177\u6709\u5b66\u4e60\u969c\u788d\u7684\u5b69\u5b50\u9700\u8981\u66f4\u591a\u7684\u9f13\u52b1\uff0c\u5c1d\u8bd5\u5e76\u53d1\u73b0\u5176\u4ed6\u7684\u611f\u5174\u8da3\u7684\u9886\u57df\uff0c\u53d1\u89c9\u4ed6\u4eec\u72ec\u7279\u7684\u80fd\u529b\u3002\\n\\n## \u5b69\u5b50\u7684\u773c\u775b\u5b89\u5168\\n\\n\u6bcf\u4e2a\u4eba\u7684\u773c\u775b\u90fd\u53ef\u80fd\u53d7\u4f24\uff0c\u7279\u522b\u662f\u5c0f\u5b69\u5b50\u5219\u66f4\u4e3a\u5e38\u89c1\uff0c\u4f46\u5728\u5bb6\u957f\u7684\u76d1\u62a4\u4e0b\u6216\u8005\u4f69\u6234\u9632\u62a4\u773c\u955c 90% \u7684\u95ee\u9898\u90fd\u662f\u53ef\u4ee5\u907f\u514d\u7684\u3002\\n\\n\u5728\u8fdb\u884c\u8fd0\u52a8\u65f6\u4f69\u6234\u62a4\u76ee\u955c\u53ef\u4fdd\u62a4\u773c\u775b\uff0c\u4f8b\u5982 \u7bee\u7403\uff0c\u7fbd\u6bdb\u7403\u7b49\u3002\\n\u9009\u62e9\u6811\u8102\u955c\u7247\uff0c\u5b89\u5168\u7684\u955c\u6846\u53ef\u907f\u514d\u4f69\u6234\u7684\u773c\u955c\u5e26\u6765\u7684\u989d\u5916\u4f24\u5bb3\uff0c\u7f8e\u56fd\u6709 ANSI Z87.1 \u6807\u51c6\u5b9a\u4e49\u773c\u955c\u7684\u5b89\u5168\u6807\u51c6\u3002\\n\\n\u9002\u5f53\u7684\u5bb6\u957f\u76d1\u7763\u4e5f\u6781\u4e3a\u91cd\u8981\uff0c\u4e0d\u8981\u8ba9\u5b69\u5b50\u73a9 \u70df\u82b1\u3001BB \u62a2\u3001\u5feb\u901f\u6216\u950b\u5229\u7684\u7269\u4f53\uff0c\u4f8b\u5982 \u98de\u9556\u3001\u526a\u5200\u3001\u5c0f\u5200\u3001\u7b14\u7b49\u3002\\n\u5728\u8349\u576a\u4e0a\u4e5f\u9700\u8981\u6ce8\u610f\u77f3\u5934\u7b49\u907f\u514d\u7eca\u5012\u88ab\u8349\u523a\u4f24\u3002\u5316\u5b66\u7269\u54c1\u5219\u9700\u8981\u6ce8\u610f\u5395\u6240\u6d17\u5242\uff0c\u8863\u7269\u6d17\u5242\u7b49\u3002\\n\\n## \u9ad8\u5ea6\u8fdc\u89c6\u7684\u5371\u5bb3\u548c\u4e25\u91cd\u6027\\n\\n\u56e0\u4e3a\u8fdc\u89c6\u53d1\u751f\u5728\u4e24\u5c81\u6216\u8005\u66f4\u65e9\u7684\u65f6\u5019\uff0c\u8fdc\u89c6\u4f1a\u5bfc\u81f4\u8fd1\u5904\u7269\u4f53\u6a21\u7cca\uff0c\u81f4\u4f7f\u5b69\u5b50\u53d1\u80b2\u53d7\u5230\u5f71\u54cd\u3002\u5e38\u89c1\u7684\u5f71\u54cd\u5982\u4e0b\\n\\n- \u65e0\u6cd5\u770b\u6e05\u7236\u6bcd\\n- \u65e0\u6cd5\u770b\u6e05\u98df\u7269\\n- \u65e0\u6cd5\u770b\u6e05\u6a21\u4eff\u8fd1\u5904\u9762\u5b54 - \u8bed\u8a00\u53d1\u80b2\u53d7\u5230\u5f71\u54cd\\n- \u65e0\u6cd5\u770b\u6e05\u811a\u4e0b - \u8fd0\u52a8\u673a\u80fd\u53d1\u80b2\u8fdf\u7f13\\n- \u65e0\u6cd5\u770b\u6e05\u811a\u4e0b\u7684\u73a9\u5177 - \u53ef\u89c2\u6d4b\u5b69\u5b50\u7684\u884c\u4e3a\u8f68\u8ff9\u786e\u8ba4\u662f\u5426\u6709\u8fdc\u89c6\\n- \u8f83\u5c11\u89c2\u5bdf\u5468\u56f4\u7269\u4f53 - \u8f83\u5c11\u4e0e\u8fd1\u5904\u7269\u4f53\u4ea4\u4e92 - \u5f71\u54cd\u8fd0\u52a8\u673a\u80fd\\n\\n\u6234\u773c\u955c\u4e0d\u53ea\u662f\u4e3a\u4e86\u5b69\u5b50\u770b\u5f97\u6e05\uff0c\u66f4\u91cd\u8981\u7684\u662f\u786e\u4fdd\u5b69\u5b50\u6b63\u5e38\u53d1\u80b2\u3002\\n\\n## \u7406\u89e3\u6563\u5149\\n\\n\\b \u6563\u5149\u662f\u7531\u4e8e\u5c48\u5149\u4e0d\u6b63\u5bfc\u81f4\uff0c\u773c\u7403\u89d2\u819c\u6216\u6676\u72b6\u4f53\u5f27\u5ea6\u5f02\u5e38\uff0c\u4e0d\u662f\u5706\u5f62\u800c\u662f\u504f\u692d\u5706\u5f62\u3002\u5bfc\u81f4\u5149\u8fdb\u5165\u89c6\u7f51\u819c\u540e\u65e0\u6cd5\u6b63\u5e38\u805a\u7126\uff0c\u6210\u50cf\u6a21\u7cca\u3002\\n\u5c0f\u5b69\u5b50\u7684\u6563\u5149\u5927\u591a\u6709\u9057\u4f20\u56e0\u7d20\uff0c\u5176\u4ed6\u7684\u4e5f\u53ef\u80fd\u662f\u7531\u4e8e\u53d7\u4f24\u6216\u624b\u672f\u5bfc\u81f4\u3002\\n\\n\u6563\u5149\u73b0\u8c61\uff1a\\n\\n- \u89c6\u7ebf\u6a21\u7cca\u626d\u66f2\\n- \u773c\u775b\u6613\u75b2\u52b3\u6216\u6709\u538b\u529b\\n- \u5934\u75bc\\n- \u659c\u89c6\\n- \u591c\u665a\u89c6\u91ce\u4e0d\u597d\\n\\n\u6563\u5149\u7c7b\u578b\uff1a\\n\\n- \u6676\u72b6\u4f53\u6563\u5149 - \u7531\u6676\u72b6\u4f53\u5bfc\u81f4\u800c\u975e\u89d2\u819c\u5bfc\u81f4\\n- \u8fd1\u89c6\u6563\u5149\\n- \u8fdc\u89c6\u6563\u5149\\n- \u6df7\u5408\u6563\u5149 - \u65e2\u6709\u8fd1\u89c6\u53c8\u6709\u8fdc\u89c6\u7684\u60c5\u51b5\\n\\n\u6563\u5149\u4e5f\u5206\u4e3a\u6b63\u5e38\u548c\u975e\u6b63\u5e38\uff0c\u6b63\u5e38\u6307\u4e24\u4e2a\u66f2\u9762\u4e3a 90 \u5ea6\uff0c\u4e0d\u6b63\u5e38\u5219\u6307\u975e 90 \u5ea6\u3002\\n\u975e\u6b63\u5e38\u6563\u5149\u901a\u5e38\u7531\u4e8e\u773c\u90e8\u53d7\u4f24\u3001\u773c\u775b\u795e\u7ecf\u521b\u4f24\u3001\u624b\u672f\u6216\u773c\u775b\u7279\u6b8a\u6761\u4ef6\uff08\u5706\u9525\u89d2\u819c\uff09\u5bfc\u81f4\uff0c\u773c\u775b\u89d2\u819c\u53d8\u8584\u7684\u73b0\u8c61\u3002\\n\\n\u6563\u5149\u6cbb\u7597\uff1a\\n\\n- \u773c\u955c - \u5e38\u89c1\u5e38\u7528\u65b9\u5f0f\\n- \u9690\u5f62\u773c\u955c - \u53ef\u7528\u4e8e\u4f4e\u5ea6\u6563\u5149\\n- \u5c48\u5149\u624b\u672f - \u6fc0\u5149\u77eb\u6b63\u773c\u7403\u5f62\u72b6\\n\\n## \u773c\u775b\u624b\u672f\\n\\n:::warn\\n\\n\u5c48\u5149\u77eb\u6b63\u5e76\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u5982\u679c\u5ea6\u6570\u8fc7\u4e8e\u4e25\u91cd\uff0c\u4f69\u6234\u773c\u955c\u6216\u8005\u9690\u5f62\u773c\u955c\u5df2\u7ecf\u4e25\u91cd\u5f71\u54cd\u751f\u6d3b\u7684\u65f6\u5019\u53ef\u4ee5\u8003\u8651\u3002\\n\\n:::\\n\\n\u773c\u775b\u7684\u95ee\u9898\u901a\u5e38\u90fd\u662f\u56fa\u5b9a\u5b58\u5728\u7684\uff0c\u5c31\u597d\u6bd4\u4eba\u7684\u8eab\u9ad8\u3002\u4f46\u773c\u7403\u7684\u5f62\u72b6\u662f\u53ef\u4ee5\u5f3a\u5236\u6fc0\u5149\u624b\u672f\u77eb\u6b63\u7684\u3002\\n\u76ee\u524d\u5927\u591a\u4f7f\u7528\u51c6\u5206\u5b50\u6fc0\u5149\u6765\u77eb\u6b63\u89d2\u819c\u3002\u6210\u529f\u7684\u5c48\u5149\u77eb\u6b63\u624b\u672f\u53ef\u4ee5\u51cf\u8f7b\u6216\u6cbb\u6108\u8fd1\u89c6\u3001\u8fdc\u89c6\u3001\u8001\u5316\u548c\u6563\u5149\u3002\\n\\n\u624b\u672f\u7c7b\u578b\u5206\u4e3a\uff1a\\n\\n- \u89d2\u819c\u74e3\u5904\u7406 - \u4f7f\u7528\u6fc0\u5149\u5207\u9664\u90e8\u5206\u539a\u7684\u89d2\u819c\u74e3\\n  - LASIK / Laser-Assisted in Situ Keratomileusis / \u51c6\u5206\u5b50\u6fc0\u5149\u539f\u4f4d\u89d2\u819c\u78e8\u9576\u672f\\n- \u89d2\u819c\u8868\u9762\u5c42\u5904\u7406 - \u4e0d\u9700\u8981\u5207\u9664\uff0c\u533a\u522b\u4ec5\u5728\u4e8e\u4e0d\u4e0a\u76ae\u5904\u7406\u4e0d\u540c\\n  - PRK / Photorefractive keratectomy / \u6fc0\u5149\u5c48\u5149\u89d2\u819c\u5207\u524a\u672f\\n    - 2015 \u5e74\u540e\u5b8c\u5168\u7531 TransPRK \u53d6\u4ee3\\n    - \u6fc0\u5149\u7167\u5728\u89d2\u819c\u8868\u9762\u7ec4\u7ec7\u4f7f\u5176\u84b8\u6563\u6325\u53d1\u6389\uff0c\u4f24\u53e3\u5468\u56f4\u4e0d\u5e73\u6574\uff0c\u672f\u540e\u75bc\u75db\u611f\u8f83\u9ad8\uff0c\u4e14\u6062\u590d\u671f\u8f83\u6162\uff0c\u4f46\u4e0d\u987b\u5236\u4f5c\u89d2\u819c\u74e3\u53ef\u4ee5\u4fdd\u7559\u8f83\u591a\u7684\u89d2\u819c\u539a\u5ea6\u3002\\n    - 1980 \u5e74\uff0c\u4f20\u7edf\u7684\u624b\u672f\u65b9\u5f0f\\n  - LASEK / Laser Assisted Sub-Epithelium Keratomileusis\\n  - TransPRK / Transepithelial Photorefractive Keratectomy / \u7ecf\u4e0a\u76ae\u6fc0\u5149\u5c48\u5149\u89d2\u819c\u524a\u5207\u672f\\n    - **\u964d\u4f4e** LASIK \u624b\u672f\u540e\u53ef\u80fd\u7684 _\u89d2\u819c\u79fb\u4f4d_ \u3001 _\u6e38\u79bb\u89d2\u819c\u74e3_ \u3001_\u592a\u8584\u7684\u89d2\u819c\u74e3_ \u7b49\u98ce\u9669\\n    - \u51cf\u4f4e\u4f20\u7edf PRK \u75bc\u75db\u611f\\n    - \u4e0d\u9700\u63a5\u89e6\u89d2\u819c\uff0c\u907f\u514d\u4eba\u4e3a\u63a5\u89e6\u98ce\u9669\\n    - \u4e0d\u5fc5\u5236\u4f5c\u89d2\u819c\u74e3\u7684\u5c48\u5149\u77eb\u6b63\u624b\u672f\uff0c\u80fd\u63d0\u4f9b\u6700\u4f73\u89d2\u819c\u7a33\u5b9a\u6027\u53ca\u957f\u671f\u5b89\u5168\u6027\\n    - 2009 \u5e74\uff0c\u5bf9\u6bd4 PRK \u4e0d\u9700\u8981\u7528\u6eb6\u5242\u6ce1\u89d2\u819c\u4e0a\u76ae\uff0c\u5229\u7528\u51c6\u5206\u5b50\u6fc0\u5149\u4ee5\u5355\u4e00\u6b65\u9aa4\u524a\u5207\u89d2\u819c\u4e0a\u76ae\u548c\u8fdb\u884c\u5ea6\u672f\u77eb\u6b63\u3002\\n- \u89d2\u819c\u5207\u53e3\u5904\u7406\\n\\n**\u624b\u672f\u98ce\u9669**\\n\\n\u60a3\u6709\u89c6\u7f51\u819c\u3001\u89d2\u819c\u773c\u75be\u7684\u4eba\u4e0d\u5efa\u8bae\u624b\u672f\u3002\u60a3\u6709\u9752\u5149\u773c\u3001\u7cd6\u5c3f\u75c5\u3001\u4e0d\u53d7\u63a7\u5236\u7684\u8840\u7ba1\u75be\u75c5\u3001\u514d\u75ab\u75be\u75c5\u4e5f\u4e0d\u5efa\u8bae\u624b\u672f\u3002\\n\u624b\u672f\u4f1a\u5bfc\u81f4\u89d2\u819c\u53d8\u8584\uff0c\u672f\u540e\u4e5f\u53ef\u80fd\u4f1a\u6709\u89d2\u819c\u7834\u88c2\u7684\u98ce\u9669\uff0c\u6700\u7ec8\u53ea\u80fd\u9009\u62e9\u89d2\u819c\u79fb\u690d\uff0c\u56e0\u6b64\u89d2\u819c\u7684\u539a\u5ea6\u6d4b\u91cf\u662f\u975e\u5e38\u91cd\u8981\u7684\u6b65\u9aa4\u3002\\n\u90e8\u5206\u4eba\u53ef\u80fd\u7531\u4e8e\u773c\u775b\u5f62\u72b6\u7684\u95ee\u9898\u4e5f\u4e0d\u4fbf\u4e8e\u624b\u672f\u3002\\n\\n\u76ee\u524d\u5c48\u5149\u77eb\u6b63\u624b\u672f\u65e5\u8d8b\u5b8c\u5584\uff0c\u4f46\u4e0d\u53ef\u907f\u514d\u7684\u8fd8\u662f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u5916\u540e\u679c\uff0c\u4f8b\u5982 \u672f\u540e\u4ea7\u751f\u91cd\u5f71\u3001\u5149\u6655\u3001\u6591\u70b9\u3001\u53cc\u89c6\u3001\u773c\u775b\u5e72\u71e5\u7b49\u95ee\u9898\u3002\\n\u5982\u679c\u4f7f\u7528 LASIK \u7b49\u65b9\u5f0f\uff0c\u65b0\u589e\u7684\u89d2\u819c\u74e3\u53ef\u80fd\u4f1a\u5bfc\u81f4\u672f\u540e\u591a\u5e74\u75bc\u75db\u7684\u9002\u5e94\u8fc7\u7a0b\u3002\\n\u5982\u679c\u60a3\u6709\u659c\u89c6\uff0c\u5219\u8fd8\u9700\u8981\u8003\u8651\u672f\u540e\u5904\u7406\u659c\u89c6\u95ee\u9898\uff0c\u5c48\u5149\u77eb\u6b63\u5e94\u4f18\u5148\u4e8e\u659c\u89c6\u8fdb\u884c\uff0c\u4f46\u53ef\u80fd\u4f1a\u589e\u52a0\u6216\u51cf\u5c11\u659c\u89c6\u3002\\n\\n**\u513f\u7ae5\u624b\u672f\u98ce\u9669**\\n\\n\u513f\u7ae5\u98ce\u9669\u8fdc\u5927\u4e8e\u6210\u4eba\uff0c\u56e0\u4e3a\u513f\u7ae5\u624b\u672f\u9700\u8981\u8fdb\u884c\u9ebb\u9189\uff0c\u672c\u8eab\u4f1a\u5e26\u6765\u989d\u5916\u98ce\u9669\u3002\\n\u513f\u7ae5\u5904\u4e8e\u53d1\u80b2\u671f\uff0c\u773c\u775b\u60c5\u51b5\u5c1a\u672a\u5b8c\u5168\u5b9a\u578b\uff0c\u5982\u679c\u8fdb\u884c\u77eb\u6b63\u624b\u672f\u8fd8\u8981\u8003\u8651\u5b69\u5b50\u672a\u6765\u7684\u53d1\u5c55\u60c5\u51b5\u3002\\n\\n**\u624b\u672f\u8d39\u7528**\\n\\n\u76ee\u524d\u5927\u591a\u624b\u672f\u7684\u65b9\u5f0f\u57fa\u672c\u5728 10000\xa5 \u5230 40000\xa5 \u4e4b\u95f4\uff0c LASIK \u548c LASEK \u76f8\u5bf9\u4ef7\u683c\u4f4e\u5ec9\uff0c\u5927\u7ea6 15000\xa5 \u5de6\u53f3\u3002\\n\u624b\u672f\u4ef7\u683c\u533a\u5206\u5355\u773c\u548c\u53cc\u773c\uff0c\u5355\u773c\u53ef\u57fa\u672c\u6309\u7167\u534a\u4ef7\u8ba1\u7b97\u3002\\n\\n> \u624b\u672f\u8d39\u7528\u53c2\u8003\u81ea\u9999\u6e2f\u548c\u7f8e\u56fd\\n\\n## \u6700\u540e\\n\\n\u4f5c\u4e3a\u7236\u6bcd\uff0c\u90fd\u5e0c\u671b\u81ea\u5df1\u7684\u5b50\u5973\u5065\u5eb7\u5e73\u5b89\uff0c\u4f46\u5982\u679c\u771f\u7684\u773c\u775b\u6709\u95ee\u9898\u4e5f\u4e0d\u8981\u60ca\u614c\uff0c\u5e94\u5c3d\u5feb\u786e\u8bca\u786e\u5b9a\u5904\u7406\u65b9\u6848\uff0c\u5982\u679c\u7ed3\u8bba\u662f\u8981\u5e26\u773c\u955c\uff0c\u90a3\u5c31\u5e94\u8be5\u8d81\u65e9\u7ed9\u5b69\u5b50\u51c6\u5907\u597d\u773c\u955c\uff0c\u57f9\u517b\u4f69\u6234\u773c\u955c\u7684\u4e60\u60ef\u3002\\n\\n## \u53c2\u8003\\n\\n- [What Parents Should Know About Infants and Babies and Their Vision](http://carabineyecare.com/what-parents-should-know-about-infants-and-babies-and-their-vision)\\n  - \u5927\u591a\u5185\u5bb9\u7ffb\u8bd1\u81ea\u8be5\u6587\u7ae0\\n- [A MOTHER\u2019S STORY](https://www.bisselleyecare.com/mothers-story/)\\n- Wikipedia"},{"id":"why-need-graphql","metadata":{"permalink":"/story/why-need-graphql","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-01-16-why-need-graphql.md","source":"@site/story/2021/2021-01-16-why-need-graphql.md","title":"\u4e3a\u4ec0\u4e48\u9700\u8981 GraphQL","description":"\u9879\u76ee\u5f00\u59cb\u65f6\u4eba\u5458\u914d\u5907\u4e00\u822c\u6709\u51e0\u79cd\u60c5\u51b5","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u5f00\u53d1","permalink":"/story/tags/\u5f00\u53d1"},{"label":"\u67b6\u6784","permalink":"/story/tags/\u67b6\u6784"},{"label":"GraphQL","permalink":"/story/tags/graph-ql"}],"readingTime":4.72,"truncated":true,"authors":[],"prevItem":{"title":"\u7406\u89e3\u5b69\u5b50\u7684\u89c6\u529b","permalink":"/story/understand-baby-vision"},"nextItem":{"title":"AlpineLinux \u5b89\u88c5 Xfce \u684c\u9762","permalink":"/story/alpinelinux-setup-xfce"}},"content":"\u9879\u76ee\u5f00\u59cb\u65f6\u4eba\u5458\u914d\u5907\u4e00\u822c\u6709\u51e0\u79cd\u60c5\u51b5\\n\\n\x3c!-- more --\x3e\\n\\n- \u524d\u540e\u7aef\u540c\u4e00\u4e2a\u4eba\\n- \u524d\u540e\u7aef\u540c\u4e00\u4e2a\u56e2\u961f\\n- \u524d\u540e\u7aef\u4e0d\u540c\u4eba\u540c\u4e00\u4e2a\u56e2\u961f\\n- \u524d\u540e\u7aef\u4e0d\u540c\u4eba\u4e0d\u540c\u56e2\u961f\\n\\n\u5f00\u53d1\u7684\u5e94\u7528\u4e00\u822c\u533a\u5206\u4e3a\\n\\n- \u91cd\u524d\u7aef\\n- \u91cd\u540e\u7aef\\n- \u4e1a\u52a1\u6027\\n- \u6570\u636e\u6027\\n- \u5185\u5bb9\u6027\\n\\n\u56e0\u6b64\u4f1a\u9047\u5230\u51e0\u4e2a\u73b0\u8c61\\n\\n- \u524d\u540e\u7aef\u5f00\u53d1\u8fdb\u5ea6\u4e0d\u540c\\n- \u524d\u540e\u7aef\u76f8\u540c\u6a21\u5757\u529f\u80fd\u590d\u6742\u5ea6\u4e0d\u540c\\n- \u4e0d\u540c\u7684\u540e\u7aef\u5bf9\u8c61\u6709\u76f8\u540c\u7684\u6570\u636e\u5173\u8054\\n- \u76f8\u540c\u524d\u7aef\u4e0d\u540c\u6a21\u5757\u9700\u8981\u4e0d\u540c\u6570\u636e\\n- \u4e0d\u540c\u524d\u7aef\u9700\u8981\u4f7f\u7528\u4e0d\u540c\u6570\u636e\\n- \u524d\u7aef\u8bf7\u6c42\u4e00\u6b21\u6570\u636e\u540e\u4f1a\u518d\u6b21\u53d1\u8d77 N \u6b21\u8bf7\u6c42 - N+1\\n- \u524d\u7aef\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u5bf9\u5e94\u591a\u4e2a\u540e\u7aef\\n\\n\u90a3\u4e48\u5c31\u4f1a\u8003\u8651\u51e0\u4e2a\u573a\u666f\\n\\n- \u524d\u7aef\u81ea\u884c\u9009\u62e9\u8981\u54ea\u4e9b\u6570\u636e\u5b57\u6bb5\\n- \u524d\u7aef\u63d0\u4f9b\u5173\u8054\u7684\u6570\u636e\u9879\u8fdb\u884c\u4e00\u6b21\u6027\u8fd4\u56de\\n- \u540e\u7aef\u6574\u5408\u5176\u4ed6\u670d\u52a1\u8fd4\u56de\u7ed3\u679c\u8fdb\u884c\u4e00\u6b21\u6027\u8fd4\u56de\\n\\n\u90a3\u4e48\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 GraphQL\u3002\\n\\n## GraphQL \u4e0d\u9002\u5408\u573a\u666f\\n\\n- \u5feb\u901f\u8fdb\u5165\u5f00\u53d1 - \u5982\u679c\u9879\u76ee\u521a\u5f00\u59cb\u60f3\u8981\u901f\u5ea6\u5feb\uff0c\u90a3\u6700\u597d\u8fd8\u662f REST\\n  - \u6ca1\u6709\u65f6\u95f4\u6295\u5165\u4e86\u89e3 GraphQL \u65b9\u6848\\n- \u4e00\u4e2a\u524d\u7aef\u4e00\u4e2a\u540e\u7aef\uff0c\u524d\u7aef\u903b\u8f91\u786e\u5b9a\uff0c\u540e\u7aef\u4e0d\u9700\u8981\u53d8\u52a8\u5219\u6ca1\u5fc5\u8981\u4f7f\u7528 GraphQL\\n  - \u4e00\u6b21\u6027\u5de5\u4f5c\uff0c\u9879\u76ee\u4e0d\u9700\u8981\u6f14\u8fdb\\n\\n## \u5e94\u7528\u573a\u666f\u4e3e\u4f8b\\n\\n### \u9009\u62e9\u6027\u7684\u8fd4\u56de\u8f83\u91cd\u7684\u8bf7\u6c42\\n\\n```sql\\ncreate table users (\\n  id bigint,\\n  name text\\n);\\ncreate table orders (\\n  id bigint,\\n  user_id bigint,\\n  title text\\n);\\n```\\n\\n\u73b0\u5728 \u4e2a\u4eba\u9875 \u9700\u8981\u5728\u8bf7\u6c42\u7528\u6237\u65f6\u540c\u65f6\u8fd4\u56de\u7528\u6237\u7684\u8ba2\u5355\u603b\u6570\uff0c\u4f46\u5176\u4ed6\u573a\u666f\u4e0d\u9700\u8981\u3002\\n\\n```graphql\\nobject User {\\n  id: Int\\n  name: String\\n  orderCount: Int # -> select count(*) from orders where user_id = source.id\\n}\\n```\\n\\n\u901a\u8fc7 GraphQL \u53ef\u4ee5\u5c06\u9009\u62e9\u7559\u7ed9\u524d\u7aef\uff0c\u4e0d\u9700\u8981\u7531\u540e\u7aef\u53bb\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u8981\u8fd4\u56de\u4e00\u4e2a\u76f8\u5bf9\u201c\u6602\u8d35\u201d\u7684\u8bf7\u6c42\u3002\\n\\n### \u590d\u6742\u5173\u8054\u5173\u7cfb\\n\\n```sql\\ncreate table users (\\n  id bigint,\\n  name text\\n);\\ncreate table articles (\\n  id bigint,\\n  title text\\n);\\ncreate table lables (\\n  id bigint,\\n  color_id bigint,\\n  name text\\n  target_id bigint,\\n  target_type bigint -- User, Label\\n);\\ncreate table lable_colors (\\n  id bigint,\\n  color text\\n)\\n```\\n\\n\u56e0\u4e3a \u7528\u6237 \u548c \u6587\u7ae0 \u90fd\u652f\u6301\u6253\u6807\u7b7e\uff0c\u56e0\u6b64\u5728\u5b9e\u73b0\u65f6\u76f8\u540c\u7684\u903b\u8f91\u9700\u8981\u591a\u6b21\u5b9e\u73b0\u3002\\n\u4f7f\u7528 GraphQL \u7b80\u5316\u5173\u8054\u5bf9\u8c61\u67e5\u8be2\u3002\\n\\n```graphql\\nobject User {\\n  id: Int\\n  name: String\\n  lables: Label[] # -> select * from lables where target_id = source.id and target_type = \'User\'\\n}\\nobject Article {\\n  id: Int\\n  title: String\\n  lables: Label[] # -> select * from lables where target_id = source.id and target_type = \'Article\'\\n}\\nobject Lable {\\n  name: String\\n  color: LableColor\\n}\\nobject LableColor {\\n  color: String\\n}\\n```\\n\\n\u5728\u67e5\u8be2\u65f6\u5373\u53ef\u4e00\u6b21\u6027\u67e5\u8be2\uff0c\u800c\u4e14\u589e\u52a0\u989d\u5916\u7684\u5173\u8054\u4e5f\u76f8\u5bf9\u7b80\u5355\u3002\\n\\n```graphql\\nuser:User{\\n  name\\n  lables: {\\n    name\\n    color: {\\n      color\\n    }\\n  }\\n}\\narticle:Article {\\n  title\\n  labels: {\\n    name\\n  }\\n}\\n```\\n\\n### \u7f51\u5173\u6574\u5408\u670d\u52a1\\n\\n- \u5047\u8bbe\u6709\u4e00\u4e2a \u5916\u90e8\u7684 \u90ae\u4ef6\u670d\u52a1\uff0c\u73b0\u5728\u9700\u8981\u5728\u83b7\u53d6\u7528\u6237\u65f6\u540c\u65f6\u8fd4\u56de\u90ae\u4ef6\u6570\u91cf\\n- \u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u7f51\u5173\u5c06\u8be5\u670d\u52a1\u6574\u5408\u5230\u73b0\u6709\u7684 GraphQL \u670d\u52a1\u4e2d\\n\\n```graphql\\nobject User {\\n  id: Int\\n  name: String # \u8be5\u5b57\u6bb5\u7531\u5b9e\u9645\u540e\u7aef\u5904\u7406\\n  emailCount: Int # \u8be5\u5b57\u6bb5\u7531\u7f51\u5173\u5c42\u8fdb\u884c\u5904\u7406\\n}\\n```\\n\\n## \u603b\u7ed3\\n\\n\u9700\u8981 GraphQL \u7684\u7406\u7531\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5f53\u540e\u7aef\u7684\u67e5\u8be2\u4ee3\u7801\u5199\u7684 \u201c\u5f88\u70e6\u201d \u7684\u65f6\u5019\uff0c\u9700\u8981\u4ece\u4e2d\u89e3\u8131\u51fa\u6765\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 GraphQL\uff0c\u7ed9\u524d\u7aef\u66f4\u5927\u7684\u9009\u62e9\u548c\u63a7\u5236\u6743\u3002\\n\\n:::tip \u4f7f\u7528\u6ce8\u610f\u4e8b\u9879\\n\\n- GraphQL \u672c\u8eab\u5c31\u5305\u542b\u4e86\u6587\u6863\\n  - \u4e0d\u50cf REST \u8fd8\u8981\u7ef4\u62a4 Swagger/OpenAPI\\n- \u524d\u540e\u7aef\u5c3d\u91cf\u9009\u62e9\u652f\u6301\u751f\u6210 GraphQL \u7684 \u65b9\u5f0f/\u6846\u67b6/\u5de5\u5177\\n- \u751f\u6210\u533a\u5206\u4e3a \u5148 Schema \u6216 \u5148 Entity - \u770b\u60c5\u51b5\u6309\u9700\\n- \u524d\u7aef\u4f7f\u7528 TypeScript \u80fd\u591f\u5229\u7528 GraphQL Schema \u7c7b\u578b\u4fe1\u606f\\n- \u6700\u597d\u662f\u989d\u5916\u63d0\u4f9b Entity Schema/Metadata/JSONSchema \u7ed9\u524d\u7aef\\n  - \u91cd\u6570\u636e\u573a\u666f\u524d\u7aef\u7ec4\u4ef6\u53ef\u76f4\u63a5\u751f\u6210\\n  - \u524d\u7aef\u53ef\u6309\u7167 Schema \u751f\u6210\u67e5\u8be2\\n\\n:::"},{"id":"alpinelinux-setup-xfce","metadata":{"permalink":"/story/alpinelinux-setup-xfce","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-02-26-alpinelinux-setup-xfce.md","source":"@site/story/2021/2021-02-26-alpinelinux-setup-xfce.md","title":"AlpineLinux \u5b89\u88c5 Xfce \u684c\u9762","description":"\u5047\u8bbe\u5df2\u7ecf\u6709\u4e00\u4e2a\u57fa\u7840\u53ef\u7528\u7684 AlpineLinux, \u5982\u679c\u6ca1\u6709\u53ef\u524d\u5f80 wenerme/alpine-image \u4e0b\u8f7d\u6216\u81ea\u884c\u5236\u4f5c","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"label":"\u684c\u9762","permalink":"/story/tags/\u684c\u9762"},{"label":"Xfce","permalink":"/story/tags/xfce"}],"readingTime":4.955,"truncated":true,"authors":[],"prevItem":{"title":"\u4e3a\u4ec0\u4e48\u9700\u8981 GraphQL","permalink":"/story/why-need-graphql"},"nextItem":{"title":"\u8bb0\u5f55\u4e00\u6b21\u4fee\u590d init \u811a\u672c\u7684\u7ecf\u5386","permalink":"/story/fix-init-script"}},"content":"> \u5047\u8bbe\u5df2\u7ecf\u6709\u4e00\u4e2a\u57fa\u7840\u53ef\u7528\u7684 AlpineLinux, \u5982\u679c\u6ca1\u6709\u53ef\u524d\u5f80 [wenerme/alpine-image](https://github.com/wenerme/alpine-image) \u4e0b\u8f7d\u6216\u81ea\u884c\u5236\u4f5c\\n\\n\x3c!-- more --\x3e\\n\\n## setup xorg\\n\\n\u5b89\u88c5 X server \u548c\u57fa\u7840\u786c\u4ef6\u9a71\u52a8\\n\\n```bash\\n# xfce + xorg\\nsetup-xorg-base xfce4 xfce4-terminal dbus-x11 sudo\\n\\n# xorg \u8f93\u5165\u8bbe\u5907\\napk add xf86-input-mouse xf86-input-keyboard kbd\\n\\n# Intel \u82af\u7247\u96c6\u6210\u663e\u5361\\napk add xf86-video-intel\\n# AMD \u663e\u5361\\napk add xf86-video-amdgpu\\n# QEMU\\n# apk add xf86-video-qxl\\n# \u5982\u679c\u4ee5\u4e0a\u90fd\u4e0d\u652f\u6301\u5219\u8003\u8651\u4f7f\u7528 framebuffer\\n# apk add xf86-video-fbdev\\n```\\n\\n\u6b64\u65f6\u5df2\u7ecf\u53ef\u4ee5\u8fdb\u5165 xfce \u684c\u9762, \u6ca1\u6709\u767b\u9646\u754c\u9762, \u8fdb\u5165\u754c\u9762\u540e\u53ef\u53f3\u4e0a\u89d2\u9000\u51fa\u767b\u9646\u6216\u8005 `Ctrl+Alt+F1` \u6765\u5207\u6362\u56de\u547d\u4ee4\u884c\u4f1a\u8bdd\u3002\\n\\n```bash\\n# \u901a\u8fc7 xorg \u63d0\u4f9b\u7684 startx \u542f\u52a8\\nstartx\\n# \u6216\u8005\u6307\u5b9a\u542f\u52a8 xfce4\\nstartxfce4\\n```\\n\\n## setup lightdm\\n\\n\u5b89\u88c5 lightdm \u540e\u53ef\u4ee5\u53ef\u4ee5\u901a\u8fc7\u8d26\u53f7\u5bc6\u7801\u767b\u9646, \u4e5f\u53ef\u4ee5\u8fdc\u7a0b VNC \u8fdb\u5165 xfce \u4f1a\u8bdd\u3002\\n\\n```bash\\napk add lightdm-gtk-greeter\\n\\n# \u5982\u679c\u6ca1\u542f\u52a8\u5219\u9700\u8981\u63d0\u524d\u5f00\u542f\\nrc-service dbus start\\nrc-update add dbus\\n\\n# \u6dfb\u52a0\u975e root \u7528\u6237 admin \u5bc6\u7801 admin - \u4e0d\u5c11\u5e94\u7528\u9700\u8981\u975e root \u7528\u6237\\nadduser -d admin\\necho admin:admin | chpasswd\\necho \'admin ALL=(ALL) NOPASSWD: ALL\' >> /etc/sudoers\\n\\n# \u5f00\u673a\u8fdb\u5165\u767b\u9646\u754c\u9762\\nrc-update add lightdm\\n# \u7acb\u5373\u542f\u52a8 lightdm \u8fdb\u884c\u767b\u9646\\nrc-service lightdm start\\n```\\n\\n## setup xfce\\n\\n\u5b89\u88c5\u5e38\u7528\u7684\u5305\\n\\n```bash\\n# \u9ed8\u8ba4\u65e0\u6cd5\u663e\u793a\u4e2d\u6587\u5b57\u7b26\\napk add noto-font-cjk\\n\\n# \u5141\u8bb8\u975e root \u901a\u8fc7 fuse \u8bbf\u95ee\u8bbe\u5907\\napk add gvfs-fuse gvfs-smb\\nrc-service fuse start\\nrc-update add fuse\\n\\n# \u81ea\u52a8\u6302\u8f7d \u5916\u90e8\u8bbe\u5907\\napk add thunar-volman udisks2\\n# \u90e8\u5206\u8bbe\u5907\u9700\u8981\u989d\u5916\u7684\u5305\\n# gvfs-mtp - MTP - \u5a92\u4f53\u64ad\u653e\u5668\u548c\u79fb\u52a8\u8bbe\u5907\\n# gvfs-gphoto2 - PTP - \u76f8\u673a\u548c\u79fb\u52a8\u8bbe\u5907\\n# gvfs-afc - \u82f9\u679c\u79fb\u52a8\u8bbe\u5907\\n\\n# \u6587\u4ef6\u7ba1\u7406\u5668\u652f\u6301\u538b\u7f29\u548c\u89e3\u538b\\napk add thunar-archive-plugin\\napk add file-roller # thunar-archive-plugin \u652f\u6301\u7684\u7ba1\u7406\u5668\\n```\\n\\n\u5b89\u88c5\u4e86\u76f8\u5173\u63d2\u4ef6\u540e\u6700\u597d\u9000\u51fa\u4f1a\u8bdd\u91cd\u65b0\u767b\u9646\u786e\u4fdd\u751f\u6548\u3002\\n\\n## \u5e94\u7528\\n\\n```bash\\n# \u5c4f\u4fdd, \u4efb\u52a1\u7ba1\u7406\u5668\\napk add xfce4-screensaver xfce4-taskmanager\\n\\n# \u8c37\u6b4c\u6d4f\u89c8\u5668 - \u4e5f\u53ef\u4ee5\u901a\u8fc7 flatpak \u5b89\u88c5\\napk add chromium\\n# \u706b\u72d0\u6d4f\u89c8\u5668\\n# apk add firefox-esr\\n```\\n\\n### flatpak\\n\\nLinux \u56e0\u4e3a\u53d1\u5e03\u7248\u592a\u5927\u4e86\uff0c\u5e94\u7528\u5206\u53d1\u6bd4\u8f83\u6df7\u4e71\uff0c\u4e14\u4e0d\u5c11\u5e94\u7528\u5e76\u4e0d\u76f4\u63a5\u652f\u6301 musl\uff0c\u4f7f\u7528 flatpak \u6253\u5305\u7684\u5e94\u7528\u53ef\u907f\u514d\u8fd9\u4e9b\u95ee\u9898\u3002\\n\\n```bash\\napk add flatpak\\nflatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo\\n\\n# \u5b89\u88c5\\nflatpak install flathub com.visualstudio.code\\n# \u542f\u52a8\\nflatpak run com.visualstudio.code\\n```\\n\\n**\u5e38\u7528\u5e94\u7528**\\n\\n| id                             | name        | \u7528\u9014     |\\n| ------------------------------ | ----------- | -------- |\\n| com.visualstudio.code          | VSC         | \u7f16\u8f91\u5668   |\\n| om.vscodium.codium             | Codium      | \u7f16\u8f91\u5668   |\\n| org.chromium.Chromium          | Chromium    | \u6d4f\u89c8\u5668   |\\n| org.mozilla.firefox            | Firefox     | \u6d4f\u89c8\u5668   |\\n| org.telegram.desktop           | Telegram    | \u5373\u65f6\u804a\u5929 |\\n| com.valvesoftware.Steam        | Steam       | \u6e38\u620f     |\\n| org.mozilla.Thunderbird        | Thunderbird | \u90ae\u4ef6     |\\n| org.filezillaproject.Filezilla | Filezilla   | \u6587\u4ef6     |\\n\\n### AppImage\\n\\n\u4e0d\u901a\u8fc7 flatpak \u9700\u8981\u5b89\u88c5\uff0cAppImage \u662f\u5c01\u88c5\u597d\u7684\u4e00\u4f53\u5316\u5e94\u7528\uff0c\u7c7b\u4f3c\u5bb9\u5668\uff0c\u7c7b\u4f3c macOS \u5e94\u7528\u3002\\n\u4f46\u76ee\u524d\u7531\u4e8e glibc \u517c\u5bb9\u95ee\u9898 Alpine \u65e0\u6cd5\u8fd0\u884c AppImage \u53c2\u89c1 [AppImage/AppImageKit#1015](https://github.com/AppImage/AppImageKit/issues/1015)\u3002\\n\\n**\u5df2\u77e5\u63d0\u4f9b AppImage \u7684\u5e94\u7528**\\n\\n- Jetbrain Toolbox\\n- Lens - Kubernetes IDE\\n\\n## \u5176\u4ed6\u670d\u52a1\\n\\n- xrdp - RDP \u670d\u52a1\u7aef - \u652f\u6301 Windows \u76f4\u63a5\u8fdc\u7a0b\u767b\u9646\\n- gvncviewer - VNC \u5ba2\u6237\u7aef\\n\\n# FAQ\\n\\n## xfce \u652f\u6301\u9ad8\u5206\u8fa8\u7387\\n\\n```bash\\n# \u4e24\u500d\u7f29\u653e\\n# Settings Manager > Appearance > Settings > Window Scaling\\nxfconf-query -c xsettings -p /Gdk/WindowScalingFactor -s 2\\n# \u8c03\u6574\u4e3b\u9898\u4e3a \u9ed8\u8ba4 xhdpi\\n# Settings Manager > Window Manager > Style\\nxfconf-query -c xfwm4 -p /general/theme -s Default-xhdpi\\n```\\n\\n## \u67e5\u770b\u5f53\u524d\u663e\u5361\u548c\u58f0\u5361\u4fe1\u606f\\n\\n```bash\\napk add inxi\\ninxi -AG\\n```\\n\\n## kernel: i915 0000:00:02.0: [drm] _ERROR_ CPU pipe A FIFO underrun\\n\\n\u5982\u679c\u8be5\u9519\u8bef\u5bfc\u81f4\u95ea\u70c1\u53ef\u6dfb\u52a0\u542f\u52a8\u53c2\u6570\u907f\u514d `i915.enable_psr=0`\\n\\n> [Intel graphics#Screen flickering](https://wiki.archlinux.org/index.php/Intel_graphics#Screen_flickering)\\n>\\n> \u53ef\u80fd\u7531\u4e8e Intel \u96c6\u6210\u663e\u5361\u7684\u8282\u80fd\u529f\u80fd\u5bfc\u81f4\\n\\n## VNC \u8fdc\u7a0b\u684c\u9762\\n\\n```bash\\napk add x11vnc\\n\\n# \u542f\u52a8\u670d\u52a1\u7aef\u8bbf\u95ee\u5df2\u6253\u5f00\u4f1a\u8bdd\\nx11vnc -display :0 -auth /var/run/lightdm/root/\\\\:0\\n# \u7136\u540e\u8bbf\u95ee vnc://<IP>:5900 \u5373\u53ef\\n\\n# \u4e0d\u9000\u51fa\\nx11vnc -display :0 -auth /var/run/lightdm/root/\\\\:0 --loop\\n\\n# \u8bbf\u95ee\u65f6\u521b\u5efa\u65b0\u7684\u4f1a\u8bdd\\n# \u786e\u4fdd init \u80fd\u542f\u52a8\\necho \\"exec startxfce4\\" >> ~/.xinitrc\\napk add xvfb\\nx11vnc -ncache_cr -display :1 -auth /var/run/lightdm/root/\\\\:1 --create\\n\\n# \u4e0d\u8b66\u544a\u6ca1\u6709\u8bbe\u7f6e\u5bc6\u7801\\necho nopw >> ~/.x11vncrc\\n\\n# \u53ef\u8bbe\u7f6e\u4e3a\u5f00\u673a\u542f\u52a8\\n# x11vnc -create -xkb -noxrecord -noxfixes -noxdamage -display :0 -auth /var/run/lightdm/root/:0 -rfbauth /etc/x11vnc.pass -rfbport 5900\\n\\n# \u767b\u9646\u4e4b\u524d\u5f00\u542f VNC\\n# x11vnc -auth guess -display :0\\n```\\n\\n> \u5982\u679c\u670d\u52a1\u5e38\u5f00\uff0c\u5efa\u8bae\u8bbe\u7f6e\u5bc6\u7801\\n\\n# \u53c2\u8003\\n\\n- AlpineLinux [Xfce Setup](https://wiki.alpinelinux.org/wiki/Xfce_Setup)\\n- [HiDPI#Xfce](https://wiki.archlinux.org/index.php/HiDPI#Xfce)\\n- flatpak [\u5e94\u7528\u5217\u8868](https://flathub.org/apps)\\n- archlinux [x11vnc](https://wiki.archlinux.org/index.php/x11vnc)"},{"id":"fix-init-script","metadata":{"permalink":"/story/fix-init-script","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-02-27-fix-init-script.md","source":"@site/story/2021/2021-02-27-fix-init-script.md","title":"\u8bb0\u5f55\u4e00\u6b21\u4fee\u590d init \u811a\u672c\u7684\u7ecf\u5386","description":"\u95ee\u9898\u4ea7\u751f\u8fc7\u7a0b","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"label":"\u8fd0\u7ef4","permalink":"/story/tags/\u8fd0\u7ef4"}],"readingTime":3.15,"truncated":true,"authors":[],"prevItem":{"title":"AlpineLinux \u5b89\u88c5 Xfce \u684c\u9762","permalink":"/story/alpinelinux-setup-xfce"},"nextItem":{"title":"OpenVox VoxStack \u7f51\u5173\u5206\u6790","permalink":"/story/openvox-gw-inside"}},"content":"## \u95ee\u9898\u4ea7\u751f\u8fc7\u7a0b\\n\\n\u7531\u4e8e\u5b9a\u5236\u5316\u8fc7 `/usr/share/mkinitfs/initramfs-init` \u811a\u672c\uff0c\u5728\u5347\u7ea7\u5927\u7248\u672c\u540e\uff0c\u8be5\u6587\u4ef6\u88ab\u8986\u76d6\uff0c\u5bfc\u81f4\u751f\u6210\u7684 initramfs \u65e0\u6cd5\u542f\u52a8\u7cfb\u7edf\u3002\\n\\n\u6b63\u5e38\u60c5\u51b5\u5347\u7ea7 `/etc` \u4e0b\u4f1a\u4ea7\u751f `.apk-new` \u540e\u7f00\u6587\u4ef6\u907f\u514d\u5347\u7ea7\u8986\u76d6\uff0c\u4f46\u7531\u4e8e\u662f `/usr/share` \u4e0b\u6587\u4ef6\uff0c\u56e0\u6b64\u5bfc\u81f4\u8986\u76d6\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u96be\u70b9\\n\\n- \u7cfb\u7edf\u4f7f\u7528\u9759\u6001 IP\\n  - \u9700\u8981\u63d0\u4f9b\u76f8\u540c IP \u6bb5\u5730\u5740\u624d\u80fd\u8fdb\u884c SSH\\n  - \u5047\u8bbe IP \u4e3a 192.168.66.99/22\\n- \u7cfb\u7edf\u5728\u786c\u76d8\u4e0a - M2\\n  - \u65e0\u6cd5\u76f4\u63a5\u5728\u5176\u4ed6\u7cfb\u7edf\u4e0a\u8fdb\u884c\u4fee\u590d\\n  - \u901a\u8fc7\u63d0\u4f9b U \u76d8 \u7cfb\u7edf\u5728\u539f\u5730\u6062\u590d\\n- root \u76d8\u6709 luks \u52a0\u5bc6\\n  - \u4f9d\u8d56\u786c\u4ef6\u73af\u5883\\n  - QEMU \u542f\u52a8\u65e0\u6cd5\u6a21\u62df\u76f8\u540c\u73af\u5883\\n  - \u9700\u8981\u624b\u52a8\u8f93\u5165\u5bc6\u94a5\u8fdb\u884c\u6302\u8f7d\\n- root \u5bc6\u7801\u4e3a UUID\\n  - \u6781\u5176\u96be\u8f93\u5165\\n  - \u4e14\u9700\u8981\u8f93\u5165\u591a\u6b21\uff0c\u56e0\u6b64\u9009\u62e9\u7f51\u7edc\u6253\u901a\u901a\u8fc7 SSH \u767b\u9646\\n\\n## \u64cd\u4f5c\u8fc7\u7a0b\\n\\n\x3c!-- more --\x3e\\n\\n### \u51c6\u5907\u865a\u62df\u673a\u548c\u73af\u5883\\n\\n```bash\\n# QEMU \u865a\u62df\u673a\\napk add qemu-system-x86_64\\n\\n# \u6865\u63a5\u6a21\u62df\u7f51\u7edc\u73af\u5883 - \u4f7f\u7528\u76f8\u540c IP \u6bb5\u8bbf\u95ee\\nip li add vmbr0 type bridge\\nip li set vmbr0 up\\n# \u6865\u63a5\u4ee5\u4fbf\u4e8e\u8bbf\u95ee 192.168.66.99/22\\nip addr add 192.168.66.1/22 dev vmbr0\\n\\n# \u5141\u8bb8 qemu \u6865\u63a5\u7f51\u5361\\necho \'allow vmbr0\' >> /etc/qemu/bridge.conf\\n```\\n\\n### \u542f\u52a8\u7cfb\u7edf\\n\\n```bash\\n# \u63d0\u4f9b vnc \u65b9\u4fbf\u67e5\u770b\\n# -curses \u65b9\u4fbf\u8f93\u5165 luks \u5bc6\u94a5\\n# \u6865\u63a5 vmbr0\\nqemu-system-x86_64 -accel kvm -m 2G \\\\\\n  -vnc 0.0.0.0:1 /dev/sda \\\\\\n  -netdev bridge,br=vmbr0,id=n1 -device virtio-net,netdev=n1 \\\\\\n  -curses\\n```\\n\\n\u542f\u52a8\u540e\u65e0\u6cd5\u8fdb\u5165\u7cfb\u7edf\uff0c/sysroot \u6302\u8f7d\u5931\u8d25\uff0c\u51fa\u73b0\u4fee\u590d shell\\n\\n```\\nmount: mounting /dev/sda2 on /sysroot failed: Invalid argument\\nMounting root failed.\\ninitramfs emergency recovery shell launched. Type \'exit\' to continue boot\\nsh: can\'t access tty; job control turned off\\n/ #\\n```\\n\\n\u6b64\u65f6\u624b\u52a8\u6302\u8f7d /sysroot\\n\\n```bash\\ncryptsetup open /dev/sda2 cryptroot\\n# \u7c98\u8d34\u5bc6\u94a5\\n\\n# \u6302\u8f7d sysroot\\nmount /dev/mapper/cryptroot /sysroot\\n\\n# \u9000\u51fa shell \u6b63\u5e38\u8fdb\u5165\u7cfb\u7edf\\nexit\\n```\\n\\n### \u4fee\u590d init \u811a\u672c\\n\\n```bash\\n# \u5c06\u51c6\u5907\u597d\u7684 init \u811a\u672c\u76f4\u63a5\u8986\u76d6\\nrsync --rsync-path=\'sudo rsync\' --no-owner initramfs-init admin@192.168.66.99:/usr/share/mkinitfs/initramfs-init\\n\\n# \u8fdb\u5165\u865a\u62df\u673a\\nssh admin@192.168.66.99\\n\\n# \u4ece\u65b0\u751f\u6210 initramfs\\nmkinitfs\\n\\n# \u4e3a\u5b89\u5168\u8d77\u89c1\uff0c\u9a8c\u8bc1\u811a\u672c\u6b63\u786e\\nmkdir -p /tmp/init\\ncd /tmp/init\\n# \u89e3\u538b\u5230\u5f53\u524d\u76ee\u5f55\\nzcat < /boot/initramfs-lts | cpio -idmv\\n# \u786e\u4fdd\u662f\u6b63\u786e\u7684\u811a\u672c\\ncat init\\n```\\n\\n### \u907f\u514d\u518d\u6b21\u51fa\u73b0\u95ee\u9898\\n\\n/etc \u4e0b\u914d\u7f6e\u4e0d\u4f1a\u88ab\u8986\u76d6\uff0clbu \u8fd8\u80fd\u5907\u4efd\uff0c\u56e0\u6b64\u5c06 init \u811a\u672c\u653e\u5230 etc\uff0c\u4fee\u6539 mkinitfs \u914d\u7f6e\u6307\u5411\u671f\u671b\u7684\u811a\u672c\u3002\\n\\n[mkinitfs](https://github.com/alpinelinux/mkinitfs/blob/master/mkinitfs.in) \u7684\u914d\u7f6e\u6587\u4ef6\u4f4d\u4e8e `/etc/mkinitfs/mkinitfs.conf`, \u9ed8\u8ba4\u914d\u7f6e features, \u8be5\u6587\u4ef6\u4f1a\u88ab\u811a\u672c\u76f4\u63a5 source ([mkinitfs.in#L237](https://github.com/alpinelinux/mkinitfs/blob/a4d6120aa949cdb6d18eb8241c4706f96685a359/mkinitfs.in#L237)), \u4ece\u811a\u672c\u53ef\u770b\u51fa\u914d\u7f6e\u53d8\u91cf\u4e3a init.\\n\\n```bash\\ncp /usr/share/mkinitfs/initramfs-init /etc/mkinitfs/initramfs-init\\necho \\"init=/etc/mkinitfs/initramfs-init\\" >> /etc/mkinitfs/mkinitfs.conf\\n```\\n\\n## \u603b\u7ed3\\n\\n\u4e0d\u8981\u4fee\u6539 `/usr/share` \u4e0b\u7684\u9ed8\u8ba4\u914d\u7f6e\uff0c\u5c06\u914d\u7f6e\u653e\u5230 `/etc` \u4e0b\uff0c\u5b89\u5168\u53ef\u9760\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 lbu \u5907\u4efd\u3002"},{"id":"openvox-gw-inside","metadata":{"permalink":"/story/openvox-gw-inside","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-03-25-openvox-gw-inside.md","source":"@site/story/2021/2021-03-25-openvox-gw-inside.md","title":"OpenVox VoxStack \u7f51\u5173\u5206\u6790","description":"\u56e0\u4e3a\u6dd8\u5230\u4e00\u4e2a\u4e8c\u624b OpenVox \u8bed\u97f3\u7f51\u5173\uff0c\u5c31\u597d\u5947\\"\u91cc\u9762\\"\u957f\u4ec0\u4e48\u6837\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"\u5d4c\u5165\u5f0f","permalink":"/story/tags/\u5d4c\u5165\u5f0f"},{"label":"\u7cfb\u7edf","permalink":"/story/tags/\u7cfb\u7edf"},{"label":"VoIP","permalink":"/story/tags/vo-ip"}],"readingTime":13.445,"truncated":true,"authors":[],"prevItem":{"title":"\u8bb0\u5f55\u4e00\u6b21\u4fee\u590d init \u811a\u672c\u7684\u7ecf\u5386","permalink":"/story/fix-init-script"},"nextItem":{"title":"\u5982\u4f55\u9009\u62e9 Asterisk \u63a5\u53e3","permalink":"/story/agi-vs-ami-vs-ari"}},"content":"\u56e0\u4e3a\u6dd8\u5230\u4e00\u4e2a\u4e8c\u624b OpenVox \u8bed\u97f3\u7f51\u5173\uff0c\u5c31\u597d\u5947\\"\u91cc\u9762\\"\u957f\u4ec0\u4e48\u6837\u3002\\n\\nLet\'s find out.\\n\\n\x3c!-- more --\x3e\\n\\n## VS-AGU-E2M0800\\n\\n- VS - VoxStack \u7cfb\u5217 - \u6a21\u5757\u5316\uff0c\u70ed\u63d2\u62d4\\n- AGU - Analog Gateway - \u6a21\u62df\u7f51\u5173\\n- \u8f6f\u4ef6 1.1.10\\n- \u786c\u4ef6 1.0.0\\n\\n\u4e00\u5f20\u5361\u4e24\u4e2a\u6a21\u5757\\n\\n- E2M8HJ9DJ68P - VS \u6a21\u5757\\n  - M83241G13 - Freescale Semiconductor - NXP\\n    - Telecom Interface ICs C1K-LS102M 450MHz\\n    - IC C1K 450MHZ VOIP 448BGA\\n- FXS-420 v1.2 - FS42HJ1KK4UY5\\n  - S13215-FM\\n- FXO-400 v1.4 - FXODHJO2XT6L\\n  - 3019-FT 1718FF L0L4\\n  - Si3050-FT 1708EM F1Q5\\n\\n## Web \u7ba1\u7406\u754c\u9762\\n\\n\u754c\u9762\u7c7b\u4f3c\u4e8e\u5b98\u65b9\u6f14\u793a http://admin:admin@demo.openvox.cn:65327\\n\\n\u901a\u8fc7\u5f00\u542f ssh, \u8d26\u53f7\u540d\u8bbe\u7f6e\u4e3a super \u53ef\u83b7\u53d6\u5230 root \u6743\u9650\uff0c\u9ed8\u8ba4 SSH \u7aef\u53e3 12345\u3002\\n\\n## \u786c\u4ef6\\n\\n> \u672a\u5f00\u7bb1\uff0c\u4e0d\u4e00\u5b9a\u51c6\u786e\u3002\\n\\n| -    | \u89c4\u683c                                   |\\n| ---- | -------------------------------------- |\\n| \u5185\u5b58 | 120MB                                  |\\n| CPU  | ARMv6-compatible processor rev 5 (v6l) |\\n\\n**Comcerto 1000 M83263G**\\n\\n- ARM1136 - 2 Core, 650MHz\\n- \u654f\u8fc5\u79d1\u6280/Mindspeed Technologies \u82af\u7247\\n- Mindspeed \u4e3b\u8981\u63d0\u4f9b VoIP \u9886\u57df\u89e3\u51b3\u65b9\u6848 - DSP, LTE, Transcede\\n- VoIP, Security Engine, PCIe 2, RGMII 2\\n- SDRAM 16/32 bit DDR2-800/667/533\\n- L1 \u7f13\u5b58 2x(64K D$/64K I$)\\n- VoIP \u80fd\u529b\\n  - Field hardened voice features\\n  - World class acoustic echo cancellation technology\\n  - Narrow and wideband codecs\\n  - G.711, G.729, G.722, G.723.1, iLBC, T.38, G.729.1, G.722.2, AMR, AMR Wideband\\n  - Enhanced echo canceller, CID-I/II, VAD/CNG, AGC\\n  - 3-Way conferencing\\n- TDM/PCM interface for glue-less VoIP support\\n- 2009 \u5e74\\n\\n**/proc/cpuinfo**\\n\\n```\\nProcessor\\t: ARMv6-compatible processor rev 5 (v6l)\\nBogoMIPS\\t: 648.80\\nFeatures\\t: swp half thumb fastmult edsp java\\nCPU implementer\\t: 0x41\\nCPU architecture: 6TEJ\\nCPU variant\\t: 0x1\\nCPU part\\t: 0xb36\\nCPU revision\\t: 5\\n\\nHardware\\t: Comcerto 1000 (EVM)\\nRevision\\t: 0000\\nSerial\\t\\t: 0000000000000000\\n```\\n\\n## \u7cfb\u7edf\u73af\u5883\\n\\n> \u5e95\u5c42\u57fa\u4e8e OpenWrt\\n\\n| -        | -                                                                     |\\n| -------- | --------------------------------------------------------------------- |\\n| uname -a | Linux General 2.6.33.5 #4 Tue Aug 29 20:38:01 CST 2017 armv6l unknown |\\n| Busybox  | 1.4.2                                                                 |\\n| Asterisk | 1.8.20.0 / 1.8.X \u53d1\u5e03\u4e8e 2010-10-21 EOL 2015-10-21                     |\\n| dahdi    | 2.6.0                                                                 |\\n| dcra     | 0.1.0                                                                 |\\n\\n> Busybox applet\\n>\\n> [, [[, arping, ash, awk, awx, basename, bunzip2, bzcat, cat, chgrp, chmod, chown, chroot, clear, cp, crond, crontab, cut, date, df, dirname, dmesg, du, echo, egrep, env, expr, false, fgrep, find, free, getty, grep, gunzip, gzip, halt, head, hostid, hostname, httpd, id, ifconfig, init, insmod, ipkg, kill, killall, killall5, klogd, length, less, ln, lock, logger, login, logread, ls, lsmod, md5sum, mdev, mesg, mkdir, mkfifo, mknod, mktemp, mount, mv, nc, netmsg, netstat, nice, nslookup, passwd, pidof, ping, ping6, pivot_root, poweroff, printf, ps, pwd, rdate, reboot, renice, reset, rm, rmdir, rmmod, route, sed, seq, sh, sleep, sort, strings, stty, switch_root, sync, sysctl, syslogd, tail, tar, tee, telnet, test, time, top, touch, tr, traceroute, true, tty, udhcpc, umount, uname, uniq, uptime, vconfig, vi, watchdog, wc, wget, which, xargs, yes, zcat\\n\\n**cmdline**\\n\\n```\\ninit=/etc/preinit ubi.mtd=4,2048 ubi.block=0,0 root=/dev/ubiblk0_0 ro rootfstype=squashfs hwaddress=eth0,a0:98:05:0e:04:8e hwaddress=eth2,00:03:7F:0B:00:01 console=ttyS0,115200 mtdparts=comcertonand:256k(uboot),128k(env),128K(param),4M(kernel),20M(root),4M(ekernel),20M(eroot),16M(config),-(system) partno=M83263G fppmode=1\\n```\\n\\n**\u5185\u6838\u6a21\u5757**\\n\\n| Module    | Size   | Used by     |\\n| --------- | ------ | ----------- |\\n| wctdmc1k  | 30096  | 16          |\\n| dcra      | 8524   | 1 wctdmc1k  |\\n| dahdi     | 185948 | 17 wctdmc1k |\\n| krtpd     | 148520 | 0           |\\n| csmencaps | 14740  | 2           |\\n| led_key   | 2500   | 4           |\\n\\n- dahdi\\n  - wctdmc1k - OpenVox \u6a21\u62df\u4fe1\u53f7\u5904\u7406\u6a21\u5757\\n    - WCTDMC1K \u8bbe\u5907\u9a71\u52a8 - Mindspeed \u5f00\u53d1\u7684\u82af\u7247\u9a71\u52a8\\n  - dcra - opvx_dcra - Access Dahdi Channel Registers through procfs\\n- csmencaps - \u5e94\u8be5\u662f FX \u5904\u7406\u76f8\u5173\u6a21\u5757\\n- led_key - \u5e94\u8be5\u662f\u9a71\u52a8\u9762\u677f led \u7684\\n- krtpd - Kernel RTP proxy for Asterisk - openvox \u5f00\u53d1\\n  - \u7c7b\u4f3c\u529f\u80fd\u5f00\u6e90 [sipwise/rtpengine](https://github.com/sipwise/rtpengine)\\n\\n```\\nfilename:       /lib/modules/2.6.33.5/dcra.ko\\nlicense:        GPL v2\\nalias:          opvx_dcra\\ndescription:    Access Dahdi Channel Registers through procfs\\nparmtype:       maxchan:int\\nparmtype:       debug:int\\ndepends:\\nvermagic:       2.6.33.5 mod_unload ARMv6\\n```\\n\\n**\u4e3b\u8981\u7528\u6237\u8fdb\u7a0b**\\n\\n| proc                                                | desc            |\\n| --------------------------------------------------- | --------------- |\\n| /bin/php /my_tools/keeper                           |\\n| /bin/php /my_tools/logfile_monitor                  |\\n| /my_tools/checkasteriskstat                         |\\n| /my_tools/ntpclient                                 | \u65f6\u95f4\u540c\u6b65        |\\n| /my_tools/resetkey                                  |\\n| /my_tools/sys_restore                               |\\n| /my_tools/watchdog                                  |\\n| /usr/sbin/crond                                     | \u5b9a\u65f6\u4efb\u52a1        |\\n| /webservice/service                                 |\\n| asterisk -g                                         | asterisk \u4e3b\u8fdb\u7a0b |\\n| dropbear -p 12345                                   | SSH \u5b88\u62a4\u8fdb\u7a0b    |\\n| lighttpd -f /etc/lighttpd.conf -m /usr/lib/lighttpd | Web \u670d\u52a1        |\\n\\n### \u7cfb\u7edf\u76ee\u5f55\\n\\n- /www -> /tmp/web/www\\n- /tmp/web/www - cgi-bin css images index.html js lang - \u7ba1\u7406\u5e94\u7528\\n- /data/\\n  - info/\\n  - log/\\n    - cdr.db - SQLite \u901a\u8bdd\u8bb0\u5f55\\n    - sys-log - \u7cfb\u7edf\u65e5\u5fd7\\n    - update.txt - \u66f4\u65b0\u65e5\u5fd7\\n  - sms/\\n- /my_tools/ - \u7cfb\u7edf\u5de5\u5177\\n- /webservice/service - \u670d\u52a1\\n- /version\\n  - version - \u7cfb\u7edf\u7248\u672c\\n  - build_time - \u6784\u5efa\u65f6\u95f4\\n  - cfg_ver_list - \u914d\u7f6e\u7248\u672c - \u5185\u5bb9 `1.1.10`\\n  - def_cfg.tar.gz - asterisk \u914d\u7f6e\u5907\u4efd\\n  - openvpn.sample_configs.tar.gz\\n  - sip_bendpoints.sample_configs.tar.gz\\n\\n**\u7cfb\u7edf\u6302\u8f7d**\\n\\n| dev            | size   | path          | fstype           |\\n| -------------- | ------ | ------------- | ---------------- |\\n| /dev/ubiblk0_0 | 16.1M  | /             | rootfs, squashfs |\\n| none           | 57.5M  | /tmp          | tmpfs            |\\n| tmpfs          | 512.0k | /dev          | tmpfs            |\\n| /dev/mtdblock7 | 16.0M  | /etc/asterisk | jffs2            |\\n| /dev/mtdblock8 | 63.5M  | /data         | jffs2            |\\n\\n**mtd \u5206\u533a**\\n\\n| mtd  | fs    | range                         | name    | size   | mount         |\\n| ---- | ----- | ----------------------------- | ------- | ------ | ------------- |\\n| mtd0 |       | 0x000000000000-0x000000040000 | uboot   | 256k   |\\n| mtd1 |       | 0x000000040000-0x000000060000 | env     | 128k   |\\n| mtd2 |       | 0x000000060000-0x000000080000 | param   | 128K   |\\n| mtd3 |       | 0x000000080000-0x000000480000 | kernel  | 4M     |\\n| mtd4 | ubi0  | 0x000000480000-0x000001880000 | root    | 20MB   | /             |\\n| mtd5 |       | 0x000001880000-0x000001c80000 | ekernel | 4M     |\\n| mtd6 |       | 0x000001c80000-0x000003080000 | eroot   | 20M    |\\n| mtd7 | jffs2 | 0x000003080000-0x000004080000 | config  | 16M    | /etc/asterisk |\\n| mtd8 | jffs2 | 0x000004080000-0x000008000000 | system  | 63.5MB | /data         |\\n\\n**v1.1.23**\\n\\n\u7248\u672c\u53d8\u5316\u5e95\u5c42\u7cfb\u7edf\u548c\u8f6f\u4ef6\u5747\u65e0\u53d8\u5316\uff0c\u53d8\u5316\u7684\u4e3b\u8981\u662f php \u4ee3\u7801\u548c\u90e8\u5206\u914d\u7f6e\u3002\\n\\n| -        | -                                                                      |\\n| -------- | ---------------------------------------------------------------------- |\\n| uname -a | Linux General 2.6.33.5 #23 Mon Oct 14 17:12:50 CST 2019 armv6l unknown |\\n\\n### \u5b89\u88c5\u5305\\n\\n> ipkg list\\n\\n| pkg                       | ver                             |\\n| ------------------------- | ------------------------------- |\\n| base-files-comcerto1000   | 14-unknown                      |\\n| busybox                   | 1.4.2-1                         |\\n| cmm                       | 7.00-5                          |\\n| cyclesoak                 | none-1                          |\\n| dropbear                  | 0.49-1                          |\\n| ethtool                   | 3-0                             |\\n| hotplug2                  | 0.9-1                           |\\n| ip                        | 2.6.23-1                        |\\n| kernel                    | 2.6.33.5-comcerto1000-1         |\\n| kmod-csme                 | 2.6.33.5+2.14.0-comcerto1000-1  |\\n| kmod-fci                  | 2.6.33.5+7.00-comcerto1000-1    |\\n| kmod-fpp-csme             | 2.6.33.5+2.14.0-comcerto1000-1  |\\n| kmod-fpp-driver           | 2.6.33.5-comcerto1000-1         |\\n| kmod-ipt-conntrack        | 2.6.33.5-comcerto1000-1         |\\n| kmod-ipt-core             | 2.6.33.5-comcerto1000-1         |\\n| kmod-matisse              | 1.00-0                          |\\n| kmod-nf-conntrack-netlink | 2.6.33.5-comcerto1000-1         |\\n| kmod-nfnetlink            | 2.6.33.5-comcerto1000-1         |\\n| ldd                       | 14                              |\\n| libc                      | 2.7-14                          |\\n| libcli                    | 1.9.3-1                         |\\n| libgcc                    | 4.1.2-14                        |\\n| libgdbm                   | 1.8.3-0                         |\\n| libgmp                    | 4.2.1-1                         |\\n| libiptc                   | 1.4.7-1                         |\\n| libncurses                | 5.2-8                           |\\n| libnfconntrack            | 0.0.100                         |\\n| libnfnetlink              | 1.0.0                           |\\n| libopenssl                | 0.9.8q-1                        |\\n| libpcap                   | 1.1.1-2                         |\\n| libpopt                   | 1.7-4                           |\\n| libpthread                | 2.7-14                          |\\n| librt                     | 2.7-14                          |\\n| libstdcpp                 | 4.1.2-14                        |\\n| libxtables                | 1.4.7-1                         |\\n| msp-firmware              | 2.6.33.5+3.00.11-comcerto1000-1 |\\n| mtd                       | 5                               |\\n| ntpclient                 | 2003_194-2                      |\\n| openssl-util              | 0.9.8q-1                        |\\n| ppp                       | 2.4.3-7                         |\\n| ppp-mod-pppoe             | 2.4.3-7                         |\\n| rp-pppoe-client           | 3.8-1                           |\\n| udevtrigger               | 106-1                           |\\n| vapi                      | 2.14.0                          |\\n| zlib                      | 1.2.3-3                         |\\n\\n**/etc/ipkg.conf**\\n\\n```\\n/etc/ipkg.conf\\nsrc snapshots http://openwrt.org/downloads/snapshots/$S/packages\\ndest root /\\ndest ram /tmp\\n```\\n\\n### \u7cfb\u7edf\u5de5\u5177/my_tools\\n\\n| name                 | type     | desc                                            |\\n| -------------------- | -------- | ----------------------------------------------- |\\n| add_syslog           | shell    | log \u5230 syslog                                   |\\n| addkey_client.sh     | shell    |\\n| addkey_server.sh     | shell    |\\n| astmanproxy          |          | Asterisk Manager Proxy                          |\\n| checkAsteriskProc.sh | shell    | \u68c0\u6d4b\u5e76\u542f\u52a8 dahdi \u548c asterisk                    |\\n| checkCapture.sh      | shell    | dahdi \u505c\u6b62 dump \u7ed9\u5b9a chanid                     |\\n| checkStartFinish.sh  | shell    | sleep 1000s \u91cd\u542f                                |\\n| checkasteriskstat    |\\n| cluster_mode         | php      | \u914d\u7f6e\u96c6\u7fa4\u6a21\u5f0f - master, slave, standalone        |\\n| cluster_slave        |          | slave \u5e94\u7528                                      |\\n| cpuusage             |          | CPU \u4f7f\u7528\u60c5\u51b5 - \u7c7b\u4f3c vmstat                      |\\n| eth_server.conf      |          |\\n| fetch                |          | \u89e3\u5bc6\u56fa\u4ef6                                        |\\n| get_backport         |\\n| gwping               |          | eth ping \u5ba2\u6237\u7aef                                 |\\n| gwpingd              |          | eth_server - eth_server.conf \u4e3a\u914d\u7f6e\u6587\u4ef6         |\\n| if_monitor           |          |\\n| keeper               |          | \u4fdd\u6301\u8fdb\u7a0b\u5b58\u5728 - \u7c7b\u4f3c supervisor                  |\\n| krtpd_cli            |\\n| led_key.ko           | \u5185\u6838\u6a21\u5757 |\\n| logfile_monitor      | php      | \u65e5\u5fd7\u76d1\u63a7                                        |\\n| lstast               |\\n| net_tool             |          | \u83b7\u53d6\u7f51\u5361\u4fe1\u606f                                    |\\n| ntpclient            |          | NTP \u5ba2\u6237\u7aef                                      |\\n| play_all_led         |          | \u6240\u6709 LED \u4eae                                     |\\n| process_cdr          |          | CDR \u5904\u7406                                        |\\n| readDeviceID         |\\n| resetkey             |\\n| restore_cfg_file     |          | \u6062\u590d asterisk \u914d\u7f6e\u6587\u4ef6                          |\\n| safe_append_to_file  |\\n| safe_reboot          | shell    | reboot                                          |\\n| set_busytone.sh      | shell    | fxomon.conf busytone \u8bbe\u7f6e                       |\\n| set_config           |          | \u914d\u7f6e\u6587\u4ef6\u64cd\u4f5c                                    |\\n| set_default          |\\n| set_registers.sh     | shell    | \u6ce8\u518c dcra                                       |\\n| sys_restore          |\\n| unpack.sh            | shell    | \u7528\u4e8e\u89e3\u538b\u56fa\u4ef6 - unzip, md5 checmsum, \u89e3\u5bc6, unzip |\\n| watchdog             |\\n| web_language_init    | php      | \u521d\u59cb\u5316 web \u7684\u8bed\u8a00                               |\\n\\n- astmanproxy\\n  - [davetroy/astmanproxy](https://github.com/davetroy/astmanproxy)\\n\\n```bash\\n# \u56fa\u4ef6\u89e3\u5bc6 - \u7c7b\u4f3c fetch\\nopenssl enc -aes-256-cbc -d -in firmware.img -pass pass:O7r8yGv0cdlNM4lQ -out firmware.tar.gz\\n\\n# \u83b7\u53d6\u914d\u7f6e\\n/my_tools/set_config /etc/asterisk/gw/web_server.conf get option_value general port 2\\n```\\n\\n## \u56fa\u4ef6\\n\\n\u5b98\u7f51\u63d0\u4f9b\u56fa\u4ef6\u4e0b\u8f7d https://www.openvox.cn/pub/firmwares , Web \u754c\u9762\u652f\u6301\u4e0a\u4f20\u6216\u5728\u7ebf\u66f4\u65b0\u3002\\n\\n\u56fa\u4ef6\u66f4\u65b0\u4e0a\u4f20\u903b\u8f91\u4f4d\u4e8e /www/cgi-bin/php/system-tools.php \u3002\\n\u56fa\u4ef6\u51c6\u5907\u597d\u540e\u901a\u8fc7 /my_tools/unpack.sh \u89e3\u538b\u5347\u7ea7\u3002\\n\\n**\u56fa\u4ef6\u683c\u5f0f**\\n\\n- AnalogGateway-current.bin -> tar.gz\\n  - firmware/AnalogGateway-1.1.20.img.md5\\n  - firmware/AnalogGateway-1.1.20.img - openssl enc\'d data with salted password\\n- AnalogGateway-1.1.20.img - \u89e3\u5bc6 -> tar.gz\\n  - AnalogGateway.img - \u5e94\u8be5\u4e3a\u7cfb\u7edf\u955c\u50cf\\n  - key - AnalogGateway.img \u7684 md5 checksum\\n  - u-boot.bin - bootloader\\n  - upgrade.sh - \u5347\u7ea7\u811a\u672c\\n\\n```bash\\n# \u4e0b\u8f7d\\ncurl -O https://www.openvox.cn/pub/firmwares/Analog%20Gateway/AnalogGateway-current.bin\\n# \u56fa\u4ef6\u4e3a tar.gz\\ntar zxvf AnalogGateway-current.bin\\ncd firmware\\n# \u56fa\u4ef6\u7ecf\u8fc7 openssl \u52a0\u5bc6 - \u89e3\u5bc6\u540e\u4e3a tar.tz\\nopenssl enc -aes-256-cbc -d -in AnalogGateway-*.img -pass pass:O7r8yGv0cdlNM4lQ -out AnalogGateway.tar.gz\\n\\n# \u89e3\u538b\u83b7\u53d6\u5b9e\u9645\u5185\u5bb9\\nmkdir firmware\\ntar zxvf AnalogGateway.tar.gz -C firmware\\n```\\n\\n**\u56fa\u4ef6\u5347\u7ea7**\\n\\n\u56fa\u4ef6\u5347\u7ea7\u4f7f\u7528 openvox \u5185\u7f6e\u7684\u81ea\u5b9a\u4e49\u5de5\u5177 /usr/bin/auto_update\uff0c\u4e3b\u8981\u6d89\u53ca\u64cd\u4f5c mtd\u3002\\n\\n```bash\\n# \\b-i 1 - \u4f7f\u7528 ubiblk\\nauto_update -i 1\\n# -b \u5347\u7ea7 ubook\\nauto_update -b u-boot.bin\\n# -f \u66f4\u65b0\u6587\u4ef6\uff0c -u \u5347\u7ea7\u7cfb\u7edf\\nauto_update -u -f AnalogGateway.img\\n```\\n\\n## \u96c6\u7fa4\u6a21\u5f0f\\n\\n\u8fd0\u884c\u6a21\u5f0f\u901a\u8fc7 /my_tools/cluster_mode \u914d\u7f6e\u3002\\n\\n**slave extension**\\n\\n```ini\\n#include sip_general.conf\\n#include sip_endpoints.conf\\n#include sip_slave.conf\\n\\n#include extensions_macro.conf\\n#include extensions_slave.conf\\n#include extensions_dialmatchingrules.conf\\n\\n# ext = slave_password+index\\n[fxs-<ext>-<master_ip>]\\nexten => #00,1,playback(Ext_number)\\nexten => #00,n,agi(getsipbinding.sh)\\nexten => #00,n,Wait(1)\\nexten => #00,n,Hangup()\\nexten => s,1,Dial(SIP/$sip_extension-$slave_masterip)\\nexten => s,n,Hangup()\\n\\nexten => *1*2*3*4,1,agi(factoryreset.sh)\\nexten => *1*2*3*4,n,Hangup()\\nexten => **,1,playback(IP_address)\\nexten => **,n,agi(geteth0ip.sh)\\n\\n[sip-$sip_extension]\\nexten => _X.,1,GotoIf($[\\"${SIP_HEADER(X-Best-Codec)}\\" = \\"\\"]?dial)\\nexten => _X.,n,Set(SIP_CODEC=${SIP_HEADER(X-Best-Codec)})\\nexten => _X.,n(dial),Dial(dahdi/${i}r1/${EXTEN},$DIALTIMEOUT)\\nexten => _X.,n,Hangup()\\n```\\n\\n**master extension**\\n\\n```ini\\n#include sip_general.conf\\n#include sip_endpoints.conf\\n#include sip_master.conf\\n\\n#include extensions_macro.conf\\n#include extensions_fxs.conf\\n#include extensions_master.conf\\n#include extensions_internal.conf\\n#include extensions_routing.conf\\n;#include extensions_sipdef.conf\\n#include extensions_dialmatchingrules.conf\\n```\\n\\n## VS_USB-400\\n\\n- \u65e0\u7ebf\u7f51\u5173\\n\\n### \u7cfb\u7edf\u73af\u5883\\n\\n- \u8f6f\u4ef6\u7248\u672c 2.1.22\\n- \u786c\u4ef6\u7248\u672c 1.0\\n- \u4e00\u4e2a\u4e3b\u63a7\uff0c\u591a\u4e2a\u6a21\u5757\uff0c\u6a21\u5757\u4e0d\u5e26 CPU\\n- \u65e0\u7ebf\u6a21\u5757\u4e3a \u9ad8\u901a Gobi \u65e0\u7ebf\u5bbd\u5e26\u82af\u7247\u6280\u672f - GobiNet - USB \u9a71\u52a8\\n- \u901a\u9053 STM32, \u5e95\u677f MCU STM8\\n- \u8be5\u7248\u672c\u5305\u542b frpc - \u5141\u8bb8 openvox cloud \u5efa\u7acb\u94fe\u63a5 - \u6620\u5c04\u4e86 ssh \u548c web\\n\\n> \u8be5\u7248\u672c\u6700\u5927\u7684\u533a\u522b\u662f\u6a21\u5757\u4e0d\u5728\u662f\u72ec\u7acb\u7cfb\u7edf\u3002\\n\\n| HW     | Desc                                   |\\n| ------ | -------------------------------------- |\\n| CPU    | Intel(R) Atom(TM) CPU Z3735G @ 1.33GHz |\\n| Memory | 1 G                                    |\\n| Disk   | 16 G Flash                             |\\n\\n| SW            | Desc                                                                                        |\\n| ------------- | ------------------------------------------------------------------------------------------- |\\n| Debian        | 8                                                                                           |\\n| uname -a      | Linux Wireless-Gateway 4.19.81 #7 SMP Thu Feb 13 08:24:02 CST 2020 i686 i386                |\\n| Busybox       | v1.22.1                                                                                     |\\n| Asterisk      | 1.8.20.0                                                                                    |\\n| /proc/cmdline | BOOT_IMAGE=/vmlinuz ro root=LABEL=kernel1 intel_pstate=disable quiet console=ttyS0,115200n8 |\\n\\n**/proc/mtrr**\\n\\n```\\nreg00: base=0x0ffd00000 ( 4093MB), size=    4MB, count=1: write-protect\\nreg01: base=0x000000000 (    0MB), size= 1024MB, count=1: write-back\\nreg02: base=0x03e000000 (  992MB), size=   32MB, count=1: uncachable\\nreg03: base=0x03d000000 (  976MB), size=   16MB, count=1: uncachable\\nreg04: base=0x03ce00000 (  974MB), size=    2MB, count=1: uncachable\\nreg05: base=0x03c800000 (  968MB), size=    4MB, count=1: uncachable\\n```\\n\\n**/proc/mounts**\\n\\n| dev            | size   | path     | fs       |\\n| -------------- | ------ | -------- | -------- |\\n| /dev/mmcblk0p6 | 487.9M | /etc/cfg | ext4     |\\n| /dev/mmcblk0p7 | 487.9M | /data    | ext4     |\\n| /dev/mmcblk0p2 | 92.8M  | /boot    | ext4     |\\n| /dev/mmcblk0p4 | 28.9M  | /gateway | squashfs |\\n\\n**modules**\\n\\n- GobiNet - \u9a71\u52a8\u65e0\u7ebf\u6a21\u5757\\n- usb_wwan\\n- cdc_acm\\n- ch341\\n- usbserial - \u4f9d\u8d56 USB \u4e32\u53e3\\n- cdc_ether\\n- usbnet\\n- r8152\\n- snd_pcm\\n- snd_timer\\n- i2c_hid\\n- i2c_algo_bit\\n- soundcore\\n- sdhci_acpi\\n- button\\n\\n### \u7cfb\u7edf\u76ee\u5f55\\n\\n- /my_tools -> /gateway/my_tools\\n- /sound -> /gateway/sound\\n- /webservice -> /gateway/webservice\\n- /version -> /gateway/version\\n- /www -> /gateway/www\\n- /conf\\n- /data\\n  - log/\\n    - cdr.db\\n    - smsinbox.db\\n    - smsoutbox.db\\n- /etc\\n  - cfg/ - Asteris \u914d\u7f6e - \u72ec\u7acb\u6302\u8f7d - \u53ef\u5907\u4efd\\n    - gw/ - \u7f51\u5173\u914d\u7f6e\\n      - n2n/ - 2 \u5c42 Mesh \u7ec4\u7f51\\n      - sim840w.conf - SIM \u6a21\u5757\u914d\u7f6e - AT \u547d\u4ee4\u4e4b\u7c7b\\n      - sim6320.conf - SIM \u6a21\u5757\u914d\u7f6e\\n      - uc15.conf - SIM \u6a21\u5757\u914d\u7f6e - UC15\\n      - sms.conf - \u77ed\u4fe1\u914d\u7f6e\\n    - cloud/ - \u5e94\u8be5\u662f openvox \u4e91\u5e73\u53f0\u4e4b\u7c7b\u7684 - https://cloud.openvox.com.cn/\\n      - cloud.conf\\n      - frpc.ini - openvox \u8bbf\u95ee ssh \u548c web \u7684\u540e\u95e8\\n  - udev/rules.d/\\n    - gobinet.rules - GobiNet \u6620\u5c04 - `/sys/class/net/gobinet*`\\n    - internet.rules - \u6a21\u5757\u5185\u90e8 usbnet \u6620\u5c04 - \u4f1a symlink \u5230 `/dev/opvx/`\\n- /tmp\\n  - hw_info.cfg - \u786c\u4ef6\u914d\u7f6e - \u7531\u4e8e\u751f\u6210 asterisk gw_gsm.conf \u548c extra-channels.conf \u914d\u7f6e\\n- /usr/sbin/cloudMain\\n- /usr/sbin/cloudExternal\\n- /usr/sbin/cloudNat\\n- /gateway - \u5b8c\u6574\u7f51\u5173\u7cfb\u7edf - \u72ec\u7acb\u6302\u8f7d\\n  - www/ - PHP \u7f51\u7ad9\\n  - my_tools/ - \u5de5\u5177\u96c6\\n\\n## Asterisk\\n\\n> \u4e0d\u7ba1\u4ec0\u4e48\u7248\u672c\u7684\u7f51\u5173\uff0cAsterisk \u7684\u7248\u672c\u4f3c\u4e4e\u90fd\u6ca1\u6709\u53d8\u8fc7 - 1.8.20.0\\n\\n| mod        | desc                                   |\\n| ---------- | -------------------------------------- |\\n| chan_extra | GSM/CDMA Telephony Driver FOR Asterisk |\\n\\n- chan_extra\\n  - OpenVox \u5f00\u53d1\u7684\u65e0\u7ebf\u6a21\u5757 - GSM, CDMA \u548c\u65b0\u7684 LTE \u5747\u4f7f\u7528\u8be5\u6a21\u5757\\n  - opvxg4xx \u9a71\u52a8\u63d0\u4f9b\u652f\u6301\\n  - \u914d\u7f6e\u6587\u4ef6 extra-channels.conf, chan_extra.conf\\n  - GSM, CDMA \u57fa\u4e8e DAHDi\\n  - 4G LTE \u57fa\u4e8e GobiNet \u5185\u6838\u9a71\u52a8\\n  - \u9a71\u52a8\u4e0b\u8f7d https://www.openvox.cn/pub/misc/GSM/\\n\\n```bash\\nmodprobe opvxg4xx\\n```\\n\\n```bash\\n# Asterisk \u547d\u4ee4\\ngsm show spans\\n```"},{"id":"agi-vs-ami-vs-ari","metadata":{"permalink":"/story/agi-vs-ami-vs-ari","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-04-30-agi-vs-ami-vs-ari.md","source":"@site/story/2021/2021-04-30-agi-vs-ami-vs-ari.md","title":"\u5982\u4f55\u9009\u62e9 Asterisk \u63a5\u53e3","description":"Asterisk \u81ea 1999 \u5e74\u53d1\u5c55\u5230\u73b0\u5728\uff0c\u5df2\u7ecf\u6210\u4e3a\u4e1a\u754c\u6807\u51c6\u7684 PBX \u5b9e\u73b0\u5e95\u5c42\uff0c\u4f46\u8fd9 20 \u591a\u5e74\u7684\u53d1\u5c55\u4e5f\u8ba9 Asterisk \u5b9e\u73b0\u975e\u5e38\u591a\u7684\u63a5\u53e3\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Asterisk","permalink":"/story/tags/asterisk"},{"label":"VoIP","permalink":"/story/tags/vo-ip"}],"readingTime":4.02,"truncated":true,"authors":[],"prevItem":{"title":"OpenVox VoxStack \u7f51\u5173\u5206\u6790","permalink":"/story/openvox-gw-inside"},"nextItem":{"title":"macOS \u5fae\u4fe1\u5907\u4efd\u539f\u7406","permalink":"/story/macos-wechat-backup"}},"content":"Asterisk \u81ea 1999 \u5e74\u53d1\u5c55\u5230\u73b0\u5728\uff0c\u5df2\u7ecf\u6210\u4e3a\u4e1a\u754c\u6807\u51c6\u7684 PBX \u5b9e\u73b0\u5e95\u5c42\uff0c\u4f46\u8fd9 20 \u591a\u5e74\u7684\u53d1\u5c55\u4e5f\u8ba9 Asterisk \u5b9e\u73b0\u975e\u5e38\u591a\u7684\u63a5\u53e3\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u63a5\u53e3\u7b80\u4ecb\\n\\n| API | Protocol            | Async | Block | Access Dialplan |\\n| --- | ------------------- | ----- | ----- | --------------- |\\n| AGI | Shell/Socket        | \u26d4\ufe0f   | \u2705    | \u2705              |\\n| AMI | TCP/5038/Event      | \u2705    | \u26d4\ufe0f   | \u26d4\ufe0f             |\\n| ARI | HTTP/REST/WebSocket | \u2705    | \u2705    | \u2705              |\\n\\nAGI, AMI \u529f\u80fd\u5b8c\u5168\u4e0d\u540c\uff0c\u4f46 ARI \u548c AGI\uff0cAMI \u90fd\u6709\u6240\u91cd\u53e0\u3002\\n\\n- AGI - Asterisk Gateway Interface\\n  - \u7b80\u5355\\n  - \u4f5c\u4e3a Dialplan \u51fd\u6570\\n- AMI - Asterisk Manager Interface\\n  - \u4fee\u6539\u6216\u521b\u5efa Channel\\n- ARI - Asterisk RESTful Interface\\n  - **Asterisk 12+**\\n  - HTTP Websocket - \u4e8b\u4ef6, Stasis \u5e94\u7528\\n  - RESTful \u63a5\u53e3 - \u63a7\u5236\u5e95\u5c42\u8d44\u6e90\\n\\n## \u63a5\u53e3\u4f7f\u7528\u573a\u666f\\n\\n```\\nAMI - ARI - AGI\\n\u547c\u53eb\u63a7\u5236\\n      \u81ea\u5b9a\u4e49\u901a\u4fe1\u5e94\u7528\\n            Dialplan \u6267\u884c\\n```\\n\\n- AGI - \u6269\u5c55 Dialplan \u5904\u7406\\n  - \u5efa\u8bae\u5b9e\u73b0 \u901a\u7528 - \u72ec\u7acb - \u7279\u6027\u65e0\u5173 \u7684 Dialplan \u51fd\u6570\\n  - \u4f8b\u5982 \u547c\u53eb\u5efa\u7acb\u3001\u62c6\u9664\uff1b\u5916\u7ebf\u63a7\u5236\uff1bCDR\\n- AMI - \u9002\u7528\u4e8e\u901a\u8bdd\u65f6\u901a\u9053\u7ba1\u63a7\\n- ARI\\n  - ARI \u5305\u542b AMI \u548c AGI \u4e3b\u8981\u529f\u80fd\\n  - \u81ea\u5b9a\u4e49 Dialplan \u5e94\u7528\\n  - \u9ad8\u5ea6\u5b9a\u5236\\n\\n\u5f00\u53d1\u4f7f\u7528\u4e00\u5b9a\u8981\u7f3a\u5c11\u8fb9\u754c\uff0c\u56e0\u4e3a\u5f88\u591a\u529f\u80fd\u662f\u8fd9\u4e5f\u53ef\u4ee5\u90a3\u4e5f\u53ef\u4ee5\u3002\\n\\n```mermaid\\nsequenceDiagram\\n    PJSIP ->> Dialplan: \u5904\u7406\u901a\u9053\\n    Dialplan ->> AGI: \u8def\u7531\\n    AGI ->> Handler: \u5904\u7406 FastAGI/AGI \u8bf7\u6c42\\n    Handler ->> Dialplan: \u5e94\u7528\u786e\u5b9a\u5982\u4f55\u5904\u7406\uff0c\u8fd4\u56de\u4e0b\u4e00\u4e2a Dialplan\\n    Dialplan ->> Stasis: \u6267\u884c Stasis Dialplan\\n    Stasis ->> Handler: \u5904\u7406 ARI \u5b9e\u73b0\u81ea\u5b9a\u4e49\u5e94\u7528\\n```\\n\\n## \u5176\u4ed6\u63a5\u53e3\\n\\n- Asterisk CLI\\n  - \u5f00\u53d1\u4f7f\u7528\u7b80\u5355\u65b9\u4fbf\\n  - \u529f\u80fd\u6709\u4e00\u5b9a\u9650\u5236\\n- Call File\\n  - 0 \u8026\u5408\\n  - \u4ece\u76ee\u5f55\u62c9\u53d6\u547c\u53eb\u8bf7\u6c42 `<astspooldir>/outgoing` - `/var/spool/asterisk/outgoing/`\\n    - \u7c7b\u4f3c\u6253\u5370\u673a pool\\n    - \u9002\u7528\u4e8e\u81ea\u52a8\u53d1\u8d77\u547c\u53eb\\n  - \u751f\u6210\u6587\u4ef6\u653e\u5230\u76ee\u5f55\u7531 chan_pickup \u53bb\u83b7\u53d6\u7136\u540e\u53d1\u8d77\u547c\u53eb\\n  - \u8bed\u6cd5\u4e0e HTTP Header \u76f8\u540c\uff0c\u652f\u6301 `#` \u548c `;` \u4f5c\u4e3a\u6ce8\u91ca\\n  - \u6ce8\u610f \u26a0\ufe0f - \u5148\u521b\u5efa\u597d\u6587\u4ef6\u7136\u540e \u79fb\u52a8 \u5230\u76ee\u5f55\uff0c\u907f\u514d\u5728\u76ee\u5f55\u76f4\u63a5\u521b\u5efa\\n- CDR - \u547c\u53eb\u8bb0\u5f55\\n  - \u6bcf\u4e00\u901a\u547c\u53eb\u53ef\u4ee5\u8bb0\u5f55\u5230 DB\\n  - \u53ef\u901a\u8fc7\u67e5\u8be2 cdr \u5b9e\u73b0\u547c\u53eb\u8bb0\u5f55\u529f\u80fd\\n  - \u5f00\u53d1\u4f7f\u7528\u975e\u5e38\u65b9\u4fbf\\n  - \u907f\u514d\u81ea\u884c\u8bb0\u5f55\\n- CEL - \u4e8b\u4ef6\u65e5\u5fd7\\n  - \u65e5\u5fd7\u91cf\u53d6\u51b3\u4e8e\u914d\u7f6e\uff0c\u53ef\u80fd\u975e\u5e38\u591a\\n  - \u901a\u8fc7\u5904\u7406\u65e5\u5fd7\u80fd\u591f\u5206\u6790\u51fa\u5f53\u524d\u7684\u901a\u9053\u72b6\u6001\\n  - \u5b9e\u65f6\u5904\u7406\u65e5\u5fd7\u80fd\u5b9e\u73b0\u7528\u6237\u901a\u77e5\u548c\u63d0\u9192\\n  - \u907f\u514d\u64cd\u4f5c AMI \u6216 ARI\\n- SNMP\\n  - \u57fa\u672c\u670d\u52a1\u76d1\u63a7\\n- Statd\\n  - \u670d\u52a1\u6307\u6807\u76d1\u63a7\\n  - \u901a\u8bdd\u6570\u91cf\uff0c\u5750\u5e2d\u6570\u91cf\\n- Realtime DB\\n  - \u7ba1\u7406\u901a\u9053\u5750\u5e2d\\n  - \u6a21\u5757\u914d\u7f6e\\n- Function_CURL\\n  - Dialplan \u91cc\u4f7f\u7528 CURL \u8bf7\u6c42\u5916\u90e8\u7cfb\u7edf\\n  - \u5b9e\u73b0\u975e\u5e38\u7b80\u5355\u7684\u7cfb\u7edf\u96c6\u6210\\n- \u540e\u7aef\u63a5\u53e3\\n  - LDAP\\n  - cURL\\n  - ODBC, SQLite, PostgreSQL, MySQL\\n\\n```bash\\n# \u4f7f\u7528 CLI \u53d1\u8d77\u547c\u53eb\\nasterisk -rx \'channel originate SIP/6003 extension 10086@sip-6003\'\\n```\\n\\n**/var/spool/asterisk/outgoing/hello.call**\\n\\n```ini\\nChannel: SIP/trunkname/6001\\n; Callerid: <callerid>\\n; WaitTime: <number>\\n; MaxRetries: <number>\\n; RetryTime: <number>\\n; Account: <account>\\n\\n; \u6267\u884c\u7684\u5e94\u7528\u548c\u53c2\u6570\\nApplication: Playback\\nData: hello-world\\n\\n; Context+Extension\\n; Context: <context>\\n; Extension: <exten>\\n; Priority: <priority>\\n; Setvar: <var=value>\\n\\n; yes \u4f1a\u5f52\u6863\u5230 outgoing_done\\n; \u5f52\u6863\u540e\u8fd8\u4f1a\u8bb0\u5f55\u72b6\u6001\\n; Archive: <yes|no>\\n; Status: <exitstatus>\\n\\n; \u91cd\u8bd5\u72b6\u6001\\n; StartRetry: <pid> <retrycount> (<time>)\\n; EndRetry: <pid> <retrycount> (<time>)\\n```\\n\\n## \u603b\u7ed3\\n\\n- \u4f7f\u7528 Stasis \u66ff\u4ee3 Dial\\n- \u907f\u514d Asterisk \u5305\u542b\u590d\u6742\u8def\u7531\u903b\u8f91\\n- \u901a\u8fc7 ARI \u63a5\u8026\\n- \u6ca1\u6709 ARI \u7684\u4f4e\u7248\u672c Asterisk \u53ea\u80fd\u4f7f\u7528 AMI \u6765\u8fdb\u884c\u5b9e\u65f6\u7ba1\u7406\\n\\n## \u53c2\u8003\\n\\n- [ARI and AGI, a powerful combination](https://www.slideshare.net/JranVinzens/ari-and-agi-a-powerful-combination)"},{"id":"macos-wechat-backup","metadata":{"permalink":"/story/macos-wechat-backup","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-06-27-macos-wechat-backup.md","source":"@site/story/2021/2021-06-27-macos-wechat-backup.md","title":"macOS \u5fae\u4fe1\u5907\u4efd\u539f\u7406","description":"iPhone7 32G \u7528\u4e86\u51e0\u5e74\u540e\uff0c\u5fae\u4fe1\u5360\u4e86 10G\uff0c\u5982\u679c\u80fd\u628a\u5fae\u4fe1\u5907\u4efd\u540e\u6e05\u9664\uff0c\u8fd8\u80fd\u518d\u6218\u4e24\u5e74\uff01","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"macOS","permalink":"/story/tags/mac-os"},{"label":"WeChat","permalink":"/story/tags/we-chat"}],"readingTime":9.225,"truncated":true,"authors":[],"prevItem":{"title":"\u5982\u4f55\u9009\u62e9 Asterisk \u63a5\u53e3","permalink":"/story/agi-vs-ami-vs-ari"},"nextItem":{"title":"\u6211\u7684\u7ad9\u70b9\u662f\u5982\u4f55\u6784\u5efa\u7684\uff1f\uff01","permalink":"/story/how-i-build-my-site"}},"content":"iPhone7 32G \u7528\u4e86\u51e0\u5e74\u540e\uff0c\u5fae\u4fe1\u5360\u4e86 10G\uff0c\u5982\u679c\u80fd\u628a\u5fae\u4fe1\u5907\u4efd\u540e\u6e05\u9664\uff0c\u8fd8\u80fd\u518d\u6218\u4e24\u5e74\uff01\\n\\n- \u5fae\u4fe1\u81ea\u8eab\u652f\u6301\u5907\u4efd\uff0c\u4f46\u5907\u4efd\u540e\u662f\u52a0\u5bc6\u7684\uff0c\u65e0\u6cd5\u8bbf\u95ee\u3002\\n- \u5fae\u4fe1\u5360\u7528\u7a7a\u95f4\u7684\u4e3b\u8981\u662f\u56fe\u7247\u548c\u89c6\u9891\\n- \u5fae\u4fe1\u6e05\u7406\u4e0d\u4f1a\u6e05\u9664\u6587\u672c\\n  - \u6587\u672c\u6d88\u606f\u76f8\u5bf9\u5c11\\n  - \u60f3\u8981\u6e05\u9664\u6587\u672c\u6d88\u606f\u53ef\u4ee5\u5378\u8f7d\u91cd\u88c5\\n\\n\x3c!-- more --\x3e\\n\\n- \u901a\u8fc7 macOS \u5907\u4efd iPhone \u7cfb\u7edf - \u5907\u4efd\u65f6\u4e0d\u8981\u52a0\u5bc6\\n  - \u5907\u4efd\u540e\u4f4d\u4e8e `$HOME/Library/Application Support/MobileSync/Backup/`\\n- \u5907\u4efd\u540e\u7684\u6570\u636e\\n  - Manifest.{mbdb,db} - mac \u5907\u4efd\u6587\u4ef6\u6e05\u5355\\n    - Files - \u6587\u4ef6\u6e05\u5355\\n      - `fileID TEXT PRIMARY KEY, domain TEXT, relativePath TEXT, flags INTEGER, file BLOB`\\n        - fileID - \u4e3a \u5907\u4efd\u6620\u5c04\u540e\u7684\u6587\u4ef6\\n        - domain - \u5e94\u7528\\n        - relativePath - \u5e94\u7528\u76f8\u5bf9\u8def\u5f84\\n      - `select relativePath from Files where domain = \'AppDomain-com.tencent.xin\' limit 10`;\\n        - \u5fae\u4fe1\u76f8\u5173\u6587\u4ef6\\n    - Properties\\n      - `key TEXT PRIMARY KEY, value BLOB`\\n    - .mbdb - \u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u9700\u8981\u81ea\u5b9a\u4e49\u89e3\u7801\u903b\u8f91\\n    - .db - sqlite3 - \u65b0\u7248\u4e00\u822c\u662f sqlite3\\n\\n```bash\\n# \u6253\u5f00 Manifest.db\\nsqlite3 Manifest.db\\n```\\n\\n```sql title=\\"\u5e38\u7528\u64cd\u4f5c\\"\\n-- \u67e5\u770b\u8868\\n.tables\\n.tables Chat_%\\n-- \u67e5\u770b\u8868\u7ed3\u6784\\n.schema Chat_ID\\n```\\n\\n```sql\\n-- \u5173\u5fc3\u7684\u6587\u4ef6\\nselect fileID,relativePath from Files\\nwhere domain = \'AppDomain-com.tencent.xin\' and\\n(\\n  relativePath like \'%/MM.sqlite\'\\n  or relativePath like \'%/WCDB_Contact.sqlite\'\\n  or relativePath like \'%/message_%.sqlite\'\\n);\\n\\n-- \u6240\u6709 DB \u76ee\u5f55\u4e0b\u5185\u5bb9\\nselect fileID,relativePath from Files\\nwhere domain = \'AppDomain-com.tencent.xin\' and relativePath like \'Documents/%/DB/%\';\\n\\n-- \u6587\u4ef6\u6570\u91cf\\nselect count(*) from Files\\nwhere domain = \'AppDomain-com.tencent.xin\';\\n```\\n\\n- \u5907\u4efd\u540e\u5305\u542b\u5fae\u4fe1\u6570\u636e\\n  - `message_%d.sqlite` - \u804a\u5929\u5bf9\u8bdd\\n    - ChatExt2_ID\\n    - Chat_ID - \u5bf9\u5e94\u4e00\u4e2a\u804a\u5929\u4f1a\u8bdd\\n      - ID \u4e3a userName \u6216 MD5 \u7684 alias\\n    - Hello_ID\\n  - WCDB_Contact.sqlite - \u8054\u7cfb\u4eba\\n    - Friend - \u597d\u53cb\\n    - MassSendContact\\n    - QQContact - QQ \u8054\u7cfb\u4eba\\n  - MM - \u6d88\u606f\\n    - BottleContactTable4\\n    - BottleTable4\\n    - ChatExt2_ID\\n    - Chat_ID\\n    - Emoticon1\\n    - EmoticonPackage05\\n    - EmoticonUpload_1\\n    - Friend\\n    - Friend_Ext\\n    - MassSendContactTable\\n    - MessageBizExtTable\\n    - QQContact\\n    - RevokeMsgTable\\n    - friend_meta\\n  - contactlabel.list - \u6807\u7b7e\u5217\u8868\\n\\n## Friend\\n\\n| column                  | type    | desc                   |\\n| ----------------------- | ------- | ---------------------- |\\n| userName                | text    | WXID\u3001\u7fa4 ID\u3001\u516c\u4f17\u53f7 ID |\\n| type                    | integer | \u7c7b\u578b                   |\\n| certificationFlag       | integer |\\n| imgStatus               | integer |\\n| encodeUserName          | text    |\\n| dbContactLocal          | blob    |\\n| dbContactOther          | blob    |\\n| dbContactRemark         | blob    | \u8054\u7cfb\u4eba\u5907\u6ce8             |\\n| dbContactHeadImage      | blob    | \u8054\u7cfb\u4eba\u5934\u50cf             |\\n| dbContactProfile        | blob    |\\n| dbContactSocial         | blob    |\\n| dbContactChatRoom       | blob    | \u7fa4\u4fe1\u606f,XML             |\\n| dbContactBrand          | blob    |\\n| \\\\_packed_DBContactTable | blob    |\\n\\n| userName           | desc        |\\n| ------------------ | ----------- |\\n| 100000000@chatroom | \u7fa4\u7ec4\u4f1a\u8bdd    |\\n| `wxid_`            | \u6807\u51c6\u5fae\u4fe1 ID |\\n| QQ1000000000       |\\n| gh_123456789abc    | \u516c\u4f17\u53f7      |\\n\\n| encodeUserName   | desc             |\\n| ---------------- | ---------------- |\\n| v1_xxxx@stranger | \u52a0\u5bc6\u540e\u964c\u751f\u4eba\u59d3\u540d |\\n| v3_xxxx@stranger | \u52a0\u5bc6\u540e\u964c\u751f\u4eba\u59d3\u540d |\\n\\n| type  |               bin | desc                       |\\n| ----- | ----------------: | -------------------------- |\\n| 0     |                 0 | \u5fae\u4fe1\u8fd0\u52a8                   |\\n| 1     |                 1 | \u5fae\u4fe1\u5e94\u7528                   |\\n| 2     |                10 | app + \u7fa4                   |\\n| 3     |                11 | \u597d\u53cb                       |\\n| 4     |               100 | \u7fa4\u91cc\u9762\u7684\u4eba                 |\\n| 6     |               110 | \u7fa4\u597d\u53cb\uff0c\u5bf9\u65b9\u52a0\u4f60\uff0c\u4f60\u672a\u901a\u8fc7 |\\n| 7     |               111 | \u7fa4\u91cc\u9762\u7684\u4eba\uff0c\u800c\u4e14\u4e92\u4e3a\u597d\u53cb   |\\n| 11    |              1011 | \u62c9\u9ed1\u522b\u4eba                   |\\n| 67    |           1000011 | \u6807\u661f                       |\\n| 256   |         100000000 | \u5220\u9664\u597d\u53cb                   |\\n| 259   |         100000011 | \u4e0d\u8ba9\u4ed6\u770b\u6211\u7684\u670b\u53cb\u5708         |\\n| 65539 | 10000000000000011 | \u4e0d\u770b\u4ed6\u7684\u670b\u53cb\u5708             |\\n\\n| bit | desc               |\\n| --- | ------------------ |\\n| 1   | \u4f60\u662f\u5426\u52a0\u5bf9\u65b9\u4e3a\u597d\u53cb |\\n| 2   | \u5bf9\u65b9\u662f\u5426\u52a0\u4f60\u4e3a\u597d\u53cb |\\n| 3   | \u662f\u5426\u7fa4\u91cc\u9762\u7684       |\\n| 4   | \u4f60\u4e3b\u52a8\u62c9\u9ed1\u5bf9\u65b9     |\\n| 7   | \u6807\u661f               |\\n\\n## Chat\\n\\n- Chat\\\\_ \u804a\u5929\u4fe1\u606f\\n- ChatExt\\\\_ \u6d88\u606f\u6269\u5c55\u4fe1\u606f\\n\\n| column     | type    | desc     |\\n| ---------- | ------- | -------- |\\n| CreateTime | INTEGER |\\n| Des        | INTEGER |\\n| ImgStatus  | INTEGER |\\n| MesLocalID | INTEGER |\\n| Message    | TEXT    | \u6d88\u606f\u5185\u5bb9 |\\n| MesSvrID   | INTEGER |\\n| Status     | INTEGER |\\n| TableVer   | INTEGER |\\n| Type       | INTEGER | \u6d88\u606f\u7c7b\u578b |\\n\\n| type  | desc          |\\n| ----- | ------------- |\\n| 1     | \u6587\u672c          |\\n| 3     | \u56fe\u7247          |\\n| 34    | \u8bed\u97f3          |\\n| 42    | \u540d\u7247          |\\n| 43    | \u89c6\u9891          |\\n| 47    | \u8868\u60c5          |\\n| 48    | \u4f4d\u7f6e          |\\n| 49    | \u94fe\u63a5          |\\n| 50    | \u89c6\u9891/\u8bed\u97f3\u901a\u8bdd |\\n| 62    | \u5c0f\u89c6\u9891        |\\n| 10000 | \u7cfb\u7edf\u6d88\u606f      |\\n\\n# \u9644\u5f55\\n\\n## WCDB_Contact.sqlite\\n\\n```sql\\n-- WCDB_Contact\\nCREATE TABLE Friend\\n(\\n    userName               text primary key on conflict replace,\\n    type                   integer default 0,\\n    certificationFlag      integer default 0,\\n    imgStatus              integer default 0,\\n    encodeUserName         text,\\n    dbContactLocal         blob,\\n    dbContactOther         blob,\\n    dbContactRemark        blob,\\n    dbContactHeadImage     blob,\\n    dbContactProfile       blob,\\n    dbContactSocial        blob,\\n    dbContactChatRoom      blob,\\n    dbContactBrand         blob,\\n    _packed_DBContactTable blob\\n);\\nCREATE TABLE MassSendContact\\n(\\n    UsrName    text not null primary key on conflict replace,\\n    Detail     text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text\\n);\\nCREATE TABLE QQContact\\n(\\n    UsrName           text not null primary key on conflict replace,\\n    Uin               integer default 0,\\n    Type              integer default 0,\\n    Sex               integer default 0,\\n    Age               integer default 0,\\n    ImgKey            integer default 0,\\n    ExtKey            integer default 0,\\n    ImgKeyLast        integer default 0,\\n    ExtKeyLast        integer default 0,\\n    CreateTime        integer default 0,\\n    ConIntRes1        integer default 0,\\n    ConIntRes2        integer default 0,\\n    ConIntRes3        integer default 0,\\n    NickName          text,\\n    Email             text,\\n    Mobile            text,\\n    Address           text,\\n    Sign              text,\\n    birthday          text,\\n    FullPY            text,\\n    ShortPY           text,\\n    Img               text,\\n    ConRemark         text,\\n    ConRemark_PYShort text,\\n    ConRemark_PYFull  text,\\n    ConStrRes1        text,\\n    ConStrRes2        text,\\n    ConStrRes3        text\\n);\\n```\\n\\n## MM.sqlite\\n\\n```sql\\nCREATE TABLE Friend\\n(\\n    TableVer     integer default 1,\\n    UsrName      text not null primary key on conflict replace,\\n    NickName     text,\\n    Uin          integer default 0,\\n    Email        text,\\n    Mobile       text,\\n    Sex          integer default 0,\\n    FullPY       text,\\n    ShortPY      blob,\\n    Img          text,\\n    Type         integer default 0,\\n    LastChatTime integer default 0,\\n    Draft        text\\n);\\nCREATE TABLE Friend_Ext\\n(\\n    UsrName           text not null primary key on conflict replace,\\n    ConType           integer default 0,\\n    ConRemark         text,\\n    ConRemark_PYShort text,\\n    ConRemark_PYFull  text,\\n    ConQQMBlog        text,\\n    ConSMBlog         text,\\n    ConChatRoomMem    text,\\n    ConIntRes1        integer default 0,\\n    ConIntRes2        integer default 0,\\n    ConIntRes3        integer default 0,\\n    ConStrRes1        text,\\n    ConStrRes2        text,\\n    ConStrRes3        text\\n);\\nCREATE TABLE friend_meta\\n(\\n    username   text primary key on conflict replace,\\n    lastUpdate integer,\\n    intCon1    integer,\\n    intCon2    integer,\\n    intCon3    integer,\\n    strCon1    text,\\n    strCon2    text,\\n    strCon3    text\\n);\\nCREATE TABLE QQContact\\n(\\n    UsrName           text not null primary key on conflict replace,\\n    Uin               integer default 0,\\n    Type              integer default 0,\\n    Sex               integer default 0,\\n    Age               integer default 0,\\n    ImgKey            integer default 0,\\n    ExtKey            integer default 0,\\n    ImgKeyLast        integer default 0,\\n    ExtKeyLast        integer default 0,\\n    CreateTime        integer default 0,\\n    ConIntRes1        integer default 0,\\n    ConIntRes2        integer default 0,\\n    ConIntRes3        integer default 0,\\n    NickName          text,\\n    Email             text,\\n    Mobile            text,\\n    Address           text,\\n    Sign              text,\\n    birthday          text,\\n    FullPY            text,\\n    ShortPY           text,\\n    Img               text,\\n    ConRemark         text,\\n    ConRemark_PYShort text,\\n    ConRemark_PYFull  text,\\n    ConStrRes1        text,\\n    ConStrRes2        text,\\n    ConStrRes3        text\\n);\\nCREATE TABLE RevokeMsgTable\\n(\\n    MSG_REVOKE_COL_SVRID   bigint  default 0 primary key,\\n    MSG_REVOKE_COL_CONTENT text,\\n    MSG_REVOKE_COL_INTRES1 integer default 0,\\n    MSG_REVOKE_COL_INTRES2 bigint  default 0,\\n    MSG_REVOKE_COL_INTRES3 bigint  default 0,\\n    MSG_REVOKE_COL_STRRES1 text,\\n    MSG_REVOKE_COL_STRRES2 text,\\n    MSG_REVOKE_COL_STRRES3 text,\\n    _packed_RevokeMessage  blob\\n);\\nCREATE TABLE Emoticon1\\n(\\n    MD5        text,\\n    Message    text,\\n    Type       integer default 0,\\n    CreateTime integer default 0,\\n    Len        integer default 0,\\n    Status     integer default 0,\\n    Catalog    text,\\n    CatelogID  integer default 0,\\n    Draft      text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConIntRes3 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text,\\n    ConStrRes3 text\\n);\\nCREATE TABLE EmoticonUpload_1\\n(\\n    UsrName    text,\\n    MesLocalID text,\\n    MD5        text,\\n    Type       integer default 0,\\n    Message    text,\\n    CreateTime integer default 0,\\n    SendTime   integer default 0,\\n    Offset     integer default 0,\\n    Len        integer default 0,\\n    Status     integer default 0,\\n    Catalog    text,\\n    CatelogID  integer default 0,\\n    Draft      text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConIntRes3 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text,\\n    ConStrRes3 text\\n);\\nCREATE TABLE BottleTable4\\n(\\n    BottleLocalID        integer primary key autoincrement,\\n    BottleSvrID          integer default 0,\\n    BottleEncryptUsrName text,\\n    BottleID             text,\\n    BottleExt            text\\n);\\nCREATE TABLE BottleContactTable4\\n(\\n    BottleContactUsrName     text not null primary key on conflict replace,\\n    BottleContactNickName    text,\\n    BottleContactSex         integer default 0,\\n    BottleContactImgStatus   text,\\n    BottleContactHDImgStatus text,\\n    BottleContactProvince    text,\\n    BottleContactCity        text,\\n    BottleContactSign        text,\\n    BottleContactImgKey      integer default 0,\\n    BottleContactImgKeyLast  integer default 0,\\n    BottleContactExtKey      integer default 0,\\n    BottleContactExtKeyLast  integer default 0,\\n    BottleContactINTRES1     integer default 0,\\n    BottleContactINTRES2     integer default 0,\\n    BottleContactINTRES3     integer default 0,\\n    BottleContactTEXTRES1    text,\\n    BottleContactTEXTRES2    text,\\n    BottleContactTEXTRES3    text\\n);\\nCREATE TABLE MassSendContactTable\\n(\\n    UsrName    text not null primary key on conflict replace,\\n    Detail     text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text\\n);\\nCREATE TABLE MessageBizExtTable\\n(\\n    chatUsername            text,\\n    msgLocalId              integer,\\n    msgType                 integer,\\n    msgInnerType            integer,\\n    bizId                   text,\\n    msgExtColInt1           integer,\\n    msgExtColInt2           integer,\\n    msgExtColString1        text,\\n    msgExtColString2        text,\\n    _packed_DBMessageBizExt blob\\n);\\nCREATE TABLE EmoticonPackage05\\n(\\n    EmoticonPackageId          text not null primary key on conflict replace,\\n    EmoticonPackageName        text,\\n    EmoticonPackageIconUrl     text,\\n    EmoticonPackagePannelUrl   text,\\n    EmoticonPackagePStatus     integer default 0,\\n    EmoticonPackageDLStatus    integer default 0,\\n    EmoticonPackageInstallTime integer default 0,\\n    EmoticonPackageRemoveTime  integer default 0,\\n    ConIntRes1                 integer default 0,\\n    ConIntRes2                 integer default 0,\\n    ConIntRes3                 integer default 0,\\n    ConStrRes1                 text,\\n    ConStrRes2                 text,\\n    ConStrRes3                 text\\n);\\nCREATE TABLE Chat\\n(\\n    TableVer   integer default 1,\\n    MesLocalID integer primary key autoincrement,\\n    MesSvrID   bigint  default 0,\\n    CreateTime integer default 0,\\n    Message    text,\\n    Status     integer default 0,\\n    ImgStatus  integer default 0,\\n    Type       integer,\\n    Des        integer\\n);\\nCREATE TABLE ChatExt2\\n(\\n    MesLocalID  integer primary key,\\n    msgFlag     integer default 0,\\n    ConIntRes2  integer default 0,\\n    ConIntRes3  integer default 0,\\n    MsgSource   text,\\n    MsgIdentify text,\\n    ConStrRes1  text,\\n    ConStrRes2  text,\\n    ConStrRes3  text,\\n    ConIntRes1  integer default 0\\n);\\n```\\n\\n## `message_%d.sqlite`\\n\\n```sql\\nCREATE TABLE Chat_ID\\n(\\n    CreateTime INTEGER DEFAULT 0,\\n    Des        INTEGER,\\n    ImgStatus  INTEGER DEFAULT 0,\\n    MesLocalID INTEGER PRIMARY KEY AUTOINCREMENT,\\n    Message    TEXT,\\n    MesSvrID   INTEGER DEFAULT 0,\\n    Status     INTEGER DEFAULT 0,\\n    TableVer   INTEGER DEFAULT 1,\\n    Type       INTEGER\\n);\\nCREATE TABLE ChatExt2_ID\\n(\\n    ConIntRes1  INTEGER DEFAULT 0,\\n    ConIntRes2  INTEGER DEFAULT 0,\\n    ConIntRes3  INTEGER DEFAULT 0,\\n    ConStrRes1  TEXT,\\n    ConStrRes2  TEXT,\\n    ConStrRes3  TEXT,\\n    MesLocalID  INTEGER PRIMARY KEY,\\n    msgFlag     INTEGER DEFAULT 0,\\n    MsgIdentify TEXT,\\n    MsgSource   TEXT\\n);\\nCREATE TABLE Hello_ID\\n(\\n    ConIntRes1 INTEGER DEFAULT 0,\\n    ConIntRes2 INTEGER DEFAULT 0,\\n    ConIntRes3 INTEGER DEFAULT 0,\\n    ConStrRes1 TEXT,\\n    ConStrRes2 TEXT,\\n    ConStrRes3 TEXT,\\n    CreateTime INTEGER DEFAULT 0,\\n    Des        INTEGER,\\n    ImgStatus  INTEGER DEFAULT 0,\\n    MesLocalID INTEGER PRIMARY KEY AUTOINCREMENT,\\n    Message    TEXT,\\n    MesSvrID   INTEGER DEFAULT 0,\\n    OpCode     INTEGER DEFAULT 0,\\n    Status     INTEGER DEFAULT 0,\\n    TableVer   INTEGER DEFAULT 1,\\n    Type       INTEGER,\\n    UsrName    TEXT\\n);\\n```\\n\\n# \u53c2\u8003\\n\\n- https://www.jianshu.com/p/07a8d87e698b"},{"id":"how-i-build-my-site","metadata":{"permalink":"/story/how-i-build-my-site","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-06-30-how-i-build-my-site.md","source":"@site/story/2021/2021-06-30-how-i-build-my-site.md","title":"\u6211\u7684\u7ad9\u70b9\u662f\u5982\u4f55\u6784\u5efa\u7684\uff1f\uff01","description":"\u6211\u7684\u7ad9\u70b9 wener.me \u548c\u56fd\u5185\u5907\u6848\u955c\u50cf wener.tech \u6784\u5efa\u8fc7\u7a0b\u548c\u903b\u8f91\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[],"readingTime":4.08,"truncated":true,"authors":[],"prevItem":{"title":"macOS \u5fae\u4fe1\u5907\u4efd\u539f\u7406","permalink":"/story/macos-wechat-backup"},"nextItem":{"title":"\u65e5\u5e38\u5de5\u4f5c\u4e4b\u5916","permalink":"/story/out-of-daily-work"}},"content":"\u6211\u7684\u7ad9\u70b9 [wener.me](https://wener.me) \u548c\u56fd\u5185\u5907\u6848\u955c\u50cf [wener.tech](https://wener.tech) \u6784\u5efa\u8fc7\u7a0b\u548c\u903b\u8f91\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## Docusaurus\\n\\n\u7ad9\u70b9\u57fa\u4e8e [docusaurus](https://docusaurus.io/) 2.0-alpha \u6784\u5efa\uff0cdocusaurus \u5904\u4e8e 2.0-alpha \u5df2\u7ecf\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u4e86\uff0c\u6700\u8fd1\u8fdb\u5165\u4e86 beta \u9636\u6bb5\u3002\u65e9\u671f\u5bf9\u4e2d\u6587\u652f\u6301\u6709\u7f3a\u9677\uff0c\u63d0\u4ea4\u51e0\u4e2a\u4fee\u590d\u540e\u90fd\u80fd\u6b63\u5e38\u4f7f\u7528\u4e86\u3002\\n\\ndocusaurus \u6709 blog \u548c doc \u7684\u6982\u5ff5\u3002\\ndocusaurus \u672c\u8eab\u662f facebook \u4e3a\u4e86\u652f\u6301\u6280\u672f\u6587\u6863\u5b58\u5728\u7684\uff0c\u56e0\u6b64\u5bf9 doc \u7684\u652f\u6301\u975e\u5e38\u597d\uff0cdoc \u4e3b\u8981\u7279\u6027\\n\\n- \u591a\u7248\u672c\\n- \u591a\u8bed\u8a00\\n- \u96c6\u6210 algolia \u641c\u7d22\\n- \u81ea\u5b9a\u4e49\u63d2\u4ef6\\n- mdx\\n- \u652f\u6301\u66ff\u6362\u5185\u7f6e \u7ec4\u4ef6\\n\\ndoc \u9ed8\u8ba4\u76ee\u5f55\u4e3a /docs\uff0c\u53ef\u81ea\u5b9a\u4e49\u3002\\n\\nblog \u4e3a\u5355\u7bc7\u6587\u7ae0\uff0c\u9ed8\u8ba4\u76ee\u5f55\u4e3a /blog\uff0c\u652f\u6301\u81ea\u5b9a\u4e49 slug\uff0c\u9ed8\u8ba4 slug \u4e3a\u6cdb\u5316\u540e\u7684\u6587\u4ef6\u540d\u3002\\n\\n\\n```bash\\n# \u65b0\u9879\u76ee\u521d\u59cb\u5316\\nnpx @docusaurus/init@latest init my-website classic\\n```\\n\\n## \u6784\u5efa\\n\\n\u5f52\u6839\u7ed3\u5e95\uff0cdocusaurus \u662f\u4e00\u4e2a npm \u5e93\uff0c\u56e0\u6b64\u5b9e\u73b0\u81ea\u5b9a\u4e49\u9700\u8981\u57fa\u4e8e\u4e00\u4e2a node \u9879\u76ee\u3002\\n\u7ad9\u70b9\u7684\u6784\u5efa\u9879\u76ee\u4f4d\u4e8e [site](https://github.com/wenerme/wener/tree/master/site) \u76ee\u5f55\u4e0b\uff0c\u6784\u5efa\u8fc7\u7a0b\u4e3a\\n\\n- \u540c\u6b65 /story \u5230 /site/story\\n- \u540c\u6b65 /notes \u5230 /site/notes\\n\\n:::tip\\n\\n\u540c\u6b65\u8fc7\u7a0b\u4f1a\u8fc7\u6ee4\u90e8\u5206 md \u6587\u4ef6\uff0cdocusaurus \u9ed8\u8ba4\u4f1a\u5904\u7406\u6240\u6709 md \u6587\u4ef6\uff0c\u4f46\u662f wenerme/wener \u4e2d\u7684\u90e8\u5206 md \u6587\u4ef6\u662f\u4e0d\u5e0c\u671b\u88ab\u6784\u5efa\u7684\u3002\\n\u56e0\u6b64\u6211\u7684\u8fc7\u6ee4\u903b\u8f91\u662f\u53ea\u5305\u542b\u6587\u4ef6\u5f00\u5934\u6709 frontmatter \u7684\uff0c\u4e5f\u5c31\u662f\u6587\u4ef6\u5f00\u5934\u4e3a `---`\u3002\\n\\n:::\\n\\n- \u9884\u5904\u7406 markdown\\n  - \u4f8b\u5982 \u5f15\u7528\u5916\u90e8 markdown [story/project/bbvm.md](https://raw.githubusercontent.com/wenerme/wener/master/story/project/bbvm.md)\\n- \u81ea\u5b9a\u4e49\u811a\u672c\u751f\u6210 sidebar\\n  - docusaurus \u7684 sidebar \u9700\u8981\u624b\u52a8\u4e66\u5199\uff0c\u4f46\u6587\u6863\u8fc7\u591a\u4e14\u6bcf\u6b21\u65b0\u589e\u540e\u90fd\u9700\u8981\u6dfb\u52a0\uff0c\u56e0\u6b64\u5b9e\u73b0\u4e86\u811a\u672c\u81ea\u52a8\u626b\u63cf\\n  - [site/sidebars.js#L48-L65](https://github.com/wenerme/wener/blob/f34b8624b8cc55e539af282d275d4805650aee41/site/sidebars.js#L48-L65)\\n- \u7ad9\u70b9\u6784\u5efa\\n  - \u6784\u5efa\u540e\u4f1a\u751f\u6210\u5230 /build \u76ee\u5f55\\n\\n## \u81ea\u52a8\u5316\u90e8\u7f72\\n\\n\u7ad9\u70b9\u57fa\u4e8e github [action](https://github.com/wenerme/wener/blob/master/.github/workflows/build.yaml) \u8fdb\u884c\u6784\u5efa\uff0c\u6bcf\u6b21\u63a8\u9001\u540e\u4f1a\u8fdb\u884c\u6784\u5efa\uff0c\u4f1a\u5c06\u6784\u5efa\u7684\u5185\u5bb9\u63a8\u9001\u5230 [gh-pages](https://github.com/wenerme/wener/deployments) \u5206\u652f\u3002\\n\u63a8\u9001\u7684\u5185\u5bb9\u540c\u65f6\u5305\u542b\u4e86 CNAME\uff0c\u5b9e\u73b0\u4e86 wener.me \u57df\u540d\u7684\u6620\u5c04\u3002\\n\\n\u5b8c\u6210 wener.me \u63a8\u9001\u540e\u4fee\u6539 CNAME \u4e3a wener.tech \u63a8\u9001\u5230 [wenerme/wener.tech](https://github.com/wenerme/wener.tech)\uff0c\u5b9e\u73b0 wener.tech \u57df\u540d\u7684\u6620\u5c04\u3002\\n\\n## \u57df\u540d\u914d\u7f6e\\n\\n.me \u57df\u540d\u5728\u56fd\u5185\u65e0\u6cd5\u5907\u6848\uff0c\u56e0\u6b64\u76f4\u63a5\u6258\u7ba1\u5728\u4e86 [cloudflare.com](https://cloudflare.com)\uff0c\u6dfb\u52a0\u4e24\u4e2a\u8bb0\u5f55\\n\\n```\\nA wener.me 185.199.109.153\\nA wener.me 185.199.108.153\\n```\\n\\n\u81f3\u6b64 wener.me \u53ef\u4ee5\u88ab\u8bbf\u95ee\u3002\\n\\n\u56e0\u4e3a cloudflare \u5728\u56fd\u5185\u8bbf\u95ee\u901f\u5ea6\u8f83\u6162\uff0c\u4e14 .me \u65e0\u6cd5\u5907\u6848\u7684\u539f\u56e0\uff0c\u56e0\u6b64\u955c\u50cf\u4e86 wener.tech\u3002\\n\\n:::caution\\n\\n\u5fae\u4fe1\u4f1a\u62e6\u622a\u6240\u6709\u6ca1\u6709\u5907\u6848\u7684\u57df\u540d\uff0c\u63d0\u793a\u7528\u6237\u662f\u5426\u524d\u5f80\uff0c\u975e\u5e38\u5f71\u54cd\u4f53\u9a8c\u3002\\n\\n:::\\n\\nwener.tech \u4f7f\u7528\u963f\u91cc\u4e91 dcdn/\u5168\u7ad9\u52a0\u901f \u5b9e\u73b0\uff0c\u6dfb\u52a0\u57df\u540d www.wener.tech \uff0c\u6307\u5411 185.199.108.153 \u548c 185.199.109.153\u3002\\n\u6dfb\u52a0\u5b8c\u6210\u540e\u524d\u5f80\u57df\u540d\u89e3\u6790\uff0c\u5c06 www.wener.tech CNAME \u5230 www.wener.tech.w.kunluncan.com \u3002\u5b8c\u6210\u540e\u5efa\u8bae\u5f00\u542f https\u3002\\n\\n\u81f3\u6b64 www.wener.tech \u53ef\u4ee5\u88ab\u8bbf\u95ee\u3002\\n\\n:::caution dcdn \u7684 \u5751\\n\\n- \u963f\u91cc\u7684 dcdn \u5b9e\u73b0\u548c cloudflare \u7c7b\u4f3c\u7684\u529f\u80fd\uff0c\u4f46\u4f53\u9a8c\u5dee\u5f88\u591a\\n- dcdn \u901a\u8fc7 CNAME \u5b9e\u73b0\uff0c\u4e3b\u57df\u540d wener.tech \u65e0\u6cd5\u8fdb\u884c CNAME\uff0c\u56e0\u6b64\u53ea\u80fd\u4f7f\u7528 www.wener.tech\\n- \u8bbf\u95ee wener.tech \u4f1a\u53d1\u73b0\u5de6\u4fa7\u4fa7\u8fb9\u680f\u5361\u987f\uff0c\u5e94\u8be5\u662f dcdn \u7684\u201c\u4f18\u5316\u201d\u5bfc\u81f4\u7684\\n  - wener.me \u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\\n\\n:::\\n\\n## \u603b\u7ed3\\n\\n\u57fa\u4e8e github action + cloudflare \u53ef\u4ee5\u5f88\u5bb9\u6613\u5b9e\u73b0\u201c\u514d\u8d39\u201d\u7684\u9759\u6001\u7ad9\u70b9\u6258\u7ba1\u3002\\n\u5982\u679c\u9700\u8981\u52a8\u6001\u80fd\u529b\uff0c\u53ef\u4ee5\u914d\u5408 [next.js](https://github.com/vercel/next.js)+[vercel](https://vercel.com/) \u5b9e\u73b0\u3002\u4f8b\u5982 [apis.wener.me](https://apis.wener.me)\u3002\\n\\ncloudflare \u770b\u4f3c\u6ca1\u8d77\u4ec0\u4e48\u4f5c\u7528\uff0c\u4f46\u662f\u5374\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3a\u9ed8\u8ba4 github pages \u548c vercel \u5728\u56fd\u5185\u90fd\u65e0\u6cd5\u8bbf\u95ee\uff0c\u6216\u8bbf\u95ee\u90fd\u662f\u95f4\u6b47\u6027\u80fd\u901a\uff0c\u4f7f\u7528 cloudflare \u867d\u7136\u901f\u5ea6\u504f\u6162\uff0c\u4f46\u81f3\u5c11\u90fd\u80fd\u8bbf\u95ee\u3002"},{"id":"out-of-daily-work","metadata":{"permalink":"/story/out-of-daily-work","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-07-22-out-of-daily-work.md","source":"@site/story/2021/2021-07-22-out-of-daily-work.md","title":"\u65e5\u5e38\u5de5\u4f5c\u4e4b\u5916","description":"\u5de5\u4f5c\u662f\u6c38\u8fdc\u4e5f\u505a\u4e0d\u5b8c\u7684\uff0c\u4f46\u5728\u8fd9\u6761\u8d70\u4e0d\u5b8c\u7684\u8def\u4e0a\u4e5f\u8981\u591a\u770b\u770b\u6cbf\u9014\u7684\u98ce\u666f\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[],"readingTime":0.625,"truncated":true,"authors":[],"prevItem":{"title":"\u6211\u7684\u7ad9\u70b9\u662f\u5982\u4f55\u6784\u5efa\u7684\uff1f\uff01","permalink":"/story/how-i-build-my-site"},"nextItem":{"title":"K3S vs K0S","permalink":"/story/k3s-vs-k0s"}},"content":"> \u5de5\u4f5c\u662f\u6c38\u8fdc\u4e5f\u505a\u4e0d\u5b8c\u7684\uff0c\u4f46\u5728\u8fd9\u6761\u8d70\u4e0d\u5b8c\u7684\u8def\u4e0a\u4e5f\u8981\u591a\u770b\u770b\u6cbf\u9014\u7684\u98ce\u666f\u3002\\n\\n\x3c!-- more --\x3e\\n\\n**\u53d1\u73b0\u548c\u89c2\u5bdf**\\n\\n- \u68c0\u67e5\u90ae\u4ef6\\n  - News\\n  - Mail list\\n- \u6d4f\u89c8 HN\\n- \u6d4f\u89c8 Reddit\\n- \u6d4f\u89c8 Twitter\\n- \u6d4f\u89c8 IRC - \u770b\u6709\u4ec0\u4e48\u503c\u5f97\u6ce8\u610f\u7684\\n- \u6d4f\u89c8 Telegram \u770b\u770b\u6709\u8da3\u7684\u4e8b\u60c5\\n- \u8fc7\u6389\u5fae\u4fe1\u672a\u8bfb\u6d88\u606f\\n- \u68c0\u67e5 Github\\n  - \u5173\u6ce8\u95ee\u9898\u662f\u5426\u6709\u6240\u53d8\u5316\u548c\u8fdb\u5c55\\n  - \u5173\u6ce8\u9879\u76ee\u662f\u5426\u6709\u65b0\u7248\u672c\\n    - \u66f4\u65b0 AlpineLinux \u5305\\n\\nBack to work."},{"id":"k3s-vs-k0s","metadata":{"permalink":"/story/k3s-vs-k0s","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-07-25-k3s-vs-k0s.md","source":"@site/story/2021/2021-07-25-k3s-vs-k0s.md","title":"K3S vs K0S","description":"| vs.               | k0s                               | k3s                                   |","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"label":"DevOps","permalink":"/story/tags/dev-ops"}],"readingTime":6.135,"truncated":true,"authors":[],"prevItem":{"title":"\u65e5\u5e38\u5de5\u4f5c\u4e4b\u5916","permalink":"/story/out-of-daily-work"},"nextItem":{"title":"PostgreSQL ORDER BY+LIMIT \u65f6\u7684\u7d22\u5f15\u9009\u62e9","permalink":"/story/postgresql-use-wrong-index-with-order-and-limit"}},"content":"| vs.               | k0s                               | k3s                                   |\\n| ----------------- | --------------------------------- | ------------------------------------- |\\n| since             | 2020-06                           | 2019-03                               |\\n| by                | Mirants                           | Rancher/SUSE                          |\\n| Governance        | Mirants                           | CNCF                                  |\\n| Github            | [k0sproject/k0s]                  | [k3s-io/k3s]                          |\\n| Stars             | [![][k0s-stars]][k0sproject/k0s]  | [![][k3s-stars]][k3s-io/k3s]          |\\n| Issues            | [![][k0s-issues]][k0sproject/k0s] | [![][k3s-issues]][k3s-io/k3s]         |\\n| CNI               | kube-router,calico                | flannel                               |\\n| CRI               | containerd                        | containerd                            |\\n| CSI               | OpenEBS                           | local-path-provisioner                |\\n| Windows           | \u2705 - calico                       | \u274c                                    |\\n| Arch              | amd64,arm,arm64                   | amd64,arm,arm64                       |\\n| LoadBalancer      | n/a                               | klipper-lb                            |\\n| Ingress           | n/a                               | traefik                               |\\n| Controller-Worker | [konnectivity]                    | [remotedialer] - WebSocket \u53cd\u5411\u4ee3\u7406   |\\n| \u6587\u6863              | \u2b50\ufe0f\u2b50\ufe0f                            | \u2b50\ufe0f\u2b50\ufe0f                                |\\n| \u6210\u719f              | \u2b50\ufe0f\u2b50\ufe0f                            | \u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f                             |\\n| Pod CIDR          | 10.244.0.0/16                     | 10.42.0.0/16                          |\\n| Service CIDR      | 10.96.0.0/12                      | 10.43.0.0/16                          |\\n| CoreDNS           | 10.96.0.10                        | 10.43.0.10                            |\\n| configuration     | /etc/k0s/k0s.yaml                 | /etc/rancher/k3s/config.yaml          |\\n| registry          | /etc/k0s/k0s.yaml                 | /etc/rancher/k3s/registry.yaml        |\\n| data-dir          | /var/lib/k0s                      | /var/lib/rancher/k3s                  |\\n| kubeconfig        | /var/lib/k0s/pki/admin.conf       | /etc/rancher/k3s/k3s.yaml             |\\n| manifest          | /var/lib/k0s/manifests            | /var/lib/rancher/k3s/server/manifests |\\n| local storage     | /var/openebs/local                | /var/lib/rancher/k3s/storage/         |\\n\\n\x3c!-- more --\x3e\\n\\n- [k0s]\\n  - CIS security benchmark\\n  - \u7b26\u5408 FIPS 140-2 \u8981\u6c42\\n  - bundled\\n    - openebs\\n      - openebs-hostpath -> /var/openebs/local\\n    - kube-router\\n- [k3s]\\n  - CNCF \u9879\u76ee - \u8131\u79bb\u4e86 rancher\\n  - bundled\\n    - helm-controller - \u652f\u6301\u90e8\u7f72 helm chart, CDR \u63a7\u5236\\n    - traefik - \u63d0\u4f9b ingress \u80fd\u529b - \u901a\u8fc7 helm \u90e8\u7f72\\n    - local-path-provisioner - \u63d0\u4f9b\u57fa\u4e8e\u672c\u5730\u76ee\u5f55\u7684\u5b58\u50a8\u7c7b\\n      - \u9ed8\u8ba4 /var/lib/rancher/k3s/storage\\n    - klipper-lb - \u57fa\u4e8e iptable \u8f6c\u53d1\u7684\u8d1f\u8f7d\u5747\u8861\\n\\n[k0s-issues]: https://img.shields.io/github/issues/k0sproject/k0s\\n[k0s-stars]: https://img.shields.io/github/stars/k0sproject/k0s\\n[k0s]: https://wener.me/notes/devops/kubernetes/distro/k0s\\n[k0sproject/k0s]: https://github.com/k0sproject/k0s\\n[k3s-io/k3s]: https://github.com/k3s-io/k3s\\n[k3s-issues]: https://img.shields.io/github/issues/k3s-io/k3s\\n[k3s-stars]: https://img.shields.io/github/stars/k3s-io/k3s\\n[k3s]: https://wener.me/notes/devops/kubernetes/distro/k3s\\n[k0s]: https://wener.me/notes/devops/kubernetes/distro/k0s\\n[remotedialer]: https://github.com/rancher/remotedialer\\n[konnectivity]: https://kubernetes.io/docs/tasks/extend-kubernetes/setup-konnectivity/\\n\\n:::caution\\n\\n- k3s \u9ed8\u8ba4\u5305\u542b\u8f83\u591a\u7ec4\u4ef6\uff0c\u90e8\u7f72\u540e \u53ef\u4f7f\u7528\u6027 \u66f4\u9ad8\uff0c\u4f46\u90e8\u5206\u7ec4\u4ef6\uff08 traefik,klipper-lb,local-path-provisioner \uff09\u4e0d\u5efa\u8bae\u751f\u4ea7\u4f7f\u7528\uff0c\u63d0\u4f9b\u8fd9\u4e9b\u7ec4\u4ef6\u66f4\u591a\u662f\u4e3a\u4e86\u4fdd\u8bc1\u529f\u80fd\u5b8c\u6574\uff0c\u5f00\u7bb1\u5373\u7528\u3002\\n- \u4f7f\u7528 k3s \u4e0d\u63a8\u8350\u4f7f\u7528\u5185\u7f6e traefik \u548c klipper-lb\\n  - ingress \u5efa\u8bae\u81ea\u884c\u5b89\u88c5 - \u6bd4\u8f83\u91cd\u8981\u7684\u6838\u5fc3\u7ec4\u4ef6\\n  - \u5efa\u8bae\u4f7f\u7528 metallb \u66ff\u4ee3 klipper-lb\\n- \u56e0\u4e3a Controller-Worker \u7f51\u7edc\u4e0d\u540c\uff0ck3s \u548c k0s \u65e0\u6cd5\u6df7\u5408\u4f7f\u7528\\n\\n:::\\n\\n**\u547d\u4ee4\u5bf9\u6bd4**\\n\\n| k0s                   | k3s                                            |\\n| --------------------- | ---------------------------------------------- |\\n| k0s systinfo          | ./contrib/util/check-config.sh                 |\\n| k0s backup            | k3s etcd-snapshot                              |\\n| k0s restore           | k3s server --cluster-reset-restore-path        |\\n| k0s controller        | k3s server                                     |\\n| k0s worker            | k3s agent                                      |\\n| n/a                   | k3s crictl                                     |\\n| k0s install           | https://get.k3s.io \u4f1a\u5b89\u88c5 systemd, openrc \u670d\u52a1 |\\n| k0s reset             | n/a                                            |\\n| k0s kubeconfig create | n/a                                            |\\n| k0sctl                | n/a                                            |\\n| k0sctl apply          | ~autok3s                                       |\\n| k0sctl backup         | n/a                                            |\\n| ---                   | ---                                            |\\n| k0s kubectl           | k3s kubectl                                    |\\n| k0s ctr               | k3s ctr                                        |\\n\\n## \u5982\u4f55\u9009\u62e9\\n\\n**\u76f8\u540c\u70b9**\\n\\n- \u9762\u5411\u76f8\u540c\u7528\u6237\u7fa4\u4f53\u548c\u4f7f\u7528\u573a\u666f\uff0c\u975e\u5e38\u7c7b\u4f3c\\n- \u6838\u5fc3\u90fd\u4f7f\u7528 kine - \u533a\u522b\u4e0d\u5927\\n- \u90fd\u6709\u5927\u7684\u4f01\u4e1a\u652f\u6491\u5f00\u53d1\\n\\n**\u9009\u62e9\u8003\u91cf**\\n\\n- k3s\\n  - \u66f4\u6210\u719f - \u5b58\u5728\u65f6\u95f4\u66f4\u957f\uff0c\u4f7f\u7528\u7684\u66f4\u72ec\u7acb\\n  - \u793e\u533a\u66f4\u5927 - \u793e\u533a\u8fd8\u4e0e rancher\u3001rke \u6709\u4ea4\u96c6\\n  - \u4e2d\u6587\u5316\u793e\u533a\u53cb\u597d\\n- k0s\\n  - \u66f4\u65b0 - 2020 \u5e74 - \u76ee\u524d\u5df2\u7ecf\u6210\u719f\uff0c\u53ef\u4ee5\u7528\u4e8e\u751f\u4ea7\\n  - \u7528\u6237\u4f53\u9a8c\u66f4\u597d\\n  - **k0sctl**\\n    - \u80fd\u66f4\u597d\u7684\u8f85\u52a9\u7ef4\u62a4\u66f4\u591a\u7684\u96c6\u7fa4\uff0c\u51cf\u5c11\u5bf9 \u811a\u672c/ansible \u7684\u4f9d\u8d56\u3002\\n    - \u66f4\u597d\u5347\u7ea7\\n    - \u66f4\u597d\u5907\u4efd\\n\\n## \u7ec4\u4ef6\u7b80\u4ecb\\n\\n- [kine](https://wener.me/notes/devops/kubernetes/distro/kine)\\n  k3s \u548c k0s \u6700\u6838\u5fc3\u7ec4\u4ef6\\n  - \u63d0\u4f9b etcd \u80fd\u529b\\n  - \u540e\u7aef\u652f\u6301 etcd,sqlite,mysql,postgresql,dqlite\\n- [traefik](https://wener.me/notes/devops/kubernetes/network/traefik-ingress)\\n  - \u63d0\u4f9b Ingress \u80fd\u529b\\n- [k3s-io/helm-controller](https://github.com/k3s-io/helm-controller)\\n  - \u652f\u6301\u90e8\u7f72 helm chart\\n  - \u901a\u8fc7 CDR \u63a7\u5236\\n- CNI - \u5bb9\u5668\u7f51\u7edc\\n  - [flannel](https://wener.me/notes/devops/kubernetes/network/flannel/)\\n  - [calico](https://wener.me/notes/devops/kubernetes/network/calico/)\\n  - [kube-router](https://wener.me/notes/devops/kubernetes/network/kube-router/)\\n- CSI - \u5bb9\u5668\u5b58\u50a8\\n  - [local-path-provisioner](https://wener.me/notes/devops/kubernetes/storage/local-path-provisioner/)\\n    - \u57fa\u4e8e\u672c\u5730\u8def\u5f84\u63d0\u4f9b volume\\n  - [openebs](https://wener.me/notes/devops/kubernetes/storage/openebs/)\\n- LoadBalancer\\n  - [k3s-io/klipper-lb](https://github.com/k3s-io/klipper-lb)\\n    - \u57fa\u4e8e iptable \u63d0\u4f9b ClusterIP \u80fd\u529b\\n  - [metallb](https://wener.me/notes/devops/kubernetes/network/metallb/)\\n\\n## \u53c2\u8003\\n\\n- [certified-kubernetes-installer](https://landscape.cncf.io/card-mode?category=certified-kubernetes-installer&grouping=category)\\n\\n# \u4e3a\u4ec0\u4e48\u4f1a\u5b58\u5728\u4e0d\u540c\u53d1\u884c\u7248\\n\\nK8S \u4f5c\u4e3a\u6700\u539f\u59cb\u7684\u9879\u76ee\uff0c\u6d3e\u751f\u51fa\u6765\u5f88\u591a \u5206\u652f/\u53d1\u5e03\u7248\u3002\\n\\nKubernetes \u7684\u6838\u5fc3\u80fd\u529b\u4e3a\u8d44\u6e90\u8c03\u5ea6\uff0c\u4e3b\u8981\u8d44\u6e90\u4e3a Pod/\u5bb9\u5668\u7ec4/\u8ba1\u7b97\u8d44\u6e90\u3002\\n\u56e0\u4e3a\u662f\u5206\u5e03\u5f0f\u591a\u8282\u70b9\uff0c\u6240\u4ee5\u5bf9\u7f51\u7edc\u6709\u8981\u6c42\u3002Pod \u8c03\u5ea6\u4e3b\u8981\u63d0\u4f9b\u8ba1\u7b97\u80fd\u529b\uff0c\u5b9e\u9645\u4f7f\u7528\u8fd8\u4f1a\u9700\u8981\u5b58\u50a8\u80fd\u529b\u3002\\n\u4e5f\u5c31\u662f\u8bf4 Kubernetes \u6d89\u53ca\u5230\u6838\u5fc3\u7684\u4e09\u5143\u7d20\\n\\n- \u8ba1\u7b97\\n- \u7f51\u7edc\\n- \u5b58\u50a8\\n\\nKubernetes \u6838\u5fc3\u8c03\u5ea6\u8ba1\u7b97\u8d44\u6e90\uff0c\u4f46\u5bf9\u4e8e\u7f51\u7edc\u548c\u5b58\u50a8\u662f \u65e0\u610f\u89c1/Unopinioned \uff0c\u4f46\u5b9e\u9645\u90e8\u7f72\u4f7f\u7528\u65f6\u8fd9\u65f6\u5019\u53c8\u4e0d\u53ef\u907f\u514d\u7684\u8981\u9762\u5bf9\u8fd9\u4e9b\u95ee\u9898\u3002\\n\u56e0\u6b64\u4e0d\u540c\u7684 \u53d1\u5e03\u7248/Distribution \u5c31\u662f\u5bf9\u8fd9\u4e9b\u95ee\u9898\u4e0d\u540c\u7684\u770b\u6cd5\u3002\\n\\n## K8S \u8981\u6c42\\n\\nKubernetes \u7531 Google \u5f00\u53d1\uff0c\u4f46\u4e0d\u662f\u6240\u6709\u4eba\u90fd\u6709\u90a3\u4e48\u5927\u89c4\u6a21\u7684\u95ee\u9898\uff0c\u800c\u5927\u591a\u6570\u65f6\u5019\u90fd\u662f\u5c0f\u89c4\u6a21\uff0c\u5148\u8ba9 K8S \u201c\u8dd1\u8d77\u6765\u201d\u3002\\n\\nKubernetes \u81ea\u8eab\u56e0\u4e3a\u5bf9\u57fa\u7840\u8bbe\u65bd\u5c42 \u65e0\u610f\u89c1/Unopinioned\uff0c\u56e0\u6b64\u9ed8\u8ba4\u662f\u6ca1\u6709\u90e8\u7f72\u5de5\u5177\uff0c\u53ea\u6709\u8981\u6c42\uff1a\\n\\n- \u8981\u6c42\u8282\u70b9\u8fd0\u884c\u5728\u5e73\u5766\u7f51\u7edc\\n- \u8981\u6c42 etcd \u80fd\u529b\u7684\u72b6\u6001\u5b58\u50a8\\n- \u8981\u6c42 cloud-controller \u63d0\u4f9b\u8282\u70b9\u4fe1\u606f\\n- \u8981\u6c42 \u5bb9\u5668\u8fd0\u884c\u65f6\\n\\n\u5728\u8fd9\u4e9b\u57fa\u7840\u4e4b\u4e0a\uff0cKubernetes \u63d0\u4f9b\u57fa\u4e8e\u72b6\u6001\u7684 \u63a5\u53e3 \u8fdb\u884c\u8d44\u6e90\u8c03\u5ea6\u3002\\n\\n## K8S \u90e8\u7f72\\n\\n\u9664\u4e86\u6ee1\u8db3 K8S \u7684\u8981\u6c42\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u65f6\u8fd8\u5e0c\u671b\u80fd\u65b9\u4fbf\u5feb\u6377\u7684\u7ba1\u7406\u90e8\u7f72\u3002\\nK8S \u63d0\u4f9b\u4e86 kubeadm \u8fdb\u884c\u5b89\u88c5\uff0c\u4e0d\u540c\u7684\u53d1\u5e03\u7248\u4e5f\u9700\u8981\u63d0\u4f9b\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f46\u5de5\u5177\u533a\u5206\u4e3a\u4e24\u90e8\u5206\\n\\n1. \u8fdc\u7a0b\u5f00\u901a\u90e8\u7f72\\n   - SSH\\n   - \u63a7\u5236\u8282\u70b9\u901a\u8fc7\u5de5\u5177\u90e8\u7f72\u5230\u591a\u4e2a\u8282\u70b9\\n2. \u5f00\u901a\u90e8\u7f72\u7684\u63d0\u524d\u51c6\u5907\\n   - CA \u8bc1\u4e66\\n   - ETCD/\u5b58\u50a8\u521d\u59cb\u5316\\n   - \u7f51\u7edc\u8bbe\u7f6e\\n   - Bootstrap\\n\\nkubeadm \u548c k0s, k3s \u90fd\u5c5e\u4e8e\u7b2c\u4e8c\u79cd\u573a\u666f\uff0c\u7b2c\u4e00\u79cd\u573a\u666f\u7684\u5de5\u5177\u4f8b\u5982\\n\\n- autok3s\\n- rke\\n- ansible"},{"id":"postgresql-use-wrong-index-with-order-and-limit","metadata":{"permalink":"/story/postgresql-use-wrong-index-with-order-and-limit","editUrl":"https://github.com/wenerme/wener/edit/master/story/2021/2021-10-11-postgresql-use-wrong-index-with-order-and-limit.md","source":"@site/story/2021/2021-10-11-postgresql-use-wrong-index-with-order-and-limit.md","title":"PostgreSQL ORDER BY+LIMIT \u65f6\u7684\u7d22\u5f15\u9009\u62e9","description":"\u5f53\u4f7f\u7528 ORDER BY+LIMIT \u65f6 PostgreSQL \u53ef\u80fd\u4f1a\u9009\u62e9\u66f4\u5dee\u7684\u6267\u884c\u65b9\u5f0f\uff0c\u6570\u636e\u91cf\u5927\u65f6\uff0c\u6267\u884c\u6548\u7387\u76f8\u5dee\u6210\u767e\u4e0a\u5343\u500d\u3002","date":"2022-02-21T07:56:38.114Z","formattedDate":"February 21, 2022","tags":[{"label":"PostgreSQL","permalink":"/story/tags/postgre-sql"},{"label":"DevOps","permalink":"/story/tags/dev-ops"}],"readingTime":4.85,"truncated":true,"authors":[],"prevItem":{"title":"K3S vs K0S","permalink":"/story/k3s-vs-k0s"},"nextItem":{"title":"\u4e00\u79cd\u7b80\u5355\u7684\u538b\u7f29\u7b97\u6cd5","permalink":"/story/simple-compress-algorithem"}},"content":"\u5f53\u4f7f\u7528 ORDER BY+LIMIT \u65f6 PostgreSQL \u53ef\u80fd\u4f1a\u9009\u62e9\u66f4\u5dee\u7684\u6267\u884c\u65b9\u5f0f\uff0c\u6570\u636e\u91cf\u5927\u65f6\uff0c\u6267\u884c\u6548\u7387\u76f8\u5dee\u6210\u767e\u4e0a\u5343\u500d\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u7d22\u5f15\u9009\u62e9\u95ee\u9898\\n\\n\u5047\u8bbe\u7ed3\u6784\u5982\u4e0b\\n\\n```sql\\ncreate table organizations(\\n  id bigserial primary key,\\n  jgmc text,\\n  clrq date\\n);\\n\\ncreate index if not exists idx_organizations_clrq on ic.organizations (clrq);\\ncreate index if not exists idx_organizations_jgmc_fts on ic.organizations using pgroonga (jgmc);\\n```\\n\\n\u67e5\u8be2\u901a\u5e38\u57fa\u4e8e clrq \u6392\u5e8f\uff0c\u4f46\u4f1a \u641c\u7d22 jgmc\u3002\\n\\n```sql\\nexplain analyse verbose\\nselect jgmc, clrq, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767e\u5ea6\'\\n  and clrq is not null\\norder by clrq desc\\nlimit 30 offset 0\\n;\\n```\\n\\n:::tip \u4f7f\u7528\u4e86 clrq is not null \u800c\u975e nulls last\\n\\n\u56e0\u4e3a\u7d22\u5f15\u9ed8\u8ba4\u9690\u542b nulls last\uff0c\u4e5f\u5c31\u662f\u8bf4 `order by clrq asc` \u9690\u542b `order by clrq asc nulls last`\u3002\\n\u5f53\u4f7f\u7528 `order by clrq desc nulls last` \u65f6\u4e0d\u4f1a\u9009\u62e9 `idx_organizations_clrq` \u7d22\u5f15\uff0c\u56e0\u4e3a nulls \u987a\u5e8f\u4e0d\u5339\u914d\u3002\\n\u56e0\u6b64\u4f7f\u7528 `is not null` \u6392\u9664\u3002\\n\\n:::\\n\\n\u7ed9\u51fa\u7684\u6267\u884c\u8ba1\u5212\u548c\u7ed3\u679c\u5982\u4e0b\\n\\n```\\nLimit  (cost=0.43..33132.51 rows=30 width=1284) (actual time=4678.918..13104.109 rows=6 loops=1)\\n\\"  Output: jgmc, clrq, id\\"\\n  ->  Index Scan Backward using idx_organizations_clrq on ic.organizations  (cost=0.43..4069724.46 rows=3685 width=1284) (actual time=4678.916..13104.101 rows=6 loops=1)\\n\\"        Output: jgmc, clrq, id\\"\\n        Index Cond: (organizations.clrq IS NOT NULL)\\n        Filter: (organizations.jgmc &@~ \'\u767e\u5ea6\'::text)\\n        Rows Removed by Filter: 3685166\\nPlanning Time: 0.826 ms\\nExecution Time: 13104.226 ms\\n```\\n\\n\u5b9e\u9645\u6267\u884c\u4e86 13s\uff0c\u9009\u62e9\u4e86 idx_organizations_clrq \u7d22\u5f15\u3002\\n\\n\u4f46\u5982\u679c\u53bb\u6389 LIMIT\uff1a\\n\\n```sql\\nexplain analyse verbose\\nselect jgmc, clrq, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767e\u5ea6\'\\n  and clrq is not null\\norder by clrq desc\\n-- limit 30 offset 0\\n;\\n```\\n\\n\u7ed9\u51fa\u7684\u8ba1\u5212\u5982\u4e0b\\n\\n```\\nSort  (cost=40479.53..40488.74 rows=3685 width=1284) (actual time=19.771..19.774 rows=6 loops=1)\\n\\"  Output: jgmc, clrq, id\\"\\n  Sort Key: organizations.clrq DESC\\n  Sort Method: quicksort  Memory: 36kB\\n  ->  Index Scan using idx_organizations_jgmc_fts on ic.organizations  (cost=0.00..40261.24 rows=3685 width=1284) (actual time=19.716..19.737 rows=6 loops=1)\\n\\"        Output: jgmc, clrq, id\\"\\n        Index Cond: (organizations.jgmc &@~ \'\u767e\u5ea6\'::text)\\n        Filter: (organizations.clrq IS NOT NULL)\\nPlanning Time: 0.706 ms\\nExecution Time: 21.824 ms\\n```\\n\\n\u5b9e\u9645\u6267\u884c\u53ea\u9700\u8981 21ms\uff0c\u9009\u62e9\u4e86 idx_organizations_jgmc_fts \u7d22\u5f15\u3002\\n\\nPostgreSQL \u5728\u8fd9\u6837\u7684\u573a\u666f\u4e0b\u9009\u62e9\u4e86\u9519\u8bef\u7684\u7d22\u5f15\uff0c\u5bfc\u81f4\u67e5\u8be2\u65f6\u95f4\u76f8\u5dee 600 \u500d\u3002\\n\\n## \u7d22\u5f15\u9009\u62e9\u539f\u56e0\\n\\nORDER BY+LIMIT \u8ba9\u67e5\u8be2\u6709 **\u63d0\u524d\u7ed3\u675f\u7684\u53ef\u80fd**\u3002\\n\\n\u4f8b\u5982 \u5b9e\u9645\u6570\u636e 10k,\u4f46 limit 10, \u53ea\u9700\u4f7f\u7528\u7d22\u5f15\u626b\u63cf 10 \u6761\u6570\u636e\u4fbf\u53ef\u4ee5\u505c\u6b62\u6267\u884c\uff0c\u800c\u4e0d\u9700\u8981\u5148\u5224\u65ad \u5176\u4ed6 \u6761\u4ef6\u3002\\n\\n\u56e0\u6b64 PostgreSQL \u7684 optimizer \u6709\u8ba9\u8fd9\u79cd\u9009\u62e9\u4f18\u5148\u7684\u903b\u8f91 [pathnode.c#L3633-L3753](https://github.com/postgres/postgres/blob/REL_13_STABLE/src/backend/optimizer/util/pathnode.c#L3633-L3753)\u3002\\n\\n- create_limit_path \u9488\u5bf9 LIMIT/OFFSET \u521b\u5efa\u6267\u884c\u8ba1\u5212\\n  - adjust_limit_rows_costs \u8c03\u6574\u6b64\u65f6\u7684 rows costs\\n\\n```c title=\\"adjust_limit_rows_costs\\"\\n*total_cost = *startup_cost +\\n  (input_total_cost - input_startup_cost)\\n  * count_rows / input_rows;\\n```\\n\\n|                var | meaning         |\\n| -----------------: | --------------- |\\n|         total_cost | \u603b cost         |\\n|       startup_cost | \u521d\u59cb cost       |\\n|   input_total_cost | \u8f93\u5165\u603b cost     |\\n| input_startup_cost | \u8f93\u5165\u521d\u59cb\u603b cost |\\n|         count_rows | limit           |\\n|         input_rows | \u8f93\u5165 \u884c         |\\n\\n\u5728\u8fd9\u4e2a\u8c03\u6574\u903b\u8f91\u91cc\u4f1a\u5c06\u73b0\u5728\u7684\u8fc7\u7a0b cost `input_total_cost - input_startup_cost` \u4e58\u4ee5 \u7cfb\u6570 `count_rows / input_rows`\u3002\\n\u8fd9\u4e2a\u7cfb\u6570\u4fbf\u4f1a\u4f7f\u5f97 ORDER BY+LIMIT \u65f6\u4f18\u5148\u9009\u62e9\u7d22\u5f15\u3002\\n\\n\u56e0\u4e3a\u4e24\u4e2a\u8ba1\u5212\u7684 rows \u76f8\u540c\uff0c\u4f18\u5148\u4e86 \u6392\u5e8f\u7d22\u5f15\u5219\u4f1a\u9009\u62e9\u6392\u5e8f\u7d22\u5f15\u65b9\u6848\u3002\\n\\n## \u89e3\u51b3\u95ee\u9898\\n\\n:::tip \u76ee\u6807\\n\\n\u907f\u514d\u9009\u62e9\u6392\u5e8f\u7d22\u5f15\\n\\n:::\\n\\n1. \u4f7f\u7528 noop function \u907f\u514d\u7d22\u5f15\\n\\n```sql\\nexplain verbose\\nselect clrq, jgmc, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767e\u5ea6\'\\n  and clrq is not null\\norder by coalesce(clrq) desc\\nlimit 30 offset 0\\n;\\n```\\n\\n2. \u4f7f\u7528 expression \u907f\u514d\u7d22\u5f15\\n\\n```sql\\nexplain verbose\\nselect clrq, jgmc, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767e\u5ea6\'\\n  and clrq is not null\\norder by clrq+0 desc\\nlimit 30 offset 0\\n;\\n```\\n\\n3. \u6dfb\u52a0 nulls \u987a\u5e8f\u907f\u514d\u7d22\u5f15\\n\\n- \u56e0\u4e3a index \u9ed8\u8ba4 asc nulls last \u56e0\u6b64 asc \u548c desc \u9009\u62e9\u4e0d\u540c nulls \u987a\u5e8f\\n- where is not null\\n- desc nulls last\\n- asc nulls first\\n\\n```sql\\nexplain verbose\\nselect clrq, jgmc, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767e\u5ea6\'\\n  and clrq is not null\\norder by clrq desc nulls last\\nlimit 30 offset 0\\n;\\n```\\n\\n4. \u8c03\u6574 STATISTICS\\n\\n- \u5728\u4e24\u8005\u7edf\u8ba1 rows \u4e0d\u540c\u7684\u60c5\u51b5\u4e0b - \u8fd9\u91cc\u4e0d\u9002\u7528\\n- SET STATISTICS\\n- CREATE STATISTICS\\n\\n## STATISTICS \u573a\u666f\\n\\nSTATISTICS \u5f71\u54cd n_distinct\uff0cn_distinct \u5f71\u54cd inputs_rows\uff0c\u591a\u4e2a\u8ba1\u5212\u76f8\u540c\uff0c\u53ef\u589e\u52a0 STATISTICS \u907f\u514d\u9519\u8bef\u9009\u62e9\u7d22\u5f15\u3002\\n\\n```sql\\nSELECT attname,\\n       n_distinct,\\n       null_frac\\nFROM pg_stats\\nWHERE tablename = \'organizations\'\\n  and attname in (\'clrq\', \'jgmc\');\\n```\\n\\n| attname | n_distinct  | null_frac     |\\n| :------ | :---------- | :------------ |\\n| clrq    | 7914        | 0.00030666665 |\\n| jgmc    | -0.99441195 | 0.0030133333  |\\n\\n```sql\\nSELECT relname, reltuples, relpages\\nFROM pg_class\\nWHERE relname LIKE \'organizations\';\\n```\\n\\n| relname       | reltuples | relpages |\\n| :------------ | :-------- | :------- |\\n| organizations | 3686376   | 1116103  |\\n\\n## \u53c2\u8003\\n\\n- https://gocardless.com/blog/debugging-the-postgres-query-planner/\\n- https://dba.stackexchange.com/a/258986/234272"},{"id":"simple-compress-algorithem","metadata":{"permalink":"/story/simple-compress-algorithem","editUrl":"https://github.com/wenerme/wener/edit/master/story/2010/2010-04-10-\u4e00\u79cd\u7b80\u5355\u7684\u538b\u7f29\u7b97\u6cd5.md","source":"@site/story/2010/2010-04-10-\u4e00\u79cd\u7b80\u5355\u7684\u538b\u7f29\u7b97\u6cd5.md","title":"\u4e00\u79cd\u7b80\u5355\u7684\u538b\u7f29\u7b97\u6cd5","description":"\u4f7f\u7528\u73af\u5883\uff1a\u7b80\u5355\u52a0\u5bc6\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u8bfb\u53d6\u65b9\u5f0f\uff0c\u538b\u7f29\u6742\u9879\u6570\u636e","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u7b97\u6cd5","permalink":"/story/tags/\u7b97\u6cd5"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":4.59,"truncated":true,"authors":[{"name":"wener"}],"prevItem":{"title":"PostgreSQL ORDER BY+LIMIT \u65f6\u7684\u7d22\u5f15\u9009\u62e9","permalink":"/story/postgresql-use-wrong-index-with-order-and-limit"},"nextItem":{"title":"2011\u5e74\u7684\u7b2c\u4e00\u5929\uff0c\u4eca\u5929\u5f00\u901a\u535a\u5ba2\u4e86","permalink":"/story/start-blogging"}},"content":"\u4f7f\u7528\u73af\u5883\uff1a\u7b80\u5355\u52a0\u5bc6\uff0c\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u8bfb\u53d6\u65b9\u5f0f\uff0c\u538b\u7f29\u6742\u9879\u6570\u636e\\n\\n\u57fa\u672c\u539f\u7406\uff1a\u4e5f\u5c31\u662f\u628a\u6df7\u4e71\u7684\u6570\u636e\u4e2d\u768400\u5b57\u8282\u53bb\u6389\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u6211\u60f3\u5230\u4f7f\u7528\u8fd9\u4e2a\u538b\u7f29\u65b9\u6cd5\u7684\u65f6\u5019\u662f\u4e3a\u4e86\u5728\u6587\u4ef6io\u5f88\u6162\u7684\u73af\u5883\u4e0b\u4e00\u6b21\u6027\u8bfb\u53d6\u8f83\u591a\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u4ece\u800c\u8fdb\u884c\u7684\u538b\u7f29\u3002\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u5b57\u7b26\u4e32\u90fd\u662f\u4ee500\u7ed3\u5c3e\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u538b\u7f29\u7684\u7b97\u6cd5\u53ea\u662f\u628a\u6570\u636e\u4e2d\u768400\u5b57\u8282\u53bb\u6389\u4e86\u3002\u5f53\u88ab\u5904\u7406\u7684\u6587\u4ef6\u4e2d\u5f88\u591a00\u7684\u65f6\u5019\u538b\u7f29\u7387\u8f83\u5927\u3002\u4f46\u662f\u4e0d\u9002\u5b9c\u5bf9\u6587\u672c\uff0c\u56fe\u7247\u4e4b\u7c7b\u7684\u538b\u7f29\u3002\u6ce8\u610f\uff0c\u53ea\u662f\u7b80\u5355\u7684\u538b\u7f29\uff0c\u538b\u7f29\u540e\u80fd\u591f\u7b80\u5355\u7684\u89e3\u538b\u7f29\u3002\u5728\u538b\u7f29\u666e\u901a\u6570\u636e\u7684\u65f6\u5019\uff0c\u5927\u6982\u5e73\u5747\u538b\u7f29\u7387\u80fd\u591f\u8fbe\u5230 3 \uff1a4\\n\\n&nbsp;\\n\\nE.g. \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 90 80 29 00 78 98 00 00\\n\\n\u8fd9\u6bb5\u6570\u636e\u88ab\u538b\u7f29\u540e\u7684\u7ed3\u679c\u662f\\n\\n{ 00 010011 } 90 80 29 78 98\xa0 \u6ce8\u610f\u53ea\u80fd\u8868\u793a 90 80 29 00 78 98 \u8fd96\u4f4d\u6570\u636e\\n\\n{}\u4e3a1byte\u5927\u5c0f\\n\\n\u4e00\u770b\u8fd9\u4e2a\u5217\u5b50\u5c31\u5f88\u7b80\u5355\u4e86\u5427\\n\\n&nbsp;\\n\\n\u7b2c\u4e00byte\u4e3a\u6807\u5fd7\u4f4d\u3002\\n\\n\u5177\u4f53\u8bf4\u660e\\n\\n&nbsp;\\n\\n1\xa0\xa0\xa0\xa0 \u5168\u4e3a0\u4f4d \u82e5\u6570\u636e\u5168\u4e3a00 \u5219\u6b64\u4f4d\u4e3a1\\n\\nE.g.\xa0 00 00 00 00 00 00 =&gt; \u6807\u5fd7\u4f4d{ 10 000000 }\\n\\n2\xa0\xa0\xa0\xa0 \u5168\u4e3a1\u4f4d \u82e5\u6570\u636e\u5168\u4e0d\u4e3a00 \u5219\u6b64\u4f4d\u4e3a1\\n\\nE.g.\xa0 01 02 03 04 05 06\xa0 =&gt; \u6807\u5fd7\u4f4d{ 01 000000 } 01 02 03 04 05 06\\n\\n\u6b64\u65f6\u6570\u636e\u53d8\u5927\\n\\n3-8 \u4f4d\u8868\u793a\u8be5\u4f4d\u662f\u5426\u4e3a00 \u82e5\u662f\u5219\u4e3a 1 \u5f53 1th \u62162ed \u4e0d\u5168\u4e3a0\u65f6\uff0c\u53ef\u4ee5\u5ffd\u7565\u540e\u9762\u7684 3-8\u4f4d\\n\\n&nbsp;\\n\\n\u6240\u4ee5 \u4e00\u4e2a\u6807\u5fd7\u4f4d\u6700\u591a\u80fd\u591f\u8868\u793a\u540e\u9762\u76846\u5b57\u8282\u6570\u636e\uff0c\u6b64\u65f6\u6d88\u9664\u4e86\u6570\u636e\u4e2d\u768400\u4f4d\uff0c\u5c31\u53ef\u4ee5\u7528\u5b57\u7b26\u4e32\u7684\u8bfb\u53d6\u65b9\u5f0f\u6765\u4e00\u6b21\u6027\u8bfb\u53d6\uff0c\u6216\u8005\u505a\u7b80\u5355\u7684\u52a0\u5bc6\u3002\\n\\n&nbsp;\\n\\n\u4e00\u4e2a\u793a\u4f8b\u7684\u7a0b\u5e8f\uff1a\\n\\n\u662f\u7528\u7684\u6b65\u6b65\u9ad8\u5b66\u4e60\u673a\u7684\u4e00\u79cd\u53eb\u505aBBasic\u7684\u73af\u5883\u4e0b\u5199\u7684\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u5176\u5b9e\u5c31\u662f\u4e3a\u4e86\u5e94\u4ed8\u5b83io\u6781\u5176\u7684\u6162\u7684\u6bdb\u75c5\u3002\\n\\n\u8fd9\u4e2a\u4ee3\u7801\u6211\u4e5f\u53ea\u80fd\u8bf4\u8868\u8fbe\u7684\u662f\u90a3\u4e2a\u610f\u601d\uff0c\u5982\u679c\u7a0d\u52a0\u6539\u9020\u4e0b\uff0c\u5927\u6982\u80fd\u591f\u63d0\u901f10\u500d - 100 +\u500d\u3002\\n\\ndeclare function dechex$( decVal)\\n\\ndeclare function bindec( binVal$)\\n\\n\'//\u628a\u6240\u7ed9\u7684\u4e00\u6bb5\u6570\u636e\u538b\u7f29\\n\\n\'//\u6b65\u9aa4\xa0\xa0 \u6211\u5148\u8003\u8651\u662f\u5185\u5b58\u7684\u60c5\u51b5\uff0c\u4e5f\u5c31\u662f\u7ed9\u51fa\u4e00\u4e2a\u4f4d\u7f6e\u504f\u79fb\uff0c\u7136\u540e\u6328\u4e2a\u53bb\u8bfb\\n\\ndim XDB_GetOffset, XDB_GetLen, XDB_GetStr$, XDB_PutFp, XDB_I\\n\\ndim XDB_GetCur, XDB_AllZ, XDB_AllO\\n\\ndim Xbd_Offset_Cur\\n\\ndim XDB_HStr$, XDB_CStr$\\n\\ndim XDB_HCode\\n\\ndim XDB_GetStr_len\\n\\nasm\\n\\n&nbsp;\\n\\nld int [ vint_XDB_GetOffset], 0\\n\\n&nbsp;\\n\\nendasm\\n\\nXDB_GetLen = 7685 - 16\\n\\n&nbsp;\\n\\n\'ab cd 00 39 09 28\\n\\n\'19 08 02 18 00 00\\n\\n\'82 10 00 28 19 00\\n\\n&nbsp;\\n\\nopen \\"x.txt\\" for binary as #1\\n\\n&nbsp;\\n\\nXDB_GetStr_len = 0\\n\\nXDB_HCode = 0\\n\\nXDB_GetStr$ = \\"\\"\\n\\nXDB_CStr$ = \\"\\"\\n\\nXDB_HStr$ = \\"\\"\\n\\nt = gettick()\\n\\nwhile XDB_I &lt;= XDB_GetLen\\n\\n&nbsp;\\n\\nlocate( 1, 1)\\n\\n&nbsp;\\n\\nXDB_I = XDB_I + 1\\n\\n&nbsp;\\n\\nXbd_Offset_Cur = XDB_I mod 6\\n\\n&nbsp;\\n\\nif Xbd_Offset_Cur = 0 then\\n\\n&nbsp;\\n\\nif XDB_AllZ then\\n\\nXDB_CStr$ = \\"\\"\\n\\nend if\\n\\nXDB_GetStr$ = XDB_GetStr$ + chr$( bindec( XDB_AllO$ + XDB_AllZ$ +XDB_HStr$ )) + XDB_CStr$\\n\\n&nbsp;\\n\\n&nbsp;\\n\\n&nbsp;\\n\\nXDB_HStr$ = \\"\\"\\n\\nXDB_HCode = 0\\n\\nXDB_CStr$ = \\"\\"\\n\\nXDB_AllZ$ = \\"1\\"\\n\\nXDB_AllO$ = \\"1\\"\\n\\n&nbsp;\\n\\nXDB_GetStr_len = XDB_GetStr_len + 1\\n\\n&nbsp;\\n\\nif XDB_GetStr_len &gt; 4088 * 4 then\\n\\nprint XDB_I\\n\\nput #1, XDB_GetStr$\\n\\nXDB_GetStr$ = \\"\\"\\n\\nend if\\n\\n&nbsp;\\n\\nend if\\n\\n&nbsp;\\n\\n\'print \\"\u7b2c\u4e8c\u6b65\\"\\n\\n&nbsp;\\n\\nasm\\n\\nld int [ vint_XDB_GetCur], 0\\n\\nld int r0, [ vint_XDB_GetOffset]\\n\\nld byte [ vint_XDB_GetCur], [ r0 ]\\n\\nendasm\\n\\n&nbsp;\\n\\n\'=/\u5f53\u524d\u4f4d\u4e3a\u975e0\\n\\nif XDB_GetCur then\\n\\n&nbsp;\\n\\nXDB_CStr$ = XDB_CStr$ + chr$( XDB_GetCur)\'\\".\\" + dechex$( XDB_GetCur)\\n\\nXDB_HStr$ = XDB_HStr$ + \\"0\\"\\n\\n\'==//\u5168\u4e3a0\u7684\u6807\u5fd7\u4f4d\\n\\nXDB_AllZ$ = \\"0\\"\\n\\n&nbsp;\\n\\n\'=/\u5f53\u524d\u4f4d\u4e3a0\\n\\nelse\\n\\nXDB_HStr$ = XDB_HStr$ + \\"1\\"\\n\\n\'==//\u5168\u4e3a1\u7684\u6807\u5fd7\u4f4d\\n\\nXDB_AllO$ = \\"0\\"\\n\\nend if\\n\\n&nbsp;\\n\\nXDB_GetStr_len = XDB_GetStr_len + 1\\n\\n\'==//\u4e00\u6b21\u5904\u740612\u4f4d\\n\\nXDB_GetOffset = XDB_GetOffset + 1\\n\\n&nbsp;\\n\\nwend\\n\\n&nbsp;\\n\\nprint \\"\u7528\u65f6\\"; gettick() - t\\n\\n&nbsp;\\n\\n&nbsp;\\n\\nput #1, XDB_GetStr$\\n\\n&nbsp;\\n\\nput #1, \\"END\\"\\n\\n&nbsp;\\n\\nclose #1\\n\\nasm\\n\\n&nbsp;\\n\\njmp QingWuShi_XDB:\\n\\n&nbsp;\\n\\nXDB_Compression_HCode:\\n\\n.block 1 0\\n\\n&nbsp;\\n\\nXDB_Compression_CCode:\\n\\n.block 6 0\\n\\n&nbsp;\\n\\nXDB_Compression_Catch:\\n\\n.block 15 0\\n\\n&nbsp;\\n\\nXDB_Compression_Base:\\n\\n&nbsp;\\n\\nendasm\\n\\n&nbsp;\\n\\n&nbsp;\\n\\n&nbsp;\\n\\nasm\\n\\nret\\n\\n&nbsp;\\n\\ndata x bin %abcd00390928190802180000821000281900%\\n\\n&nbsp;\\n\\nQingWuShi_XDB:\\n\\nendasm"},{"id":"start-blogging","metadata":{"permalink":"/story/start-blogging","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-01-01-2011\u5e74\u7684\u7b2c\u4e00\u5929\uff0c\u4eca\u5929\u5f00\u901a\u535a\u5ba2\u4e86.md","source":"@site/story/2011/2011-01-01-2011\u5e74\u7684\u7b2c\u4e00\u5929\uff0c\u4eca\u5929\u5f00\u901a\u535a\u5ba2\u4e86.md","title":"2011\u5e74\u7684\u7b2c\u4e00\u5929\uff0c\u4eca\u5929\u5f00\u901a\u535a\u5ba2\u4e86","description":"\u7b97\u6765\u7b97\u53bb\u7ec8\u4e8e\u5230\u4e86\u4eca\u5929\u4e86\u3002","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[],"readingTime":1.42,"truncated":true,"authors":[],"prevItem":{"title":"\u4e00\u79cd\u7b80\u5355\u7684\u538b\u7f29\u7b97\u6cd5","permalink":"/story/simple-compress-algorithem"},"nextItem":{"title":"PHP \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784","permalink":"/story/php-read-binary"}},"content":"\u7b97\u6765\u7b97\u53bb\u7ec8\u4e8e\u5230\u4e86\u4eca\u5929\u4e86\u3002\\n\\n\u6709\u610f\u7b49\u5230\u4e86\u4eca\u5929\u5c31\u5f00\u901a\u6211\u7684\u535a\u5ba2\uff0c\u8fd9\u6837\u4e00\u4e2a\u7684\u5e73\u53f0\u4e0a\uff0c\u8bf4\u81ea\u5df1\u60f3\u8bf4\u7684\uff0c\u505a\u81ea\u5df1\u60f3\u505a\u7684\uff0c\u633a\u597d\u7684\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u4e3a\u4e86\u907f\u514d\u535a\u5ba2\u7a7a\u8361\u8361\u7684\uff0c\u6240\u4ee5\u6211\u5c31\u4e8b\u5148\u5199\u597d\u4e86[Php \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784](./2011-01-01-PHP \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784.md)\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6069\u6069\uff0c\u4e2a\u4eba\u611f\u89c9\u826f\u597d\u554a\u3002\\n\\n\u4e0d\u77e5\u9053\u8fd9\u4e2a\u535a\u5ba2\u4f1a\u966a\u4f34\u6211\u8d70\u591a\u4e45\uff0c\u81f3\u5c11\u6211\u4f1a\u8bb0\u5f9711\u5e74\u768401\u65e5\u662f\u5979\u7684\u8bde\u8fb0\uff0c\u6bcf\u5e74\u7684\u7b2c\u4e00\u5929\u90fd\u662f\u4ed6\u7684\u751f\u8fb0\uff0c\u5e0c\u671b\u5979\u80fd\u4e00\u76f4\u966a\u6211\u8d70\u4e0b\u53bb\u5427\uff0c\u6211\u770b\u7740\u5979\u6210\u957f\uff0c\u4ed6\u4e5f\u770b\u7740\u6211\u6210\u957f\u3002\\n\\n\u8bfb\u7740\u4e66\uff0c\u6211\u90fd\u6253\u7b97\u6bcf\u6708\u66f4\u65b0\u4e00\u7bc7\u6587\u7ae0\u4e86\uff0c\u5f88\u591a\u4e1c\u897f\uff0c\u5176\u5b9e\u6574\u7406\u4e00\u4e0b\u5c31\u53c8\u662f\u4e00\u7bc7\u4e0d\u9519\u7684\u6587\u7ae0\u4e86\uff0c\u81ea\u5df1\u4e5f\u4eab\u53d7\u90a3\u6574\u7406\u7684\u8fc7\u7a0b\u3002\u633a\u5feb\u4e50\u7684\uff0c\u800c\u4e14\u4e5f\u5de9\u56fa\u4e86\u81ea\u5df1\u7684\u77e5\u8bc6\u3002\u4f55\u4e50\u800c\u4e0d\u4e3a\u5462\uff1f\\n\\n\u6211\u7684\u535a\u5ba2\u4e0a\u6216\u8bb8\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u5e7f\u544a\u5427\uff0c\u6211\u4e5f\u4e0d\u4f1a\u7528\u5e7f\u544a\u6765\u8d5a\u94b1\uff0c\u611f\u89c9\u6ca1\u6709\u5e7f\u544a\u6e05\u723d\u591a\u4e86\uff0c\u4e5f\u5e72\u51c0\u4e9b\u3002"},{"id":"php-read-binary","metadata":{"permalink":"/story/php-read-binary","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-01-01-PHP \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784.md","source":"@site/story/2011/2011-01-01-PHP \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784.md","title":"PHP \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784","description":"\u672c\u6587\u5305\u542b\u7684\u5185\u5bb9\uff1a\u8be6\u7ec6\u7684pack\u548cunpack\u8c03\u7528\u8be6\u89e3\uff0c16\u8fdb\u5236\u6570\u5b57\u5b57\u7b26\u4e32\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u8bfb\u53d6\u6587\u4ef6\u8fd4\u56de\u503c\uff0c\u7b49","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"PHP","permalink":"/story/tags/php"},{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u5e93","permalink":"/story/tags/\u5e93"}],"readingTime":11.01,"truncated":true,"authors":[],"prevItem":{"title":"2011\u5e74\u7684\u7b2c\u4e00\u5929\uff0c\u4eca\u5929\u5f00\u901a\u535a\u5ba2\u4e86","permalink":"/story/start-blogging"},"nextItem":{"title":"\u201cWener\u201d\u7684\u6765\u5386 - \u4e00\u6bb5\u6545\u4e8b","permalink":"/story/wener-is-my-name"}},"content":"\u672c\u6587\u5305\u542b\u7684\u5185\u5bb9\uff1a\u8be6\u7ec6\u7684pack\u548cunpack\u8c03\u7528\u8be6\u89e3\uff0c16\u8fdb\u5236\u6570\u5b57\u5b57\u7b26\u4e32\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u8bfb\u53d6\u6587\u4ef6\u8fd4\u56de\u503c\uff0c\u7b49\\n\\n\x3c!--more--\x3e\\n\\n\\n\u672c\u6587\u5305\u542b\u7684\u5185\u5bb9\uff1a\u8be6\u7ec6\u7684pack\u548cunpack\u8c03\u7528\u8be6\u89e3\uff0c16\u8fdb\u5236\u6570\u5b57\u5b57\u7b26\u4e32\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u8bfb\u53d6\u6587\u4ef6\u8fd4\u56de\u503c\uff0c\u7b49\u5305\u542b\u5b9e\u4f8b\uff1a\u8bfb\u53d6\\n\\nBMP\u56fe\u7247\u4fe1\u606f\u51fd\u6570\uff1a\\n\\n//\u5c0616\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6b64\u503c\u7684\u5b57\u7b26\u4e32\u3002\\n\\nfunction hexstr_str( $hetstr)\\n\\n//\u4e24\u4e2a\u7248\u672c\uff0c\u4e00\u4e2a\u662fpack\u5b9e\u73b0\uff0c\u4e00\u4e2a\u662fchr\u65b9\u6cd5\u5b9e\u73b0\\n\\n\\n\u66fe\u7ecf\u4e3a\u4e86\u5904\u7406\u6e90\u6587\u4ef6\u5c31\u767e\u5ea6\u4e86\u4e0bphp\xa02\\n\u8fdb\u5236\u6587\u4ef6\uff0c\u7ed3\u679c\u51fa\u6765\u7684\u8c8c\u4f3c\u90fd\u662f\u4e00\u4e2a\u4eba\u5199\u7684\uff0c\u522b\u4eba\u590d\u5236\u548c\u8f6c\u8f7d\u7684\uff0c\u800c\u4e14\u6211\u4e5f\u504f\u504f\u6ca1\u6709\u770b\u61c2\u3002\u633a\u90c1\u95f7\u7684\u3002\u56e0\u6b64\u5c31\u6709\u4e86\u4e0b\u6587\uff0c\u6211\u5c31\u81ea\u5df1\u641e\u6253\uff0c\u7814\u7a76\u7814\u7a76\u3002Php\u5904\u7406\\n\\n2\u8fdb\u5236\u65e0\u975e\u5c31\u662f\u4f7f\u7528pack\u548cunpack\uff0c\u5728\u540e\u6587\u8bb2\u8bb2\u5176\u4ed6\u7684\u529e\u6cd5\u3002\\n\\n\u51fd\u6570\u539f\u578b\uff1a\\n\\nstring pack (\xa0string\xa0$format\xa0[, [mixed](http://cn2.php.net/manual/en/language.pseudo-types.php#language.types.mixed) $args\xa0[, [mixed](http://cn2.php.net/manual/en/language.pseudo-types.php#language.types.mixed) $...\xa0]]\xa0)\\n\\narray unpack (\xa0string\xa0$format\xa0,\xa0string\xa0$data\xa0)\\n\\nPack\u662f\u8bb2\u6240\u7ed9\u7684\u53c2\u6570\u66f4\u5177\u6240\u7ed9\u7684\u683c\u5f0f\u6253\u5305\u62102\u8fdb\u5236\u5b57\u7b26\u4e32\u3002\u624b\u518c\u4e0a\u8bf4\u8fd9\u4e2a\u51fd\u6570\u548cPerl\u7684\u57fa\u672c\u76f8\u540c\uff0c\u53ea\u662f\u5728\u683c\u5f0f\u4e0a\u53bb\u6389\u4e86s,u\u7b49\u3002\u8fd9\u91cc\u6709\u4e00\u70b9\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6709\u7b26\u53f7\u548c\u65e0\u7b26\u53f7\u7684\u6570\u7531pack\u8f6c\u6362\u51fa\u6765\u7684\u7ed3\u679c\u76f8\u540c\uff0c\u4f46\u662f\u4f1a\u5f71\u54cdunpack\u7684\u7ed3\u679c\u3002\\n\\n\u5148\u770b\u4e00\u4e2a\u5c0f\u5c0f\u7684\u5b9e\u4f8b\uff1a\\n\\n$data = pack(\\"N\\", 0x12345);\\n\\nvar_dump($data);\\n\\n$fn = \'out.text\';\\n\\n$fp = fopen($fn,\'w\');\\n\\nfwrite($fp,$data);\\n\\n[![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-899.png \\"php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-899\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-899.png)\\n\\n\u7ed3\u679c\u5f88\u660e\u4e86\uff0c\u7528\u6cd5\u5f88\u7b80\u5355\u3002\\n\\n\u5173\u4e8eN\u6a21\u5f0f\uff1a\\n\\nunsigned\xa0long\xa0(always\xa032\xa0bit,\xa0big\xa0endian\xa0byte\xa0order)\\n\\n\u65e0\u7b26\u53f7\u957f\u6574\u578b\uff0c\u603b\u662f\u8fd4\u56de32\u4f4d\\n\\n\u683c\u5f0f\uff1a\\n\\nmode | \u8bf4\u561b\\n----|----\\na\\t| \u5c06\u5b57\u7b26\u4e32\u7a7a\u767d\u4ee5 NULL \u5b57\u7b26\u586b\u6ee1\\nA\\t| \u5c06\u5b57\u7b26\u4e32\u7a7a\u767d\u4ee5 SPACE \u5b57\u7b26 (\u7a7a\u683c) \u586b\u6ee1\\nh\\t| \u5341\u516d\u8fdb\u4f4d\u5b57\u7b26\u4e32\uff0c\u4f4e\u4f4d\u5728\u524d\\nH\\t| \u5341\u516d\u8fdb\u4f4d\u5b57\u7b26\u4e32\uff0c\u9ad8\u4f4d\u5728\u524d\\nc\\t| \u6709\u53f7\u5b57\u7b26\\nC\\t| \u65e0\u53f7\u5b57\u7b26\\ns\\t| \u6709\u53f7\u77ed\u6574\u6570 (\u5341\u516d\u4f4d\uff0c\u4f9d\u8ba1\u7b97\u673a\u7684\u4f4d\u987a\u5e8f)\\nS\\t| \u65e0\u53f7\u77ed\u6574\u6570 (\u5341\u516d\u4f4d\uff0c\u4f9d\u8ba1\u7b97\u673a\u7684\u4f4d\u987a\u5e8f)\\nn\\t| \u65e0\u53f7\u77ed\u6574\u6570 (\u5341\u516d\u4f4d, \u9ad8\u4f4d\u5728\u540e\u7684\u987a\u5e8f)\\nv\\t| \u65e0\u53f7\u77ed\u6574\u6570 (\u5341\u516d\u4f4d, \u4f4e\u4f4d\u5728\u540e\u7684\u987a\u5e8f)\\ni\\t| \u6709\u53f7\u6574\u6570 (\u4f9d\u8ba1\u7b97\u673a\u7684\u987a\u5e8f\u53ca\u8303\u56f4)\\nI\\t| \u65e0\u53f7\u6574\u6570 (\u4f9d\u8ba1\u7b97\u673a\u7684\u987a\u5e8f\u53ca\u8303\u56f4)\\nl\\t| \u6709\u53f7\u957f\u6574\u6570 (32\u4f4d\uff0c\u4f9d\u8ba1\u7b97\u673a\u7684\u4f4d\u987a\u5e8f)\\nL\\t| \u65e0\u53f7\u957f\u6574\u6570 (32\u4f4d\uff0c\u4f9d\u8ba1\u7b97\u673a\u7684\u4f4d\u987a\u5e8f)\\nN\\t| \u65e0\u53f7\u77ed\u6574\u6570 (32\u4f4d, \u9ad8\u4f4d\u5728\u540e\u7684\u987a\u5e8f)\\nV\\t| \u65e0\u53f7\u77ed\u6574\u6570 (32\u4f4d, \u4f4e\u4f4d\u5728\u540e\u7684\u987a\u5e8f)\\nf\\t| \u5355\u7cbe\u786e\u6d6e\u70b9\u6570 (\u4f9d\u8ba1\u7b97\u673a\u7684\u8303\u56f4)\\nd\\t| \u500d\u7cbe\u786e\u6d6e\u70b9\u6570 (\u4f9d\u8ba1\u7b97\u673a\u7684\u8303\u56f4)\\nx\\t| \u7a7a\u4f4d\\nX\\t| \u5012\u56de\u4e00\u4f4d\\n@\\t| \u586b\u5165 NULL \u5b57\u7b26\u5230\u7edd\u5bf9\u4f4d\u7f6e\\n\\n\u5173\u4e8epack\u7684\u8c03\u7528\u65b9\u6cd5\u3002\\n\\n\u56e0\u4e3apack\u662f\u652f\u6301\u591a\u4e2a\u4e0d\u5b9a\u4e2a\u6570\u53c2\u6570\u7684\uff0c\u6240\u4ee5\u6bcf\u4e2a\u53c2\u6570\u90fd\u8981\u6307\u5b9a\u4e00\u4e2a\u8f6c\u6362\u7684\u6a21\u5f0f\u3002\\n\\n$data = pack(\\"Nn\\", 0x12345, 0x12345);\\n\\n\u5f53\u4f60\u53c2\u6570\u7684\u4e2a\u6570\u591a\u4e8e\u683c\u5f0f\u7684\u4e2a\u6570\u65f6\uff0c\u51fa\u73b0\uff1a\\n\\nWarning:\xa0pack()\xa0[[function.pack](http://localhost/lab/function.pack)]:\xa01\xa0arguments\xa0unused\xa0in E:\\\\host\\\\htdocs\\\\Lab\\\\Binary.php on\xa0line 4\\n\\nWarning\u7ea7\u9519\u8bef\u3002\\n\\n\u8fd9\u4e2a\u8fd8\u6709\u4e2a\u6ce8\u610f\u7684\u662f*\u6a21\u5f0f\u3002\\n\\n$data = pack(\\"Nn*\\", 0x12345, 0x12345, 0x12345);\\\\\\\\\u6700\u540e\u4e24\u4e2a\u662f16\u4f4d\uff0c\u6240\u4ee5\u8f93\u51fa\u91cc\u9762\u662f2\u5b57\u8282\\n\\nvar_dump($data);\\n\\n$fn = \'out.text\';\\n\\n$fp = fopen($fn,\'w\');\\n\\nfwrite($fp,$data);\\n\\n\u8f93\u51fa\uff1a\\n\\n[![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-1934.png \\"php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-1934\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-1934.png)\\n\\n\u770b\u51fa\u6765\u4e86\u6700\u540e\u4e24\u4e2a\u662f\u4e00\u6837\u7684\u3002\u56e0\u4e3a\u624b\u518c\u4e0a\u6ca1\u8bf4\uff0c\u4f46\u662f\u6211\u731c\u6d4b*\u6a21\u5f0f\u5c31\u662f\u201c\u540c\u4e0a\u201d\u7684\u610f\u601d\u5427\u3002\\n\\n\u57fa\u7840\u77e5\u8bc6\uff1a\\n\\n1\u5b57\u8282 =\xa0\xa08\u4f4d = 2^8 =\xa0\xa0256\\n\\n\u4e00\u4e2agb2312\u5b57\u7b262\u5b57\u8282\uff0c\u4e00\u4e2aascii\u5b57\u7b261\u5b57\u8282\u3002\\n\\n\u5173\u4e8e\u6a21\u5f0f\u7684\u9009\u62e9\u90fd\u7531\u4e2a\u4eba\u4f7f\u7528\u7684\u60c5\u51b5\u51b3\u5b9a\uff0c\u8fd9\u91cc\u6211\u7ed9\u51fa\u6211\u81ea\u5df1\u5199\u7684\u4e00\u4e2a\u51fd\u6570\u3002\\n\\n//\u5c0616\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6b64\u503c\u7684\u5b57\u7b26\u4e32\u3002\\n\\nfunction hexstr_str( $hetstr)\\n\\n {\\n\\n $re = \'\';\\n\\n for( $i = 0;\xa0isset( $hetstr[ $i + 4]); $i += 4)\\n\\n //echo\xa0substr(\xa0$hetstr,\xa0$i,\xa02);\\n\\n $re .= pack(\'n\',\xa0( \'0x\'.substr( $hetstr, $i, 4))\xa0* 1);\\n\\n $len = strlen( $hetstr)\xa0- $i;\\n\\n $hetstr = \'0x\'.substr( $hetstr, $i, strlen( $hetstr)\xa0- $i);\\n\\n $hetstr .=\xa0( $len % 2)\xa0? \'0\':\'\';\\n\\n $format = $len &lt; 3 ? \'v\': \'n\';\\n\\n $re .= pack( $format, $hetstr * 1);\\n\\n return $re;\\n\\n }\\n\\n\u6d4b\u8bd5\uff1a\\n\\n$data = hexstr_str( \'ABCDc\');\\n\\n\u8f93\u51fa\uff1a\\n\\n[![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-2766.png \\"php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-2766\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-2766.png)\\n\\n\u6709\u70b9\u9057\u61be\u7684\u662f\u5b83\u90fd\u8981\u75280\u6765\u8865\u6ee116\u4f4d\u3002\u4e0d\u8fc7\u603b\u7684\u6765\u8bf4\u8fd8\u662f\u5f88\u4e0d\u9519\u7684\u5566\u3002\\n\\nUnpack\u7684\u4f7f\u7528\uff0c\u6211\u89c9\u5f97\u7528\u7740\u8fd9\u4e2a\u611f\u89c9\u633a\u63ea\u5fc3\u7684\u3002\\n\\nunpack() works\xa0slightly\xa0different\xa0from\xa0Perl\xa0as\xa0the\xa0unpacked\xa0data\xa0is\xa0stored\xa0in\xa0an\xa0associative\xa0array.\xa0To\xa0accomplish\xa0this\xa0you\xa0have\xa0to\xa0name\xa0the\xa0different\xa0format\xa0codes\xa0and\xa0separate\xa0them\xa0by\xa0a\xa0slash\xa0/.\\n\\nUnpack\u7684\u8fd0\u884c\u548cPerl\u7684\u6709\u4e9b\u5fae\u4e0d\u540c\uff0c\u5728php\u4e2dunpack\u7684\u7ed3\u679c\u662f\u7531\u4e00\u4e2a\u6570\u7ec4\u8fd4\u56de\u7684\u3002\u56e0\u6b64\u4f60\u9700\u8981\u63a5\u53d7\u8fd9\u4e9b\u6570\u636e\u5c31\u8981\u7ed9\u683c\u5f0f\u547d\u540d\uff0c\u4ee5/\u5206\u9694\u3002\\n\\n\u624b\u518c\u4e0a\u7684\u5b9e\u4f8b\uff1b\\n\\n&lt;?php\\n\\n$array = unpack(\\"c2chars/nint\\", $binarydata);\\n\\n?&gt;\\n\\n\u770b\u4e00\u4e2a\u6211\u4e2a\u4eba\u7684\u8c03\u7528\u5b9e\u4f8b\uff1a\\n\\n$data = pack(\\"n\\",\xa0(\'0x\'.\'abc\' )\xa0* 1);\\n\\n$data = hexstr_str( \'ABCDc\');\\n\\n$s = $data;\\n\\n$array = unpack(\\"Nwen/n2stort\\", $s.$s);\\n\\n\u8f93\u51fa\u7ed3\u679c\uff1a\\n\\narray(3)\xa0{\\n\\n [\\"wen\\"]=&gt;\\n\\n int(-1412579328)\\n\\n [\\"stort1\\"]=&gt;\\n\\n int(43981)\\n\\n [\\"stort2\\"]=&gt;\\n\\n int(49152)\\n\\n}\\n\\n\u4e0a\u5f0f\u7ed3\u679c\u4e5f\u5c31\u662f\\n\\nwen:abcdc000\\n\\nstort1:abcd\\n\\nstort2:c000\\n\\n\u770b\u7740\u8fd9\u6837\u7684\u7ed3\u679c\u548c\u8f93\u5165\u7684\u683c\u5f0f\u6211\u89c9\u5f97\u5f88\u63ea\u5fc3\u7684\u3002\u4e0d\u8fc7\u8fd9\u91cc\u8fd8\u662f\u6709\u70b9\u597d\u5904\u7684\uff0c\u8fd9\u4e2a\u6211\u4eec\u53ef\u4ee5\u683c\u5f0f\u5316\u8f93\u51fa\u4e00\u4e2a\u6587\u4ef6\u7684\u5934\u4fe1\u606f\u4ec0\u4e48\u7684\u3002\\n\\n\u8be6\u7ec6\u8bb2\u8bb2uppack\u7684\u683c\u5f0f\u548c\u8f93\u5165\u7684\u5173\u7cfb\u3002\\n\\n\\"Nwen/n2stort\\"\\n\\n\u5373\u7b2c\u4e00\u4e2a\u89e3\u6790\u4ee5N\u4e3a\u683c\u5f0f\uff0c\u4ee5wen\u4e3a\u540d\u5b57\u3002\\n\\n \u7b2c\u4e8c\u4e2a\u89e3\u6790\u4ee5n\u4e3a\u683c\u5f0f\u89e3\u6790\u4e24\u6b21\uff0c\u4ee5short\u4e3a\u540d\u5b57\u3002\\n\\n\u751f\u6210\u7684short\u7684\u540d\u5b57\u662f\u4ee5short1\uff0cshort2\uff0c\u2026\u2026shortn\u8fd9\u6837\u7684\u5f62\u5f0f\u589e\u957f\u7684\u3002\\n\\n\u89e3\u6790\u7684\u65b9\u6cd5\uff1a\\n\\nN\uff0c\u5148\u5728\u8f93\u5165\uff08$s.$s\uff09\u4e2d\u8bfb\u516532\u4f4d\u957f\uff0c\u53734\u5b57\u8282\u3002\u7136\u540e\u518d\u7528N\u8f6c\u6362\uff0c\u6b64\u65f6\u6307\u5411$s.$s\u6307\u9488\u7684\u4f4d\u7f6e\u5df2\u7ecf\u5230\u4e864\u4e86\uff0c\u7b2c\u4e00\u4e2a$s\u5df2\u7ecf\u8bfb\u5b8c\u4e86\uff0c\u56e0\u6b64\u8981\u662f\u8f93\u5165\u662f$s\u7684\u8bdd\u4f1a\u62a5\u9519\uff1a\\n\\nWarning:\xa0unpack()\xa0[[function.unpack](http://localhost/lab/function.unpack)]:\xa0Type\xa0n:\xa0not\xa0enough\xa0input,\xa0need\xa02,\xa0have\xa00\xa0in E:\\\\host\\\\htdocs\\\\Lab\\\\Binary.php on\xa0line 7\\n\\nbool(false)\\n\\n\u6b64\u65f6\u7684\u8fd4\u56de\u503c\u4e3afalse\u3002\\n\\n\u5728\u89e3\u6790\u5b8c\u7b2c\u4e00\u4e2aN\u540e\u9047\u5230\u4e86\u201c/\u201d\u8fdb\u5165\u4e0b\u4e00\u7ec4\u7684\u89e3\u6790\uff0c\u89e3\u6790\u7684\u683c\u5f0f\u4e3an\uff0c\u67092\u7ec4\uff0c\u540d\u5b57\u4e3ashort\\n\\n\u6240\u4ee5short1\u4e3a\u8f93\u5165\u7684\u7b2c4-6\u89e3\u6790\u7684\u7ed3\u679c\uff0c\u800cshort2\u4e3a6-8\u7684\u7ed3\u679c\u3002\u90fd\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\\n\\n\u8fd9\u6837\u770b\u6765\u4e5f\u4e0d\u662f\u5f88\u96be\u561b\u662f\u5427\u3002\\n\\n\u4e2a\u4eba\u65b9\u6cd5\uff1a\\n\\nPerl\u601d\u60f3\u4e2d\u6709\u4e00\u6761\u662f\uff1a\\n\\nThere\'s More Than One Way To Do It.\\n\\n\u6211\u4e5f\u89c9\u5f97\u5982\u6b64\u3002\\n\\nPhp\u4e2d\u6709\u4e2a\u51fd\u6570\u53eb\u505a\\n\\nString chr(\xa0int\xa0$ascii\xa0)\\n\\n\u8fd4\u56de\u4e00\u4e2a\u5b57\u8282\uff0c\u4ee5ascii\u503c\u4e3a\u53c2\u6570\u3002\\n\\n\u539f\u672c\u7684ascii\u53ea\u6709127\u7684\uff0c\u4f46\u662f\u540e\u6765\u6269\u5c55\u5230\u4e86255\u52a0\u4e0a0\u90a3\u5c31\u662f256  \u5f88\u597d\xa0\u8fd9\u6837\u5c31\u90fd\u80fd\u8868\u793a\u4e86\u3002\\n\\n\u628a\u4e0a\u9762\u90a3\u4e2a\u51fd\u6570\u7a0d\u5fae\u6539\u9020\u4e00\u4e0b\u5c31\u662f\uff1a\\n\\n//\u5c0616\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6b64\u503c\u7684\u5b57\u7b26\u4e32\u3002\\n\\nfunction hexstr_str( $hexstr)\\n\\n{\\n\\n $re = \'\';\\n\\n for( $i = 0;\xa0isset( $hexstr[ $i +1]); $i += 2)\\n\\n $re .= chr(\xa0(\'0x\'.$hexstr[ $i].$hexstr[ $i + 1])\xa0* 1);\\n\\n if( strlen( $hexstr)\xa0&gt; $i)\\n\\n $re .= chr(\xa0(\'0x\'.$hexstr[ $i].\'0\')\xa0* 1);\\n\\n return $re;\\n\\n}\\n\\n\u4ee3\u7801\u7b80\u6d01\u4e86\u5f88\u591a\u554a\u3002\u770b\u8d77\u6765\u987a\u773c\u591a\u4e86\u3002\\n\\n\u7f6e\u4e8e\u6211\u4e3a\u5565\u7814\u7a76\u8fd9\u4e2a\u73a9\u610f\u513f\uff0c\u6211\u6700\u5f00\u59cb\u4e5f\u5c31\u662f\u4e3a\u4e86\u7528\u5566\u8bfb\u53d6BMP\u6e90\u6587\u4ef6\u7684\u3002\\n\\n\u8fd9\u91cc\u6211\u4eec\u6765\u7b80\u5355\u5199\u4e2a\u8bfb\u53d6BMP\u5934\u4fe1\u606f\u7684\u51fd\u6570\u3002\\n\\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u662f\u4ee524/32\u4f4d\u56fe\u4e3e\u4f8b\uff0c16/8/2\u4f4d\u4f4d\u56fe\u5728\u8fd9\u91cc\u53ef\u80fd\u884c\u4e0d\u901a\u7684\uff0c\u56e0\u4e3a\u6570\u636e\u7ed3\u6784\u4e0d\u540c\u3002\\n\\nBMP\u6587\u4ef6\u7ed3\u6784\uff1a\\n\\nBegin\\n\\n//\u6587\u4ef6\u5934\\n\\n section \\"BMP\xa0File\xa0Header\\"\\n\\n  read-only\xa0char[2] \\"BMP_ID\\"  //\xa000\\n\\n  uint32 \\"File\xa0size\\"    //\xa002\\n\\n  uint32 \\"Reserved\\"    //\xa006\\n\\n  uint32\xa0\xa0\\"ImageDataOffset\\"   //\xa00A\\n\\n endsection\\n\\n//\u4fe1\u606f\u5934\\n\\n section \\"BMP\xa0Info\xa0Header\\"\\n\\n  uint32 \\"HeaderSize\\"    //\xa00E\\n\\n  uint32 \\"Width\\"     //\xa012\\n\\n  uint32 \\"Height\\"    //\xa016\\n\\n  uint16 \\"Planes\\"    //\xa01A\\n\\n  uint16 \\"BPP\\"     //\xa01C\\n\\n  uint32 \\"CompessionMethod\\"   //\xa01E\\n\\n  uint32 \\"ImageSize\\"    //\xa022\\n\\n  uint32 \\"XPixelsPerMeter\\"   //\xa026\\n\\n  uint32 \\"YPixelsPerMeter\\"   //\xa02A\\n\\n  uint32 \\"PaletteSize\\"    //\xa02E\\n\\n  uint32 \\"ColorsImportant\\"   //\xa032\\n\\n endsection\\n\\n//\u8c03\u8272\u677f\u4fe1\u606f\\n\\n section \\"Palette(If\xa0PaletteSize=0\xa0then\xa0no\xa0palette)\\"\\n\\n  numbering\xa00\\n\\n  {\\n\\n   byte\xa0\\"B[~]\\"\\n\\n   byte\xa0\\"G[~]\\"\\n\\n   byte\xa0\\"R[~]\\"\\n\\n   byte\xa0\\"A[~]\\"\\n\\n  }\xa0[PaletteSize]\\n\\n endsection\\n\\nend\\n\\n\u5b9e\u73b0\u7684\u4ee3\u7801\u5982\u4e0b\uff1a\\n\\n$data = file_get_contents( \'Wener.bmp\');\\n\\n$array = unpack(\\"nBMP_ID/V\u6587\u4ef6\u5927\u5c0f/V\u4fdd\u7559\u5b57/V\u56fe\u7247\u4fe1\u606f\u504f\u79fb/V\u5934\u5927\u5c0f/V\u5bbd/V\u9ad8/vPlanes/vBPP/V\u538b\u7f29\u65b9\u6cd5/V\u56fe\u7247\u5927\u5c0f/V\u6a2a\u8f74\u4e0a\u6bcf\u50cf\u7d20\u5bbd/V\u7ad6\u8f74\u4e0a\u6bcf\u50cf\u7d20\u5bbd/V\u8c03\u8272\u677f\u5927\u5c0f/V\u91cd\u8981\u7684\u989c\u8272\\", $data);\\n\\necho \'&lt;pre&gt;\';\\n\\nvar_dump( $array);\\n\\nforeach( $array as $k =&gt; $v)\\n\\n echo $k,\':\',( $v),\'&lt;br&gt;\';\\n\\n\u8bf7\u66f4\u6539\u4e3a\u4f60\u81ea\u5df1\u7684\u56fe\u7247\u5730\u5740\u540e\u6d4b\u8bd5\u3002\u6211\u7684\u8f93\u5165\u5982\u4e0b\uff1a\\n\\nBMP_ID:16973\\n\\n\u6587\u4ef6\u5927\u5c0f:307254\\n\\n\u4fdd\u7559\u5b57:0\\n\\n\u56fe\u7247\u4fe1\u606f\u504f\u79fb:54\\n\\n\u5934\u5927\u5c0f:40\\n\\n\u5bbd:240\\n\\n\u9ad8:320\\n\\nPlanes:1\\n\\nBPP:32\\n\\n\u538b\u7f29\u65b9\u6cd5:0\\n\\n\u56fe\u7247\u5927\u5c0f:307200\\n\\n\u6a2a\u8f74\u4e0a\u6bcf\u50cf\u7d20\u5bbd:0\\n\\n\u7ad6\u8f74\u4e0a\u6bcf\u50cf\u7d20\u5bbd:0\\n\\n\u8c03\u8272\u677f\u5927\u5c0f:0\\n\\n\u91cd\u8981\u7684\u989c\u8272:0\\n\\n\u6211\u7684\u6d4b\u8bd5\u6587\u4ef6\uff1a\\n\\n[![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-6007-225x300.png \\"php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-6007\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8fdb\u5236\u6587\u4ef6-6007.png)\\n\\n\u603b\u7ed3\uff1a\\n\\n\u603b\u7684\uff0c\u6765\u8bf4\uff0cphp\u7684\u8fd9\u4e24\u4e2a\u51fd\u6570\u65e0\u7591\u662f\u5f88\u5f3a\u5927\u7684\u3002\u7528\u6765\u5206\u6790\u6587\u4ef6\u4e5f\u5f88\u597d\u7528\u3002\\n\\n\u6216\u8bb8\u4e0d\u8db3\u7684\u5c31\u662f\u7f3a\u5c11\u8fd9\u65b9\u9762\u7684\u6848\u4f8b\u5427\uff0c\u6ca1\u89c1\u5230\u5f88\u591a\u4eba\u7528\u8fc7\u8fd9\u4e2a\u3002\\n\\n\u4ee5\u540e\u81ea\u5df1\u5b66\u4e60\u6587\u4ef6\u7684\u7ed3\u6784\u4e5f\u4f1a\u5e38\u5e38\u7528\u5230\u8fd9\u4e2a\u51fd\u6570\uff0c\u6709\u65f6\u5019\u89c9\u5f97unpack\u6bd4pack\u66f4\u6709\u9b45\u529b\u3002\u5173\u4e8e\u66f4\u8be6\u7ec6\u7684BMP\u6587\u4ef6\u7ed3\u6784\u548c\u4fe1\u606f\u7684\u83b7\u53d6\u6211\u4f1a\u53e6\u5916\u5199\u4e00\u7bc7\u6587\u7ae0\u7684\u3002\u8fd9\u7bc7\u53ea\u662f\u7565\u5fae\u7684\u6d89\u53ca\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\u800c\u5df2\u3002\u6211\u8fd8\u662f\u89c9\u5f97\\n\\nPhp\u5904\u74062\u8fdb\u5236\u6d41\u7684\u9b45\u529b\u662f\u975e\u5e38\u5f3a\u5927\u7684\u3002\\n\\n\u7f6e\u4e8e\u5efa\u7acb\u5728\u8fd9\u4e2a\u4e4b\u4e0a\u5199\u66f4\u591a\u7684\u8fd0\u7528\uff08\u52a0\u5bc6\uff0c\u534f\u8bae\uff0c\u7834\u89e3\uff0c\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f\uff09\u4ec0\u4e48\u7684\u5c31\u770b\u4e2a\u4eba\u53d1\u6325\u4e86\u3002"},{"id":"wener-is-my-name","metadata":{"permalink":"/story/wener-is-my-name","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-01-02-Wener\u7684\u6765\u5386 - \u4e00\u6bb5\u6545\u4e8b.md","source":"@site/story/2011/2011-01-02-Wener\u7684\u6765\u5386 - \u4e00\u6bb5\u6545\u4e8b.md","title":"\u201cWener\u201d\u7684\u6765\u5386 - \u4e00\u6bb5\u6545\u4e8b","description":"\u8bb0\u5f97\u90a3\u8fd8\u662f\u5728\u521d\u4e2d\u7684\u65f6\u5019\u5427\uff0c\u521d\u4e8c\u5de6\u53f3\u5427\uff0c\u90a3\u65f6\u5019\u73ed\u4e0a\u5c31\u5f00\u59cb\u53eb\u201c\u7b80\u79f0\u201d\u4e86\uff0c\u8bb0\u5f97\u6700\u5148\u51fa\u73b0\u7684\u662f\u201c\u5fd7\u513f\u201d\uff0c\u7136\u540e\u53eb\u4e86\u53eb\u7684\u5927\u5bb6\u90fd\u5f00\u59cb\u53eb\u7b80\u79f0\u4e86\uff0c\u6211\u89c9\u5f97\u8fd9\u6837\u4e5f\u633a\u597d\u7684\uff0c\u53eb\u4eba\u6ca1\u90a3\u4e48\u8d39\u529b\u4e86\uff0c\u4e5f\u8282\u7701\u4e86\u4e0d\u5c11\u53e3\u6c34\u548c\u65f6\u95f4\u3002","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u6545\u4e8b","permalink":"/story/tags/\u6545\u4e8b"}],"readingTime":1.2,"truncated":true,"authors":[],"prevItem":{"title":"PHP \u64cd\u4f5c\u4e8c\u8fdb\u5236\u6d41\uff0c\u8bfb\u53d6\u6587\u4ef6\u7ed3\u6784","permalink":"/story/php-read-binary"},"nextItem":{"title":"\u6587\u4ef6\u5b58\u50a8\u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u53ca\u8003\u8651\u56e0\u7d20","permalink":"/story/file-data-structures"}},"content":"\u8bb0\u5f97\u90a3\u8fd8\u662f\u5728\u521d\u4e2d\u7684\u65f6\u5019\u5427\uff0c\u521d\u4e8c\u5de6\u53f3\u5427\uff0c\u90a3\u65f6\u5019\u73ed\u4e0a\u5c31\u5f00\u59cb\u53eb\u201c\u7b80\u79f0\u201d\u4e86\uff0c\u8bb0\u5f97\u6700\u5148\u51fa\u73b0\u7684\u662f\u201c\u5fd7\u513f\u201d\uff0c\u7136\u540e\u53eb\u4e86\u53eb\u7684\u5927\u5bb6\u90fd\u5f00\u59cb\u53eb\u7b80\u79f0\u4e86\uff0c\u6211\u89c9\u5f97\u8fd9\u6837\u4e5f\u633a\u597d\u7684\uff0c\u53eb\u4eba\u6ca1\u90a3\u4e48\u8d39\u529b\u4e86\uff0c\u4e5f\u8282\u7701\u4e86\u4e0d\u5c11\u53e3\u6c34\u548c\u65f6\u95f4\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u6240\u4ee5\u6211\u5462\u201c\u6587\u513f\u201d\u5c31\u8fd9\u6837\u51fa\u6765\u4e86\uff0c\u6211\u89c9\u5f97\u8fd9\u6837\u53eb\u8d77\u6765\u5176\u5b9e\u633a\u4eb2\u5207\u7684\uff0c\u542c\u7740\u7684\u611f\u89c9\u4e5f\u5f88\u597d\u7684\u3002\\n\\n\u800c \u6587\u513f \u5373Wen er\u4e86\uff0c\u4e2d\u6587\u5f0f\u7684\u62fc\u97f3\u8f6c\u5316\u8fc7\u6765\u7684\uff08\u867d\u7136\u4ece\u5c0f\u62fc\u97f3\u5c31\u4e0d\u597d\uff0c\u90a3\u8fd9\u4e5f\u7b97\u662f\u5f25\u8865\u4e0b\u5427.......\uff09\u3002\\n\\n\u800c\u8fd8\u6709\u4e00\u4e2a\u82f1\u8bed\u7684\u5355\u8bcd Win\xa0 \u03bd.\u80dc\u5229\xa0 Winner\xa0 n.\u80dc\u8005\\n\\n\u5982\u679c Wener\u4e2d\u7684 e \u53d1`[i:]`\u7684\u97f3\u90a3\u5c31\u548c Winner\u7684\u97f3\u76f8\u540c\u4e86\u3002\u8c01\u4e0d\u5e0c\u671b\u6210\u4e3a\u4e00\u4e2a\u80dc\u8005\u5462\u3002\\n\\n\u8fd9\u4e5f\u7b97\u6211\u6000\u63e3\u7740\u81ea\u5df1\u7684\u68a6\u60f3\u5427\u3002\\n\\n\u7efc\u4e0a\u5462 \u6211\u5c31\u7279\u522b\u559c\u6b22 _Wener_ \u548c _\u6587\u513f_ \u8fd9\u4e2a\u540d\u5b57\u4e86"},{"id":"file-data-structures","metadata":{"permalink":"/story/file-data-structures","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-01-08-\u6587\u4ef6\u5b58\u50a8\u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u53ca\u8003\u8651\u56e0\u7d20.md","source":"@site/story/2011/2011-01-08-\u6587\u4ef6\u5b58\u50a8\u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u53ca\u8003\u8651\u56e0\u7d20.md","title":"\u6587\u4ef6\u5b58\u50a8\u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u53ca\u8003\u8651\u56e0\u7d20","description":"\u6bcf\u5929\u6211\u4eec\u90fd\u5728\u63a5\u89e6\u5404\u79cd\u5404\u6837\u7684\u6587\u4ef6\uff0c\u4f7f\u7528\u548c\u8bb0\u5f55\u5404\u79cd\u5404\u6837\u7684\u6570\u636e\u4fe1\u606f\uff0c\u90a3\u8fd9\u4e9b\u6587\u4ef6\u90fd\u662f\u4ee5\u4ec0\u4e48\u7ed3\u6784\u5b58\u50a8\u7684\u5462\uff1f\u6b64\u6587\u5bf9\u6b64\u8fdb\u884c\u4e86\u4e00\u4e9b\u5c0f\u5c0f\u7684\u6d89\u53ca\u548c\u8bb2\u89e3\u3002","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u7b97\u6cd5","permalink":"/story/tags/\u7b97\u6cd5"},{"label":"\u6570\u636e\u7ed3\u6784","permalink":"/story/tags/\u6570\u636e\u7ed3\u6784"}],"readingTime":4.07,"truncated":true,"authors":[],"prevItem":{"title":"\u201cWener\u201d\u7684\u6765\u5386 - \u4e00\u6bb5\u6545\u4e8b","permalink":"/story/wener-is-my-name"},"nextItem":{"title":"\u300a\u4f55\u5fc5\u518d\u300b","permalink":"/story/no-more"}},"content":"\u6bcf\u5929\u6211\u4eec\u90fd\u5728\u63a5\u89e6\u5404\u79cd\u5404\u6837\u7684\u6587\u4ef6\uff0c\u4f7f\u7528\u548c\u8bb0\u5f55\u5404\u79cd\u5404\u6837\u7684\u6570\u636e\u4fe1\u606f\uff0c\u90a3\u8fd9\u4e9b\u6587\u4ef6\u90fd\u662f\u4ee5\u4ec0\u4e48\u7ed3\u6784\u5b58\u50a8\u7684\u5462\uff1f\u6b64\u6587\u5bf9\u6b64\u8fdb\u884c\u4e86\u4e00\u4e9b\u5c0f\u5c0f\u7684\u6d89\u53ca\u548c\u8bb2\u89e3\u3002\\n\\n\x3c!--more--\x3e\\n\\n# \u6587\u4ef6\u5b58\u50a8\u7ed3\u6784\\n\\n\u57fa\u672c\u7ec4\u7ec7\u65b9\u5f0f\uff1a \u987a\u5e8f\u7ec4\u7ec7\xa0 \u7d22\u5f15\u7ec4\u7ec7\xa0 \u6563\u5217\u7ec4\u7ec7\xa0 \u94fe\u7ec4\u7ec7\\n\\n\u5e38\u7528\u7ed3\u6784\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \uff1a\xa0 \u987a\u5e8f\u7ed3\u6784\xa0 \u7d22\u5f15\u7ed3\u6784\xa0 \u6563\u5217\u7ed3\u6784\xa0 \u94fe\u7ed3\u6784\\n\\n## \u987a\u5e8f\u7ed3\u6784\uff08\u987a\u5e8f\u8868\uff09\\n\\n\u5206\u7c7b\uff1a\\n\\n\u5b58\u50a8\u4f4d\u7f6e\u76f8\u90bb\uff08\u8fde\u7eed\u6587\u4ef6\uff09\\n\\n\u8bb0\u5f55\u95f4\u4ee5\u6307\u9488\u94fe\u63a5\uff08\u4e32\u8054\u6587\u4ef6\uff09\\n\\n\u63cf\u8ff0\uff1a\u987a\u5e8f\u7ed3\u6784\u53ef\u7528\u4e8e\u987a\u5e8f\u5b58\u53d6,\u4f46\u66f4\u6539\u540e\u9700\u8981\u5168\u90e8\u590d\u5236\uff0c\u5bf9\u589e\u5220\u64cd\u4f5c\u4e0d\u65b9\u4fbf\u3002\u4f18\u70b9\u662f\u5b58\u53d6\u8f83\u5feb\u7528\u4e8e\u6279\u91cf\u4fee\u6539\uff0c\u4e0d\u80fd\u52a8\u6001\u589e\u957f\u3002\\n\\n\u6bd4\u5982\uff1ahttp://club.eebbk.com/bbkbbs/dispbbs.asp?boardid=38&amp;Id=250082\\n\\n\u8fd9\u4e2a\u662f\u6b65\u6b65\u9ad8\u5b66\u4e60\u673a\u4e2d\u7684\u6587\u4ef6\uff0clcc\uff08\u540d\u7247\u6587\u4ef6\uff09\u548c\u7528\u6237\u8bcd\u5178\u6570\u636e\u3002\u90fd\u80fd\u7b97\u505a\u662f\u987a\u5e8f\u7ed3\u6784\u5427\uff0c\u53ea\u662flcc\u8fd8\u5305\u542b\u6709\u4e00\u70b9\u5934\u4fe1\u606f\\n\\n## \u7d22\u5f15\u7ed3\u6784\\n\\n\u7d22\u5f15\u6587\u4ef6\u5305\u542b\uff1a\u7d22\u5f15\u8868\uff0c\u6570\u636e\u8868\\n\\n\u63cf\u8ff0\uff1a\\n\\n\u7d22\u5f15\u8868\u4e2d\u7d22\u5f15\u9879\u5305\u542b\u4e86\u4e0e\u5177\u4f53\u6570\u636e\u6709\u5173\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u4f8b\u5982\u4e00\u4e9b\u5173\u952e\u5b57\u7b49\uff0c\u4f46\u6700\u4e3b\u8981\u7684\u662f\u6307\u5411\u6570\u636e\u8868\u7684\u4e00\u4e2a\u5730\u5740\u3002\u7d22\u5f15\u8868\u662f\u6709\u5e8f\u7684\uff0c\u7269\u7406\u6b21\u5e8f\u4f53\u73b0\u6587\u4ef6\u903b\u8f91\u6b21\u5e8f\uff0c\u5b9e\u73b0\u6587\u4ef6\u7ebf\u6027\u7ed3\u6784\u3002\\n\\n\u7d22\u5f15\u8868\u53ea\u80fd\u662f\u78c1\u76d8\u6587\u4ef6\uff0c\u7d22\u5f15\u7ed3\u6784\u7684\u6587\u4ef6\u65e2\u80fd\u987a\u5e8f\u5b58\u53d6\u53c8\u80fd\u968f\u673a\u5b58\u53d6\\n\\n\u6bd4\u5982\uff1a\\n\\nhttp://club.eebbk.com/bbkbbs/dispbbs.asp?boardid=38&amp;Id=250018\\n\\nhttp://club.eebbk.com/bbkbbs/dispbbs.asp?boardid=38&amp;Id=250092\\n\\ncue-Wv \u6587\u4ef6\uff0c\u4e00\u79cd\u5a92\u4f53\u683c\u5f0f\\n\\nDvd\u7684\u4e00\u4e9bVob\u6587\u4ef6\u4e5f\u662f\u7d22\u5f15\u7684\\n\\n\u8fd9\u79cd\u6587\u4ef6\u4e2d\u6709\u7684\u662f\u4ee5\u4e00\u6574\u6bb5\u6570\u636e\u5b58\u50a8\u5728\u4e00\u8d77\uff0c\u7136\u540e\u4ee5\u7d22\u5f15\u8868\u6765\u5206\u6bb5\u3002\u6709\u7684\u662f\u4e3a\u4e86\u628a\u591a\u6bb5\u6570\u636e\u5b58\u50a8\u5728\u4e00\u8d77\uff0c\u7136\u540e\u4ee5\u7d22\u5f15\u8868\u6765\u8fa8\u522b\u5206\u522b\u7684\u6bcf\u4e2a\u6587\u4ef6\u3002\\n\\n## \u6563\u5217\u7ed3\u6784\uff08\u8ba1\u7b97\u673a\u5bfb\u5740\u7ed3\u6784\uff0c\u5176\u6587\u4ef6\u88ab\u79f0\u4e3a\u6563\u5217\u6587\u4ef6\uff09\\n\\n\u63cf\u8ff0\uff1a\\n\\n\u8bb0\u5f55\u7684\u662f\u53c8\u5173\u952e\u5b57\u7ecf\u8fc7\u6563\u5217\u51fd\u6570\u786e\u5b9a\u7684\u5730\u5740\uff0c\u5b58\u53d6\u5feb\uff0c\u4e0d\u9700\u8981\u7d22\u5f15\u8282\u7701\u4e86\u7a7a\u95f4\uff0c\u4f46\u4e0d\u80fd\u987a\u5e8f\u5b58\u53d6 \u53ea\u80fd\u968f\u673a\u3002RAM \u968f\u673a\u5b58\u53d6\u7684\u3002\\n\\n\u5177\u4f53\u54ea\u4e9b\u6587\u4ef6\u662f\u6211\u4e5f\u4e0d\u6e05\u695a\uff0c\u56e0\u4e3a\u4e00\u822c\u54ea\u4e9b\u6587\u4ef6\u7ed3\u6784\u90fd\u6bd4\u8f83\u96be\u5f04\u7684\u6e05\u695a\uff0c\u5fc5\u987b\u8981\u77e5\u9053\u6563\u5217\u51fd\u6570\u624d\u80fd\u786e\u5b9a\u5176\u6570\u636e\u7ed3\u6784\u3002\\n\\n## \u94fe\u7ed3\u6784\\n\\n\u63cf\u8ff0\uff1a\\n\\n\u5373\u4ee5\u6307\u9488\u94fe\u63a5\u7684\u6bcf\u4e2a\u7269\u7406\u5757\u3002\\n\\n\u4f18\u70b9\u662f\uff1a\u80fd\u591f\u5b58\u50a8\u788e\u7247\uff0c\u5229\u4e8e\u52a8\u6001\u589e\u5220\uff0c\u63d0\u9ad8\u78c1\u76d8\u5229\u7528\u7387\\n\\n\u7f3a\u70b9\u662f\uff1a\u5b58\u53d6\u8f83\u6162\uff0c\u4e0d\u9002\u7528\u4e8e\u968f\u673a\u5b58\u53d6\uff0c\u6548\u7387\u4f4e\uff0c\u53ef\u9760\u6027\u4f4e\uff08\u4e00\u4e2a\u6307\u9488\u51fa\u9519\u5c31\u5168\u90e8\u90fd\u9519\u4e86\uff09\uff0c\u6307\u9488\u9700\u8981\u7a7a\u95f4\u6765\u5b58\u50a8\\n\\n\u94fe\u7ed3\u6784\u5728\u8ba1\u7b97\u673a\u4e2d\u8fd0\u7528\u8fd8\u662f\u5f88\u5e7f\u6cdb\u7684\uff0c\u7f16\u7a0b\u65f6\u7684\u6570\u7ec4\u5bf9\u8c61\u7b49\u6570\u636e\u7ed3\u6784\u57fa\u672c\u90fd\u662f\u4ee5\u94fe\u7ed3\u6784\u50a8\u5b58\u7684\u3002\\n\\n\u4e00\u822c\u94fe\u7ed3\u6784\u7684key\u90fd\u9700\u8981\u4e00\u4e9b\u6307\u9488\u4fe1\u606f\uff0c\u4f8b\u5982\u4e0a\u4e00\u4e2a\u4f4d\u7f6e\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u611f\u89c9\u5c31\u50cf\u662f\u6570\u7ec4\u7ed3\u6784\u3002\\n\\n# \u8003\u8651\u56e0\u7d20\\n\\n\u4e00\u822c\u9009\u62e9\u5177\u4f53\u6587\u4ef6\u7ed3\u6784\u7684\u65f6\u5019\u90fd\u9700\u8981\u66f4\u5177\u5177\u4f53\u60c5\u51b5\u6765\u8003\u8651\uff0c\u6211\u8fd9\u91cc\u53ea\u80fd\u7f57\u5217\u51fa\u4e00\u4e9b\u8003\u8651\u7684\u56e0\u7d20\\n\\n\u8003\u8651\u56e0\u7d20\uff1a\u5b58\u50a8\u4ecb\u8d28\u7c7b\u578b\uff0c\u8bb0\u5f55\u7c7b\u578b\uff0c\u5927\u5c0f\uff0c\u5173\u952e\u5b57\u6570\u76ee\uff0c\u5bf9\u6587\u4ef6\u8fdb\u884c\u4f55\u79cd\u64cd\u4f5c\u7b49\\n\\n\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002"},{"id":"no-more","metadata":{"permalink":"/story/no-more","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-11-16-\u300a\u4f55\u5fc5\u518d\u300b.md","source":"@site/story/2011/2011-11-16-\u300a\u4f55\u5fc5\u518d\u300b.md","title":"\u300a\u4f55\u5fc5\u518d\u300b","description":"","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u8bd7\u6b4c","permalink":"/story/tags/\u8bd7\u6b4c"}],"readingTime":0.32,"truncated":false,"authors":[],"prevItem":{"title":"\u6587\u4ef6\u5b58\u50a8\u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u53ca\u8003\u8651\u56e0\u7d20","permalink":"/story/file-data-structures"},"nextItem":{"title":"\u300a\u6b4c\u58f0\u300b","permalink":"/story/the-song"}},"content":"```\\n\u4f55\u5fc5 \u4f55\u5fc5\u7684\u518d\\n\u4e3a\u4f60\u60f3\u5f97\u592a\u591a\\n\u505a\u7684 \u8bf4\u7684\\n\u592a\u591a\\n\u91cd\u590d\u7684\\n\u4f60\u8bf4\u8fc7\u7684\\n\u90a3\u5df2\u4e0d\u518d\u6709\u610f\u4e49\\n\u8a00\u8bed \u8bcd\u53e5\\n\u8fd8\u662f\u90a3\u4e48\u7684\u8bd7\u60c5\u753b\u610f\\n\u7231\u4f60 \u672a\u66fe\u6709\u79d8\u5bc6\\n\u4f60\u8bf4\u4eca\u751f\u6ce8\u5b9a\\n\u4e0d\u80fd\u5728\u4e00\u8d77\\n```"},{"id":"the-song","metadata":{"permalink":"/story/the-song","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-11-16-\u300a\u6b4c\u58f0\u300b.md","source":"@site/story/2011/2011-11-16-\u300a\u6b4c\u58f0\u300b.md","title":"\u300a\u6b4c\u58f0\u300b","description":"","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u8bd7\u6b4c","permalink":"/story/tags/\u8bd7\u6b4c"}],"readingTime":0.355,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u4f55\u5fc5\u518d\u300b","permalink":"/story/no-more"},"nextItem":{"title":"\u300a\u6c89\u9189\u7684\u72af\u7f6a\u300b","permalink":"/story/addicted-sin"}},"content":"```\\n\u5f98\u5f8a\u5728\u8033\u95f4\\n\u6709\u4f60\u7684\u547c\u5438 \u5598\u606f\\n\\n\u4e0d\u505c\u5730 \u52aa\u529b\u5730\\n\u8bc9\u8bf4\u7740\u6b4c\u91cc\u7684\u6545\u4e8b\\n\\n\u7559\u7740\u4f60\u7684\u6cea \u4f24\u7740\u4f60\u7684\u5fc3 \u56de\u7740\u4f60\u7684\u5fc6\\n\\n\u4f60\u548c\u4ed6\u600e\u6ca1\u7ee7\u7eed\\n\u90a3\u4e48\u591a\u548c\u4ed6\u7684\u5c0f\u79d8\u5bc6\\n\\n\u4e3a\u4ec0\u4e48\u4e0d\u66fe\u544a\u8bc9\u4ed6\\n\u5374\u6765\u5411\u6211\u8bf4\uff1f\\n```"},{"id":"addicted-sin","metadata":{"permalink":"/story/addicted-sin","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-11-16-\u300a\u6c89\u9189\u7684\u72af\u7f6a\u300b.md","source":"@site/story/2011/2011-11-16-\u300a\u6c89\u9189\u7684\u72af\u7f6a\u300b.md","title":"\u300a\u6c89\u9189\u7684\u72af\u7f6a\u300b","description":"","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u8bd7\u6b4c","permalink":"/story/tags/\u8bd7\u6b4c"}],"readingTime":0.265,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u6b4c\u58f0\u300b","permalink":"/story/the-song"},"nextItem":{"title":"\u300a\u7eed\u7231\u300b","permalink":"/story/love-more"}},"content":"```\\n\u6708\u5149\u4f7f\u4eba\u6c89\u9189\\n\u8def\u706f\u5149\u4f7f\u4eba\u72af\u7f6a\\n\\n\u90a3\u4e9b\u6c89\u9189\u5728\u62e5\u6000\u4e2d\u72af\u7f6a\u7684\u4eba\u554a\\n\u60a8\u53ef\u5426\u632a\u632a\\n\\n\u6211\u4e0d\u662f\u6709\u610f\u8981\u6253\u6270\u4f60\\n\u53ea\u662f\u4f60\u7ad9\u5728\u90a3\u91cc\u6211\u592a\u5bf9\u4e0d\u8d77\\n```"},{"id":"love-more","metadata":{"permalink":"/story/love-more","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-11-16-\u300a\u7eed\u7231\u300b.md","source":"@site/story/2011/2011-11-16-\u300a\u7eed\u7231\u300b.md","title":"\u300a\u7eed\u7231\u300b","description":"","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u8bd7\u6b4c","permalink":"/story/tags/\u8bd7\u6b4c"}],"readingTime":0.3,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u6c89\u9189\u7684\u72af\u7f6a\u300b","permalink":"/story/addicted-sin"},"nextItem":{"title":"\u5b66\u4e60\u4e4b\u8c08","permalink":"/story/learning-skill"}},"content":"```\\n\u5ef6\u7eed\u4e0a\u4e16\u7684\u8bb0\u5fc6\\n\u4eca\u751f\u60f3\u7740\u5982\u4f55\u8fd8\u80fd\u548c\u4f60\u7ee7\u7eed\\n\\n\u6211\u601d\u5ff5\u7684\u4eba\u554a\\n\u6211\u4eec\u76f8\u9694\u4e00\u4e16\u7684\u8ddd\u79bb\\n\\n\u4f60\u662f\u5426\u8fd8\u8bb0\u5f97\\n\u6709\u8fd9\u4e2a\u4e00\u4e2a\u671f\u5f85\\n\\n\u4f60\u53ef\u4ee5\u4f9d\u8d56\\n\u7ee7\u7eed\u6211\u4eec\u4eca\u751f\u7231\\n```"},{"id":"learning-skill","metadata":{"permalink":"/story/learning-skill","editUrl":"https://github.com/wenerme/wener/edit/master/story/2014/2014-05-30-\u5b66\u4e60\u4e4b\u8c08.md","source":"@site/story/2014/2014-05-30-\u5b66\u4e60\u4e4b\u8c08.md","title":"\u5b66\u4e60\u4e4b\u8c08","description":"\u4e00\u4e0b\u5185\u5bb9\u4e4b\u4f5c\u4e3a\u4e2a\u4eba\u5b66\u4e60\u7684\u4e00\u4e9b\u7ecf\u9a8c","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u601d\u8003","permalink":"/story/tags/\u601d\u8003"}],"readingTime":3.31,"truncated":true,"authors":[],"prevItem":{"title":"\u300a\u7eed\u7231\u300b","permalink":"/story/love-more"},"nextItem":{"title":"\u6211\u7684\u7f16\u7a0b\u4e4b\u9053","permalink":"/story/the-why-i-write-code"}},"content":"> \u4e00\u4e0b\u5185\u5bb9\u4e4b\u4f5c\u4e3a\u4e2a\u4eba\u5b66\u4e60\u7684\u4e00\u4e9b\u7ecf\u9a8c\\n> \u5e26\u6709\u5f3a\u70c8\u7684\u4e3b\u89c2\u8272\u5f69, \u4e0d\u80fd\u8ba4\u4e3a\u5b8c\u5168\u6b63\u786e. :smile:\\n\\n\x3c!--more--\x3e\\n\\n## \u5b66\u4e60 Java \u7684\u65b9\u6cd5\\n\\n- \u6709\u5174\u8da3\\n- \u4f1a\u8c37\u6b4c\\n- \u6709\u95ee\u9898\u5c31\u8c37\u6b4c\\n- \u4f1a\u70b9\u8ba1\u7b97\u673a\u82f1\u8bed\\n- \u6709\u95ee\u9898\u5c31\u8c37\u6b4c,\u5c3d\u91cf\u7528\u82f1\u8bed\\n- \u4f1a\u7ffb\u5899\\n- \u6709\u95ee\u9898\u5c31\u8c37\u6b4c,\u5c3d\u91cf\u7528\u82f1\u8bed,\u4f1a\u7ffb\u5899\u624d\u80fd\u770b\u5230\u8c37\u6b4c\\n\\n## Java \u7684\u5b66\u4e60\u987a\u5e8f\u5e94\u8be5\u5982\u4f55\u5462\\n\\n- \u505a\u4e00\u4e2a\u4e1c\u897f\\n- \u5c0f\u6e38\u620f\u4ec0\u4e48\u7684 \u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u5b66\u5230\u5f88\u591a\\n- \u5c3d\u91cf\u5077\u61d2\\n\\n## \u9664\u4e86\u8fd9\u4e2a\u63a5\u4e0b\u6765\u770b\u54ea\u90e8\u5206\u5462 I/O \u6d41\u4e4b\u7c7b\u7684\uff1f\\n\\n- \u6ca1\u6709\u4e2a\u987a\u5e8f \u7528\u5230\u518d\u5b66\\n- \u4e0d\u7136\u4e3a\u4e86\u5b66\u800c\u5b66\u6ca1\u610f\u4e49\\n\\n## \u60f3\u5b66\u4f1a\u4e86\u77e5\u8bc6 \u518d\u7528 \u7136\u540e\u627e\u5de5\u4f5c\\n\\n- \u77e5\u8bc6\u5b66\u4e0d\u5b8c\\n- \u505a\u70b9\u4f5c\u54c1\u5e94\u8be5\u624d\u662f\u91cd\u8981\u7684 \u6211\u89c9\u5f97\\n\\n## \u5b66\u5230\u591f\u5de5\u4f5c\u5c31\u591f\u4e86 \u7136\u540e\u66f4\u591a\u7684\u90fd\u662f\u5728\u5de5\u4f5c\u4e2d\u5b66\\n\\n- \u6c38\u8fdc\u591f\u4e0d\u4e86\\n- \u6ca1\u6709\u94f6\u5f39\\n\\nQ: \u5b66\u5230\u591f\u4e00\u4e9b\u57fa\u672c\u5de5\u4f5c\u7684 \u7136\u540e\u5728\u5de5\u4f5c\u4e2d\u4f1a\u4e0d\u65ad\u7528\u5230\u77e5\u8bc6\u4ec0\u4e48\u7684 \u4e5f\u53ef\u4ee5\u518d\u7ee7\u7eed\u5b66 \u53c8\u953b\u70bc\u53c8\u5b66,\\n\u81ea\u5df1\u5b66\u7684\u8bdd\u7ec8\u5f52\u5f88\u591a\u662f\u4e0d\u5168\u9762\u7684 \u5de5\u4f5c\u4e86\u77e5\u9053\u9700\u8981\u4ec0\u4e48\u4e86 \u65b9\u5411\u8ddf\u66f4\u660e\u786e\u5427\\n\\n- \u6240\u4ee5\u7b49\u5230\u7528\u7684\u65f6\u5019\u518d\u5b66\\n- \u80fd\u505a\u51fa\u6765\u4e1c\u897f\u8bf4\u660e\u4f60\u6709\u5e95\u5b50\u4e86\\n- \u4e5f\u6709\u4e86\u4e00\u5b9a\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\\n\\nQ: \u4f46\u662f\u73b0\u5728\u6211\u8fd8\u662f\u611f\u89c9\u5b66\u7684\u592a\u5c11\u4e86 \u8fd8\u662f\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u4e00\u6837 \u6240\u4ee5\u60f3\u95ee\u95ee\u57fa\u672c\u638c\u63e1\u54ea\u4e9b\u77e5\u8bc6\u53ef\u4ee5\u6295\u5165\u5de5\u4f5c \u6216\u8005\u5c31\u662f\u8bf4\u5b66\u4e60\u7684\u57fa\u672c\u987a\u5e8f\\n\\n- \u77e5\u9053\u6bcf\u4e2a\u5173\u952e\u5b57\u7684\u4f5c\u7528\\n- \u4ec0\u4e48\u65f6\u5019\u7528 \u600e\u4e48\u7528\\n- \u77e5\u9053\u57fa\u672c\u7684\u8bed\u6cd5\\n- \u7136\u540e\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u521b\u9020\u81ea\u5df1\u7684\u4e16\u754c\u4e86\\n- \u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u67e5\u627e\u6587\u6863\\n\\n## \u6211\u600e\u4e48\u5077\u61d2\u7684\\n\\n- \u4e00\u822c\u60f3\u8981\u505a\u4e00\u4e2a\u4e1c\u897f\u7684\u65f6\u5019, \u90fd\u4f1a\u5927\u6982\u7684\u89c4\u5212\u4e0b, \u9700\u8981\u4e9b\u4ec0\u4e48\u6837\u7684\u5de5\u5177\\n- \u7136\u540e\u4f1a\u82b1\u8d39\u5927\u91cf\u7684\u65f6\u95f4\u8c37\u6b4c\\n- \u627e\u81ea\u5df1\u80fd\u5229\u7528\u7684,\u53ef\u7528\u7684,\u9ad8\u6548\u7684\u4e00\u4e9b\u5de5\u5177\\n- \u54ea\u6015\u662f\u4e3a\u4e86\u81ea\u5df1\u5c11\u5199\u51e0\u5341\u884c\u4ee3\u7801\u4e5f\u4f1a\u5f15\u5165\u4e00\u4e2a jar \u5305\\n- \u4e00\u5b9a\u8981\u4f1a maven \u6216 ivy, gradle \u7b49\\n- \u6709\u4e86\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177, \u5bfc\u5165 jar \u5305\u7b49, \u5c31\u6613\u5982\u53cd\u638c\u4e86\\n- \u5728\u8fd9\u6837\u7684\u4e00\u4e2a\u8fc7\u7a0b\u4e2d, \u4f60\u4e00\u5b9a\u4f1a\u7ed3\u8bc6\u4e00\u4e9b\u5f88\u597d\u7528\u7684\u5de5\u5177, \u8fd9\u4e9b\u90fd\u6709\u52a9\u4e8e\u4ee5\u540e\u7684\u5f00\u53d1\\n- \u5e38\u7528\u7684\u597d\u5de5\u5177: guava, guice, jodd \u7cfb\u5217, commons \u7cfb\u5217, joda-time ...\\n- \u9664\u975e\u5fc5\u8981, \u5c3d\u91cf\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50.\\n- \u628a\u81ea\u5df1\u5199\u8fc7\u7684\u5c0f\u4e1c\u897f\u7559\u4e0b\u6765, \u4e0b\u6b21\u5199\u4e1c\u897f\u7684\u65f6\u5019, \u5e94\u8be5\u91cc\u9762\u5f88\u591a\u7684\u4e1c\u897f\u90fd\u8fd8\u4f1a\u7528\u5230.\\n- \u5982\u679c\u53ef\u4ee5, \u5c3d\u91cf\u4f7f\u7528\u9ad8\u7248\u672c\u7684 java"},{"id":"the-why-i-write-code","metadata":{"permalink":"/story/the-why-i-write-code","editUrl":"https://github.com/wenerme/wener/edit/master/story/2014/2014-05-31-\u6211\u7684\u7f16\u7a0b\u4e4b\u9053.md","source":"@site/story/2014/2014-05-31-\u6211\u7684\u7f16\u7a0b\u4e4b\u9053.md","title":"\u6211\u7684\u7f16\u7a0b\u4e4b\u9053","description":"- \u80fd\u4e0d\u80fd\u505a","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u601d\u8003","permalink":"/story/tags/\u601d\u8003"}],"readingTime":5.63,"truncated":true,"authors":[],"prevItem":{"title":"\u5b66\u4e60\u4e4b\u8c08","permalink":"/story/learning-skill"},"nextItem":{"title":"CentOS \u65b0\u624b","permalink":"/story/centos-newbie"}},"content":"- \u80fd\u4e0d\u80fd\u505a\\n- \u8be5\u600e\u4e48\u505a\\n- \u8fd9\u6837\u505a\u4f1a\u9047\u5230\u4ec0\u4e48\u95ee\u9898\\n- \u6211\u6709\u6ca1\u6709\u529e\u6cd5\u80fd\u591f\u534f\u8c03\u8fd9\u4e9b\u95ee\u9898\\n- \u5c06\u6765\u4f1a\u6709\u4ec0\u4e48\u6837\u7684\u6539\u53d8\\n- \u6211\u9700\u8981\u8fd0\u884c\u5728\u4ec0\u4e48\u73af\u5883\u4e0b\\n- \u7528\u4ec0\u4e48\u8bed\u8a00\u5199\\n- \u8fd0\u884c\u65f6\u9700\u8981\u4f9d\u8d56\u4ec0\u4e48\u6761\u4ef6\\n- \u6d4b\u8bd5\u662f\u5426\u901a\u8fc7\\n\\n\x3c!--more--\x3e\\n\\n# \u6211\u7684\u89c2\u5ff5\\n\\n## \u7f29\u77ed\u53d8\u91cf\u4f5c\u7528\u57df\\n\\n- \u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u9519\u8bef\\n- \u53ef\u4ee5\u91cd\u7528\u53d8\u91cf\u540d\\n- \u53ef\u4ee5\u65b9\u4fbf\u4ee3\u7801\u7684\u91cd\u6784\\n- \u6a21\u5757\u5316\u66f4\u5f3a\\n- \u907f\u514d\u5168\u5c40\u53d8\u91cf,\u6709\u4e9b\u5168\u5c40\u53d8\u91cf\u53ef\u4ee5\u7528 singleton \u6a21\u5f0f\u6765\u66ff\u4ee3\\n\\n## \u5199\u5b8c\u6574\u7684\u5355\u8bcd,\u51c6\u786e\u7684\u540d\u5b57\\n\\n- \u53ef\u4ee5\u51cf\u5c11\u5bf9\u6ce8\u91ca\u7684\u9700\u6c42\\n- \u4ee3\u7801\u66f4\u6e05\u6670,\u660e\u767d\\n\\n## \u9002\u5f53\u7684\u6ce8\u91ca,\u53ef\u6587\u6863\u5316\u7684\u6ce8\u91ca\\n\\n- \u4fbf\u4e8e\u751f\u6210\u4ee3\u7801\u6587\u6863,\u65b9\u4fbf\u67e5\u9605\\n- \u4fbf\u4e8e\u534f\u4f5c\u8005\u4f7f\u7528\u4f60\u7684\u4ee3\u7801\u548c\u63a5\u53e3\\n- \u4e00\u822c ide \u652f\u6301\u7684\u6ce8\u91ca\u53ef\u4ee5\u76f4\u63a5\u663e\u793a\u51fa\u6765,\u5404\u79cd\u65b9\u4fbf\\n- \u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u7684\u6587\u6863\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591a\u7684\u7c7b\u578b\u4fe1\u606f,\u6bd4\u5982 js\\n- jsdoc,javadoc,doxgen,luadoc .....\\n\\n## \u5c3d\u91cf\u7684\u5077\u61d2\\n\\n- \u5728\u51c6\u5907\u5199\u4e4b\u524d\u591a\u67e5\u67e5\u5df2\u7ecf\u6709\u7684\u5e93 (github, google code, sf.net, ....)\\n- \u4ee3\u7801\u6a21\u5757\u5316\u8d8a\u5f3a,\u5c31\u8d8a\u80fd\u5077\u61d2\\n- \u5199\u4ee3\u7801\u65f6,\u8003\u8651\u4e0b\u600e\u4e48\u505a\u5c3d\u91cf\u5c0f\u7684\u4fee\u6539\u5c31\u53ef\u4ee5\u505a\u5176\u4ed6\u7684\u4e1c\u897f\\n- \u4e3a\u91cd\u7528\u800c\u7f16\u7801\\n- \u4f7f\u7528\u4ee3\u7801\u751f\u6210, lombok, less, dart .....\\n\\n# \u6211\u7684\u4ee3\u7801\u98ce\u683c\\n\\n## \u7f29\u8fdb\u98ce\u683c\\n\\n\u6211\u7684\u4ee3\u7801\u98ce\u683c\u4e3b\u8981\u548c [Horstmann](http://en.wikipedia.org/wiki/Indent_style#Horstmann_style) \u76f8\u8fd1,\u4f46\u662f\u4e5f\u6709\u4e9b\u4e0d\u540c\u7684\u5730\u65b9.\\n\\nHorstmann \u98ce\u683c:\\n\\n```c\\nwhile (x == y)\\n{   something();\\n    somethingelse();\\n    //...\\n    if (x < 0)\\n    {   printf(\\"Negative\\");\\n        negative(x);\\n    }\\n    else\\n    {   printf(\\"Non-negative\\");\\n        nonnegative(x);\\n    }\\n}\\nfinalthing();\\n```\\n\\n\u6211\u7684\u98ce\u683c:\\n\\n```c\\nwhile (x == y)\\n{\\n    something();\\n    somethingelse();\\n    //...\\n    if (x < 0)\\n    {\\n        printf(\\"Negative\\");\\n        negative(x);\\n    }else\\n    {\\n        printf(\\"Non-negative\\");\\n        nonnegative(x);\\n    }\\n}\\nfinalthing();\\n```\\n\\n\u4e2a\u4eba\u89c2\u70b9:\\n\\n- \u56e0\u4e3a\u5e38\u7528 `{}` \u6765\u7f29\u51cf\u4f5c\u7528\u57df,\u5f00\u62ec\u53f7\u6362\u884c\u8fd9\u6837\u8ba9\u4ee3\u7801\u66f4\u6e05\u6670,\u4e5f\u4fbf\u4e8e\u81ea\u52a8\u7f29\u8fdb\\n- \u56e0\u4e3a `{` \u5355\u72ec\u5360\u4e86\u4e00\u884c,\u8fd9\u6837\u8ba9\u4ee3\u7801\u66f4\u957f,\u4f46\u662f\u4e5f\u66f4\u591a\u7a7a\u767d,\u770b\u8d77\u6765\u66f4\u8f7b\u677e\\n\\n## \u82f1\u6587\u5355\u8bcd\u7684\u9009\u62e9\\n\\n### title vs name\\n\\nSee http://stackoverflow.com/questions/5527632/c-sharp-naming-convention-title-vs-name\\n\\n> Name is used more frequently for an object with an internal name or for business objects that naturally has a Name property (such as a person)\\n>\\n> Title is used more often to refer to a User Interface Control object or a business object that naturally has a title, like an article.\\n\\n### ID vs Id\\n\\nSee http://stackoverflow.com/questions/1151338/id-or-id-on-user-interface\\n\\n### Filename, FileName, filename\\n\\nSee http://english.stackexchange.com/questions/5366/which-is-correct-filename-file-name-or-filename\\n\\n\u4e00\u822c\u6211\u9009\u62e9 Filename.\\n\\n### OK vs Ok : OK\\n\\nOK \u662f\u6b63\u786e\u7684\u5199\u6cd5\\n\\n### DB vs Db\\n\\nSee http://stackoverflow.com/questions/1345103/why-is-db-an-acronym-and-not-abbreviation\\n\\n\u611f\u89c9 DB \u6bd4 Db \u66f4\u597d\\n\\n## \u6807\u8bc6\u7b26\\n\\n- \u5728 c \u7c7b\u51fd\u6570\u5f0f\u8bed\u8a00\u5e38\u7528 `_` \u6765\u5206\u5272\u5355\u8bcd, \u56e0\u4e3a c \u7684\u51fd\u6570\u5927\u591a\u662f\u8fd9\u4e2a\u98ce\u683c\\n  e.g. `void enter_stage();`\\n- \u5728 java \u7c7b oo \u8bed\u8a00\u5e38\u7528\u9a7c\u5cf0\u547d\u540d\\n  e.g. `function enterStage()`\\n- \u9759\u6001\u65b9\u6cd5\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5927\u5199\\n- \u7528 set/get \u524d\u7f00,\u5e76\u4e14 setter \u662f\u53ef\u94fe\u7684.\\n  e.g `Action setTime(int t){time = t; return this;} `\\n- \u5982\u679c\u4e0d\u7528 set/get \u5219\u7528 \u6d41\u5f0f\u7684 API.\\n\\n```\\nclass Action\\n{\\n    int time;\\n    Action time(int t){time = t; return this;}\\n    int time(){ return time;}\\n}\\n```\\n\\n- \u5982\u679c\u8fd4\u56de\u7c7b\u578b\u4e3a `boolean` \u5219\u7528 is \u4f5c\u4e3a getter \u524d\u7f00\\n  e.g. `boolean isTimeOut();`\\n- \u5728\u4e0d\u539f\u751f\u652f\u6301 \u4e8b\u4ef6 \u7684\u8bed\u8a00\u91cc,\u7528 `On` \u4f5c\u4e3a\u4e8b\u4ef6\u7684\u524d\u7f00.\\n  e.g. `void OnKeyInput(KeyEvent e);`\\n\\n# \u6211\u7684\u5b9e\u8df5\\n\\n\u5728\u4e00\u4e9b\u7279\u5b9a\u8bed\u8a00\u91cc,\u6211\u7684\u4e60\u60ef\\n\\n## JS\\n\\n### \u5c0f\u6280\u5de7\u548c\u4e60\u60ef\\n\\n```js\\n// \u4ecestring\u8f6c\u6362\u4e3anumber\\n+numberString;\\n\\n// \u5f3a\u5236\u8f6c\u6362\u4e3a boolean\\n!!object;\\n\\n// \u6bd4\u8f83\u65f6\u4f7f\u7528 ===\\nif(!!objA === !!objB)\\n{}\\n\\n// \u7528\u524d\u7f00 $ \u6765\u6807\u8bc6node\u6216jq\u67e5\u8be2\\nvar $main = $(\'#main\');\\nvar $wener = document.querySelector(\'#wener\');\\n\\n// \u7528 []/{} \u6765\u521d\u59cb\u5316\u6570\u7ec4\u548c\u7c7b\\nvar list = [];// \u800c\u4e0d\u662f new Array()\\nvar obj = {};// \u800c\u4e0d\u662f new Object()\\n\\n```\\n\\n### \u6587\u4ef6\u6a21\u5f0f\\n\\n```js\\n// \u6587\u4ef6 action.js\\n(function()\\n{\\n    // code for action.js\\n})();\\n```\\n\\n### \u7c7b\u6a21\u5f0f\\n\\n```js\\n// \u7c7b Action\\n(function(window)\\n{\\n    function Action(){}\\n    Action.prototype[\'doSomthing\'] = function(){};\\n    // export\\n    // window[\'Action\'] \u6bd4 window.Action \u5728\u538b\u7f29\u7684\u65f6\u5019\u66f4\u597d\\n    // google closure compiler \u7684\u5bfc\u51fa\u65b9\u6cd5\\n    window[\'Action\'] = Action;\\n})(window);\\n```\\n\\n### \u5305/\u547d\u540d\u7a7a\u95f4/\u7c7b \u6a21\u5f0f\\n\\n```js\\n// \u5305/\u547d\u540d\u7a7a\u95f4 ui\\n// label.js\\n(function(ui)\\n{\\n    function Label(){}\\n    // export\\n    ui[\'Label\'] = Label;\\n})(window.ui || (window.ui = {}));\\n// button.js\\n(function(ui)\\n{\\n    function Button(){}\\n    // export\\n    ui[\'Button\'] = Button;\\n})(window.ui || (window.ui = {}));\\n```\\n\\n### static \u65b9\u6cd5\\n\\n```js\\n// \u7c7b Action\\n(function(window)\\n{\\n    function Action(){}\\n    Action[\'doSomthing\'] = function(){};\\n    // export\\n    window[\'Action\'] = Action;\\n})(window);\\n```\\n\\n### singleton \u6a21\u5f0f\\n\\n```js\\n// \u7c7b Action\\n(function(window)\\n{\\n    var instance = null;\\n    function Action()\\n    {\\n        if(instance != null)\\n            throw new Error(\\"already init Action\\");\\n    }\\n    Action[\'getInstance\'] = function()\\n    {\\n        if(instance == null)\\n            instance = new Action();\\n        return instance;\\n    };\\n    // export\\n    window[\'Action\'] = Action;\\n})(window);\\n```\\n\\n### \u907f\u514d\u4f7f\u7528\u4e00\u6b21\u6027\u7684\u533f\u540d\u51fd\u6570\\n\\n- \u4fbf\u4e8e\u91cd\u6784\\n- \u4fbf\u4e8e\u66f4\u6539\\n- \u4ee3\u7801\u6e05\u6670\\n- \u53ef\u91cd\u7528\\n\\n```js\\nfunction OnLoad(){}\\nwindow.onload = OnLoad; // \u800c\u4e0d\u662f window.onload = function(){};\\n```\\n\\n# \u8d44\u6e90\\n\\n- [lombok](https://projectlombok.org),java \u4ee3\u7801\u751f\u6210\\n- [github-lombok](https://github.com/rzwitserloot/lombok)\\n- [jsdoc](http://usejsdoc.org/), js \u6ce8\u91ca\u89c4\u8303,\u6587\u6863\u751f\u6210\\n- [js-for-compiler](https://developers.google.com/closure/compiler/docs/js-for-compiler)\\n  ,Closure Compiler \u7684\u6ce8\u91ca\u89c4\u8303\\n- [closure](https://developers.google.com/closure/), js \u4f18\u5316,\u538b\u7f29 \u5de5\u5177\\n- [jshint](https://jshint.com), js lint \u5de5\u5177,\u53ef\u914d\u7f6e\u7684 jslint \u7248\u672c.\\n- [javascript-patterns](https://github.com/shichuan/javascript-patterns), js \u7f16\u7a0b\u6a21\u5f0f"},{"id":"centos-newbie","metadata":{"permalink":"/story/centos-newbie","editUrl":"https://github.com/wenerme/wener/edit/master/story/2014/2014-06-21-centos-newbie.md","source":"@site/story/2014/2014-06-21-centos-newbie.md","title":"CentOS \u65b0\u624b","description":"\u8bb0\u5f55\u6211\u73a9 centos \u7684\u7ecf\u5386","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[],"readingTime":14.755,"truncated":true,"authors":[],"prevItem":{"title":"\u6211\u7684\u7f16\u7a0b\u4e4b\u9053","permalink":"/story/the-why-i-write-code"},"nextItem":{"title":"\u6d88\u606f\u4e2d\u95f4\u4ef6\u7b80\u4ecb mom-intro","permalink":"/story/mom-intro"}},"content":"> \u8bb0\u5f55\u6211\u73a9 centos \u7684\u7ecf\u5386\\n> \u5f88\u591a\u65f6\u5019\u9700\u8981 sudo \u7b49 root \u6743\u9650\u7684\u65f6\u5019\u9700\u8981\u81ea\u884c\u5224\u65ad.\u5c3d\u91cf\u4e0d\u76f4\u63a5\u7528 root \u5e10\u6237.\\n\\n> \u6211\u81ea\u5df1\u4f7f\u7528\u65f6\u7684\u4e3b\u8981\u5b89\u88c5\u8fc7\u7a0b\\n>\\n> \u521d\u59cb\u914d\u7f6e -> \u8bbe\u7f6e\u597d openssh-server -> \u6dfb\u52a0\u989d\u5916\u7684 repo -> \u5b89\u88c5 git\\n> \u4e0b\u8f7d\u6211\u7684[dotfiles](https://github.com/wenerme/dotfiles)\\n> \u5176\u4ed6\u6b65\u9aa4\u5219\u6309\u9700\u8fdb\u884c\\n\\n\x3c!-- more --\x3e\\n\\n## \u521d\u59cb minimal \u914d\u7f6e\\n\\n```bash\\n# \u9996\u5148\u662f\u6253\u5f00\u7f51\u7edc\u54af\\nifconfig eth0 up\\ndhclient\\n# \u6dfb\u52a0\u4e2a\u5e10\u53f7, \u8bbe\u7f6e\u597d\u5bc6\u7801\\nuseradd wener\\npasswd wener\\n# \u628a \u521b\u5efa\u7684\u5e10\u53f7\u6dfb\u52a0\u5230 sudoers file \u4e2d\\necho \\"wener ALL=(ALL) ALL\\" >> /etc/sudoers\\n# \u66f4\u65b0\u4e00\u4e0b\u5148\\nyum update -y\\n# \u56e0\u4e3a\u662f minimal \u7248\u672c, \u5148\u5b89\u88c5\u4e00\u4e9b\u5fc5\u8981\u7684\u4e1c\u897f\\nyum install man wget curl -y\\n# \u767b\u51fa,\u4e0b\u9762\u7684\u64cd\u4f5c\u4e0d\u5728root\u4e0b\u64cd\u4f5c\u4e86,\u5b89\u5168\u70b9\\nlogout\\n# \u7528\u4e4b\u524d\u521b\u5efa\u7684\u5e10\u53f7\u767b\u5f55\\n```\\n\\n## \u975e minimal \u7684\u51c6\u5907\\n\\n```bash\\n# Download ISOs\\n# UNETBootin\\n# Install\\n# ===============\\n# Configuration\\n# ===============\\n# basic upgrade\\nsu root\\nyum upgrade\\n```\\n\\n## \u6dfb\u52a0\u5176\u4ed6\u7684 repo\\n\\n```bash\\n# add rpmforge\\n# fllow this http://wiki.centos.org/AdditionalResources/Repositories/RPMForge\\nrpm --import http://apt.sw.be/RPM-GPG-KEY.dag.txt\\n# \u7248\u672c\u53f7\u53ef\u80fd\u6709\u6240\u4e0d\u540c,\u53c2\u89c1\u4e0a\u9762\u7684\u94fe\u63a5\\n# \u6839\u636e\u4e2a\u4eba\u7684\u7cfb\u7edf\u6784\u67b6`uname -i`\u9009\u62e9 i686 \u6216 x86_64\\nwget http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\\nrpm -K rpmforge-release-*.rpm\\nrpm -i rpmforge-release-*.rpm\\nyum upgrade\\n```\\n\\n## \u6742\u9879\\n\\n```bash\\n# lscpi\\nyum install pciutils -y\\n# iwconfig \u7b49\u65e0\u7ebf\u5de5\u5177\\nyum install wireless-tools -y\\n\\n# \u5217\u51fa\u5df2\u5b89\u88c5\u7684\u5305\\nyum list installed\\n\\n# \u5207\u6362 TTY \u7684\u5feb\u6377\u952e <C-A-F1-6>\\n\\n# sudo \u9644\u52a0\u5230\u6587\u4ef6\\necho BOOTPROTO=dhcp | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-wlan0\\n\\n# \u6302\u8f7d vbox \u7684\u5171\u4eab\u76ee\u5f55\\nmkdir ~/shared\\nsudo mount -t vboxsf shared ~/shared\\n\\n# \u4f7f\u7528sudo\u627e\u4e0d\u5230\u547d\u4ee4\u7684\u65f6\u5019\\n# \u53ef\u4ee5\u8003\u8651\u5c06 /usr/local/bin/:/usr/local/sbin/\\n# \u6dfb\u52a0\u5230 /etc/sudoers \u7684 secure_path \u4e2d\\n\\n# \u5224\u65ad\u8fdc\u7a0b\u67d0\u7aef\u53e3\u662f\u5426\u5f00\u542f\\ntimeout 1 bash -c \'cat < /dev/null > /dev/tcp/192.168.56.101/8087\'\\necho $?\\n```\\n\\nCentOS \u4e0b \u5b89\u88c5\u7684 wpa_supplicant \u6ca1\u6709 wpa_gui,\u53ef\u4ee5\u53c2\u89c1 [\u8fd9\u91cc](http://www.linuxfromscratch.org/blfs/view/svn/basicnet/wpa_supplicant.html),\u4e3b\u8981\u662f\u56e0\u4e3a centos \u7684 wpa_supplicant \u7248\u672c\u592a\u8001\u4e86,0.7 \u7684,\u73b0\u5728\u6700\u65b0\u7684\u662f 2.1 \u7684,\u67e5\u770b[\u5b98\u65b9\u4e3b\u9875](http://w1.fi/wpa_supplicant/)\u53ef\u4e0b\u8f7d.\u4f46\u662f\u8fd9\u4e2a\u8f6f\u4ef6\u7684\u4f9d\u8d56\u9879\u5bf9 centos \u6765\u8bf4 \u7248\u672c\u592a\u9ad8\u4e86,\u5b89\u88c5\u8d77\u6765\u975e\u5e38\u590d\u6742.\\n\\n## \u542f\u52a8\u4e0d\u5e26\u7a97\u53e3\u7684 vbox\\n\\n\u5f88\u591a\u65f6\u5019\u53ea\u9700\u8981\u8ba9\u7cfb\u7edf\u8fd0\u884c, \u7136\u540e\u8fdc\u7a0b ssh \u8bbf\u95ee, \u540c\u65f6\u4e5f\u8282\u7ea6\u70b9\u5185\u5b58.\\n\\n```bash\\n# \u65b9\u6cd5\u4e00. \u4f7f\u7528\u547d\u4ee4\u884c\\n# \u77e5\u9053\u542f\u52a8\u7cfb\u7edf\u7684\u540d\u5b57\u6216UUID\\nVBoxManager list vms\\n# \u542f\u52a8\u6307\u5b9a\u7684\u7cfb\u7edf\\nVBoxManager -s UUID\\n# \u6216\\nVBoxManager -s \u7cfb\u7edf\u540d\u5b57\\n# \u65b9\u6cd5\u4e8c. \u5728\u70b9\u542f\u52a8\u6309\u94ae\u7684\u65f6\u5019,\u6309\u4f4f Shift \u5373\u53ef\\n```\\n\\n## \u5b89\u88c5\u524d\u63d0\\n\\n```\\n# \u5728\u8fdb\u884c\u4e0b\u5217\u5b89\u88c5\u7684\u65f6\u5019 \u5047\u8bbe\u5df2\u7ecf\u8bbe\u7f6e\u597d\u4e86 rpmforg \u5df2\u7ecf\u5b89\u88c5\u4e86\u5f00\u53d1tao#\u5957\u4ef6 groupinstall \\"Development tools\\" -y\\n```\\n\\n## Install 7z\\n\\n```bash\\n# Install 7zip, centos can not uncompress some zip file.\\nyum install p7zip -y\\n```\\n\\n## \u5b89\u88c5 GUI, \u53ea\u9488\u5bf9\u4e8e minimal \u5b89\u88c5\u7684\\n\\n```bash\\nyum -y groupinstall \\"X Window System\\" \\"Desktop\\" \\"Fonts\\" \\"General Purpose Desktop\\"\\n# \u9ed8\u8ba4\u662f\u6ca1\u6709\u706b\u72d0\u7684,\u81ea\u5df1\u624b\u52a8\u5b89\u88c5\\nyum -y firefox\\n```\\n\\n## \u5b89\u88c5 virtual-box \u7684\u9644\u52a0\u6269\u5c55\\n\\n\u4e00\u822c\u76f4\u63a5\u5b89\u88c5\u6269\u5c55\u7684\u65f6\u5019\u5b89\u88c5\u4e3b\u6a21\u5757\u6709\u53ef\u80fd\u5931\u8d25.\\n\\n```bash\\n# \u53c2\u8003 http://wiki.centos.org/HowTos/Virtualization/VirtualBox/CentOSguest\\n# \u9700\u8981\u5148\u914d\u7f6e\u597d rpmforge\\nyum -y install dkms\\nyum -y groupinstall \\"Development Tools\\"\\nyum -y install kernel-devel\\n```\\n\\n## \u5b89\u88c5 git\\n\\n```bash\\n# \u56e0\u4e3a git \u7248\u672c\u592a\u4f4e\u4e86,\u6240\u4ee5\u6253\u7b97\u81ea\u5df1\u5b89\u88c5git\\nyum --enablerepo=updates clean metadata\\nyum install perl-devel -y\\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel -y\\n# \u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u5176\u4ed6\u7248\u672c, \u4f8b\u5982 https://github.com/git/git/archive/v1.9.4.zip\\n# \u4f7f\u7528\u53d1\u5e03\u7248\u7a33\u5b9a\u4e9b\\ncurl -L -o git.zip https://github.com/git/git/archive/master.zip\\n# \u6216\\n# wget -O git.zip https://github.com/git/git/archive/master.zip\\nunzip git*.zip\\ncd git*\\nmake prefix=/usr/local all\\nmake prefix=/usr/local install\\n# \u8fd9\u91cc\u53ef\u80fd\u548c \u5728 Development tools \u91cc\u7684git\u51b2\u7a81\\n# \u53ef\u4ee5\u79fb\u9664\u5b89\u88c5\u7684git \u4ece\u65b0\u6253\u5f00\u7ec8\u7aef\u5c31\u597d\u4e86\\nyum remove git\\nexit\\n# reopen an terminal\\n# \u5982\u679c\u4e0d\u60f3\u79fb\u9664 git\\n# \u6e05\u9664\u4e0b git \u7684hash\u5c31\u597d\u4e86\\nhash -d git\\n```\\n\\n## Intsall ntfs-3g\\n\\n```bash\\n# Add ntfs filesystem support, because I install centos with win7\\n# fllow this http://wiki.centos.org/TipsAndTricks/NTFS\\nyum install ntfs-3g -y\\n```\\n\\n## Install iBus\\n\\n```bash\\n# fllow this http://code.google.com/p/ibus/wiki/CentOS\\n# 1.Install necessary packages\\nyum install ibus ibus-gtk ibus-qt\\nyum install ibus-pinyin # or other engine(s) you want\\nyum install im-chooser\\n# 2. Enable input method at System->Perferences->Input Method\\n# 3. Add input methods\\n# 4.Re-login\\n```\\n\\n## Install python2.7 for goagent\\n\\n```bash\\n# Setup Development tools\\nyum groupinstall \\"Development tools\\" -y\\n# basic lib\\nyum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel -y\\n\\n# Manualy install puthon2.7, not change the system\'s 2.6 version\\n# When I install python 2.7.x, the newest is 2.7.5\\n# go check at http://python.org/ftp/python/\\n# BTW, you can install 3.x python by this way\\nPYTHON_VERSION=2.7.5\\nmkdir ~/src && cd $_\\nwget http://python.org/ftp/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.bz2\\ntar xf Python-${PYTHON_VERSION}.tar.bz2\\ncd Python-${PYTHON_VERSION}\\n./configure --prefix=/usr/local\\n\\n# -j 8 for more quickly\\n# Notice, make install change to make altinstall\\nmake -j 8 && make altinstall\\n```\\n\\n## Install python-openssl for python2.7\\n\\n```bash\\n# Install python-openssl for goagent\\nmkdir -p ~/src && cd $_\\nyum install openssl openssl-devel -y\\nwget --no-check-certificate https://pypi.python.org/packages/source/p/pyOpenSSL/pyOpenSSL-0.13.tar.gz\\ntar -xzfv pyOpenSSL-0.13.tar.gz\\ncd pyOpenSSL-0.13\\n# Notice, compile for python2.7\\npython2.7 setup.py build_ext -I /usr/local/include/python2.7/ -L /usr/local/lib/python2.7/\\npython2.7 setup.py build\\npython2.7 setup.py install\\n```\\n\\n## Install goagent\\n\\n```bash\\n# Download goagent and run it, because I have to install chrome\\nmkdir -p ~/app && cd $_\\nwget https://goagent.googlecode.com/archive/3.0.zip\\n7za x 3.0.zip\\nmv goagent-* goagent\\n\\n# setup your gea\\nvim goagent/local/proxy.ini\\n\\n# and run\\npython2.7  goagent/local/goagent-gtk.py &\\n```\\n\\n## Install chrome\\n\\n```bash\\n# Setup wget proxy for download chrome\\n# append the proxy setting to \'/etc/wgetrc\'\\n# Reamove it, when you do not need this\\nhttps_proxy = http://127.0.0.1:8087/\\nhttp_proxy = http://127.0.0.1:8087/\\nftp_proxy = http://127.0.0.1:8087/\\nuse_proxy = on\\n\\n# Install google-chrome\\n# fllow this http://chrome.richardlloyd.org.uk/\\nmkdir -p ~/app && cd $_\\nwget http://chrome.richardlloyd.org.uk/install_chrome.sh\\nchmod u+x install_chrome.sh\\n./install_chrome.sh\\n```\\n\\n## Install gvim7.4\\n\\n```bash\\nmkdir -p ~/src && cd $_\\nwget ftp://ftp.vim.org/pub/vim/unix/vim-7.4.tar.bz2\\ntar -jxvf vim-7.4.tar.bz2\\n#\\nyum install lua lua-devel -y\\nyum install libX11 libX11-devel libXt-devel libgtk2 libgtk2-devel -y\\n#\\nVIM_FLAG=\'--enable-luainterp=yes --enable-cscope --enable-multibyte --enable-fontset --enable-gui\'\\n#\\n./configure $VIM_FLAG\\nmake -j 8 && make test -j 8 && make install\\n```\\n\\n## Install vim\\n\\n```bash\\n# \u76f4\u63a5\u4f7f\u7528yum\u641c\u7d22\u5230\u7684 \u4e3a\u4e86\u4f7f\u7528\u7b80\u5355\\nyum install vim-enhanced -y\\n```\\n\\n## Install Nvidia-driver\\n\\n```bash\\n# find out you card info\\nlspic | grep VGA\\n# download form nvidia http://www.nvidia.in/Download/index.aspx\\n\\n# prepare\\nyum update\\nyum clean all\\nyum groupinstall \\"Development Tools\\"\\nyum install kernel-devel kernel-headers gcc make\\n\\nadded the following line to /etc/modprobe.d/blacklist.conf file\\n```\\n\\n## Bully + Aircrack-ng + Reaver\\n\\n> [reaver](https://reaver-wps.googlecode.com/files/reaver-1.4.tar.gz) > [aircrack-ng-1.2-beta1](http://download.aircrack-ng.org/aircrack-ng-1.2-beta1.tar.gz)\\n> reaver \u7684\u66ff\u4ee3 [bully](https://github.com/bdpurcell/bully)\\n\\n```bash\\n# \u51c6\u5907\u5de5\u4f5c\\nyum install -y libpcap libpcap-devel openssl-devel sqlite sqlite-devel\\n# \u8fd9\u4e2alibnl \u662f\u7528\u6765\u652f\u6301 netlink (nl80211) \u7684\\nyum install -y libnl libnl-devel\\n\\n# \u5148\u641e\u597d bully\\ncurl -L -o bully.zip https://github.com/bdpurcell/bully/archive/master.zip\\n7za x bully.zip\\ncd bully-master/src\\nmake\\nmake install\\ncd -\\n\\n# \u518d\u641e Aircrack-ng\\n# \u6211\u5b89\u88c5\u65f6 \u6700\u9ad8\u7248\u672c\u4e3a 1.2-beta3\\n# \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f, aircrack-ng \u88ab\u5899\u4e86,\u81f3\u5c11\u6211\u4e0b\u8f7d\u7684\u65f6\u5019\u662f\u7684\\n# \u6211\u662f\u653e\u5728\u5171\u4eab\u76ee\u5f55\u91cc\u62f7\u8d1d\u8fc7\u6765\u7684\\n# \u4e5f\u53ef\u4ee5\u4ece github \u4e0b\u8f7d\\n# https://github.com/aircrack-ng/aircrack-ng\\nwget -O aircrack-ng.tar.gz http://download.aircrack-ng.org/aircrack-ng-1.2-beta3.tar.gz\\ntar -xvf aircrack-ng.tar.gz\\ncd aircrack-ng-*\\n# \u5b89\u88c5\u8fc7\u7a0b\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc\\n# http://www.aircrack-ng.org/doku.php?id=install_aircrack#installing_aircrack-ng_from_source\\nmake sqlite=true\\nsudo make install\\n# \u66f4\u65b0 OUI\\nsudo airodump-ng-oui-update\\n\\n# \u5b89\u88c5 reaver, \u867d\u7136\u6709bully,\u4f46\u662freaver\u8fd8\u662f\u86ee\u4e0d\u9519\u7684\\nwget https://reaver-wps.googlecode.com/files/reaver-1.4.tar.gz\\ntar -xzvf reaver-*.tar.gz\\ncd reaver-*/src\\n./configure\\nmake\\nmake install\\n```\\n\\n## pin creack\\n\\n```bash\\nifconfig wlan0 down\\n# \u8fd9\u91cc\u4f1a\u63d0\u793a\u4e00\u4e9b\u6709\u53ef\u80fd\u88ab\u5f71\u54cd\u7684\u8fdb\u7a0b dhclient \u548c wpa_supplicant\\n# \u53ef\u4ee5\u8003\u8651\u5c06\u8fd9\u4e9b\u8fdb\u7a0b\u5173\u95ed\\nairmon-ng start wlan0\\nbully -e \u70ed\u70b9\u540d\u5b57 -v3 mon0\\n\\n# \u4f7f\u7528 reaver \u7684\u65b9\u6cd5\\nwash -i mon0\\nreaver -a -S -vv -i mon0 -b `MAC`\\n```\\n\\n## \u901a\u8fc7\u547d\u4ee4\u884c\u8fde\u63a5\u65e0\u7ebf\u7f51, \u7b80\u5355\u7248\\n\\n\u6765\u81ea [connect-to-a-wireless-network-via-command-line](http://www.ghacks.net/2009/04/14/connect-to-a-wireless-network-via-command-line/)\\n\\n```bash\\n#! /bin/bash\\nifconfig wlan0\\niwconfig wlan0 essid NETWORK_ID key WIRELESS_KEY\\ndhclient wlan0\\n```\\n\\n`NETWORK_ID` \u4e3a\u65e0\u7ebf\u540d\\n`WIRELESS_KEY` \u641e\u4e0d\u6e05\u695a,\u5e94\u8be5\u662f\u5bc6\u7801\u5427. \u9ed8\u8ba4\u4e3a 16 \u8fdb\u5236\u7684\u503c,\u53ef\u4ee5\u7528 `s:WIRELESS_KEY` \u6765\u4f7f\u7528 ascii\\n\\n## \u901a\u8fc7\u547d\u4ee4\u884c\u8fde\u63a5\u65e0\u7ebf\u7f51\\n\\n\u6765\u81ea [how-to-connect-to-wpawpa2-wifi-network](http://linuxcommando.blogspot.com/2013/10/how-to-connect-to-wpawpa2-wifi-network.html)\\n\\n\u9700\u8981\u4f7f\u7528\u7684\u5de5\u5177\\n`yum install wpa_supplicant wireless-tools -y`\\n\\n```bash\\n# 1. \u67e5\u770b\u4f60\u7684\u65e0\u7ebf\u8bbe\u5907\u540d\\n$iw dev\\nphy#0\\n\\tInterface wlan0\\n\\t\\tifindex 3\\n\\t\\ttype managed\\n# 2. \u68c0\u67e5\u65e0\u7ebf\u8bbe\u5907\u662f\u5426\u542f\u7528 \u91cc\u9762\u9700\u8981\u6709\u4e2aUP\\n$ ip link show wlan0\\n3: wlan0: (BROADCAST,MULTICAST) mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000\\n    link/ether 74:e5:43:a1:ce:65 brd ff:ff:ff:ff:ff:ff\\n# \u542f\u7528\u65e0\u7ebf\u8bbe\u5907\\n$ ip link set wlan0 up\\n\\n# \u68c0\u67e5\u65e0\u7ebf\u8bbe\u5907\u662f\u5426\u542f\u7528 \u91cc\u9762\u6709\u4e2aUP\\n$ ip link show wlan0\\n3: wlan0: (NO-CARRIER,BROADCAST,MULTICAST,UP) mtu 1500 qdisc mq state DOWN mode DEFAULT qlen 1000\\n    link/ether 74:e5:43:a1:ce:65 brd ff:ff:ff:ff:ff:ff\\n\\n# 3. \u68c0\u67e5\u8fde\u63a5\u72b6\u6001\\n$ /sbin/iw wlan0 link\\nNot connected.\\n\\n# 4. \u626b\u63cf\u7f51\u7edc\\n$ sudo /sbin/iw wlan0 scan\\nBSS 00:14:d1:9c:1f:c8 (on wlan0)\\n        ... \u7565\u8fc7 ...\\n\\tfreq: 2412\\n\\tSSID: Touch-me\\n\\tRSN:\\t * Version: 1\\n\\t\\t * Group cipher: CCMP\\n\\t\\t * Pairwise ciphers: CCMP\\n\\t\\t * Authentication suites: PSK\\n\\t\\t * Capabilities: (0x0000)\\n        ... \u7565\u8fc7 ...\\n\\n# \u8fd9\u91cc\u7684 SSID \u548c \u5b89\u5168\u534f\u8bae\u7c7b\u578b\u5f88\u91cd\u8981\\n# \u8fd9\u91cc\u662f RSN, \u5373 wpa2\\n\\n# 5. \u8fde\u63a5\u5230 WPA/WPA2 wifi\\n\\n$ wpa_passphrase \u65e0\u7ebf\u540d\u79f0 >> /etc/wpa_supplicant.conf\\n\u65e0\u7ebf\u5bc6\u7801\\n\\n# \u6b63\u786e\u7684\u5e94\u8be5\u662f\u8fd9\u6837\u7684\\n$ cat /etc/wpa_supplicant.conf\\n# reading passphrase from stdin\\nnetwork={\\n\\tssid=\\"gorilla\\"\\n\\t#psk=\\"testtest\\"\\n\\tpsk=4dfe1c985520d26a13e932bf0acb1d4580461dd854ed79ad1a88ec221a802061\\n}\\n\\n# \u8fde\u63a5\\n$ sudo wpa_supplicant -B -D wext -i wlan0 -c /etc/wpa_supplicant.conf\\n# -B \u5728\u540e\u53f0\u8fd0\u884c\\n# -D \u6307\u5b9a\u65e0\u7ebf\u8bbe\u4e3a, wext\u4e3a\u666e\u901a\u65e0\u7ebf\u8bbe\u5907\\n# -c \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\\n\\n# \u68c0\u67e5\u662f\u5426\u8fde\u63a5\\n$ /sbin/iw wlan0 link\\nConnected to 00:14:d1:9c:1f:c8 (on wlan0)\\n\\tSSID: gorilla\\n\\tfreq: 2412\\n\\tRX: 63825 bytes (471 packets)\\n\\tTX: 1344 bytes (12 packets)\\n\\tsignal: -27 dBm\\n\\ttx bitrate: 6.5 MBit/s MCS 0\\n\\n\\tbss flags:\\tshort-slot-time\\n\\tdtim period:\\t0\\n\\tbeacon int:\\t100\\n# 6. \u901a\u8fc7 DHCP \u83b7\u53d6 IP\u5730\u5740\\n$ sudo dhclient wlan0\\n# \u6709\u65f6\u5019\u65e0\u6cd5\u83b7\u53d6 \u53ef\u4ee5\u8003\u8651 dhclient -x \u5173\u95ed\u540e\u4ece\u65b0\u83b7\u53d6\\n\\n# \u67e5\u770b IP \u5730\u5740\\n$ ip addr show wlan0\\n3: wlan0:  mtu 1500 qdisc mq state UP qlen 1000\\n    link/ether 74:e5:43:a1:ce:65 brd ff:ff:ff:ff:ff:ff\\n    inet 192.168.1.113/24 brd 192.168.1.255 scope global wlan0\\n    inet6 fe80::76e5:43ff:fea1:ce65/64 scope link\\n       valid_lft forever preferred_lft forever\\n\\n# 7. \u6dfb\u52a0\u9ed8\u8ba4\u8def\u7531\u89c4\u5219(\u53ef\u7565\u8fc7)\\n$ ip route show\\n192.168.1.0/24 dev wlan0  proto kernel  scope link  src 192.168.1.113\\n\\n#  \u8fd9\u6761\u89c4\u5219\u662f\u8f6c\u53d1 (192.168.1.*) \u5230 wlan0,\u5982\u679c\u4f60\u60f3\u6dfb\u52a0\u5176\u4ed6\u7684 \u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\\n$ sudo ip route add default via 192.168.1.254 dev wlan0\\n$ ip route show\\ndefault via 192.168.1.254 dev wlan0\\n192.168.1.0/24 dev wlan0  proto kernel  scope link  src 192.168.1.113\\n\\n# 8. \u6d4b\u8bd5\u662f\u5426\u6b63\u786e\u8fde\u63a5\\n$ ping 8.8.8.8\\n```\\n\\n## \u81ea\u52a8\u8fde\u63a5\u65e0\u7ebf\u7684\u914d\u7f6e\\n\\n\u53c2\u8003\u5b98\u65b9\u7684 [wpa_supplicant \u914d\u7f6e](http://wiki.centos.org/HowTos/Laptops/WpaSupplicant)\\n\u8fd9\u91cc\u6ca1\u6709\u63d0\u5230\u7ed9 wlan0 \u914d\u7f6e\u81ea\u52a8\u7684 dhcp\\n\\n\u611f\u89c9\u4e0a\\n`echo BOOTPROTO=dhcp | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-wlan0`\\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e86~\u4f46\u662f\u8fd8\u662f\u4e0d\u884c,\u8fd8\u662f\u8981 `dhclient wlan0`\\n\\n\u9700\u8981\u53c2\u8003 [\u8fd9\u4e2a](http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-networkscripts-interfaces.html) \u6765\u914d\u7f6e.\u4e5f\u53ef\u4ee5\u53c2\u8003[\u8fd9\u4e2a](http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch13_:_Linux_Wireless_Networking#.U0YCk_mSyR0)\u6765\u914d\u7f6e.\\n\\n```\\n# \u8c03\u8bd5\\nwp _supplicantwpaa_supplicant -iwlan0 -c/etc/wpa_supplicant/wpa_supplicant.conf -d\\n```\\n\\n## \u5fd8\u8bb0\u5bc6\u7801\\n\\n\u5728 `grub` \u542f\u52a8\u7684\u65f6\u5019, \u4e2d\u65ad\u81ea\u52a8\u542f\u52a8, \u770b\u5230\u9009\u62e9\u5217\u8868\u7684\u65f6\u5019, \u6309 `a`, \u5220\u9664 `rhgb quiet` \u7136\u540e\u8f93\u5165 `1` \u56de\u8f66, \u5373\u53ef\u8fdb\u5165\u5355\u7528\u6237\u6a21\u5f0f. \u968f\u540e\u4f7f\u7528 passwd \u4fee\u6539\u5b8c\u6210\u5bc6\u7801\u540e\u91cd\u542f\u5c31\u53ef\u4ee5\u56de\u5230\u591a\u7528\u6237\u6a21\u5f0f\u4e86.\\n\\n\u53c2\u8003 [ResetRootPassword](http://wiki.centos.org/TipsAndTricks/ResetRootPassword)\\n\\n# \u5b89\u88c5\u5f00\u53d1\u73af\u5883\\n\\n## Install JDK\\n\\n\u8003\u8651\u9700\u8981\u5b89\u88c5\u7684 jdk \u53d1\u5e03\u5546, \u9009\u62e9 openJDK \u8fd8\u662f oracle \u7684 jdk\\n\u53ef\u53c2\u8003\u8fd9\u91cc[webupd8](https://launchpad.net/~webupd8team/+archive/java) \u6765\u5b89\u88c5 oracle \u7684 jdk.\\n\u6216\u8005\u53c2\u8003[\u8fd9\u4e2a](http://d.stavrovski.net/blog/post/how-to-install-and-setup-oracle-java-jdk-in-centos-6)\u5b89\u88c5\u6b65\u9aa4,\u8fd8\u53ef\u4ee5\u53c2\u8003[\u8fd9\u91cc](https://wiki.powerfolder.com/display/PFS/Installing+Oracle+Java+on+Linux)\\n\\n```\\n# \u67e5\u770b repo \u4e2d\u652f\u6301\u7684 jdk \u7248\u672c, \u4e00\u822c centos \u7684repo\u4e2d\u53ea\u6709 openjdk\\nyum search java-1\\n# \u786e\u4fdd\u7cfb\u7edf\u4e2d\u6ca1\u6709 \u5df2\u7ecf\u5b89\u88c5\\nrpm -qa | grep java-\\n# \u5982\u679c\u6709\u7684\u8bdd \u5219\u5220\u9664syum remove java-1.6.0-openjdkayn`\\n```\\n\\n\u6211\u9009\u62e9\u7684\u624b[\u52a8\u4e0b](http://www.oracle.com/technetwork/java/javase/downloads/index.html)\u8f7d oracle \u7684 jdk,\u6bd5\u7adf oracle \u7684 jdk \u66f4\u7a33\u5b9a\u4e9b.\\n\\n\u6211\u5b89\u88c5 JDK8 \u7684\u4e0b\u8f7d\u5730\u5740\\nhttp://download.oracle.com/otn-pub/java/jdk/8u5-b13/jdk-8u5-linux-x64.rpm\\n\\n```bash\\nwget --no-check-certificate --no-cookies \\\\\\n    --header \\"Cookie: oraclelicense=accept-securebackup-cookie\\"\\\\\\n    \\"http://download.oracle.com/otn-pub/java/jdk/8u5-b13/jdk-8u5-linux-x64.rpm\\"\\nrpm -Uvh jdk-*.rpm\\n```\\n\\n## Install nodejs\\n\\n```bash\\nmkdir -p ~/src && cd $_\\nwget -e \\"http_proxy = http://127.0.0.1:8087/\\"  http://nodejs.org/dist/node-latest.tar.gz\\ntar zxvf node-latest.tar.gz\\n./configure\\nmake && make install\\n# Already installed npm with nodejs source\\n```\\n\\n## Install nginx\\n\\n```bash\\n# add nginx repo\\ncat > /etc/yum.repos.d/nginx.repo <<WEN\\n[nginx]\\nname=nginx repo\\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\\ngpgcheck=0\\nenabled=1\\nWEN\\n# check\\nyum repolist\\n# install\\nyum install nginx -y\\n```\\n\\n## Install php\\n\\n```bash\\nyum groupinstall \'PHP Support\'\\n```\\n\\n# \u5b89\u88c5\u670d\u52a1\\n\\n## Install vsftpd\\n\\n```bash\\n# \u786e\u5b9a\u6709\\nyum search vsftpd\\n```\\n\\n## Install openssh-server\\n\\n```bash\\n# \u53c2\u8003 http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-openssh-server-config.html\\nyum install openssh-server -y\\n# \u914d\u7f6e\u6587\u4ef6\u4e3a /etc/ssh/sshd_config\\n# \u542f\u52a8\\n/sbin/service sshd start\\n# \u4ece\u4e3b\u673a\u8fde\u63a5\\n# ssh \u7528\u6237\u540d@\u8be5linux\u673a\u5668\u7684IP\\n```\\n\\n## Install tomcat\\n\\n```bash\\ntar -zxvf apache-tomcat*.tar.gz\\nmv apache-tomcat* /opt/tomcat\\n# \u542f\u52a8\\n/opt/tomcat/bin/startup.sh\\n# \u914d\u7f6e iptable, \u4f7f\u5916\u90e8\u53ef\u4ee5\u8bbf\u95ee\\n# \u67e5\u770b\u76ee\u524d\u7684 IPTables \u8bbe\u7f6e\\niptables -nL --linenumber\\n# \u786e\u4fdd\u63d2\u5165\u5728 REJECT any \u524d\u9762, 5 \u4e3a\u884c\u53f7 \u6839\u636e\u4e2a\u4eba\u7684\u60c5\u51b5\u4fee\u6539\\niptables -I INPUT 5 -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT -m comment --comment \\"Tomcat Server port\\"\\nservice iptables save\\n```\\n\\n## Install hadoop\\n\\n\u53c2\u8003[\u8fd9\u91cc](http://tecadmin.net/steps-to-install-hadoop-on-centosrhel-6/)\\n\\n## Install apache\\n\\n[apache-inshttpd](https://www.centos.org/docs/5/html/Cluster_Administration/s1-apache-inshttpd-CA.html)\\n\\n```bash\\nyum install httpd\\n# \u5b8c\u6210\u540e \u9700\u8981\u5728 /etc/httpd/conf/httpd.conf \u4e2d\u6dfb\u52a0\u4e00\u53e5\\n# ServerName localhost\\n# \u5982\u679c\u60f3\u8981\u4f7f\u7528 apachectl status \u547d\u4ee4 \u9700\u8981 elinks \u548c mod_status\\n# \u5173\u4e8e\u4f7f\u7528 status \u51fa\u73b0\u9519\u8bef\u7684\u60c5\u51b5 \u53c2\u8003\\n# http://www.mydigitallife.info/request-url-server-status-or-404-page-not-found-apache-error/\\n```\\n\\n\u60f3\u8981\u4f7f\u7528 apachectl status \u5728 httpd.conf \u4e2d\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\\n\\n```bash\\nExtendedStatus on\\n<IfModule mod_status.c>\\n    # Allow server status reports generated by mod_status,\\n    # with the URL of http://servername/server-status\\n    # Change the \\".example.com\\" to match your domain to enable.\\n    #\\n    <Location /server-status>\\n        SetHandler server-status\\n        Order deny,allow\\n        Allow from all\\n    </Location>\\n</IfModule>\\n```\\n\\n### \u914d\u7f6e mod_jk\\n\\n```bash\\n# \u4f7f\u7528\u7684\u65f6\u5019 \u53ea\u6709 1.2.40 \u7248\u672c\\n# \u53ef\u4ee5\u67e5\u770b\u5176\u4ed6\u7248\u672c http://www.apache.org/dist/tomcat/tomcat-connectors/jk/\\nwget http://www.apache.org/dist/tomcat/tomcat-connectors/jk/tomcat-connectors-1.2.40-src.zip\\nunzip tomcat-connectors*.zip\\ncd tomcat-connectors*\\ncd native\\n# \u8fd9\u91cc\u6709\u70b9\u626f\u6de1\u7684\u662f \u8fd9\u4e9b\u811a\u672c\u90fd\u662fdos \u683c\u5f0f\u7684 \u6240\u4ee5\u9700\u8981\u5148 dos2unix\\n# \u6240\u4ee5\u6211\u76f4\u63a5\u6362\u4e86\u4e2a\u7248\u672c \u4f7f\u7528\u7684 1.2.39 \u7684, \u4ee3\u7801\u683c\u6ca1\u95ee\u9898\\nyum install -y httpd-devel\\n./configure --with-apxs=/usr/sbin/apxs\\nmake\\nmake install\\n```\\n\\n\u96c6\u7fa4\u914d\u7f6e\u5b8c\u6210\u4e2a\u53ef\u4ee5\u901a\u8fc7\u5237\u65b0 http://cloud01/manager/status \u8fd9\u4e2a\u9875\u9762, \u89c2\u5bdf IP address \u6765\u5224\u65ad\u662f\u5426\u6210\u529f.\\n\\n## Install MySQL\\n\\n```bash\\nyum -y groupinstall \'MySQL Database server\' \'MySQL Database client\'\\nyum -y install php-mysql\\n#/sbin/service mysqld start\\n#/sbin/service mysqld stop\\n#/sbin/service mysqld restart\\n```"},{"id":"mom-intro","metadata":{"permalink":"/story/mom-intro","editUrl":"https://github.com/wenerme/wener/edit/master/story/2014/2014-09-06-mom-intro.md","source":"@site/story/2014/2014-09-06-mom-intro.md","title":"\u6d88\u606f\u4e2d\u95f4\u4ef6\u7b80\u4ecb mom-intro","description":"\u540c\u6b65","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u4e2d\u95f4\u4ef6","permalink":"/story/tags/\u4e2d\u95f4\u4ef6"}],"readingTime":5.04,"truncated":true,"authors":[],"prevItem":{"title":"CentOS \u65b0\u624b","permalink":"/story/centos-newbie"},"nextItem":{"title":"\u4e00\u81f4\u6027Hash\u7b97\u6cd5","permalink":"/story/ketama-consistence-hash"}},"content":"## \u540c\u6b65\\n\\n\u5206\u5e03\u5f0f\u5bf9\u8c61\u6280\u672f(Distributed Object Technologies - DOT), \u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528 RPC: \u540c\u6b65\u64cd\u4f5c (\u8c03\u7528\u88ab\u963b\u585e,\u76f4\u5230\u88ab\u8c03\u7528\u8005\u8fd4\u56de).\\n\\n\x3c!--more--\x3e\\n\\n```sequence\\ntitle: \u7b80\u5355\u7684\u8fdc\u7a0b\u8c03\u7528\\n\u5ba2\u6237\u7aef->>\u670d\u52a1\u7aef: 1.\u8fdc\u7a0b\u8c03\u7528\\nNote right of \u670d\u52a1\u7aef: 2.\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\\nNote left of \u5ba2\u6237\u7aef: \u5ba2\u6237\u7aef\u88ab\u963b\u585e\\n\u670d\u52a1\u7aef--\x3e>\u5ba2\u6237\u7aef: 3. \u8c03\u7528\u8fd4\u56de\\n```\\n\\n```sequence\\ntitle: \u5e26\u56de\u8c03\u7684\u8fdc\u7a0b\u8c03\u7528\\n\u5ba2\u6237\u7aef->>\u670d\u52a1\u7aef: 1.\u8fdc\u7a0b\u8c03\u7528\\nNote right of \u670d\u52a1\u7aef: 2.\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\\nNote left of \u5ba2\u6237\u7aef: \u5ba2\u6237\u7aef\u88ab\u963b\u585e\\n\u670d\u52a1\u7aef->>\u5ba2\u6237\u7aef: 3. \u56de\u8c03\\n\u5ba2\u6237\u7aef--\x3e>\u670d\u52a1\u7aef: 4. \u56de\u8c03\u8fd4\u56de\\n\u670d\u52a1\u7aef--\x3e>\u5ba2\u6237\u7aef: 5. \u8fd4\u56de\u8fdc\u7a0b\u8c03\u7528\\n```\\n\\n\u8be5\u79cd\u6a21\u5f0f\u5f15\u53d1\u7684\u95ee\u9898:\\n\\n1. \u5ba2\u6237\u7aef\u4f1a\u4e00\u76f4\u88ab\u963b\u585e,\u76f4\u5230\u670d\u52a1(\u5bf9\u8c61\u64cd\u4f5c)\u8fd4\u56de(\u7d27\u8026\u5408).\\n2. \u8fc7\u5ea6\u7684\u94fe\u63a5(\u6bcf\u6b21\u8c03\u7528\u90fd\u9700\u8981\u4e00\u4e2a\u94fe\u63a5\u6765\u8fdb\u884c\u5904\u7406\u548c\u7f51\u7edc\u8bbf\u95ee\u7b49).\\n3. \u5f88\u96be\u5bf9\u8c03\u7528\u5931\u8d25\u505a\u51fa\u54cd\u5e94(\u8c03\u7528\u7684\u670d\u52a1\u53ef\u80fd\u629b\u51fa\u5f02\u5e38,\u53ef\u80fd\u670d\u52a1\u672a\u542f\u52a8\u7b49...).\\n4. \u4e0d\u9002\u7528\u4e8e\u5d4c\u5957\u8c03\u7528(\u670d\u52a1\u5bf9\u8c61\u8c03\u7528\u5ba2\u6237\u7aef\u7684\u5bf9\u8c61\u53c8\u9700\u8981\u5f15\u5165\u53e6\u5916\u4e00\u4e2a\u670d\u52a1\u5bf9\u8c61\u7684\u64cd\u4f5c).\\n\\n## \u5f02\u6b65\\n\\n\u6d88\u606f\u4e2d\u95f4\u4ef6 (Message Oriented Middleware - MOM)\\n\\n- \u5f02\u6b65\u64cd\u4f5c(\u8c03\u7528\u8005\u53d1\u9001\u4e00\u4e2a\u6d88\u606f,\u7136\u540e\u7ee7\u7eed\u5de5\u4f5c,\\"fire and forget\\")\\n- \u5b58\u50a8,\u8f6c\u53d1\u901a\u4fe1\\n- \u53d1\u9001\u548c\u63a5\u6536\u4e4b\u95f4\u662f\u677e\u8026\u5408\u7684\\n  1.  \u4e0d\u9700\u8981\u5728\u540c\u4e00\u65f6\u95f4\u5b58\u6d3b\\n  2.  \u53d1\u9001\u8005\u4e0d\u9700\u8981\u77e5\u9053\u63a5\u6536\u8005\u7684\u5177\u4f53\u4f4d\u7f6e,\u53cd\u4e4b\u4ea6\u7136.\\n\\n```sequence\\n\u53d1\u9001\u5e94\u7528->\u53d1\u9001\u961f\u5217:\u975e\u963b\u585e\u6d88\u606f\u53d1\u9001\u64cd\u4f5c\\n\u53d1\u9001\u961f\u5217->\u7f51\u7edc\\n\u7f51\u7edc->\u63a5\u6536\u961f\u5217\\n\u63a5\u6536\u961f\u5217->\u63a5\u6536\u5e94\u7528\\n```\\n\\n\u7c7b\u6bd4:\\n\\n\u540c\u6b65(RPC/DOT) -> \u7535\u8bdd\\n\u5f02\u6b65(MOM) -> \u90ae\u4ef6\\n\\n# 2. \u6d88\u606f\u6a21\u578b\\n\\n1. \u70b9\u5230\u70b9 (P2P - Point to Point) {#ch-2-1}\\n\\n---\\n\\n- \u6bcf\u4e2a\u63a5\u6536\u8005(\u5e94\u7528)\u4e00\u4e2a\u961f\u5217\\n- \u4e00\u5bf9\u4e00(1 \u4e2a\u53d1\u9001\u8005,\u4e00\u4e2a\u63a5\u6536\u8005)\u6216\u8005\u591a\u5bf9\u4e00(\u591a\u4e2a\u53d1\u9001\u8005,\u4e00\u4e2a\u63a5\u6536\u8005)\u7684\u6d88\u606f\u673a\u5236.\\n\\n2. \u53d1\u5e03-\u8ba2\u9605 (PubSub - Publish - Subscribe) {#ch-2-2}\\n\\n# 3. \u961f\u5217\u7c7b\u578b\\n\\n- \u6240\u6709\u7684\u6d88\u606f\u90fd\u6709\u76f8\u540c\u7684\u4f18\u5148\u7ea7\\n- \u6d88\u606f\u4ee5\u4ed6\u4eec\u53d1\u9001\u7684\u987a\u5e8f\u8fdb\u884c\u5206\u53d1\\n\\n```sequence\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u53d1\u9001\u5e94\u7528\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f 3\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f 2\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f 1\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f\u961f\u5217\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f 3\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f 2\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u6d88\u606f 1\\nNote over \u5148\u8fdb\u5148\u51fa\u961f\u5217: \u63a5\u6536\u5e94\u7528\\n```\\n\\n## \u4f18\u5148\u7ea7\u961f\u5217\\n\\n- \u6d88\u606f\u7f13\u5b58\u5728 FIFO \u961f\u5217\u4e2d,\u5e76\u4ee5\u4f18\u5148\u7ea7\u8fdb\u884c\u6392\u5e8f\\n- \u8be5\u6392\u5e8f\u4f1a\u5e94\u7528\u5728\u5df2\u7ecf\u63a5\u6536\u5230\u7684\u6d88\u606f\u4e0a\\n\\n```sequence\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u53d1\u9001\u5e94\u7528\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f 3 \u4f18\u5148\u7ea7 1\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f 2 \u4f18\u5148\u7ea7 3\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f 1 \u4f18\u5148\u7ea7 2\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f\u961f\u5217 - \u6839\u636e\u6d88\u606f\u7684\u4f18\u5148\u7ea7\u4ece\u6392\u5e8f\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f 2 \u4f18\u5148\u7ea7 3\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f 1 \u4f18\u5148\u7ea7 2\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u6d88\u606f 3 \u4f18\u5148\u7ea7 1\\nNote over \u4f18\u5148\u7ea7\u961f\u5217: \u63a5\u6536\u5e94\u7528\\n```\\n\\n## \u5171\u6709/\u79c1\u6709\u961f\u5217\\n\\n- \u5b9a\u4e49\u4e0d\u540c\u7684\u8bbf\u95ee\u6743\u9650\\n  1.  \u5171\u6709\u961f\u5217: \u6240\u6709\u53d1\u9001\u8005\u5747\u80fd\u53d1\u9001\u6d88\u606f,\u4e0d\u9700\u8981\u8bbf\u95ee\u63a7\u5236\\n  2.  \u79c1\u6709\u961f\u5217: \u53d1\u9001\u8005\u53d1\u9001\u5230\u79c1\u6709\u961f\u5217\u9700\u8981\u8fdb\u884c\u8ba4\u8bc1\\n\\n## \u5176\u4ed6\u7c7b\u578b\u961f\u5217\\n\\n\u65e5\u5fd7\u961f\u5217\\n: \u6d88\u606f\u7cfb\u7edf\u4f1a\u4fdd\u5b58\u4e00\u4e2a\u8be5\u961f\u5217\u7684\u526f\u672c,\u8fbe\u5230\u65e5\u5fd7\u8bb0\u5f55\u6216\u76d1\u63a7\u7684\u76ee\u7684\\n\\nDead-letter \u961f\u5217\\n: \u8be5\u961f\u5217\u4f1a\u6301\u6709\u6240\u6709\u65e0\u6cd5\u5206\u53d1\u7684\u6d88\u606f(\u56e0\u4e3a TTL \u8fc7\u65f6\u7684\u6d88\u606f\u6216\u961f\u5217\u5730\u5740\u65e0\u6cd5\u89e3\u6790\u7684\u6d88\u606f).\\n\\n\u6865\u63a5\u548c\u8fde\u63a5\u5668\u961f\u5217(Bridge/connector queue)\\n: \u8fde\u63a5\u4e0d\u540c\u7684\u961f\u5217\u7cfb\u7edf,\u4f8b\u5982: MSMQ, JMS\\n\\n# 4. \u6d88\u606f\u4e2d\u8f6c(Message broker) - \u5e94\u7528\u96c6\u6210\u6a21\u5f0f\\n\\nMessage broker \u5c06\u6d88\u606f\u5206\u53d1\u7ed9\u63a5\u6536\u8005\\n\\n# \u53c2\u8003\\n\\n- \u539f\u6587 http://www.slideshare.net/PeterREgli/mom-message-oriented-middleware"},{"id":"ketama-consistence-hash","metadata":{"permalink":"/story/ketama-consistence-hash","editUrl":"https://github.com/wenerme/wener/edit/master/story/2014/2014-11-12-\u4e00\u81f4\u6027Hash\u7b97\u6cd5.md","source":"@site/story/2014/2014-11-12-\u4e00\u81f4\u6027Hash\u7b97\u6cd5.md","title":"\u4e00\u81f4\u6027Hash\u7b97\u6cd5","description":"\u8be5\u7b97\u6cd5\u6700\u5f00\u59cb\u662f\u5f00\u53d1\u6765\u66ff\u4ee3memcached\u952e\u5230\u670d\u52a1\u5668\u7684\u6620\u5c04\u7b97\u6cd5\u7684.","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"\u7b97\u6cd5","permalink":"/story/tags/\u7b97\u6cd5"}],"readingTime":3.24,"truncated":true,"authors":[],"prevItem":{"title":"\u6d88\u606f\u4e2d\u95f4\u4ef6\u7b80\u4ecb mom-intro","permalink":"/story/mom-intro"},"nextItem":{"title":"Ubuntu \u65b0\u670d\u52a1\u5668\u914d\u7f6e","permalink":"/story/ubuntu-new-server"}},"content":"\u8be5\u7b97\u6cd5\u6700\u5f00\u59cb\u662f\u5f00\u53d1\u6765\u66ff\u4ee3`memcached`\u952e\u5230\u670d\u52a1\u5668\u7684\u6620\u5c04\u7b97\u6cd5\u7684.\\n\\n\x3c!--more--\x3e\\n\\n\u5728\u8fd9\u4e4b\u524d,\u5ba2\u6237\u7aef\u6620\u5c04\u952e\u5230\u670d\u52a1\u5668\u7684\u65b9\u6cd5\u7c7b\u4f3c\u4e8e:\\n` server = serverlist[hash(key)%serverlist.length];`\\n\u8fd9\u5c31\u610f\u5473\u7740,\u4e0d\u7ba1\u6211\u4eec\u4ece\u6c60\u4e2d\u589e\u52a0\u6216\u5220\u9664\u8282\u70b9,\u90fd\u4f1a\u5bfc\u81f4\u6240\u6709\u5df2\u7ecf hash \u7684\u503c\u4ece\u65b0 hash \u5230\u4e0d\u540c\u7684\u8282\u70b9,\u8fd9\u4f1a\u5bfc\u81f4\u6240\u6709`memcached`\u7684\u6240\u6709\u7f13\u5b58\u5931\u6548.\\n\\nKetama \u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u6765\u89e3\u51b3\u4e86\u8be5\u95ee\u9898:\\n\\n- \u4f7f\u7528\u6307\u5b9a\u7684\u4e00\u7ec4\u670d\u52a1(\u4f8b\u5982: 1.2.3.4:11211, 5.6.7.8:11211, 9.8.7.6:11211)\\n- \u5c06\u6bcf\u4e2a\u670d\u52a1\u7684\u5b57\u7b26\u4e32\u90fd hash \u4e3a\u591a\u4e2a(100-200 \u4e2a)\u65e0\u7b26\u53f7\u6574\u6570\\n- \u6982\u5ff5\u4e0a,\u8fd9\u4e9b\u6570\u5b57\u662f\u653e\u7f6e\u5728\u4e00\u4e2a\u73af\u4e0a\u7684.(\u60f3\u8c61\u4e00\u4e2a\u65f6\u949f\u90a3\u6837,\u4ece 0 - 2^32 \u6b21\u65b9\u7684\u4e00\u4e2a\u73af)\\n- \u6bcf\u4e2a\u6570\u7ec4\u90fd\u5173\u8054\u5b83 hash \u4e4b\u524d\u7684\u90a3\u4e2a\u670d\u52a1\u5668\u5730\u5740,\u56e0\u6b64,\u4e00\u4e2a\u670d\u52a1\u4f1a\u5728\u73af\u4e0a\u51fa\u73b0\u591a\u6b21.\u51fa\u73b0\u7684\u65b9\u5f0f\u4f1a\u4ee5\u4ed6\u4eec hash \u540e\u7684\u6570\u5b57\u6765\u8868\u793a\\n- \u4e3a\u4e86\u5c06\u4e00\u4e2a\u952e\u6620\u5c04\u5230\u670d\u52a1\u5668,\u9996\u5148\u5c06\u952e\u503c hash \u4e3a\u4e00\u4e2a\u65e0\u7b26\u53f7\u6574\u6570,\u7136\u540e\u5728\u73af\u4e0a\u627e\u5230\u4e0b\u4e00\u4e2a\u6700\u5927\u7684\u6570\u5b57.\u8be5\u670d\u52a1\u4f1a\u88ab\u9009\u62e9\u6765\u5b58\u653e\u8be5\u952e\u503c\\n- \u5982\u679c hash \u7684\u952e\u503c\u63a5\u8fd1 2^32 \u6b21\u65b9,\u90a3\u4e48\u53ef\u80fd\u5728\u73af\u4e0a\u6ca1\u6709\u6bd4\u8be5 hash \u503c\u5927\u7684\u7684 hash,\u6b64\u65f6\u8fd4\u56de\u73af\u4e0a\u7684\u7b2c\u4e00\u4e2a\u670d\u52a1.\\n\\n\u8fd9\u6837\u5b9e\u73b0\u4ee5\u540e,\u5728\u8be5\u670d\u52a1\u5217\u8868\u4e0a\u8fdb\u884c\u6dfb\u52a0\u548c\u5220\u9664\u53ea\u4f1a\u5bf9\u4e00\u5c0f\u90e8\u5206\u7684\u952e\u503c\u6620\u5c04\u4ea7\u751f\u5f71\u54cd,\u56e0\u6b64\u53ea\u9700\u8981\u4ece\u65b0\u6620\u5c04\u4e00\u5c0f\u90e8\u5206\u503c.\\n\\n\u6b64\u5916,\u5982\u679c\u60f3\u8981\u63a7\u5236\u670d\u52a1\u5668\u7684\u6743\u91cd,\u5219\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u8be5\u670d\u52a1\u7684 hash \u503c\u6570\u91cf\u6765\u5b9e\u73b0.\\n\\n_\u539f\u6587_\\n\\nThis was initially written to replace how our memcached clients mapped keys to servers.\\n\\nPreviously, clients mapped keys->servers like this:\\n` server = serverlist[hash(key)%serverlist.length];`\\n\\nThis meant that whenever we added or removed servers from the pool, everything hashed to different servers, which effectively wiped the entire cache.\\n\\nKetama solves this problem in the following way:\\n\\n- Take your list of servers (eg: 1.2.3.4:11211, 5.6.7.8:11211, 9.8.7.6:11211)\\n- Hash each server string to several (100-200) unsigned ints\\n- Conceptually, these numbers are placed on a circle called the continuum. (imagine a clock face that goes from 0 to 2^32)\\n- Each number links to the server it was hashed from, so servers appear at several points on the continuum, by each of the numbers they hashed to.\\n- To map a key->server, hash your key to a single unsigned int, and find the next biggest number on the continuum. The server linked to that number is the correct server for that key.\\n- If you hash your key to a value near 2^32 and there are no points on the continuum greater than your hash, return the first server in the continuum.\\n\\nIf you then add or remove a server from the list, only a small proportion of keys end up mapping to different servers.\\n\\n## \u53c2\u8003\\n\\n- [\u539f\u6587](http://www.audioscrobbler.net/development/ketama/)\\n- [\u53c2\u8003 Java \u5b9e\u73b0](https://github.com/RJ/ketama/blob/master/java_ketama/SockIOPool.java)\\n- [\u7ef4\u57fa\u767e\u79d1 Consistent hashing](http://en.wikipedia.org/wiki/Consistent_hashing)"},{"id":"ubuntu-new-server","metadata":{"permalink":"/story/ubuntu-new-server","editUrl":"https://github.com/wenerme/wener/edit/master/story/2016/2016-09-28-ubuntu-new-server.md","source":"@site/story/2016/2016-09-28-ubuntu-new-server.md","title":"Ubuntu \u65b0\u670d\u52a1\u5668\u914d\u7f6e","description":"* How I spend my first 5 minutes on a server","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[],"readingTime":2.54,"truncated":false,"authors":[],"prevItem":{"title":"\u4e00\u81f4\u6027Hash\u7b97\u6cd5","permalink":"/story/ketama-consistence-hash"},"nextItem":{"title":"\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f","permalink":"/story/attack-on-programmer"}},"content":"```bash\\n# \u4fee\u6539\u4e3b\u673a\u540d\\nhostnamectl set-hostname myHostName\\n# \u5982\u679c\u60f3\u8981\u76f4\u63a5\u4f7f\u7528\u4e3b\u673a\u540d,\u8fd8\u9700\u8981\u5728 /etc/hosts \u91cc\u6dfb\u52a0\u76f8\u5173\u8bb0\u5f55\\n# nano /etc/hostname\\n# nano /etc/hosts\\n\\n# \u751f\u6210\u4e2d\u6587\\nlocale-gen zh_CN.UTF-8\\n# \u57fa\u672c\u66f4\u65b0\\napt-get update\\napt-get upgrade\\n\\n# \u51fa\u73b0 The following packages have been kept back \u53ef\u8003\u8651 apt dist-upgrade \u6216 install\\n# \u5f53 /etc/apt/sources.list* \u6709\u5176\u4ed6\u4ed3\u5e93\u65f6\u4f7f\u7528 dist-upgrade \u76f8\u5bf9\u6ca1\u90a3\u4e48\u5b89\u5168\\n\\n# \u4fee\u6539\u5bc6\u7801\\npasswd\\n\\n\\n# \u521b\u5efa\u7528\u4e8e\u90e8\u7f72\u7684\u7528\u6237\\nuseradd deploy\\nmkdir /home/deploy\\nmkdir /home/deploy/.ssh\\nchmod 700 /home/deploy/.ssh\\n# \u5c06\u9700\u8981\u4f7f\u7528\u8be5\u7528\u6237\u7684\u516c\u94a5\u6dfb\u52a0\u8fdb\u53bb\\nvim /home/deploy/.ssh/authorized_keys\\n\\nchmod 400 /home/deploy/.ssh/authorized_keys\\nchown deploy:deploy /home/deploy -R\\n\\n# \u7f16\u8f91 sudoers\\nvisudo\\n# \u5c06\u9700\u8981 sudo \u7684\u7528\u6237\u6dfb\u52a0\u8fdb\u53bb\\n# deploy  ALL=(ALL) ALL\\n\\n# \u4fee\u6539 sshd \u6743\u9650\\nvim /etc/ssh/sshd_config\\n# PermitRootLogin no # \u4e0d\u5141\u8bb8\u76f4\u63a5 root \u767b\u9646\\n# PasswordAuthentication no # \u4e0d\u5141\u8bb8\u5bc6\u7801\u767b\u9646\\n# AllowUsers deploy@(your-ip) deploy@(another-ip-if-any) # \u53ea\u5141\u8bb8\u6307\u5b9a\u5730\u5740\u7684\u4eba\u767b\u9646\\n# service ssh restart\\n\\n# \u9632\u706b\u5899\u8bbe\u7f6e\\n# DNS 53\\n# mosh allow 60000:61000/udp \u6216 allow mosh\\nufw allow 22\\nufw allow 80\\nufw allow 443\\nufw default deny\\nufw enable\\n```\\n\\n* [How I spend my first 5 minutes on a server ](https://news.ycombinator.com/item?id=5316093)\\n* [10 Essential Steps for Configuring a New Server](https://www.upguard.com/blog/10-essential-steps-for-configuring-a-new-server)\\n\\n\\n## Tips\\n\u5f53\u6709\u591a\u53f0\u4e3b\u673a\u9700\u8981\u90e8\u7f72\u7684\u65f6\u5019,\u5efa\u8bae\u4f7f\u7528 sshrc, tmuxrc, \u8fd9\u6837\u80fd\u5feb\u901f\u7684\u5c06\u6240\u6709\u7684\u914d\u7f6e\u90fd\u5e26\u7ed9\u670d\u52a1\u5668,\u80fd\u591f\u5feb\u901f\u65b9\u4fbf\u7684\u5bf9\u591a\u53f0\u8fdb\u884c\u5b89\u88c5\u90e8\u7f72.\\n\\n### mosh-dev\\n\u7531\u4e8e mosh \u90e8\u5206\u9f20\u6807\u76f8\u5173\u7684\u529f\u80fd\u9700\u8981\u6700\u65b0\u7248,\u6240\u4ee5\u5efa\u8bae\u76f4\u63a5\u5b89\u88c5 dev \u7248\u672c\\n\\n```bash\\napt-get install -y software-properties-common\\nadd-apt-repository ppa:keithw/mosh-dev\\napt-get update\\napt install -y mosh\\n```\\n\\n## fail2ban\\n```bash\\napt-get install fail2ban\\ncp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\\n# bantime = 3600 # ban 1 \u5c0f\u65f6\\n# destemail = admin@admin # \u53d1\u9001\u8b66\u544a\u7684\u90ae\u7bb1\u5730\u5740\\n# \u5c06 ssh/ssh-ddos \u7b49\u6bb5\u843d\u4e0b\u7684 enable \u8bbe\u7f6e\u4e3a true \u6253\u5f00\u76f8\u5e94\u7684 filter\\n```\\n\\n## env\\n```bash\\napt-get install software-properties-common\\n# \u6dfb\u52a0 Oracle Java \u4ed3\u5e93\\nadd-apt-repository ppa:webupd8team/java#\\napt-get update\\n# \u5b89\u88c5 Oracle Java 8 JDK\\napt-get install oracle-java8-installer\\n# \u5982\u679c\u6709\u591a\u4e2a Java \u73af\u5883\u53ef\u8c03\u6574\u914d\u7f6e\\nupdate-alternatives --config java\\n```\\n\\n## ipv6\\n```bash\\n# https://jiandanxinli.github.io/2016-08-06.html\\n\\n# /etc/sysctl.conf\\n# net.ipv6.conf.all.disable_ipv6=0\\n# net.ipv6.conf.default.disable_ipv6=0\\n# net.ipv6.conf.lo.disable_ipv6=0\\nsysctl -p\\n\\n# https://www.tunnelbroker.net/\\n# \u9009\u62e9 linux route2, \u7136\u540e\u6267\u884c\u811a\u672c\\n\\n# \u68c0\u6d4b ipv6 \u662f\u5426\u53ef\u7528\\n# http://ready.chair6.net/?url=wener.me\\n\\n# \u5982\u679c\u64cd\u4f5c\u5931\u8d25\u4e86\u5219\u5220\u9664\u901a\u9053\u4ece\u6765\\nip tun del he-ipv6\\n```"},{"id":"attack-on-programmer","metadata":{"permalink":"/story/attack-on-programmer","editUrl":"https://github.com/wenerme/wener/edit/master/story/2017/2017-01-19-\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f.md","source":"@site/story/2017/2017-01-19-\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f.md","title":"\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f","description":"2016 \u5e74\u4f1a\u8282\u76ee","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[],"readingTime":0.155,"truncated":false,"authors":[],"prevItem":{"title":"Ubuntu \u65b0\u670d\u52a1\u5668\u914d\u7f6e","permalink":"/story/ubuntu-new-server"},"nextItem":{"title":"Ubuntu \u5bb6\u7528","permalink":"/story/ubuntu-home"}},"content":"2016 \u5e74\u4f1a\u8282\u76ee\\n\\n* [\u811a\u672c](https://github.com/wenerme/wener/tree/master/story/2017/am2016/\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f.fountain)/[PDF](https://github.com/wenerme/wener/tree/master/story/2017/am2016/\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f.pdf)\\n* \u821e\u53f0\u524d\u7aef/\u821e\u53f0\u540e\u7aef"},{"id":"ubuntu-home","metadata":{"permalink":"/story/ubuntu-home","editUrl":"https://github.com/wenerme/wener/edit/master/story/2017/2017-02-09-ubuntu-home.md","source":"@site/story/2017/2017-02-09-ubuntu-home.md","title":"Ubuntu \u5bb6\u7528","description":"- Ubuntu \u684c\u9762\u7248","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[],"readingTime":7.955,"truncated":true,"authors":[],"prevItem":{"title":"\u8fdb\u51fb\u7684\u7a0b\u5e8f\u733f","permalink":"/story/attack-on-programmer"},"nextItem":{"title":"Google API Design Guide","permalink":"/story/google-api-design-guide"}},"content":"- Ubuntu \u684c\u9762\u7248\\n- \u5b89\u88c5\u81f3\u5c11\u9700\u8981 `1024*768` \u7684\u663e\u793a\u5668\\n\\n\x3c!-- more --\x3e\\n\\n```bash\\napt update\\napt upgrade\\napt dist-upgrade\\n\\n# \u684c\u9762\u7248\u6ca1\u6709 sshd\\napt install -y openssh-server\\n\\n############\\n# brew\\n############\\nbrew install gcc redis tmux mosh\\n\\n############\\n# \u5bb9\u5668\u670d\u52a1\u914d\u7f6e\\n############\\n# \u4f7f\u7528\u963f\u91cc\u63d0\u4f9b\u7684\u4ed3\u5e93\u8fdb\u884c\u5b89\u88c5\u4f1a\u975e\u5e38\u5feb\\ncurl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -\\n# \u5b89\u88c5\u5b8c\u6bd5\u540e\u4e3a\u5f53\u524d\u7528\u6237\u6dfb\u52a0\u6743\u9650,\u9700\u8981\u9000\u51fa\u91cd\u65b0\u767b\u5f55\u624d\u80fd\u751f\u6548\\nsudo usermod -aG docker $USER\\n\\n# \u5b89\u88c5\u5b8c\u6210\u5efa\u8bae\u9009\u62e9\u4e00\u5bb6\u5bb9\u5668\u955c\u50cf,\u6bd4\u5982 https://cr.console.aliyun.com \u6216\u8005 daocloud\\n\\ndocker pull gogs/gogs\\ndocker network create --subnet=172.18.1.0/24 home-net\\n\\n# \u51c6\u5907\u6570\u636e\u76ee\u5f55\\nsudo mkdir /data\\nsudo chown $USER:$USER /data\\ncd /data\\n\\n# ==========\\n# \u76d1\u63a7\u914d\u7f6e\\n# ==========\\ndocker pull grafana/grafana\\ndocker pull prom/container-exporter\\ndocker pull prom/prometheus\\n\\ndocker run --net home-net --ip 172.18.1.10 -d --restart always -v /etc/localtime:/etc/localtime:ro \\\\\\n    -v $PWD/grafana:/var/lib/grafana \\\\\\n    -v $PWD/grafana.ini:/etc/grafana/grafana.ini \\\\\\n    --name grafana grafana/grafana\\n\\nnohup node_exporter 2>node_exporter.log &\\n\\ndocker run -d --net home-net --ip 172.18.1.21 \\\\\\n    -v /sys/fs/cgroup:/cgroup \\\\\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\\\\n    --name container-exporter prom/container-exporter\\n\\ndocker run --net home-net --ip 172.18.1.20 -d --restart always -v /etc/localtime:/etc/localtime:ro \\\\\\n    -v $PWD/prom:/prometheus \\\\\\n    -v $PWD/prom.yaml:/etc/prometheus/prometheus.yml \\\\\\n    --name prom prom/prometheus\\n\\n# Web \u670d\u52a1\\n# \u9009\u62e9\u9700\u8981\u7684 Caddy \u63d2\u4ef6\u7528\u4e8e\u6784\u5efa\u5bb9\u5668\\nmkdir -p /tmp/caddy && cd /tmp/caddy\\nwget \'https://caddyserver.com/download/build?os=linux&arch=amd64&features=cors%2Cexpires%2Cfilemanager%2Cgit%2Chugo%2Cipfilter%2Cjsonp%2Cjwt%2Clocale%2Cmailout%2Cminify%2Cmultipass%2Cprometheus%2Cratelimit%2Crealip%2Csearch%2Cupload\' -O caddy.tar.gz\\ntar -zxvf caddy.tar.gz\\n\\ndocker build -t home/caddy -f caddy.Dockerfile .\\ncd -\\n\\ndocker run --net home-net --ip 172.18.1.30  -d --restart always -v /etc/localtime:/etc/localtime:ro \\\\\\n    -v $PWD/Caddyfile:/etc/Caddyfile \\\\\\n    -v $PWD/caddy:/data \\\\\\n    -v $HOME/.caddy:/root/.caddy \\\\\\n    -p 80:80 -p 443:443 \\\\\\n    --name web home/caddy\\n\\n\\n\\n```\\n\\n### caddy.Dockerfile\\n\\n```Dockerfile\\nFROM alpine\\nMAINTAINER wener <wener@wener.me>\\n\\nCOPY caddy /app/caddy\\n\\nVOLUME     [ \\"/data\\" ]\\nWORKDIR    /data\\n\\nEXPOSE 2015\\nEXPOSE 2000\\nENTRYPOINT [\\"/app/caddy\\"]\\nCMD [\\"-conf\\",\\"/etc/Caddyfile\\",\\"-log\\",\\"./internal/log\\"]\\n```\\n\\n### grafana.ini\\n\\n```ini\\n##################### Grafana Configuration Example #####################\\n#\\n# Everything has defaults so you only need to uncomment things you want to\\n# change\\n\\n# possible values : production, development\\n; app_mode = production\\n\\n# instance name, defaults to HOSTNAME environment variable value or hostname if HOSTNAME var is empty\\n; instance_name = ${HOSTNAME}\\n\\n#################################### Paths ####################################\\n[paths]\\n# Path to where grafana can store temp files, sessions, and the sqlite3 db (if that is used)\\n#\\n;data = /var/lib/grafana\\n#\\n# Directory where grafana can store logs\\n#\\n;logs = /var/log/grafana\\n#\\n# Directory where grafana will automatically scan and look for plugins\\n#\\n;plugins = /var/lib/grafana/plugins\\n\\n#\\n#################################### Server ####################################\\n[server]\\n# Protocol (http or https)\\n;protocol = http\\n\\n# The ip address to bind to, empty will bind to all interfaces\\n;http_addr =\\n\\n# The http port  to use\\n;http_port = 3000\\n\\n# The public facing domain name used to access grafana from a browser\\ndomain = d.yikaiye.com\\n\\n# Redirect to correct domain if host header does not match domain\\n# Prevents DNS rebinding attacks\\n;enforce_domain = false\\n\\n# \u4f7f\u7528 /monitor \u4f5c\u4e3a\u8def\u5f84,\u4ee5\u4fbf\u4e8e\u53cd\u5411\u4ee3\u7406\\n;root_url = %(protocol)s://%(domain)s:%(http_port)s/\\nroot_url = /monitor\\n\\n# Log web requests\\n;router_logging = false\\n\\n# the path relative working path\\n;static_root_path = public\\n\\n# enable gzip\\nenable_gzip = true\\n\\n# https certs & key file\\n;cert_file =\\n;cert_key =\\n\\n#################################### Database ####################################\\n[database]\\n# Either \\"mysql\\", \\"postgres\\" or \\"sqlite3\\", it\'s your choice\\n;type = sqlite3\\n;host = 127.0.0.1:3306\\n;name = grafana\\n;user = root\\n;password =\\n\\n# For \\"postgres\\" only, either \\"disable\\", \\"require\\" or \\"verify-full\\"\\n;ssl_mode = disable\\n\\n# For \\"sqlite3\\" only, path relative to data_path setting\\n;path = grafana.db\\n\\n#################################### Session ####################################\\n[session]\\n# Either \\"memory\\", \\"file\\", \\"redis\\", \\"mysql\\", \\"postgres\\", default is \\"file\\"\\n;provider = file\\n\\n# Provider config options\\n# memory: not have any config yet\\n# file: session dir path, is relative to grafana data_path\\n# redis: config like redis server e.g. `addr=127.0.0.1:6379,pool_size=100,db=grafana`\\n# mysql: go-sql-driver/mysql dsn config string, e.g. `user:password@tcp(127.0.0.1:3306)/database_name`\\n# postgres: user=a password=b host=localhost port=5432 dbname=c sslmode=disable\\n;provider_config = sessions\\n\\n# Session cookie name\\n;cookie_name = grafana_sess\\n\\n# If you use session in https only, default is false\\n;cookie_secure = false\\n\\n# Session life time, default is 86400\\n;session_life_time = 86400\\n\\n#################################### Analytics ####################################\\n[analytics]\\n# Server reporting, sends usage counters to stats.grafana.org every 24 hours.\\n# No ip addresses are being tracked, only simple counters to track\\n# running instances, dashboard and error counts. It is very helpful to us.\\n# Change this option to false to disable reporting.\\n;reporting_enabled = true\\n\\n# Set to false to disable all checks to https://grafana.net\\n# for new vesions (grafana itself and plugins), check is used\\n# in some UI views to notify that grafana or plugin update exists\\n# This option does not cause any auto updates, nor send any information\\n# only a GET request to http://grafana.net to get latest versions\\ncheck_for_updates = true\\n\\n# Google Analytics universal tracking code, only enabled if you specify an id here\\n;google_analytics_ua_id =\\n\\n#################################### Security ####################################\\n[security]\\n# default admin user, created on startup\\n;admin_user = admin\\n\\n# default admin password, can be changed before first start of grafana,  or in profile settings\\n;admin_password = admin\\n\\n# used for signing\\n;secret_key = SW2YcwTIb9zpOOhoPsMm\\n\\n# Auto-login remember days\\n;login_remember_days = 7\\n;cookie_username = grafana_user\\n;cookie_remember_name = grafana_remember\\n\\n# disable gravatar profile images\\n;disable_gravatar = false\\n\\n# data source proxy whitelist (ip_or_domain:port separated by spaces)\\n;data_source_proxy_whitelist =\\n\\n[snapshots]\\n# snapshot sharing options\\nexternal_enabled = false\\n;external_snapshot_url = https://snapshots-origin.raintank.io\\n;external_snapshot_name = Publish to snapshot.raintank.io\\n\\n#################################### Users ####################################\\n[users]\\n# \u7981\u7528\u6ce8\u518c\u529f\u80fd\\nallow_sign_up = false\\n\\n# \u4e0d\u5141\u8bb8\u975e\u7ba1\u7406\u5458\u521b\u5efa\u7ec4\u7ec7\\nallow_org_create = false\\n\\n# Set to true to automatically assign new users to the default organization (id 1)\\nauto_assign_org = true\\n\\n# Default role new users will be automatically assigned (if disabled above is set to true)\\nauto_assign_org_role = Viewer\\n\\n# Background text for the user field on the login page\\nlogin_hint = \u7528\u6237\u540d\\n\\n# Default UI theme (\\"dark\\" or \\"light\\")\\ndefault_theme = light\\n\\n#################################### Anonymous Auth ##########################\\n[auth.anonymous]\\n# enable anonymous access\\nenabled = false\\n\\n# specify organization name that should be used for unauthenticated users\\n;org_name = Main Org.\\n\\n# specify role for unauthenticated users\\n;org_role = Viewer\\n\\n#################################### Auth Proxy ##########################\\n[auth.proxy]\\n;enabled = false\\n;header_name = X-WEBAUTH-USER\\n;header_property = username\\n;auto_sign_up = true\\n\\n#################################### Basic Auth ##########################\\n[auth.basic]\\n;enabled = true\\n\\n#################################### SMTP / Emailing ##########################\\n[smtp]\\n;enabled = false\\n;host = localhost:25\\n;user =\\n;password =\\n;cert_file =\\n;key_file =\\n;skip_verify = false\\n;from_address = admin@grafana.localhost\\n\\n[emails]\\n;welcome_email_on_sign_up = false\\n\\n#################################### Logging ##########################\\n[log]\\n# Either \\"console\\", \\"file\\", \\"syslog\\". Default is console and  file\\n# Use space to separate multiple modes, e.g. \\"console file\\"\\n;mode = console, file\\n\\n# Either \\"trace\\", \\"debug\\", \\"info\\", \\"warn\\", \\"error\\", \\"critical\\", default is \\"info\\"\\n;level = info\\n\\n# For \\"console\\" mode only\\n[log.console]\\n;level =\\n\\n# log line format, valid options are text, console and json\\n;format = console\\n\\n# For \\"file\\" mode only\\n[log.file]\\n;level =\\n\\n# log line format, valid options are text, console and json\\n;format = text\\n\\n# This enables automated log rotate(switch of following options), default is true\\n;log_rotate = true\\n\\n# Max line number of single file, default is 1000000\\n;max_lines = 1000000\\n\\n# Max size shift of single file, default is 28 means 1 << 28, 256MB\\n;max_size_shift = 28\\n\\n# Segment log daily, default is true\\n;daily_rotate = true\\n\\n# Expired days of log file(delete after max days), default is 7\\n;max_days = 7\\n\\n[log.syslog]\\n;level =\\n\\n# log line format, valid options are text, console and json\\n;format = text\\n\\n# Syslog network type and address. This can be udp, tcp, or unix. If left blank, the default unix endpoints will be used.\\n;network =\\n;address =\\n\\n# Syslog facility. user, daemon and local0 through local7 are valid.\\n;facility =\\n\\n# Syslog tag. By default, the process\' argv[0] is used.\\n;tag =\\n\\n\\n#################################### AMQP Event Publisher ##########################\\n[event_publisher]\\n;enabled = false\\n;rabbitmq_url = amqp://localhost/\\n;exchange = grafana_events\\n\\n;#################################### Dashboard JSON files ##########################\\n[dashboards.json]\\n;enabled = false\\n;path = /var/lib/grafana/dashboards\\n\\n#################################### Internal Grafana Metrics ##########################\\n# Metrics available at HTTP API Url /api/metrics\\n[metrics]\\n# Disable / Enable internal metrics\\n;enabled           = true\\n\\n# Publish interval\\n;interval_seconds  = 10\\n\\n# Send internal metrics to Graphite\\n; [metrics.graphite]\\n; address = localhost:2003\\n; prefix = prod.grafana.%(instance_name)s.\\n\\n#################################### Internal Grafana Metrics ##########################\\n# Url used to to import dashboards directly from Grafana.net\\n[grafana_net]\\nurl = https://grafana.net\\n```\\n\\n### prom.yaml\\n\\n```yaml\\nglobal:\\n  scrape_interval: 5s\\n  # Attach these labels to any time series or alerts when communicating with\\n  # external systems (federation, remote storage, Alertmanager).\\n  external_labels:\\n    monitor: \'dev-monitor\'\\n\\nrule_files:\\n  - mysql.rules\\n\\n# A scrape configuration containing exactly one endpoint to scrape:\\n# Here it\'s Prometheus itself.\\nscrape_configs:\\n  # The job name is added as a label `job=<job_name>` to any timeseries scraped from this config.\\n  - job_name: \'prometheus\'\\n\\n    # Override the global default and scrape targets from this job every 5 seconds.\\n    scrape_interval: 5s\\n\\n    static_configs:\\n      - targets: [\'localhost:9090\']\\n\\n  - job_name: container_exporter\\n    static_configs:\\n      - targets: [\'172.18.1.21:9104\']\\n\\n  - job_name: node_exporter\\n    static_configs:\\n      - targets: [\'172.18.1.1:9100\']\\n\\n  - job_name: caddy\\n    static_configs:\\n      - targets: [\'172.18.1.30:2000\']\\n```\\n\\n### Caddyfile\\n\\n```\\n:80 {\\n  log internal/access.log {\\n      rotate {\\n          size 50\\n          age  14\\n          keep 10\\n      }\\n  }\\n  prometheus :2000\\n  root .\\n  internal ./internal\\n  filemanager /file {\\n    show file/\\n  }\\n  proxy /monitor 172.18.1.10:3000 {\\n    without /monitor\\n    transparent\\n  }\\n}\\n```\\n\\n```\\n\\n$ sudo vim /etc/udev/rules.d/75-persistent-net-generator.rules\\n\\nSUBSYSTEM==\\"net\\", ACTION==\\"add\\", ATTR{address}==\\"f0:42:1c:85:07:41\\", NAME=\\"eth0\\"\\nsudo vim /etc/network/interfaces\\n\\n```"},{"id":"google-api-design-guide","metadata":{"permalink":"/story/google-api-design-guide","editUrl":"https://github.com/wenerme/wener/edit/master/story/2017/2017-11-24-google-api-design-guide.md","source":"@site/story/2017/2017-11-24-google-api-design-guide.md","title":"Google API Design Guide","description":"Google API Design Guide","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[],"readingTime":15.085,"truncated":false,"authors":[],"prevItem":{"title":"Ubuntu \u5bb6\u7528","permalink":"/story/ubuntu-home"},"nextItem":{"title":"Redis \u6d41\u7b80\u4ecb","permalink":"/story/redis-stream-intro"}},"content":"## Google API Design Guide\\n\\n- [API Design Guide](https://cloud.google.com/apis/design/)\\n\\n### \u9762\u5411\u8d44\u6e90\u8bbe\u8ba1\\n\\n- \u8bbe\u8ba1\u6d41\u7a0b\\n  - \u786e\u5b9a APi \u63d0\u4f9b\u7684\u8d44\u6e90\u7c7b\u578b\\n  - \u786e\u5b9a\u8d44\u6e90\u4e4b\u95f4\u7684\u5173\u7cfb\\n  - \u51b3\u5b9a\u8d44\u6e90\u7684\u540d\u5b57\u683c\u5f0f, \u57fa\u4e8e\u7c7b\u578b\u548c\u5173\u7cfb\\n  - \u51b3\u5b9a\u8d44\u6e90\u7684\u683c\u5f0f\\n  - \u4e3a\u8d44\u6e90\u6dfb\u52a0\u6700\u4f4e\u9650\u5ea6\u7684\u65b9\u6cd5\\n- \u8d44\u6e90\\n  - \u96c6\u5408\\n  - \u8d44\u6e90\\n- \u65b9\u6cd5\\n\\n### \u8d44\u6e90\u540d\u5b57\\n\\n- \u57fa\u672c\u6982\u5ff5\\n  - \u8d44\u6e90\u662f\u88ab\u547d\u540d\u7684\u5b9e\u4f53\\n  - \u8d44\u6e90\u540d\u5373\u4e3a\u5176\u6807\u8bc6\u7b26\\n  - \u6bcf\u4e2a\u8d44\u6e90\u5fc5\u987b\u6709\u5176\u552f\u4e00\u7684\u8d44\u6e90\u540d\\n  - \u8d44\u6e90\u540d\u7531 \u8d44\u6e90 ID, \u7236\u8d44\u6e90 ID \u548c\u670d\u52a1\u540d\\n  - gRPC \u8d44\u6e90\u540d\u5e94\u8be5\u4f7f\u7528 scheme-less \u7684 URI\\n  - \u96c6\u5408\u4e3a\u7279\u6b8a\u7684\u8d44\u6e90, \u5305\u542b\u4e00\u5217\u76f8\u540c\u7c7b\u578b\u7684\u5b50\u8d44\u6e90\\n  - \u96c6\u5408\u8d44\u6e90\u7684 ID \u4e3a \u96c6\u5408 ID\\n- \u5b8c\u6574\u8d44\u6e90\u540d\\n  - `//library.googleapis.com/shelves/shelf1/books/book2`\\n- \u76f8\u5bf9\u8d44\u6e90\u540d\\n  - \u76f8\u5bf9\u4e8e\u670d\u52a1\\n  - `shelves/shelf1/books/book2`\\n- \u8d44\u6e90 ID\\n  - \u8d44\u6e90\u540d\u4e2d\u7684\u8d44\u6e90 ID \u53ef\u80fd\u4f1a\u6709\u8d85\u8fc7\u4e00\u4e2a\u7684 URI segment\\n  - \u670d\u52a1\u5e94\u8be5\u4f7f\u7528 URL \u53cb\u597d\u7684\u8d44\u6e90 ID\\n  - \u5fc5\u987b\u8981\u660e\u786e\u8d44\u6e90 ID \u662f\u7531\u5ba2\u6237\u7aef\u6307\u5b9a,\u670d\u52a1\u6307\u5b9a\u6216\u90fd\u53ef\u4ee5\\n    - \u4f8b\u5982\u6587\u4ef6\u540d\u901a\u5e38\u7531\u5ba2\u6237\u7aef\u6307\u5b9a\\n    - \u6709\u9650 ID \u901a\u5e38\u7531\u670d\u52a1\u7aef\u6307\u5b9a\\n  - Collection ID -> `files`\\n  - Resource ID -> `/source/py/parser.py`\\n- \u96c6\u5408 ID\\n  - \u5fc5\u987b\u662f\u6709\u6548\u7684 C/C++ \u6807\u8bc6\u7b26\\n  - \u5fc5\u987b\u662f\u8d1f\u6570\u7684 `lowerCamel` \u5f62\u5f0f\\n    - \u5982\u679c\u6ca1\u6709\u5408\u9002\u7684\u8d1f\u6570\u5f62\u5f0f, \u90a3\u4e48\u5e94\u8be5\u4f7f\u7528\u5355\u6570\u5f62\u5f0f, \u4f8b\u5982 `evidence`,`weather`\\n  - \u5fc5\u987b\u4f7f\u7528\u660e\u786e\u7b80\u6d01\u7684\u82f1\u8bed\u8bcd\u6c47\\n  - \u901a\u7528\u7684\u8bcd\u6c47\u5e94\u8be5\u907f\u514d\u4f7f\u7528\u6216\u52a0\u9650\u5b9a\u7b26\\n    - `values` -> `rowValues`\\n    - \u5e94\u8be5\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u7684\u8bcd\u6c47\\n      - elements\\n      - entries\\n      - instances\\n      - items\\n      - objects\\n      - resources\\n      - types\\n      - values\\n- \u8d44\u6e90\u540d vs URL\\n  - \u5728 REST API \u4f7f\u7528\u65f6, \u5e94\u8be5\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684 URL \u683c\u5f0f\\n  - \u6dfb\u52a0\u7248\u672c\u53f7\u548c Schema\\n  - \u8d44\u6e90\u540d -> `//calendar.googleapis.com/users/john smith/events/123`\\n  - URL -> `https://calendar.googleapis.com/v3/users/john%20smith/events/12`\\n- \u8d44\u6e90\u540d\u4f5c\u4e3a\u5b57\u7b26\u4e32\\n  - \u8d44\u6e90\u540d\u5fc5\u987b\u80fd\u88ab\u5448\u73b0\u4e3a\u5b57\u7b26\u4e32\\n  - \u8d44\u6e90\u540d\u5e94\u8be5\u80fd\u50cf\u6587\u4ef6\u540d\u4e00\u6837\u88ab\u5904\u7406, \u4e0d\u652f\u6301\u767e\u5206\u53f7\u7f16\u7801\\n  - \u5bf9\u4e8e\u8d44\u6e90\u5b9a\u4e49, \u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5e94\u8be5\u4e3a\u8d44\u6e90\u540d, \u5e94\u8be5\u4e3a `name`\\n  - \u5176\u4ed6\u540d\u5b57\u76f8\u5173\u7684\u5b57\u6bb5\u5e94\u8be5\u6dfb\u52a0\u9650\u5b9a\u7b26\u907f\u514d\u6df7\u6dc6, \u4f8b\u5982 `display_name`, `first_name`\\n  - \u8d44\u6e90\u540d\u7981\u6b62\u5305\u542b\u524d `/`\\n- \u4e3a\u4ec0\u4e48\u4e0d\u9002\u7528\u8d44\u6e90 ID \u6765\u6807\u8bc6\u4e00\u4e2a\u8d44\u6e90\\n  - \u4f8b\u5982\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528\u8bf8\u5982 `(bucket, object)` \u6216 `(user, album, photo)` \u7684\u5f62\u5f0f\\n  - \u5f00\u53d1\u8005\u5fc5\u987b\u8981\u7406\u89e3\u5e76\u4e14\u8bb0\u4f4f\u8fd9\u6837\u7684\u533f\u540d\u5143\u7ec4\\n  - \u4f20\u9012\u5143\u7ec4\u6bd4\u5b57\u7b26\u4e32\u4e00\u822c\u66f4\u52a0\u56f0\u96be\\n  - \u5f88\u591a\u7cfb\u7edf\u4e0d\u80fd\u7406\u89e3\u8fd9\u6837\u7684\u5f62\u5f0f\\n  - \u7279\u70b9\u7684\u5143\u7ec4\u9650\u5236 API \u8bbe\u8ba1\u7684\u7075\u6d3b\u6027\\n- \u4e3a\u4ec0\u4e48\u4f7f\u7528 `name` \u800c\u4e0d\u4f7f\u7528 `id`\\n  - \u9075\u4ece\u8d44\u6e90\u540d\u7684\u6982\u5ff5\\n  - \u901a\u5e38 `name` \u7684\u5b9a\u4e49\u4f1a\u975e\u5e38\u6df7\u6dc6, \u4fdd\u7559 `name` \u4f7f\u5f97\u5f00\u53d1\u8005\u9009\u62e9\u4e00\u4e2a\u66f4\u5408\u9002\u7684\u540d\u5b57, \u4f8b\u5982 `display_name`, `title`\\n\\n| API Service Name         | Collection ID | Resource ID | Collection ID | Resource ID |\\n| ------------------------ | ------------- | ----------- | ------------- | ----------- |\\n| //storage.googleapis.com | /buckets      | /bucket-id  | /objects      | /object-id  |\\n\\n| API Service Name      | Collection ID | Resource ID       | Resource ID | Resource ID |\\n| --------------------- | ------------- | ----------------- | ----------- | ----------- |\\n| //mail.googleapis.com | /users        | /name@example.com | /settings   | /customFrom |\\n\\n### \u6807\u51c6\u65b9\u6cd5\\n\\n| Std.Method | HTTP Mapping                  | HTTP Request Body | HTTP Response Body        |\\n| ---------- | ----------------------------- | ----------------- | ------------------------- |\\n| List       | `GET <collection URL>`        | N/A               | Resource\\\\* list           |\\n| Get        | `GET <resource URL>`          | N/A               | Resource\\\\*                |\\n| Create     | `POST <collection URL>`       | Resource          | Resource\\\\*                |\\n| Update     | `PUT or PATCH <resource URL>` | Resource          | Resource\\\\*                |\\n| Delete     | `DELETE <resource URL>`       | N/A               | google.protobuf.Empty\\\\*\\\\* |\\n\\n### \u81ea\u5b9a\u4e49\u65b9\u6cd5\\n\\n- HTTP \u6620\u5c04\\n  - `https://service.name/v1/some/resource/name:customVerb`\\n  - \u5e94\u8be5\u4f7f\u7528 `POST` \u65b9\u6cd5\\n  - \u5982\u679c\u662f\u7c7b\u4f3c List \u7684\u65b9\u6cd5\u4e5f\u8bb8\u4f7f\u7528 `GET`\\n  - \u4e0d\u5e94\u8be5\u4f7f\u7528 `PATCH`, \u4e5f\u8bb8\u4f1a\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5, \u4f46\u5e94\u8be5\u9075\u4ece HTTP \u8bed\u4e49\\n  - \u4f7f\u7528 `GET` \u65b9\u6cd5, \u5fc5\u987b\u8981\u6c42\u8bf7\u6c42\u5e42\u7b49, \u4e0d\u4f1a\u6709\u526f\u4f5c\u7528\\n    - \u4f8b\u5982\u81ea\u5b9a\u4e49\u89c6\u56fe\u5e94\u8be5\u4f7f\u7528 `GET`\\n  - \u8bf7\u6c42\u6d88\u606f\u4e2d\u7684\u8d44\u6e90\u540d\u5e94\u8be5\u88ab\u6620\u5c04\u5230\u8def\u5f84\u4e0a\\n  - URL \u8def\u5f84\u5fc5\u987b\u4ee5 `:customVerb` \u7ed3\u675f\\n  - \u5982\u679c\u5141\u8bb8\u8bf7\u6c42\u4f53, \u5fc5\u987b\u4f7f\u7528 `body: \\"*\\"`, \u5e94\u8be5\u5c06\u6240\u6709\u5b57\u6bb5\u6620\u5c04\u5230\u8bf7\u6c42\u6d88\u606f\u4e0a\\n  - \u5982\u679c\u4e0d\u63a5\u53d7\u8bf7\u6c42\u4f53, \u7981\u6b62\u4f7f\u7528 `body` \u8bed\u53e5\\n  - \u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u52a8\u8bcd\u7981\u6b62\u91cd\u53e0\\n\\n| Method Name             | Custom verb | HTTP verb | \u5907\u6ce8                                       |\\n| ----------------------- | ----------- | --------- | ------------------------------------------ |\\n| Cancel                  | :cancel     | POST      | \u53d6\u6d88\u4e00\u4e2a\u672a\u5b8c\u6210\u7684\u64cd\u4f5c (\u6784\u5efa,\u8ba1\u7b97 \u7b49)        |\\n| `BatchGet<plural noun>` | :batchGet   | GET       | \u6279\u91cf\u83b7\u53d6\u591a\u4e2a\u8d44\u6e90                           |\\n| Move                    | :move       | POST      | \u5c06\u8d44\u6e90\u4ece\u7236\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u5916\u4e00\u4e2a\u7236\u8282\u70b9         |\\n| Search                  | :search     | GET       | \u83b7\u53d6\u8d44\u6e90\u5217\u8868, \u4f46\u4e0d\u540c\u4e8e List \u8bed\u4e49           |\\n| Undelete                | :undelete   | POST      | \u6062\u590d\u4e00\u4e2a\u5df2\u5220\u9664\u7684\u8d44\u6e90. \u5efa\u8bae\u505a 30 \u5929\u7684\u4fdd\u7559\u671f |\\n\\n### \u6807\u51c6\u5b57\u6bb5\\n\\n| Name            | Type                  | Description                                                                                                                                        |\\n| --------------- | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |\\n| name            | string                | \u5305\u542b\u76f8\u5bf9\u8d44\u6e90\u540d                                                                                                                                     |\\n| parent          | string                | \u5bf9\u8d44\u6e90\u5b9a\u4e49\u548c List/Create \u8bf7\u6c42, \u8be5\u5b57\u6bb5\u8868\u793a\u76f8\u5bf9\u7684\u7236\u8282\u70b9\u8d44\u6e90\u540d                                                                                        |\\n| create_time     | Timestamp             | \u521b\u5efa\u65f6\u95f4                                                                                                                                           |\\n| update_time     | Timestamp             | \u6700\u540e\u4e00\u6b21\u66f4\u65b0\u65f6\u95f4, \u5728 create/patch/delete \u65f6\u66f4\u65b0                                                                                                    |\\n| delete_time     | Timestamp             | \u5220\u9664\u65f6\u95f4, \u5982\u679c\u652f\u6301\u8d44\u6e90\u4fdd\u7559                                                                                                                         |\\n| expire_time     | Timestamp             | \u8d85\u65f6\u65f6\u95f4                                                                                                                                           |\\n| start_time      | Timestamp             | \u5f00\u59cb\u65f6\u95f4                                                                                                                                           |\\n| end_time        | Timestamp             | \u7ed3\u675f\u65f6\u95f4 (\u4e0d\u7ba1\u662f\u5426\u6210\u529f)                                                                                                                            |\\n| time_zone       | string                | \u65f6\u533a\u540d. IANA TZ name, \u4f8b\u5982 \\"America/Los_Angeles\\", [\u65f6\u533a\u5217\u8868](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)                         |\\n| region_code     | string                | \u5730\u533a\u7684 Unicode country/region code (CLDR), \u4f8b\u5982 \\"US\\" and \\"419\\",[unicode_region_subtag](http://www.unicode.org/reports/tr35/#unicode_region_subtag) |\\n| language_code   | string                | BCP-47 \u8bed\u8a00\u7801, \u4f8b\u5982 \\"en-US\\". [Unicode locale identifier](http://www.unicode.org/reports/tr35/#Unicode_locale_identifier)                           |\\n| mime_type       | string                | IANA \u53d1\u5e03\u7684 MIME \u7c7b\u578b. [media-types](https://www.iana.org/assignments/media-types/media-types.xhtml)                                               |\\n| display_name    | string                | \u5b9e\u4f53\u7684\u663e\u793a\u540d\u5b57                                                                                                                                     |\\n| title           | string                | \u5b9e\u4f53\u7684\u5b98\u65b9\u540d\u5b57, \u4f8b\u5982\u516c\u53f8\u540d. \u4f5c\u4e3a\u6b63\u5f0f\u7684 display_name.                                                                                               |\\n| description     | string                | \u5b9e\u4f53\u63cf\u8ff0                                                                                                                                           |\\n| filter          | string                | List \u65b9\u6cd5\u7684\u6807\u51c6\u8fc7\u6ee4\u53c2\u6570                                                                                                                            |\\n| query           | string                | \u7b49\u540c\u4e8e List \u65b9\u6cd5\u7684 filter, \u4e0d\u8fc7\u7528\u4e8e Search                                                                                                         |\\n| page_token      | string                | List \u8bf7\u6c42\u7684\u5206\u9875\u7b26                                                                                                                                  |\\n| page_size       | int32                 | List \u8bf7\u6c42\u7684\u5206\u9875\u5927\u5c0f                                                                                                                                |\\n| total_size      | int32                 | \u603b\u6570                                                                                                                                               |\\n| next_page_token | string                | \u4e0b\u4e00\u9875\u7684\u5206\u9875\u7b26, \u5982\u679c\u4e3a\u7a7a\u5219\u8868\u793a\u6ca1\u6709\u66f4\u591a\u7ed3\u679c                                                                                                         |\\n| order_by        | string                | \u6307\u5b9a List \u8bf7\u6c42\u7684\u6392\u5e8f                                                                                                                               |\\n| request_id      | string                | \u7528\u4e8e\u68c0\u6d4b\u91cd\u590d\u8bf7\u6c42\u7684\u552f\u4e00\u6807\u8bc6\u7b26                                                                                                                       |\\n| resume_token    | string                | \u7528\u4e8e\u6062\u590d\u4e00\u4e2a\u6d41\u8bf7\u6c42\u7684\u4e0d\u900f\u660e\u6807\u8bc6\u7b26                                                                                                                   |\\n| labels          | `map<string, string>` | \u8d44\u6e90\u6807\u7b7e                                                                                                                                           |\\n| deleted         | bool                  | \u5982\u679c\u8d44\u6e90\u5141\u8bb8 undelete \u64cd\u4f5c, \u5219\u5e94\u8be5\u6709\u88ab\u5220\u9664\u6807\u793a                                                                                                     |\\n| show_deleted    | bool                  | \u5982\u679c\u8d44\u6e90\u5141\u8bb8 undelete \u64cd\u4f5c, \u76f8\u5e94\u7684 List \u64cd\u4f5c\u5e94\u8be5\u53ef\u4ee5\u6b7b\u6307\u5b9a\u663e\u793a\u5df2\u5220\u9664\u7684\u8d44\u6e90                                                                         |\\n| update_mask     | FieldMask             | \u7528\u4e8e Update \u5bf9\u8d44\u6e90\u8fdb\u884c\u90e8\u5206\u66f4\u65b0\u64cd\u4f5c. \u8be5\u5c5e\u76f8\u5bf9\u4e8e\u8d44\u6e90\u800c\u975e\u8bf7\u6c42\u6d88\u606f                                                                                     |\\n| validate_only   | bool                  | \u5982\u679c\u4e3a true, \u5219\u5e94\u8be5\u53ea\u9a8c\u8bc1\u8be5\u8bf7\u6c42, \u800c\u4e0d\u6267\u884c                                                                                                          |\\n\\n### \u9519\u8bef\\n\\n- \u9519\u8bef\u6a21\u578b [google.rpc.Status](https://github.com/googleapis/googleapis/blob/master/google/rpc/status.proto)\\n- \u9519\u8bef\u7801 [google.rpc.Code](https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto)\\n  - \u5355\u72ec\u7684\u63a5\u53e3\u5e94\u8be5\u907f\u514d\u5b9a\u4e49\u989d\u5916\u7684\u9519\u8bef\u7801, \u5982\u679c\u4e00\u4e2a\u63a5\u53e3\u9700\u8981\u5904\u7406\u4e09\u56db\u79cd\u9519\u8bef\u7801, \u90a3\u4e48\u4ee3\u7801\u5c06\u5927\u90e8\u5206\u90fd\u662f\u9519\u8bef\u5904\u7406\\n- \u9519\u8bef\u4fe1\u606f\\n  - \u4e0d\u8981\u5047\u8bbe\u7528\u6237\u975e\u5e38\u4e86\u89e3\u4f60\u7684\u63a5\u53e3\\n  - \u4e0d\u8981\u5047\u8bbe\u7528\u6237\u77e5\u9053\u4efb\u4f55\u670d\u52a1\u7684\u5b9e\u73b0\u76f8\u5173, \u6216\u8005\u4e86\u89e3\u9519\u8bef\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\\n  - \u5982\u679c\u53ef\u4ee5, \u9519\u8bef\u4fe1\u606f\u5e94\u8be5\u80fd\u88ab\u4e00\u4e2a\u6280\u672f\u4eba\u5458\u7406\u89e3\u5e76\u4e14\u4fee\u590d\u9519\u8bef\\n  - \u4fdd\u6301\u9519\u8bef\u4fe1\u606f\u7b80\u4ecb, \u5982\u679c\u53ef\u4ee5, \u53ef\u63d0\u4f9b\u4e00\u4e2a\u9519\u8bef\u94fe\u63a5\u4ee5\u4f9b\u63d0\u95ee\u6216\u53cd\u9988\\n- [google/rpc/error_details.proto](https://github.com/googleapis/googleapis/blob/master/google/rpc/error_details.proto)\\n  - \u5b9a\u4e49\u4e86\u5e38\u7528\u7684\u9519\u8bef\u8be6\u60c5\\n\\n```protobuf\\npackage google.rpc;\\n\\nmessage Status {\\n  // \u7b80\u5355\u7684\u9519\u8bef\u7801, \u5b9e\u9645\u7684\u9519\u8bef\u7801\u7531 `google.rpc.Code` \u5b9a\u4e49\\n  int32 code = 1;\\n\\n  // \u9762\u5411\u5f00\u53d1\u8005\u7684\u9519\u8bef\u4fe1\u606f. \u5e94\u8be5\u89e3\u91ca\u9519\u8bef\u539f\u56e0\u5e76\u63d0\u53ef\u64cd\u4f5c\u7684\u89e3\u51b3\u529e\u6cd5\\n  string message = 2;\\n\\n  // \u9644\u52a0\u7684\u9519\u8bef\u4fe1\u606f, \u4f8b\u5982\u91cd\u8bd5\u5ef6\u8fdf\u6216\u5e2e\u52a9\u94fe\u63a5\\n  repeated google.protobuf.Any details = 3;\\n}\\n```\\n\\n### \u540d\u79f0\u8f6c\u6362\\n\\n- \u9075\u5faa \u7b80\u4ecb, \u76f4\u89c2, \u4e00\u81f4 \u7684\u539f\u5219\\n- \u4ea7\u54c1\u540d\\n  - \u4ea7\u54c1\u7684\u8425\u9500\u540d\u79f0\\n  - \u5e94\u8be5\u4e0e \u63a5\u53e3, UI, \u6587\u6863, TOS, \u8d26\u5355, \u5408\u540c\u4fdd\u6301\u4e00\u81f4\\n  - \u5fc5\u987b\u4ee5 Google \u5f00\u5934, \u9664\u975e\u7531\u591a\u4e2a\u4ea7\u54c1\u4f7f\u7528, \u4f8b\u5982 Gmail, Youtube\\n  - \u5e94\u8be5\u7531\u4ea7\u54c1\u6216\u8425\u9500\u56e2\u961f\u51b3\u5b9a\\n- \u670d\u52a1\u540d\\n  - \u5e94\u8be5\u662f\u4e00\u4e2a\u5408\u6cd5\u7684 DNS \u540d\u5b57, \u53ef\u4ee5\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a\u6216\u591a\u4e2a\u7f51\u7edc\u5730\u5740\\n    - \u8c37\u6b4c\u63a5\u53e3\u7684\u670d\u52a1\u540d\u5747\u4e3a `xxx.googleapis.com`\\n    - \u4f8b\u5982 `calendar.googleapis.com`\\n  - \u5982\u679c API \u7531\u591a\u4e2a\u670d\u52a1\u7ec4\u6210, \u540d\u5b57\u5e94\u8be5\u5e2e\u52a9\u5176\u53d1\u73b0\u76f8\u5e94\u7684\u5176\u4ed6\u670d\u52a1, \u4f8b\u5982\u4f7f\u7528\u4e00\u4e2a\u7edf\u4e00\u7684\u524d\u7f00\\n    - \u4f8b\u5982 `build.googleapis.com` \u548c `buildresults.googleapis.com` \u540c\u5c5e\u4e8e Google Build API\\n- \u5305\u540d\\n  - \u5728 `.proto` \u4e2d\u5b9a\u4e49\u7684\u5305\u540d, \u5e94\u8be5\u5c3d\u91cf\u4e0e\u4ea7\u54c1\u548c\u670d\u52a1\u540d\u4fdd\u6301\u4f60\u4e00\u76f4\\n  - \u5982\u679c API \u6709\u7248\u672c, \u90a3\u4e48\u5305\u5fc5\u987b\u4ee5\u7248\u672c\u53f7\u4f5c\u4e3a\u7ed3\u675f\\n  - \u4e0d\u7531\u5177\u4f53\u670d\u52a1\u4f7f\u7528\u7684\u62bd\u8c61 API, \u5e94\u8be5\u4f7f\u7528\u4e0e\u4ea7\u54c1\u4e00\u81f4\u7684\u5305\u540d\\n    - `google.watcher.v1`\\n  - Java \u5305\u5fc5\u987b\u4e0e\u5305\u540d\u4e00\u76f4, \u53ea\u5728\u5176\u524d\u9762\u52a0\u76f8\u5e94\u524d\u7f00 (`com`.`net` \u7b49)\\n- \u96c6\u5408\u6807\u8bc6\u7b26\\n  - \u5e94\u8be5\u4f7f\u7528\u590d\u6570\u5f62\u5f0f\u548c\u9a7c\u5cf0\u547d\u540d\\n- \u63a5\u53e3\u540d\\n  - \u5373 `.proto` \u4e2d\u7684 `service`, \u907f\u514d\u4e0e\u670d\u52a1\u540d\u51b2\u7a81\\n  - \u53ef\u8ba4\u4e3a\u670d\u52a1\u540d\u662f\u4e00\u7ec4 API \u5b9e\u73b0\u7684\u5408\u96c6, \u800c\u63a5\u53e3\u662f API \u7684\u62bd\u8c61\u5b9a\u4e49\\n  - \u5e94\u8be5\u4f7f\u7528\u53ea\u7ba1\u7684\u540d\u5b57, \u4f8b\u5982 `Calendar` `Blob`\\n  - \u4e0d\u5e94\u8be5\u4f7f\u7528\u4e0e\u5df2\u6709\u7684\u6982\u5ff5\u4ea7\u751f\u51b2\u7a81, \u4f8b\u5982 `File`\\n  - \u5728\u6781\u7aef\u60c5\u51b5\u4e0b, \u907f\u514d\u4e0e\u5176\u4ed6 API \u51b2\u7a81, \u5e94\u8be5\u4f7f\u7528\u4e00\u4e2a\u540e\u7f00(`Api`,`Service`)\u6765\u907f\u514d\u6b67\u4e49\\n- \u65b9\u6cd5\u540d\\n  - \u5e94\u8be5\u4f7f\u7528 `VerbNoun` `\u52a8\u8bcd\u540d\u5b57` \u7684\u683c\u5f0f, \u5176\u4e2d\u7684\u6bcf\u6b21\u5e94\u8be5\u4e3a\u8d44\u6e90\u7c7b\u578b\\n  - \u52a8\u8bcd\u5e94\u8be5\u4f7f\u7528[\u7948\u4f7f\u8bed\u6c14](https://zh.wikipedia.org/wiki/\u7948\u4f7f\u8bed\u6c14), \u800c\u4e0d\u662f\u7591\u95ee\u8bed\u6c14\\n    - \u8868\u8fbe\u76f4\u63a5\u547d\u4ee4\u6216\u8bf7\u6c42\\n- \u6d88\u606f\u540d\\n  - \u5e94\u8be5\u4e0e\u65b9\u6cd5\u540d\u4e3a\u524d\u7f00, \u6dfb\u52a0 `Request` \u548c `Response` \u4f5c\u4e3a\u540e\u7f00, \u9664\u975e\\n    - \u6d88\u606f\u4e3a\u7a7a, google.protobuf.Empty\\n    - \u8d44\u6e90\u7c7b\u578b\\n    - \u8868\u793a\u4e00\u4e2a\u64cd\u4f5c\u7684\u8d44\u6e90\\n- \u679a\u4e3e\u540d\\n  - \u7c7b\u578b\u540d\u5fc5\u987b\u4e3a `UpperCamelCase`\\n  - \u503c\u540d\u5fc5\u987b\u4e3a `CAPITALIZED_NAMES_WITH_UNDERSCORES`\\n  - \u6bcf\u4e2a\u679a\u4e3e\u503c\u5fc5\u987b\u4ee5 `;` \u7ed3\u675f\\n  - \u7b2c\u4e00\u4e2a\u503c\u5e94\u8be5\u4e3a `ENUM_TYPE_UNSPECIFIED`, \u8868\u793a\u8be5\u503c\u672a\u88ab\u6307\u5b9a\\n- \u5b57\u6bb5\u540d\\n  - \u5b57\u6bb5\u540d\u5fc5\u987b\u4e3a `lower_case_underscore_separated_names`\\n  - \u5e94\u8be5\u907f\u514d\u4f7f\u7528[\u4ecb\u8bcd](https://zh.wikipedia.org/wiki/\u4ecb\u8bcd)\\n    - `reason_for_error` -> `error_reason`\\n    - `cpu_usage_at_time_of_failure` -> `failure_time_cpu_usage`\\n  - \u5e94\u8be5\u907f\u514d\u4f7f\u7528\u540e\u7f6e\u5f62\u5bb9\u8bcd [Postpositive adjective](https://en.wikipedia.org/wiki/Postpositive_adjective)\\n    - `items_collected` -> `collected_items`\\n    - `objects_imported` -> `imported_objects`\\n  - \u91cd\u590d\u5b57\u6bb5\u5e94\u8be5\u4f7f\u7528\u590d\u6570\u5f62\u5f0f\\n  - \u65f6\u95f4\u70b9\u548c\u6301\u7eed\u65f6\u95f4\\n    - \u4f7f\u7528 `google.protobuf.Timestamp` \u548c `google.protobuf.Duration`\\n    - \u4ee5 `_time` \u6216 `_duration` \u4f5c\u4e3a\u540e\u7f00\\n    - \u5982\u679c\u9700\u8981\u65f6\u95f4\u76f8\u5173\u7684\u540e\u7f00, \u5fc5\u987b\u9075\u5faa `xxx_{time|duration|delay|latency}_{seconds|millis|micros|nanos}` \u683c\u5f0f\\n    - \u5982\u679c\u4e0d\u5f97\u4e0d\u4f7f\u7528\u5b57\u7b26\u4e32\u683c\u5f0f, \u90a3\u4e48\u5e94\u8be5\u4f7f\u7528 RFC 3339 \u683c\u5f0f, \u4f8b\u5982 `2014-07-30T10:43:17Z`\\n  - \u65e5\u671f\u548c\u4e00\u5929\u4e2d\u7684\u65f6\u95f4\\n    - \u5e94\u8be5\u4f7f\u7528 `google.type.Date` \u548c `google.type.TimeOfDay`\\n    - \u5e94\u8be5\u4ee5 `_date` \u548c `_time` \u4f5c\u4e3a\u540e\u7f00\\n    - \u5982\u679c\u65e5\u671f\u4e0d\u5f97\u4e0d\u4f7f\u7528\u5b57\u7b26\u4e32\u5f62\u5f0f, \u5e94\u8be5\u4f7f\u7528 ISO 8601 \u65e5\u671f\u683c\u5f0f `YYYY-MM-DD` \u4f8b\u5982 `2014-07-30`\\n    - \u5982\u679c\u65f6\u95f4\u4e0d\u5f97\u4e0d\u4f7f\u7528\u5b57\u7b26\u4e32\u5f62\u5f0f, \u5e94\u8be5\u4f7f\u7528 ISO 8601 24 \u5c0f\u65f6\u7684\u4e8b\u4ef6\u683c\u5f0f, `HH:MM:SS[.FFF]` \u4f8b\u5982 `14:55:01.672`\\n  - \u6570\u91cf\\n    - \u6bd4\u5305\u542b\u6d4b\u91cf\u5355\u4f4d\\n      - `xxx_{bytes|width_pixels|meters}`\\n    - \u5982\u679c\u662f\u9879\u76ee\u7684\u6570\u91cf, \u5e94\u8be5\u4ee5 `_count` \u4f5c\u4e3a\u540e\u7f00\\n  - List \u8fc7\u6ee4\u5b57\u6bb5\u5e94\u8be5\u4f7f\u7528 `filter`\\n  - List \u54cd\u5e94\\n    - \u8fd4\u56de\u7684\u8d44\u6e90\u5b57\u6bb5\u5fc5\u987b\u662f\u590d\u6570\u5f62\u5f0f\\n- \u540d\u5b57\u7f29\u5199\\n  - \u5728\u63a5\u53e3\u5b9a\u4e49\u65f6\u5e94\u8be5\u4f7f\u7528\u5e38\u89c1\u7684\u7f29\u5199, \u5728\u6587\u6863\u4e2d\u5e94\u8be5\u4f7f\u7528\u6807\u51c6\u683c\u5f0f\\n    - config (configuration)\\n    - id (identifier)\\n    - spec (specification)\\n    - stats (statistics)\\n\\n| API Name | Example                            |\\n| -------- | ---------------------------------- |\\n| \u4ea7\u54c1\u540d   | Google Calendar API                |\\n| \u670d\u52a1\u540d   | calendar.googleapis.com            |\\n| \u5305\u540d     | google.calendar.v3                 |\\n| \u63a5\u53e3\u540d   | google.calendar.v3.CalendarService |\\n| \u6e90\u7801\u76ee\u5f55 | //google/calendar/v3               |\\n| API \u540d   | calendar                           |\\n\\n**\u65b9\u6cd5\u540d**\\n\\n| Verb   | Noun | Method name | Request message   | Response message      |\\n| ------ | ---- | ----------- | ----------------- | --------------------- |\\n| List   | Book | ListBooks   | ListBooksRequest  | ListBooksResponse     |\\n| Get    | Book | GetBook     | GetBookRequest    | Book                  |\\n| Create | Book | CreateBook  | CreateBookRequest | Book                  |\\n| Update | Book | UpdateBook  | UpdateBookRequest | Book                  |\\n| Rename | Book | RenameBook  | RenameBookRequest | RenameBookResponse    |\\n| Delete | Book | DeleteBook  | DeleteBookRequest | google.protobuf.Empty |\\n\\n### \u7248\u672c\\n\\n- `MAJOR.MINOR.PATCH`\\n  - MAJOR \u63a5\u53e3\u4e0d\u517c\u5bb9\\n  - MINOR \u6dfb\u52a0\u65b0\u7684\u529f\u80fd\\n  - PATCH \u95ee\u9898\u4fee\u6b63\\n\\n| Version   | Proto Package | Description                                     |\\n| --------- | ------------- | ----------------------------------------------- |\\n| v1alpha   | v1alpha1      | The v1 alpha release.                           |\\n| v1beta1   | v1beta1       | The v1 beta 1 release.                          |\\n| v1beta2   | v1beta2       | The second beta release of v1.                  |\\n| v1test    | v1test        | An internal test release with dummy data.       |\\n| v1        | v1            | The v1 major version, general availability.     |\\n| v1.1beta1 | v1p1beta1     | The first beta release for minor changes to v1. |\\n| v1.1      | v1            | The minor update to v1.1 release.               |\\n| v2beta1   | v2beta1       | The v2 beta 1 release.                          |\\n| v2        | v2            | The v2 major version, general availability.     |"},{"id":"redis-stream-intro","metadata":{"permalink":"/story/redis-stream-intro","editUrl":"https://github.com/wenerme/wener/edit/master/story/2018/2018-10-25-redis-stream-intro.md","source":"@site/story/2018/2018-10-25-redis-stream-intro.md","title":"Redis \u6d41\u7b80\u4ecb","description":"\u6982\u8ff0","date":"2022-02-21T07:56:38.110Z","formattedDate":"February 21, 2022","tags":[{"label":"Java","permalink":"/story/tags/java"},{"label":"\u963f\u91cc","permalink":"/story/tags/\u963f\u91cc"},{"label":"Redis","permalink":"/story/tags/redis"}],"readingTime":12.57,"truncated":true,"authors":[],"prevItem":{"title":"Google API Design Guide","permalink":"/story/google-api-design-guide"},"nextItem":{"title":"Wener\'s APIs","permalink":"/story/wener-apis"}},"content":"## \u6982\u8ff0\\n\\n\u5bf9 Redis \u7684\u5370\u8c61\u53ef\u80fd\u5f88\u591a\u4eba\u90fd\u8fd8\u53ea\u505c\u7559\u5728 2.8 \u7684\u9636\u6bb5\uff0c\u4e00\u4e2a\u7ed3\u6784\u5316\u7684\u5185\u5b58\u5b58\u50a8\uff08\u55ef\uff0c\u597d\u50cf\u4e5f\u6ca1\u4ec0\u4e48\u95ee\u9898\uff09\u3002\u867d\u7136\u8ddd\u79bb 4.0 \u53d1\u5e03(2017.7.14)\u5df2\u7ecf\u4e00\u5e74\u8fc7\u53bb\u4e86\uff0c\u4f46\u76f8\u4fe1\u5f88\u591a\u4eba\u5df2\u7ecf\u4e0d\u518d\u53bb\u5173\u5fc3 Redis \u7684\u65b0\u7279\u6027\u4e86\uff0c\u56e0\u4e3a\u4ece 2.8 \u540e\u7684 Redis \u5df2\u7ecf\u8db3\u591f\u597d\u7528\u4e86\u3002\ud83d\ude04\\n\\nRedis 3.0 \u6dfb\u52a0\u4e86\u96c6\u7fa4\u7684\u80fd\u529b\uff0c4.0 \u6dfb\u52a0\u4e86\u6a21\u5757\u5316\u80fd\u529b\uff0c5.0 \u6dfb\u52a0\u4e86\u6d41\u7c7b\u578b\u3002\u5982\u679c\u8bf4 3.0 \u548c 4.0 \u6dfb\u52a0\u7684\u65b0\u7279\u6027\u5bf9\u4e8e\u4e00\u822c\u7528\u6237\u6765\u8bf4\u65e0\u8db3\u8f7b\u91cd\uff0c\u90a3 5.0 \u65b0\u7684\u6d41\u7c7b\u578b\u5c31\u4e0d\u53ef\u5ffd\u89c6\u5566\uff01\\n\\n\u5728\u6ca1\u6709 Stream \u7c7b\u578b\u4e4b\u524d\uff0c\u5176\u5b9e Redis \u4e5f\u652f\u6301\u5404\u79cd\u7c7b\u4f3c\u4e8e\u6d41\u7684\u5904\u7406\u6a21\u5f0f\uff0c\u4f8b\u5982 Fire and forget \u6a21\u5f0f\u7684 Pub/Sub\uff0c\u963b\u585e\u961f\u5217 BLPOP\uff0c\u65f6\u95f4\u5e8f\u5217 zsort \u5b58\u50a8\uff0c\u7b49\u5404\u79cd\u65b9\u5f0f\u90fd\u80fd\u6a21\u62df\u7c7b\u4f3c\u7684\u573a\u666f\uff0c\u4f46\u5374\u90fd\u89c9\u5f97\u6709\u70b9\u6b20\u7f3a\uff0c\u7ec8\u4e8e\uff0c\u6d41\u7c7b\u578b\u6210\u529f\u7684\u89e3\u51b3\u4e86\u4ee5\u4e0a\u6240\u6709\u95ee\u9898\uff0c\u5e76\u80fd\u652f\u6301\u5176\u4ed6\u7684\u5e38\u89c1\u4f7f\u7528\u573a\u666f\u3002\\n\\n\u8bf4\u5230\u6d41\u6d88\u606f\u5c31\u4e0d\u5f97\u4e0d\u8bf4\u5230 Kafka \u5566\uff0c\u6211\u76f8\u4fe1\u5927\u5bb6\u5e94\u8be5\u90fd\u542c\u8bf4\u8fc7\u6d88\u606f\u4e2d\u95f4\u4ef6 Kafka\uff0c\u81f3\u4e8e RocketMQ \u6216\u8005 MetaQ \u5c31\u4e0d\u518d\u8d58\u8ff0\u4ed6\u4eec\u4e0e Kafka \u7684\u5173\u7cfb\u5566\uff0cRedis \u4f5c\u8005\u5728\u5b9e\u73b0\u6d41\u7c7b\u578b\u65f6\u5927\u91cf\u53c2\u8003\u4e86 Kafka \u4e2d\u7684\u6982\u5ff5\uff0c\u4f8b\u5982\u6d88\u8d39\u6a21\u578b\uff0c\u6d41\u6d88\u606f\u7684\u6982\u5ff5\u3002\u5f53\u7136\u6240\u6709\u7684\u53c2\u8003\u53ea\u5c40\u9650\u4e8e Kafka \u7684\u6587\u6863\uff0c\u4e0e Kafka \u7684\u4ee3\u7801\u5b9e\u73b0\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u54e6\u3002\\n\\n\u5fc3\u52a8\u4e0d\u5982\u5fc3\u52a8\uff0c\u90a3\u5148\u4e00\u7779\u4e3a\u5feb\u5427\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u73af\u5883\u51c6\u5907\\n\\n\u5982\u679c\u4f60\u662f macOs \u7528\u6237\uff0c\u5e76\u4e14\u5b89\u88c5\u4e86 brew\uff08\u5982\u679c\u6ca1\u6709\u5b89\u88c5\uff0c\u90a3\u5efa\u8bae\u5148\u5b89\u88c5 `/usr/bin/ruby -e \\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\\"`\uff09\uff0c\u90a3\u4e48\u53ea\u9700\u8981\\n\\n```bash\\nbrew install redis\\n```\\n\\n\u5373\u53ef\uff0c\u5982\u679c\u4f60\u662f\u975e macOs \u7528\u6237\uff0c\u90a3\u8981\u561b\u8003\u8651\u6362 mac\uff0c\u8981\u561b\u4f7f\u7528 docker \u542f\u52a8\\n\\n```bash\\ndocker run --rm -it -p 6379:6379 -v $PWD:/data --name redis redis:alpine\\n# \u9898\u5916\u8bdd: \u4f7f\u7528 alpine \u66f4\u5c0f\u66f4\u7701\u5fc3\uff0c\u5f3a\u70c8\u63a8\u8350\uff0c\u6709\u4efb\u4f55\u4f7f\u7528\u95ee\u9898\u90fd\u53ef\u4ee5\u4ea4\u6d41\u54e6\uff0c\u81f3\u4e8e\u6709\u591a\u597d\uff0c\u5728\u8fd9\u91cc\u6015\u662f\u8bf4\u4e0d\u5b8c\u3002\\n\\n# \u9a8c\u8bc1\u5b89\u88c5\u7684\u7248\u672c\\ndocker exec redis redis-cli info server\\n# \u5ba2\u6237\u7aef\u94fe\u63a5\\ndocker exec -it redis redis-cli\\n```\\n\\n\u4e00\u5207\u51c6\u5907\u5c31\u7eea\uff0c\u5c31\u5f00\u59cb\u5b9e\u8df5\u5427\u3002\u65e2\u7136\u6d41\u662f\u65b0\u7684\u6570\u636e\u7c7b\u578b\uff0c\u90a3\u6211\u4eec\u5c31\u5148\u4ece\u652f\u6301\u7684\u64cd\u4f5c\u5f00\u59cb\u5427\u3002\\n\\n## \u547d\u4ee4\u5217\u8868\\n\\nStream \u7c7b\u578b\u4e00\u5171\u652f\u6301 13 \u4e2a[\u547d\u4ee4](https://redis.io/commands#stream)\uff0c\u8fd9\u91cc\u7b80\u5355\u5217\u4e3e\u4e00\u4e0b\u652f\u6301\u7684\u547d\u4ee4\u3002\\n\\n| \u547d\u4ee4       | \u529f\u80fd\u6982\u8ff0                                         |\\n| ---------- | ------------------------------------------------ |\\n| xinfo      | \u83b7\u53d6\u6d88\u8d39\u8005\uff0c\u5206\u7ec4\u548c\u6d41\u4fe1\u606f                         |\\n| xadd       | \u6dfb\u52a0\u6d88\u606f\u5230\u6d41                                     |\\n| xtrim      | \u5c06\u6d41\u91cd\u7f6e\u4e3a\u6307\u5b9a\u5927\u5c0f                               |\\n| xdel       | \u901a\u8fc7 ID \u5220\u9664                                     |\\n| xrange     | \u8fd4\u56de\u8303\u56f4\u5185\u7684\u6d88\u606f\uff0c\u7279\u6b8a\u8d77\u59cb + -                   |\\n| xrevrange  | \u4e0e xrange \u76f8\u540c\uff0c\u4f46\u8fd4\u56de\u987a\u5e8f\u76f8\u53cd                   |\\n| xlen       | \u83b7\u53d6\u6d41\u957f\u5ea6                                       |\\n| xread      | \u4ece\u6d41\u4e2d\u6307\u5b9a id \u5f00\u59cb\u8bfb\u53d6\u6307\u5b9a\u91cf\u6d88\u606f\uff0c\u53ef\u9009\u62e9\u963b\u585e\u8fd4\u56de |\\n| xgroup     | \u7ba1\u7406\u6d88\u8d39\u7ec4                                       |\\n| xreadgroup | \u4ee5\u8ba2\u9605\u7ec4\u6210\u5458\u7684\u8eab\u4efd\u8bfb\u53d6\u6d41\u6d88\u606f - \u5373\u8ba2\u9605/\u6d88\u8d39\u6d88\u606f   |\\n| xack       | \u54cd\u5e94\u6d88\u606f\u88ab\u6b63\u786e\u5904\u7406                               |\\n| xpending   | \u67e5\u8be2\u6b63\u5728\u5904\u7406\u4e2d\u7684\u6d88\u606f - \u5c1a\u672a ACK \u7684\u6d88\u606f           |\\n| xclaim     | \u83b7\u53d6\u6b63\u5728\u5904\u7406\u4e2d\u7684\u6d88\u606f                             |\\n\\n\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u7b80\u5355\u6982\u8ff0\u4e00\u4e0b\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9700\u8981\u6ce8\u610f\u7684\u70b9\\n\\n1. \u6d41\u6d88\u606f\u5185\u5bb9\u662f\u5b57\u5178 - \u5373 KV \u7ed3\u6784\\n2. \u6bcf\u4e2a\u6d88\u606f\u6709\u4e00\u4e2a ID - 128bit - \u7531\u65f6\u95f4\u6233\u548c\u5e8f\u5217\u53f7\u7ec4\u6210\\n3. \u63d2\u5165\u6d88\u606f\u65f6\u4f7f\u7528 `*` \u4f5c\u4e3a ID \u5219\u662f\u7531\u670d\u52a1\u7aef\u751f\u6210 ID\\n4. ID \u5fc5\u987b\u9012\u589e\\n5. `-`/`+` \u5206\u522b\u8868\u793a\u6700\u5c0f\u548c\u6700\u5927\u6d88\u606f ID\\n6. `$` \u8868\u793a\u6700\u65b0\u7684\u6d88\u606f\u4f4d\u7f6e\uff0c\u5728\u521b\u5efa\u6d88\u8d39\u7ec4\u65f6\u4f7f\u7528\\n7. `>` \u8868\u793a\u6700\u65b0\u6d88\u8d39\u7684\u6d88\u606f\u4f4d\u7f6e\uff0c\u5728\u6d88\u8d39\u6d88\u606f\u65f6\u4f7f\u7528\\n\\n## \u547d\u4ee4\u4ea4\u4e92\\n\\n```bash\\n# \u5f80\u6d41\u4e2d\u6dfb\u52a0\u6d88\u606f - \u4f1a\u8fd4\u56de\u6d88\u606f ID\\n# \u624b\u52a8\u6307\u5b9a ID\\nxadd s 1-0 name wener age 18\\nxadd s 1-1 name wen age 17\\n# \u7531\u670d\u52a1\u7aef\u751f\u6210\u6d88\u606f ID\\nxadd s * name xx age 16\\n# \u8fd4\u56de\u6240\u6709\u6d88\u606f\\nxrange s - +\\n# \u8fd4\u56de\u7b2c\u4e00\u6761\\nxrange s - + count 1\\n# \u8fd4\u56de\u6700\u540e\u4e00\u6761\\nxrevrange s + - count 1\\n# \u8fd4\u56de\u6d88\u606f\u957f\u5ea6\\nxlen s\\n\\n# \u8bfb\u7b2c\u4e00\u6761\u6d88\u606f\\nxread count 1 streams s1 0-0\\n# \u8bfb\u53d6\u7b2c\u4e8c\u6761 - \u6307\u5b9a\u7684\u6d88\u606f ID \u662f 1-0 \uff0c\u4f1a\u8fd4\u56de\u8fd9\u4e2a ID \u4e4b\u540e\u7684\u6d88\u606f\\nxread count 1 streams s1 1-0\\n\\n# \u6a21\u62df\u6d88\u606f\u7684 Roling \u5904\u7406\\n# ------\\ndel s\\n# \u5728\u63d2\u5165\u6d88\u606f\u65f6\uff0c\u53ef\u9650\u5236\u6d88\u606f\u7684\u6700\u5927\u957f\u5ea6\uff0c\u7c7b\u4f3c\u4e8e rolling \u65e5\u5fd7\u6587\u4ef6\u7684\u903b\u8f91\\n# \u903b\u8f91\u7b49\u540c\u4e8e\u5148 add \u518d trim\\n# \u63d2\u5165\u65f6\u9650\u5236\u6700\u5927\u957f\u5ea6 2\\nxadd s MAXLEN 2 * ts 1\\nxadd s MAXLEN 2 * ts 2\\nxadd s MAXLEN 2 * ts 3\\nxadd s MAXLEN 2 * ts 4\\n# \u6d41\u4e2d\u53ea\u4f1a\u6709 3 4 \u8fd9\u4e24\u6761\u6d88\u606f\\nxrange s - +\\n\\n# \u6d88\u8d39\u7ec4\\n# ======\\n# \u91cd\u7f6e\u6d41\u5185\u5bb9\\ndel s\\n# \u521b\u5efa\u6d88\u8d39\u7ec4 g1 \u5e76\u5c06\u6d88\u8d39\u4f4d\u7f6e\u7f6e\u4e3a\u6700\u65b0\u6d88\u606f\u4f4d\u7f6e $\\n# \u56e0\u4e3a s \u4e0d\u5b58\u5728\uff0c\u6307\u5b9a MKSTREAM \u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u6d41 s\\nxgroup create s g1 $ MKSTREAM\\n# \u6dfb\u52a0\u65b0\u7684\u6d88\u606f\\nxadd s 1-1 name zz age 16\\n# \u4f1a\u8fd4\u56de\u6700\u65b0\u63d2\u5165\u7684\u6d88\u606f\uff0c\u5f53\u524d\u6d88\u8d39\u8005\u4e3a c1\\nxreadgroup group g1 c1 count 1 streams s >\\n# \u5f53\u6d88\u606f\u5904\u7406\u5b8c\u6210\u540e\u5bf9\u670d\u52a1\u7aef\u8fdb\u884c\u54cd\u5e94\\nxack s g1 1-1\\n\\n# \u6a21\u62df\u6d88\u606f\u5904\u7406\u5931\u8d25\u573a\u666f\\n# ------\\n# \u6dfb\u52a0\u65b0\u7684\u6d88\u606f\\nxadd s 1-2 name aa age 16\\n# \u7531 c2 \u6d88\u8d39\\nxreadgroup group g1 c2 count 1 streams s >\\n# \u4f46\u5728\u5904\u7406\u8fc7\u7a0b\u4e2d\u5f02\u5e38\uff0c\u672a ACK\uff0c\u6b64\u65f6\u901a\u8fc7 pending \u67e5\u770b c2 \u5806\u79ef\u7684\u6d88\u606f\\nxpending s g1 - + 1 c2\\n# c1 \u6709\u80fd\u529b\u5904\u7406\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06 c2 \u5904\u7406\u5931\u8d25\u7684\u6d88\u606f\u62ff\u8fc7\u6765\u5904\u7406\\n# retrycount \u7531\u5e94\u7528\u81ea\u5df1\u7ef4\u62a4\uff0c\u8bb0\u5f55\u91cd\u8bd5\u6b21\u6570\\n# 500 \u4e3a\u8868\u793a\u8be5\u6d88\u606f\u7684\u5904\u7406\u65f6\u95f4\u8d85\u8fc7 500ms \u624d\u80fd\u201c\u62ff\u201d\u8fc7\u6765\\nxclaim s g1 c1 500 1-2 retrycount 2\\n# c1 \u6210\u529f\u5904\u7406\u8be5\u6d88\u606f\\nxack s g1 1-2\\n```\\n\\nStream \u7684\u64cd\u4f5c\u76f8\u5f53\u7b80\u4ecb\uff0c\u80fd\u5b9e\u73b0\u4ec0\u4e48\u6837\u7684\u529f\u80fd\u4e3b\u8981\u53d6\u51b3\u4e8e\u4e1a\u52a1\u7684\u8bbe\u8ba1\u3002\u4f7f\u7528 cli \u5b8c\u6210\u4e86\u57fa\u672c\u7684\u64cd\u4f5c\u518d\u6765\u770b\u770b Java \u7684\u64cd\u4f5c\u5427\u3002\\n\\n## Java \u4ea4\u4e92\\n\\n[lettuce](https://github.com/lettuce-io/lettuce-core) \u662f\u4e00\u4e2a\u57fa\u4e8e Netty \u7684\u5f02\u6b65 Redis \u5ba2\u6237\u7aef\uff0c\u5728\u6700\u65b0\u7248\u4e2d\u652f\u6301\u4e86 Stream \u7684\u64cd\u4f5c\u3002\\n\\n**\u751f\u4ea7\u548c\u6d88\u8d39**\\n\\n```java\\npublic void stream() throws InterruptedException {\\n    RedisClient client = RedisClient.create(\\"redis://localhost\\");\\n    StatefulRedisConnection<String, String> connection = client.connect();\\n    // \u6d41\u7684\u540d\u5b57\\n    String streamName = \\"s\\";\\n    // \u6d88\u8d39\u7ec4\u540d\\n    String groupName = \\"g1\\";\\n\\n    AtomicInteger counter = new AtomicInteger();\\n    // \u603b\u6d88\u606f\u91cf\\n    long total = 1000000;\\n    // \u5e76\u53d1\u751f\u4ea7\\n    int producerCount = 2;\\n    // \u5e76\u53d1\u6d88\u8d39\\n    int consumerCount = 4;\\n    for (int i = 0; i < producerCount; i++) {\\n        int id = i;\\n        CompletableFuture.runAsync(() -> {\\n            String name = \\"producer.\\" + id;\\n            StatefulRedisConnection<String, String> connect = client.connect();\\n            while (true) {\\n                int n = counter.incrementAndGet();\\n                if (n > total) {\\n                    return;\\n                }\\n                // \u540c\u6b65\u751f\u4ea7\\n                Timer.Context context = metrics.timer(name).time();\\n                connect\\n                        .sync()\\n                        .xadd(streamName, \\"ts\\", String.valueOf(System.currentTimeMillis()), \\"i\\", String.valueOf(n))\\n                ;\\n                context.close();\\n            }\\n        });\\n    }\\n\\n    for (int i = 0; i < consumerCount; i++) {\\n        StatefulRedisConnection<String, String> connect = client.connect();\\n\\n        // \u6d88\u8d39\u7684\u4e0a\u4e0b\u6587\\n        ConsumerContext c = new ConsumerContext();\\n        c\\n                .setConnection(connect)\\n                .setConsumer(Consumer.from(groupName, \\"c\\" + i))\\n                .setStreamName(streamName)\\n                .setGroupName(groupName)\\n                .setName(\\"consumer.\\" + i)\\n                .setXReadArgs(XReadArgs.Builder.block(Duration.ofSeconds(5)))\\n                .setXreadLastOffset(XReadArgs.StreamOffset.lastConsumed(streamName))\\n        ;\\n        // \u5f02\u6b65\u6d88\u8d39\\n        consume(c);\\n    }\\n\\n    Thread.sleep(Duration.ofMinutes(10).toMillis());\\n}\\n\\n\\nprivate CompletionStage<?> consume(ConsumerContext c) {\\n    Timer.Context context = metrics.timer(c.name).time();\\n    return c.connection\\n            .async()\\n            .xreadgroup(c.consumer, c.xReadArgs, c.xreadLastOffset)\\n            // \u6d88\u606f\u5904\u7406\\n            .thenCompose(v -> {\\n                context.close();\\n                if (v.isEmpty()) {\\n                    metrics.meter(c.name + \\".empty\\").mark();\\n                    return CompletableFuture.completedFuture(null);\\n                }\\n                StreamMessage<String, String> message = v.get(0);\\n\\n                // \u8f93\u51fa\u4e00\u5b9a\u65e5\u5fd7\u91cf\\n                if (ThreadLocalRandom.current().nextDouble() < 0.01) {\\n                    log.info(\\"[{}] {}\\", c.name, message.getBody());\\n                }\\n\\n                // \u6210\u529f\u5904\u7406\\n                return c.connection.async().xack(c.streamName, c.groupName, message.getId());\\n            })\\n            // \u5f02\u5e38\u5904\u7406\\n            .exceptionally(e -> {\\n                metrics.meter(c.name + \\".error\\").mark();\\n                return null;\\n            })\\n            // \u5faa\u73af - \u6ca1\u6709\u63a8\u51fa\u903b\u8f91\\n            .thenCompose((v) -> consume(c));\\n}\\n\\n\\n@Data\\n@Accessors(chain = true)\\npublic static class ConsumerContext {\\n    String name;\\n    String streamName;\\n    String groupName;\\n    Consumer<String> consumer;\\n\\n    StatefulRedisConnection<String, String> connection;\\n\\n    XReadArgs.StreamOffset<String> xreadLastOffset;\\n\\n    XReadArgs xReadArgs;\\n}\\n```\\n\\n**\u5904\u7406\u672a\u6210\u529f\u7684\u6d88\u606f**\\n\\n\u540c\u6b65\u64cd\u4f5c\uff0c\u903b\u8f91\u76f8\u5bf9\u6e05\u6670\\n\\n```java\\npublic void testClaimPendingSingleThreadSync() {\\n    RedisClient client = RedisClient.create(\\"redis://localhost\\");\\n    StatefulRedisConnection<String, String> connection = client.connect();\\n    String streamName = \\"s\\";\\n    String groupName = \\"g1\\";\\n\\n    RedisCommands<String, String> sync = connection.sync();\\n    Consumer<String> consumer = Consumer.from(groupName, \\"c1\\");\\n    Range<String> fullRange = Range.create(\\"-\\", \\"+\\");\\n\\n    while (true) {\\n        try (Timer.Context ignored = metrics.timer(consumer.getName() + \\".pending\\").time()) {\\n            PendingResult result = PendingResult.of(sync.xpending(streamName, consumer, fullRange, Limit.from(1)));\\n\\n            if (!result.hasPending()) {\\n                break;\\n            }\\n\\n            List<StreamMessage<String, String>> list = sync.xclaim(\\n                    streamName,\\n                    consumer,\\n                    new XClaimArgs().minIdleTime(500).retryCount(result.getDeliverCount() + 1),\\n                    result.getMessageId()\\n            );\\n            if (list.isEmpty()) {\\n                continue;\\n            }\\n            StreamMessage<String, String> message = list.get(0);\\n            if (ThreadLocalRandom.current().nextDouble() < 0.001) {\\n                log.info(\\"[{}] {}\\", consumer.getName(), message.getBody());\\n            }\\n            sync.xack(streamName, groupName, message.getId());\\n        }\\n    }\\n}\\n\\n/**\\n * Pending \u8fd4\u56de\u7684\u7ed3\u679c\u5904\u7406\\n */\\ninterface PendingResult {\\n    static PendingResult of(List<Object> v) {\\n        return () -> v;\\n    }\\n\\n    List<Object> getResult();\\n\\n    default boolean hasPending() {\\n        List<Object> result = getResult();\\n        if (result != null && !result.isEmpty()) {\\n            List list = (List) result.get(0);\\n            return !list.isEmpty() && list.get(0) != null;\\n        }\\n        return false;\\n    }\\n\\n    default String getMessageId() {\\n        return String.valueOf(((List) getResult().get(0)).get(0));\\n    }\\n\\n    default String getConsumer() {\\n        return String.valueOf(((List) getResult().get(0)).get(1));\\n    }\\n\\n    default long getElapseTime() {\\n        return ((Number) ((List) getResult().get(0)).get(2)).longValue();\\n    }\\n\\n    default long getDeliverCount() {\\n        return ((Number) ((List) getResult().get(0)).get(3)).longValue();\\n    }\\n}\\n\\n```\\n\\n\u67d0\u6b21\u7684\u6027\u80fd\u7edf\u8ba1\\n\\n```\\nJava CPU 70%\\nc1.pending\\n             count = 769903\\n         mean rate = 3360.66 calls/second\\n     1-minute rate = 3267.08 calls/second\\n     5-minute rate = 2855.18 calls/second\\n    15-minute rate = 2538.15 calls/second\\n               min = 0.22 milliseconds\\n               max = 1.80 milliseconds\\n              mean = 0.30 milliseconds\\n            stddev = 0.13 milliseconds\\n            median = 0.26 milliseconds\\n              75% <= 0.32 milliseconds\\n              95% <= 0.49 milliseconds\\n              98% <= 0.65 milliseconds\\n              99% <= 0.88 milliseconds\\n            99.9% <= 1.66 milliseconds\\n```\\n\\n**\u5904\u7406\u672a\u6210\u529f\u7684\u6d88\u606f**\\n\\n\u5f02\u6b65\u64cd\u4f5c\uff0c\u903b\u8f91\u76f8\u5bf9\u4e0d\u90a3\u4e48\u6e05\u6670\uff5e\\n\\n```java\\npublic void testClaimPendingSingleThreadAsync() throws ExecutionException, InterruptedException {\\n    RedisClient client = RedisClient.create(\\"redis://localhost\\");\\n    StatefulRedisConnection<String, String> connection = client.connect();\\n    String streamName = \\"s\\";\\n    String groupName = \\"g1\\";\\n\\n    RedisAsyncCommands<String, String> async = connection.async();\\n    Consumer<String> consumer = Consumer.from(groupName, \\"c2\\");\\n    Range<String> fullRange = Range.create(\\"-\\", \\"+\\");\\n\\n    AtomicReference<Supplier<CompletionStage<?>>> process = new AtomicReference<>();\\n    AtomicReference<Timer.Context> context = new AtomicReference<>();\\n    // \u4e00\u6b21\u5904\u7406\\n    process.set(() -> {\\n        context.set(metrics.timer(consumer.getName() + \\".process\\").time());\\n        return async\\n                .xpending(streamName, consumer, fullRange, Limit.from(1))\\n                .thenCompose(v -> {\\n                    PendingResult result = PendingResult.of(v);\\n                    if (!result.hasPending()) {\\n                        throw new RuntimeException(\\"DONE\\");\\n                    }\\n\\n                    return async.xclaim(\\n                            streamName,\\n                            consumer,\\n                            new XClaimArgs().minIdleTime(500).retryCount(result.getDeliverCount() + 1),\\n                            result.getMessageId()\\n                    );\\n                })\\n                .thenCompose(list -> {\\n                    StreamMessage<String, String> message = list.get(0);\\n                    if (ThreadLocalRandom.current().nextDouble() < 0.001) {\\n                        log.info(\\"[{}] {}\\", consumer.getName(), message.getBody());\\n                    }\\n                    return async.xack(streamName, groupName, message.getId());\\n                })\\n                .thenCompose(v -> {\\n                    context.get().close();\\n                    return process.get().get();\\n                });\\n    });\\n    // \u5faa\u73af\\n    process.get()\\n            .get()\\n            .whenComplete((v, e) -> {\\n                if (e != null) {\\n                    e.printStackTrace();\\n                }\\n                log.info(\\"Complete\\");\\n            })\\n            .toCompletableFuture()\\n            .get();\\n}\\n```\\n\\n\u4f46\u6027\u80fd\u4f1a\u6bd4\u540c\u6b65\u64cd\u4f5c\u7684\u6027\u80fd\u8981\u597d\u5462\uff0cJava \u7684 CPU \u4e5f\u6bd4\u540c\u6b65\u7684\u66f4\u4f4e\\n\\n```\\nJava CPU 50%\\nredis-server CPU 50%\\nc2.process\\n            count = 879207\\n        mean rate = 5145.76 calls/second\\n    1-minute rate = 5128.23 calls/second\\n    5-minute rate = 3779.55 calls/second\\n15-minute rate = 3132.92 calls/second\\n            min = 0.14 milliseconds\\n            max = 0.81 milliseconds\\n            mean = 0.18 milliseconds\\n        stddev = 0.06 milliseconds\\n        median = 0.16 milliseconds\\n            75% <= 0.19 milliseconds\\n            95% <= 0.29 milliseconds\\n            98% <= 0.34 milliseconds\\n            99% <= 0.40 milliseconds\\n        99.9% <= 0.81 milliseconds\\n```\\n\\n## \u603b\u7ed3\\n\\n\u5f53\u4ec0\u4e48\u65f6\u5019\u9009\u62e9 Redis \u7684\u6d41\u5462\uff1f\\n\\n1. \u5185\u5b58\u5b58\u50a8\u6ee1\u8db3\u9700\u6c42\\n2. \u901f\u5ea6\u8981\u6c42\u9ad8\\n3. \u80fd\u63a5\u6536 Redis \u7684\u6301\u4e45\u5316\u4fdd\u969c - \uff08\u4fdd\u969c\u662f\u4e0d\u4e00\u5b9a\u6301\u4e45 \ud83d\ude04\uff09\\n\\n\u5408\u7406\u7684\u5e94\u7528\u4e5f\u662f\u9700\u8981\u5408\u7406\u7684\u573a\u666f\u3002\\n\\n\u6d41\u603b\u7684\u6765\u8bf4\u8fd8\u662f\u5f88\u4e0d\u9519\u7684\uff0c\u8fd8\u6709\u5f88\u591a\u53ef\u80fd\u4f7f\u7528\u7684\u573a\u666f\u5728\u8fd9\u91cc\u4e0d\u505a\u4e00\u4e00\u8d58\u8ff0\uff0c\u6d41\u7684\u5185\u90e8\u5b9e\u73b0\u4e5f\u662f\u975e\u5e38\u7684\u6709\u610f\u601d\u7684\uff0c\u7b49\u6709\u65f6\u95f4\u518d\u505a\u53e6\u5916\u7684\u4e00\u4e2a\u5206\u4eab\u3002\u6b64\u5916 Redis 4 \u7684 Module \u4e5f\u662f\u975e\u5e38\u6709\u9b45\u529b\uff0c\u4f8b\u5982\u751a\u81f3\u53ef\u4ee5\u7528 [Golang](https://github.com/wenerme/go-rm) \u6765\u5b9e\u73b0\u6a21\u5757\u6dfb\u52a0\u65b0\u7684\u547d\u4ee4\u529f\u80fd\uff0c\u55ef\u55ef\uff0c\u673a\u4f1a\u591a\u591a\u3002"},{"id":"wener-apis","metadata":{"permalink":"/story/wener-apis","editUrl":"https://github.com/wenerme/wener/edit/master/story/project/wener-apis.md","source":"@site/story/project/wener-apis.md","title":"Wener\'s APIs","description":"Dev","date":"2020-01-28T00:00:00.000Z","formattedDate":"January 28, 2020","tags":[{"label":"\u9879\u76ee","permalink":"/story/tags/\u9879\u76ee"},{"label":"Nodejs","permalink":"/story/tags/nodejs"}],"readingTime":0.065,"truncated":false,"authors":[],"prevItem":{"title":"Redis \u6d41\u7b80\u4ecb","permalink":"/story/redis-stream-intro"},"nextItem":{"title":"Java with GraphQL","permalink":"/story/jraphql"}},"content":"## Dev\\n\\n```bash\\n# lite dev\\nMOD_NAME=boot,root,test,dash,geo,client yarn rollup -c rollup.mod.ts --watch\\n```"},{"id":"jraphql","metadata":{"permalink":"/story/jraphql","editUrl":"https://github.com/wenerme/wener/edit/master/story/project/jraphql.md","source":"@site/story/project/jraphql.md","title":"Java with GraphQL","description":"Java with GraphQL","date":"2018-05-21T00:00:00.000Z","formattedDate":"May 21, 2018","tags":[{"label":"\u9879\u76ee","permalink":"/story/tags/\u9879\u76ee"},{"label":"Java","permalink":"/story/tags/java"},{"label":"GraphQL","permalink":"/story/tags/graph-ql"}],"readingTime":2.45,"truncated":false,"authors":[],"prevItem":{"title":"Wener\'s APIs","permalink":"/story/wener-apis"},"nextItem":{"title":"\u5206\u5e03\u5f0f\u67b6\u6784\u624b\u8bb0","permalink":"/story/learning-dist-arch"}},"content":"Java with GraphQL\\n\\nModule | Description\\n-------|-----------\\njraphql-lang | GraphQL language representation\\njraphql-runtime | GraphQL execution engine\\njraphql-parser-antlr | Parser written in Antlr4 parse to jraphql-lang\\n\\n\x3c!-- tobe remove\\n~~jrapgql-api~~ | Minimal api that may required by others\\n~~jraphql-graphql-java-adapter~~ | Adapter for [graphql-java/graphql-java](https://github.com/graphql-java/graphql-java)\\n--\x3e\\n\\n## Get Started\\n\\n* Maven [me.wener.jraphql](https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22me.wener.jraphql%22)\\n\\n```\\n<dependency>\\n  <groupId>me.wener.jraphql</groupId>\\n  <artifactId>jraphql-runtimer</artifactId>\\n  <version>0.0.6</version>\\n</dependency>\\n<dependency>\\n  <groupId>me.wener.jraphql</groupId>\\n  <artifactId>jraphql-parser-antlr</artifactId>\\n  <version>0.0.6</version>\\n</dependency>\\n```\\n\\n## Features\\n\\n### Language representation\\nFeature | Description\\n--------------------|----\\n__Serializable__    | can parse or stringify to or from JSON\\n__Immutable__       | friendly to cache or precompile\\n__Buildable__       | every type has a builder for it generated by lombok.\\n__Pluggable__       | language representation is not related to parser impl\\n\\n### Syntax Extension\\n\\n#### Add `extend by name` syntax for object and interface\\n\\n#### Weave multi schemas\\n```graphql\\n# common.graphqls\\nscalar Version\\n\\n# crm.graphqls\\ntype CrmQuery {\\n  customer(id:ID!):Customer\\n  crmVersion: Version!\\n}\\ntype CrmUser {\\n  customers: [Customer]\\n}\\nextend type Query by CrmQuery\\nextend type User by CrmUser\\n\\n# erp.graphqls\\ntype ErpQuery {\\n  product(id:ID!):Product\\n}\\nextend type Query by ErpQuery\\n```\\n\\n#### Conditional schema\\n\\n```graphql\\n# Only admin can see and use these methods\\ntype AdminMutation {\\n  changePassword(id:ID,password:String): ChangePasswordPayload\\n}\\nextend type Mutation by AdminMutation @Role(role:\\"admin\\")\\n```\\n\\n#### Allowed directives on directive definition, add DIRECTIVE location\\n\\n```graphql\\ndirective @JavaType(type:String) on DIRECTIVE\\ndirective @Auth(value:String) @JavaType(type:\\"Auth\\") on FIELD_DEFINITION;\\n```\\n\\n#### Allowed schema has optional name\\n\\n```graphql\\nschema Test {\\n  query: MyQuery\\n}\\n```\\n\\n### Runtime Extension\\n\\n1. Type implements interface don\'t need to write the fields again.\\n\\n```graphql\\ninterface Node {\\n    id: ID!\\n}\\n\\ntype User implements Node {\\n    # id: ID! # This is optional\\n}\\n``` \\n\\n2. Can disable introspection\\n    * `new MetaResolver().setDisableIntrospection(true)`\\n\\n### Embeddable Schema\\n\\nJraphQL Runtime contain a embedded schema [MetaSchema](https://raw.githubusercontent.com/wenerme/jraphql/master/jraphql-runtime/src/main/java/me/wener/jraphql/schema/MetaSchema.java), generated by [EmbededSchema](https://raw.githubusercontent.com/wenerme/jraphql/master/jraphql-runtime/src/test/java/me/wener/jraphql/example/EmbededSchema.java).   \\n\\n* Parse Schema\\n* Serialize to JSON\\n* Best compress GZip\\n* Encode use mime base64\\n* Original JSON 32631 byte -> Encoded Base64 5352 byte\\n\\n## Example\\n\\n### StarWar\\n\\n* [StarWarApplication](https://raw.githubusercontent.com/wenerme/jraphql/master/jraphql-runtime/src/test/java/me/wener/jraphql/example/StarWarApplication.java)\\n    * SpringBoot WebFlux based\\n    * start and visite http://localhost:8080\\n* [StarWarResolver](https://raw.githubusercontent.com/wenerme/jraphql/master/jraphql-runtime/src/test/java/me/wener/jraphql/example/StarWarResolverV1.java)\\n    * resolve the StarWar schema. \\n\\nQueries you can try\\n\\n```graphql\\nmutation addRev {\\n  createReview(episode: EMPIRE, review: {stars: 4, commentary: \\"Ok Good\\"}) {\\n    stars\\n    commentary\\n  }\\n}\\n\\nquery rev($e:Episode = EMPIRE) {\\n  hero(episode: $e) {\\n    id\\n    name\\n    appearsIn\\n  }\\n  reviews(episode: $e) {\\n    stars\\n    commentary\\n  }\\n}\\n\\nquery search {\\n  search(text: \\"o\\") {\\n    __typename\\n    ... on Human {\\n      id\\n      name\\n    }\\n    ... on Droid {\\n      primaryFunction\\n    }\\n    ... on Starship {\\n      length\\n    }\\n  }\\n}\\n\\nquery baseQuery {\\n  starship(id: \\"3000\\") {\\n    id\\n    name\\n    length(unit: FOOT)\\n  }\\n  character(id: \\"2000\\") {\\n    id\\n    ... on Human {\\n      mass\\n      starships {\\n        name\\n      }\\n    }\\n    ... on Droid {\\n      name\\n      appearsIn\\n    }\\n  }\\n  human(id: \\"1003\\") {\\n    friendsConnection(after: \\"1002\\") {\\n      friends {\\n        name\\n      }\\n      pageInfo {\\n        hasNextPage\\n        startCursor\\n        endCursor\\n      }\\n    }\\n    friends {\\n      name\\n    }\\n  }\\n}\\n```\\n\\n## Work with GoaphQL\\n[GoaphQL](https://github.com/wenerme/goaphql) can generate code from schema that depends on jrapgql-api, can directly run on jraphql-graphql-java-adapter.  \\n\\nThe generated code is static type and full featured, everything is an interface."},{"id":"learning-dist-arch","metadata":{"permalink":"/story/learning-dist-arch","editUrl":"https://github.com/wenerme/wener/edit/master/story/2016/2016-8-25-\u5206\u5e03\u5f0f\u67b6\u6784\u624b\u8bb0.md","source":"@site/story/2016/2016-8-25-\u5206\u5e03\u5f0f\u67b6\u6784\u624b\u8bb0.md","title":"\u5206\u5e03\u5f0f\u67b6\u6784\u624b\u8bb0","description":"\u8fd9\u51e0\u5929\u5c1d\u8bd5\u4e86\u5f88\u591a\u7684 \\\\*aaS, \u671f\u671b\u80fd\u627e\u5230\u5728\u5f53\u524d\u67b6\u6784\u4e0b\u9002\u5408\u516c\u53f8\u540e\u7eed\u53d1\u5c55\u7684\u4e00\u4e2a\u7cfb\u7edf\u67b6\u6784, \u7136\u800c\u4e00\u8def\u4e0b\u6765\u53d1\u73b0\u5e76\u6ca1\u90a3\u4e48\u7b80\u5355.","date":"2016-08-25T15:33:00.000Z","formattedDate":"August 25, 2016","tags":[{"label":"\u67b6\u6784","permalink":"/story/tags/\u67b6\u6784"}],"readingTime":3.3,"truncated":true,"authors":[],"prevItem":{"title":"Java with GraphQL","permalink":"/story/jraphql"},"nextItem":{"title":"Go Redis module","permalink":"/story/go-rm"}},"content":"\u8fd9\u51e0\u5929\u5c1d\u8bd5\u4e86\u5f88\u591a\u7684 \\\\*aaS, \u671f\u671b\u80fd\u627e\u5230\u5728\u5f53\u524d\u67b6\u6784\u4e0b\u9002\u5408\u516c\u53f8\u540e\u7eed\u53d1\u5c55\u7684\u4e00\u4e2a\u7cfb\u7edf\u67b6\u6784, \u7136\u800c\u4e00\u8def\u4e0b\u6765\u53d1\u73b0\u5e76\u6ca1\u90a3\u4e48\u7b80\u5355.\\n\\n\x3c!--more--\x3e\\n\\n\u7531\u4e8e\u4eba\u5458\u7d27\u7f3a,\u89c4\u6a21\u6269\u5c55,\u8d8a\u6765\u8d8a\u591a\u7684\u57fa\u7840\u8bbe\u65bd\u9700\u8981\u7ba1\u7406\u90e8\u7f72\u548c\u63a7\u5236,\u5e76\u4e14\u516c\u53f8\u6ca1\u6709\u81ea\u5df1\u7684\u8bbe\u65bd,\u4e3b\u8981\u7684\u57fa\u7840\u8bbe\u65bd\u6765\u6e90\u4e8e \u963f\u91cc\u4e91, \u8fd9\u4e5f\u4e0d\u77e5\u9053\u662f\u798f\u8fd8\u662f\u7978.\\n\\n[Kubernetes](https://en.wikipedia.org/wiki/Kubernetes) \u7528\u4e8e\u5bb9\u5668\u96c6\u7fa4\u8fdb\u884c\u7ba1\u7406,\u8ba9\u7528\u6237\u5ffd\u7565\u5e95\u5c42\u7684 IaaS, \u4f46\u5982\u679c\u6ca1\u6709\u5e95\u5c42\u7684 IaaS \u90a3\u4e48 Kubernetes \u7528\u8d77\u6765\u662f\u4e3e\u6b65\u7ef4\u8270\u7684.\u6211\u4eec\u60f3\u8981\u5b9e\u73b0\u7684\u662f SaaS, \u9700\u8981\u7684\u5e73\u53f0\u662f PaaS Kubernetes, \u90a3\u4e48\u9700\u8981\u7684\u57fa\u7840\u8bbe\u65bd IaaS \u7528\u4e8e\u8fd0\u884c Kubernetes \u7684\u5e73\u53f0\u5fc5\u987b\u8981\u4e0e Kubernetes \u5341\u5206\\"\u53cb\u597d\\"\u624d\u80fd\u8ba9\u4f60\u611f\u89c9 Kubernetes \u662f\u4e00\u4e2a\u6709\u4ef7\u503c\u7684\u7cfb\u7edf.\u800c\u963f\u91cc\u4e91\u5e76\u4e0d\u5728\\"\u53cb\u597d\\"\u4e4b\u5217. Kubernetes \u539f\u751f\u652f\u6301 Azure, GCE, AWS, \u5982\u679c\u516c\u53f8\u9009\u62e9\u7684\u662f\u8fd9\u5176\u4e2d\u4e00\u5bb6\u5e73\u53f0\u7684\u670d\u52a1,\u90a3\u4e48\u6211\u76f8\u4fe1 Kubernetes \u8fd8\u662f\u5f88\u597d\u7528\u7684,\u90a3\u7528\u963f\u91cc+ Kubernetes \u7684\u4e0d\u4fbf\u5728\u4f55\u5904?\\n\\n- \u963f\u91cc\u4e91\u5e76\u7b97\u4e0d\u4e0a\u4e00\u4e2a\u5408\u683c\u7684 IaaS, \u53ea\u662f\u670d\u52a1\u5668\u79df\u8d41\u5546\\n- Kubernetes \u65e0\u6cd5\u5bf9\u963f\u91cc\u4e91\u670d\u52a1\u5668\u505a\u4efb\u4f55\u63a7\u5236\\n- \u963f\u91cc\u4e91\u73b0\u6709\u670d\u52a1\u65e0\u6cd5\u548c Kubernetes \u6574\u5408\\n\\n\u8fd9\u5c31\u4f7f\u5f97\u672c\u6765\u5f88\u7b80\u5355\u7684\u4e1c\u897f\u53d8\u5f97\u5f88\u9ebb\u70e6\u4e86,\u56e0\u4e3a\u53d1\u73b0\u5f88\u591a\u4e1c\u897f\u90fd\u5f97\u81ea\u5df1\u505a.\u6211\u7684\u76ee\u6807\u662f\u60f3\u8981\u4f7f\u7528\u57fa\u4e8e Kubernetes \u7684 [Deis](https://deis.com/workflow), Kubernetes \u7f3a\u5c11\u4e0e\u5e95\u5c42 IaaS \u7684\u96c6\u6210\u4f7f\u5f97 Deis \u51e0\u4e4e\u65e0\u6cd5\u4f7f\u7528(\u4f8b\u5982: IP \u7684\u5206\u914d).\u8bda\u7136 Kubernetes \u5f88\u597d,\u7136\u800c\u4e0e\u6211\u4eec\u65e0\u7f18.\\n\\n\u56e0\u4e3a\u6240\u6709\u7684\u4e3b\u673a\u90fd\u662f Ubuntu \u7684,\u60f3\u8981\u5c1d\u8bd5 juju, \u9047\u5230\u4e0e\u4e0a\u8ff0\u5b8c\u5168\u76f8\u540c\u7684\u95ee\u9898,\u65e0\u6cd5\u4e0e\u4e91\u5e73\u53f0\u96c6\u6210.\u800c MAAS, \u611f\u89c9\u4e0a\u4e0d\u592a\u6210\u719f,\u4f7f\u7528\u8d77\u6765\u4e0d\u592a\u53cb\u597d\u6240\u4ee5\u9009\u62e9\u4e86\u653e\u5f03.\u5230\u5934\u6765\u4f3c\u4e4e\u7b80\u5355\u8f7b\u91cf\u7684 Docker Swarm \u662f\u552f\u4e00\u7684\u9009\u62e9.\\n\\n\u8fd0\u884c\u5e73\u53f0\u9009\u5b9a\u4e86,\u53ef\u662f\u72b6\u6001\u5b58\u50a8\u4e5f\u662f\u4e00\u5927\u95ee\u9898. Docker Volume \u96c6\u6210\u7684\u7b2c\u4e09\u65b9\u4e91\u5b58\u50a8\u57fa\u672c\u662f\u7528\u4e0d\u4e0a\u7684(\u4f8b\u5982: EFS,Azure File Storage),\u6d89\u53ca\u5230\u5b58\u50a8\u7684\u4f8b\u5982 Docker Registry, \u4ee3\u7801\u4ed3\u5e93,\u4f46\u963f\u91cc\u7684 OSS \u4f3c\u4e4e\u5728\u8fd9\u91cc\u4e5f\u662f\u6307\u671b\u4e0d\u4e0a\u7684,\u5269\u4e0b\u7684\u552f\u4e00\u9009\u62e9\u4e5f\u5c31\u53ea\u80fd\u81ea\u5df1\u642d\u5efa\u4e86.Ceph \u4f3c\u4e4e\u662f\u4e0d\u4e8c\u9009\u62e9, \u53ea\u8981\u80fd\u63a5\u53d7\u5728\u963f\u91cc\u4e0a\u8d2d\u4e70\u8db3\u591f\u591a\u7684\u786c\u76d8\u5373\u53ef.\\n\\n\u4f7f\u7528 Docker Swarm \u7528\u4e8e\u90e8\u7f72\u670d\u52a1\u5c42\u662f\u5f88\u65b9\u4fbf\u7684,\u4f46\u662f\u5bf9\u4e8e\u4ee3\u7801\u4ed3\u5e93\u6216 Docker Registry \u8fd8\u662f\u5efa\u8bae\u90e8\u7f72\u4e8e\u5355\u53f0\u670d\u52a1\u5668\u4e2d.\u4f7f\u7528 Overlay \u8fdb\u884c\u7f51\u7edc\u9694\u79bb\u4ee5\u5b9e\u73b0\u4e0d\u540c\u7684\u73af\u5883\u90e8\u7f72\u670d\u52a1."},{"id":"go-rm","metadata":{"permalink":"/story/go-rm","editUrl":"https://github.com/wenerme/wener/edit/master/story/project/go-rm.md","source":"@site/story/project/go-rm.md","title":"Go Redis module","description":"Writing Redis Module in Golang.","date":"2016-08-09T00:00:00.000Z","formattedDate":"August 9, 2016","tags":[{"label":"\u9879\u76ee","permalink":"/story/tags/\u9879\u76ee"},{"label":"Golang","permalink":"/story/tags/golang"},{"label":"Redis","permalink":"/story/tags/redis"}],"readingTime":3.365,"truncated":true,"authors":[],"prevItem":{"title":"\u5206\u5e03\u5f0f\u67b6\u6784\u624b\u8bb0","permalink":"/story/learning-dist-arch"},"nextItem":{"title":"Play Titans using shell","permalink":"/story/2016/2016-08-06-tap-titans"}},"content":"Writing Redis Module in Golang.\\n\\n\x3c!--more--\x3e\\n\\n\\ngo-rm will let you write redis module in golang.\\n\\nRead in | [\u4e2d\u6587](https://raw.githubusercontent.com/wenerme/go-rm/master/README-zh_CN.md) | [English](https://raw.githubusercontent.com/wenerme/go-rm/master/README.md) | [Spanish](https://raw.githubusercontent.com/wenerme/go-rm/master/README-es.md)\\n\\n## Modules\\n\\n* [redismodule](https://github.com/redismodule)\\n    * [rxhash](https://github.com/redismodule/rxhash)\\n\\n## Demo\\n\\n```bash\\n# Ensure you installed the newest redis\\n# for example by using brew you can\\n# brew reinstall redis --HEAD\\n\\n# Build redis module\\ngo build -v -buildmode=c-shared github.com/redismodule/rxhash/cmd/rxhash\\n\\n# Start redis-server and load our module with debug log\\nredis-server --loadmodule rxhash --loglevel debug\\n```\\n\\n__Connect to out redis-server__\\n\\n```bash\\n# Test hgetset\\nredis-cli hset a a 1\\n#> (integer) 1\\nredis-cli hgetset a a 2\\n#> \\"1\\"\\nredis-cli hget a a\\n#> \\"2\\"\\n# Return nil if field not exists\\nredis-cli hgetset a b 2\\n#> (nil)\\nredis-cli hgetset a b 3\\n#> \\"2\\"\\n```\\n\\nWow, it works, now you can distribute this redis module to you friends. :P\\n\\n## How to write a module\\n\\nImplement a redis module is as easy as you write a cli app in go, this is all you need to implement above command.\\n\\n```go\\npackage main\\n\\nimport \\"github.com/wenerme/go-rm/rm\\"\\n\\nfunc main() {\\n    // In case someone try to run this\\n    rm.Run()\\n}\\n\\nfunc init() {\\n    rm.Mod = CreateMyMod()\\n}\\nfunc CreateMyMod() *rm.Module {\\n    mod := rm.NewMod()\\n    mod.Name = \\"hashex\\"\\n    mod.Version = 1\\n    mod.Commands = []rm.Command{CreateCommand_HGETSET()}\\n    return mod\\n}\\nfunc CreateCommand_HGETSET() rm.Command {\\n\\treturn rm.Command{\\n\\t\\tUsage: \\"HGETSET key field value\\",\\n\\t\\tDesc: `Sets the \'field\' in Hash \'key\' to \'value\' and returns the previous value, if any.\\nReply: String, the previous value or NULL if \'field\' didn\'t exist. `,\\n\\t\\tName:   \\"hgetset\\",\\n\\t\\tFlags:  \\"write fast deny-oom\\",\\n\\t\\tFirstKey:1, LastKey:1, KeyStep:1,\\n\\t\\tAction: func(cmd rm.CmdContext) int {\\n\\t\\t\\tctx, args := cmd.Ctx, cmd.Args\\n\\t\\t\\tif len(cmd.Args) != 4 {\\n\\t\\t\\t\\treturn ctx.WrongArity()\\n\\t\\t\\t}\\n\\t\\t\\tctx.AutoMemory()\\n\\t\\t\\tkey, ok := openHashKey(ctx, args[1])\\n\\t\\t\\tif !ok {\\n\\t\\t\\t\\treturn rm.ERR\\n\\t\\t\\t}\\n\\t\\t\\t// get the current value of the hash element\\n\\t\\t\\tvar val rm.String;\\n\\t\\t\\tkey.HashGet(rm.HASH_NONE, cmd.Args[2], (*uintptr)(&val))\\n\\t\\t\\t// set the element to the new value\\n\\t\\t\\tkey.HashSet(rm.HASH_NONE, cmd.Args[2], cmd.Args[3])\\n\\t\\t\\tif val.IsNull() {\\n\\t\\t\\t\\tctx.ReplyWithNull()\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tctx.ReplyWithString(val)\\n\\t\\t\\t}\\n\\t\\t\\treturn rm.OK\\n\\t\\t},\\n\\t}\\n}\\n// open the key and make sure it is indeed a Hash and not empty\\nfunc openHashKey(ctx rm.Ctx, k rm.String) (rm.Key, bool) {\\n\\tkey := ctx.OpenKey(k, rm.READ | rm.WRITE)\\n\\tif key.KeyType() != rm.KEYTYPE_EMPTY && key.KeyType() != rm.KEYTYPE_HASH {\\n\\t\\tctx.ReplyWithError(rm.ERRORMSG_WRONGTYPE)\\n\\t\\treturn rm.Key(0), false\\n\\t}\\n\\treturn key, true\\n}\\n```\\n\\n## Fantasy\\n\\n* A module management module, supplies\\n    * mod.search\\n        * Search module from repository(github?)\\n        * Repository structure like this\\n        ```\\n        /namespace\\n            /module-name\\n                /bin\\n                    /darwin_amd64\\n                        module-name.so\\n                        module-name.sha\\n                    /linux_amd64\\n                module-name.go     \\n        ```\\n    * mod.get\\n        * Download module to ~/.redismodule\\n        * Because module is write in go, so we can build for almost any platform\\n        * We can use tag/commit to version the binary, so we can download the old version too\\n    * mod.install\\n        * Install downloaded module by calling redis command\\n    * ...\\n* A cluster management module\\n    * Easy to create/manage/monitor redis3 cluster\\n* A json data type to demonstration how to add new data type in redis.\\n    * json.fmt key template\\n    * json.path key path \\\\[pretty]\\n    * json.get key \\\\[pretty]\\n    * json.set key value\\n        * this will validate the json format\\n\\n## Pitfall\\n* C can not call Go function, so every callback is pre-generated\\n    * 200 commands at most\\n    * 5 data type at most\\n    * limits are easy to change, just need a proper max value\\n* Go can not call var_args, function call is pre-generated\\n    * HashSet/HashGet can accept 20 args at most\\n    * limits are easy to change, just need a proper max value\\n* Don\'t know what happens when unload a golang shared module\\n    * Single module\\n    * Multi module\\n        * Is there runtime are shared ?\\n* Module write in go can not report it\'s memory usage to redis, max memory limits is useless\\n* If a module write in go also include a third party write in other language, the memory usage is unknown\\n* Module can only accept command, seems there is no way to call redis initiative.\\n\\n## TODO\\n\\n* Find a proper limits for data types and var_args"},{"id":"/2016/2016-08-06-tap-titans","metadata":{"permalink":"/story/2016/2016-08-06-tap-titans","editUrl":"https://github.com/wenerme/wener/edit/master/story/2016/2016-08-06-tap-titans.md","source":"@site/story/2016/2016-08-06-tap-titans.md","title":"Play Titans using shell","description":"Tap Titans on Play Store","date":"2016-08-06T23:43:00.000Z","formattedDate":"August 6, 2016","tags":[{"label":"Game","permalink":"/story/tags/game"},{"label":"Android","permalink":"/story/tags/android"}],"readingTime":0.95,"truncated":false,"authors":[],"prevItem":{"title":"Go Redis module","permalink":"/story/go-rm"},"nextItem":{"title":"BBVM - BeBasic Virtual Machine","permalink":"/story/bbvm"}},"content":"[Tap Titans](https://play.google.com/store/apps/details?id=com.gamehivecorp.taptitans) on Play Store\\n\\n## Features\\n\\n- Auto upgrade\\n- Auto spell skill\\n- Auto start challenge\\n- Auto close ad dialog\\n- Verify fast tap (0.03s/tap)\\n\\n> **NOTE**\\n>\\n> - Only tested on Nexus 5, different devices may use different coordinates and event dev.\\n> - Used to plat tiantis long time ago, may not works in current version.Different version may use different color and coordinates\\n\\n## Requirement\\n\\n- ADB\\n- Image Magic\\n- Bash\\n\\n## Get started\\n\\n- Start game\\n- Get source [tap-titans-play.sh](https://github.com/wenerme/wener/tree/master/story/2016/tap-titans-play.sh)\\n\\n```bash\\nchmod +x play.sh\\n# Connect through lan, so you don\'t have to use the usb\\n./play.sh use-tcp\\n# Push the pre-generated event file\\nadb push events /mnt/sdcard\\n# Start playing\\n./play.sh\\n```\\n\\n## How is works ?\\n\\n### Why fast ?\\n\\n- Because I don\'t use `adb shell input tap`, instead use a generated file that represent a tap event, then `cat tap > /dev/input/event1`.\\n- Use generated shell run in android.\\n\\n### How to detect the screen event ?\\n\\nUse screen capture, then use the image magic to check the color,kind of slowly, but works.\\n\\n## More\\n\\nCheck the [source](https://github.com/wenerme/wener/tree/master/story/2016/tap-titans-play.sh)"},{"id":"bbvm","metadata":{"permalink":"/story/bbvm","editUrl":"https://github.com/wenerme/wener/edit/master/story/project/bbvm.md","source":"@site/story/project/bbvm.md","title":"BBVM - BeBasic Virtual Machine","description":"The first VM in my live.","date":"2015-10-30T00:00:00.000Z","formattedDate":"October 30, 2015","tags":[{"label":"\u9879\u76ee","permalink":"/story/tags/\u9879\u76ee"},{"label":"Golang","permalink":"/story/tags/golang"},{"label":"Java","permalink":"/story/tags/java"},{"label":"\u6e38\u620f","permalink":"/story/tags/\u6e38\u620f"},{"label":"\u865a\u62df\u673a","permalink":"/story/tags/\u865a\u62df\u673a"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"}],"readingTime":2.2,"truncated":true,"authors":[],"prevItem":{"title":"Play Titans using shell","permalink":"/story/2016/2016-08-06-tap-titans"},"nextItem":{"title":"Guava \u7b80\u4ecb","permalink":"/story/guava-intro"}},"content":"The first VM in my live.\\n\\n\x3c!--more--\x3e\\n\\nBBVM - BeBasic Virtual Machine\\n===========================\\n[![Build Status](https://travis-ci.org/wenerme/bbvm.svg)](https://travis-ci.org/wenerme/bbvm)\\n[![Coverage Status](https://coveralls.io/repos/wenerme/bbvm/badge.svg?branch=master&service=github)](https://coveralls.io/github/wenerme/bbvm?branch=master)\\n[![Build with love](https://img.shields.io/badge/bbvm-%F0%9F%92%97-orange.svg)](https://github.com/wenerme)\\n[![GitHub issues](https://img.shields.io/github/issues/wenerme/bbvm.svg)](https://github.com/wenerme/bbvm/issues)\\n[![GitHub license](https://img.shields.io/badge/license-Apache%202-blue.svg)](https://raw.githubusercontent.com/wenerme/bbvm/master/LICENSE)\\n[![Twitter](https://img.shields.io/twitter/url/https/github.com/wenerme/bbvm.svg?style=social)](https://twitter.com/intent/tweet?text=Wow:&url=https://github.com/wenerme/bbvm/)\\n\\n```\\n; ____________________\\n; \\\\______   \\\\______   \\\\___  _______\\n;  |    |  _/|    |  _/\\\\  \\\\/ /     \\\\\\n;  |    |   \\\\|    |   \\\\ \\\\   /  Y Y  \\\\\\n;  |______  /|______  /  \\\\_/|__|_|  /\\n;         \\\\/        \\\\/            \\\\/\\n\\nJMP CODE\\nDATA STR CHAR \\"Hello, BBvm\\",0\\nCODE:\\n\\nOUT 1, STR\\nEXIT\\n```\\n\\n```\\n>Hello, BBvm\\n```\\n\\n---\\n\\n```bash\\ngo get github.com/wenerme/bbvm/cmd/bb             # Install bb command tool\\nbb run examples/hello.bbasm                       # Directly run bbasm\\n\\nbb compile -o hello.bbin -i examples/hello.bbasm  # Compile bbasm to bbin\\nbb run hello.bbin                                 # Run bbin\\nhexdump -C hello.bbin\\n\\ngo get github.com/wenerme/bbvm/cmd/bbin           # Bundled bbin\\nbbin                                              # Should output: Hello BBvm\\n```\\n\\n| \u4e2d\u6587 | English |\\n|:----:|:----:|\\n| [README](#BB\u865a\u62df\u673a)/[WIKI](https://github.com/wenerme/bbvm/wiki/\u4e3b\u9875) | [README](#bbvm)/[WIKI](https://github.com/wenerme/bbvm/wiki/Home) |\\n\\n![\u5927\u5bcc\u7fc1](https://raw.githubusercontent.com/wenerme/bbvm/master/doc/image/bbvm-monopoly-demo.png)\\n\\n# BBvm\\n\\nBBvm is a simple easy virtual machine that run bbin compile from bbasm which is a simple assembly too.\\n\\n## Features\\n\\nBBvm has a lot built-in system invoke with a default screen enabled device.\\n\\n* Graphic draw\\n* Image load\\n* File read/write\\n* String op\\n\\n---\\n\\n# BB\u865a\u62df\u673a\\n\\nBBvm \u662f\u4e00\u4e2a\u7b80\u5355\u7684\u865a\u62df\u673a,\u5176\u6c47\u7f16\u7801\u4e3a BBasm.\\n\\n## \u4e3b\u8981\u529f\u80fd\\n\\nBBvm \u5305\u542b\u4e86\u5927\u91cf\u7684\u5185\u5efa\u7cfb\u7edf\u8c03\u7528,\u5e76\u4e14\u8fd0\u884c\u4e8e\u4e00\u4e2a\u6709\u5c4f\u5e55\u7684\u8bbe\u5907\u4e0a.\\n\\n* \u56fe\u5f62\u64cd\u4f5c\\n* \u56fe\u50cf\u64cd\u4f5c\\n* \u6587\u4ef6\u64cd\u4f5c\\n* \u5b57\u7b26\u4e32\u64cd\u4f5c\\n\\n## BBasic\\n\\n[BBasic](http://www.baike.com/wiki/BBASIC) \u662f\u4e00\u79cd\u638c\u4e0a\u5b66\u4e60\u673a\u7684\u7f16\u7a0b\u5e73\u53f0.BBK BBASIC,\u7b80\u79f0BB,\u6700\u65e9\u7531\u901a\u5bb5\u866b\u4e8e2006\u5e74\u5f00\u53d1,\u662f\u7531VMBASIC\u7ed3\u5408QuickBASIC\u5f00\u53d1\u800c\u6210.\\n\u8fd0\u884c\u4e8e\u65e9\u671f\u6b65\u6b65\u9ad8\u5b66\u4e60\u673a\u5e73\u53f0.\\n\\n\u8be5\u9879\u76ee\u4e3a\u539f\u6b65\u6b65\u9ad8 BBasic \u865a\u62df\u673a\u7684\u4e00\u4e2a\u4eff\u7167\u5b9e\u73b0.\u5e76\u5728\u539f\u6765\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u4e86\u6269\u5c55.\\n\\n* \u505a\u5230\u548c BBasic \u7684\u6c47\u7f16\u7801\u517c\u5bb9\\n* \u505a\u5230\u548c BBasic \u7684\u4e8c\u8fdb\u5236\u517c\u5bb9\\n* \u5b9e\u73b0\u7f16\u8bd1 Vasm \u7684\u7f16\u8bd1\u5668\\n* \u5b9e\u73b0 BB \u7684\u865a\u62df\u673a,\u5305\u62ec\u56fe\u5f62\u754c\u9762\u7b49\u6240\u6709\u529f\u80fd\\n* \u5bf9 BBAsm \u8fdb\u884c\u6269\u5c55\\n\\n\u53c2\u8003\\n====\\n\\n\x3c!-- * [\u5f00\u53d1\u8fdb\u5ea6/Roadmap](https://trello.com/b/ZBl8mVYa/bbvm) --\x3e\\n\\n* BBAsm \u8bed\u6cd5\u53c2\u8003[\u8fd9\u91cc][bbasm-g4]\\n* BB \u865a\u62df\u673a\u89c4\u8303\u53c2\u8003[\u8fd9\u91cc][bbvm-spec]\\n\\n [bbasm-g4]:https://github.com/wenerme/bbvm/blob/master/doc/grammar/BBAsm.g4\\n [bbvm-spec]:https://github.com/wenerme/bbvm/wiki/vm-spec"},{"id":"guava-intro","metadata":{"permalink":"/story/guava-intro","editUrl":"https://github.com/wenerme/wener/edit/master/story/2015/2015-10-02-guava-intro.md","source":"@site/story/2015/2015-10-02-guava-intro.md","title":"Guava \u7b80\u4ecb","description":"Overviews - Five Ws","date":"2015-10-02T00:00:00.000Z","formattedDate":"October 2, 2015","tags":[{"label":"Java","permalink":"/story/tags/java"}],"readingTime":2.385,"truncated":true,"authors":[],"prevItem":{"title":"BBVM - BeBasic Virtual Machine","permalink":"/story/bbvm"},"nextItem":{"title":"\u8f6c\u6218 Hugo, \u535a\u5ba2\u8fc1\u79fb\u4e4b\u8def","permalink":"/story/2015/2015-09-25-blog-hugo"}},"content":"## Overviews - Five Ws\\n\\n| \u95ee\u9898           | \u7b54\u6848                                                                                                                                                                                                                                                    |\\n| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\\n| \u662f\u4ec0\u4e48         | \u4e00\u5957\u5f00\u6e90\u7684 Java \u516c\u5171\u7ec4\u4ef6                                                                                                                                                                                                                                |\\n| \u8c01\u5f00\u53d1\u7684       | \u4e3b\u8981\u7531 Google \u5de5\u7a0b\u5e08\u5f00\u53d1\u7ef4\u62a4                                                                                                                                                                                                                            |\\n| \u54ea\u91cc\u7528         | \u6240\u6709\u4f7f\u7528 Java \u7684\u5730\u65b9                                                                                                                                                                                                                                    |\\n| \u4ec0\u4e48\u65f6\u5019\u51fa\u73b0\u7684 | 2008 \u5e74\u4e5d\u6708 \u7b2c\u4e00\u4e2a Google Collection \u7248\u672c\u51fa\u73b0\u5728 [maven \u4ed3\u5e93](http://mvnrepository.com/artifact/com.google.collections/google-collections);<br/>2010 \u5e74\u56db\u6708\u7b2c\u4e00\u4e2a Guava \u7248\u672c\u51fa\u73b0\u5728[maven \u4ed3\u5e93](http://mvnrepository.com/artifact/com.google.guava/guava) |\\n| \u4ec0\u4e48\u4f7f\u7528       | \u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 ?                                                                                                                                                                                                                                          |\\n\\n\x3c!--more--\x3e\\n\\n## Features\\n\\n> **TIPS** \u53ef\u53c2\u8003[GuavaExplained]\u7684\u5de6\u8fb9\u680f.\\n\\n- \u96c6\u5408\u521d\u59cb\u5316\u5de5\u5177\u548c\u8f85\u52a9\u5de5\u5177\\n- \u6709\u9650\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\u652f\u6301\\n- \u63d0\u4f9b\u5e38\u7528\u7684\u7279\u6b8a\u96c6\u5408\u7c7b\u578b\\n- \u6392\u5e8f\u7ec4\u4ef6\\n- \u4e8b\u4ef6\u603b\u7ebf\\n- \u7f13\u5b58\\n- \u5e76\u53d1\u8f85\u52a9\u7ec4\u4ef6\\n- \u5b57\u7b26\u4e32\u5de5\u5177\\n- \u539f\u5b50\u7c7b\u578b\u5de5\u5177\\n- IO \u8f85\u52a9\\n- \u54c8\u5e0c\u7ec4\u4ef6\\n- \u53cd\u5c04\u7ec4\u4ef6\\n- \u6570\u5b66\u7ec4\u4ef6\\n- ....\\n\\n## Who use Guava\\n\\n- \u5728 Maven \u4e2d\u592e\u4ed3\u5e93\u5927\u7ea6\u6709 [4500](http://mvnrepository.com/artifact/com.google.guava/guava) \u4e2a\u9879\u76ee\u4f9d\u8d56 Guava\\n- [FriendsOfGuava](https://code.google.com/p/guava-libraries/wiki/FriendsOfGuava) \u5217\u4e3e\u4e86\u4e00\u4e9b Guava \u53cb\u597d\u7684\u9879\u76ee\\n- \u5e38\u89c1\u7684\u4f7f\u7528 Guava \u7684\u9879\u76ee\\n  _ GSON\\n  _ Guice\\n  _ Hadoop,HBase,Spark \u7b49 Hadoop \u751f\u6001\u5708\u9879\u76ee\\n  _ Cassandra \\\\* ....\\n\\n## vs common-lang\\n\\n- Maven \u4e2d\u592e\u4ed3\u5e93\u5927\u7ea6\u6709 [3500](http://mvnrepository.com/artifact/commons-lang/commons-lang) \u4e2a\u9879\u76ee\u4f9d\u8d56 commons-lang\\n- Maven \u4e2d\u592e\u4ed3\u5e93\u5927\u7ea6\u6709 [2000](http://mvnrepository.com/artifact/org.apache.commons/commons-lang3) \u4e2a\u9879\u76ee\u4f9d\u8d56 [commons-lang3](http://commons.apache.org/proper/commons-lang/)\\n- Maven \u4e2d\u592e\u4ed3\u5e93\u5927\u7ea6\u6709 [4500](http://mvnrepository.com/artifact/com.google.guava/guava) \u4e2a\u9879\u76ee\u4f9d\u8d56 Guava\\n\\n| -             | \u7248\u672c | \u751f\u4ea7\u65e5\u671f | \u5927\u5c0f   |\\n| ------------- | ---- | -------- | ------ |\\n| Guava         | 18.0 | 2014.8   | 2.2 MB |\\n| commons-lang3 | v3.4 | 2015.4   | 425 KB |\\n| commons-lang  | v2.6 | 2015.4   | 278 KB |\\n\\n> **TIPS**\\n> Guava \u5e76\u6ca1\u6709\u5c06\u5404\u4e2a\u6a21\u5757\u5206\u79bb\u5f00\u6765,\u800c\u662f\u4f5c\u4e3a\u4e00\u4e2a\u5927\u7684 jar \u5305,\u5b98\u65b9\u63a8\u8350\u7684\u662f,\u4f7f\u7528 ProGuard \u6765\u5254\u9664\u81ea\u5df1\u4e0d\u4f7f\u7528\u7684\u5185\u5bb9\\n> commons-lang \u53ea\u662f Apache Commons \u4e0b\u7684\u4e00\u5c0f\u90e8\u5206,\u5176\u4ed6\u7684\u8fd8\u6709 commons-io \u7b49\\n\\nGuava \u4e0e Commons-Lang \u5e76\u4e0d\u662f\u76f8\u4e92\u5bf9\u7acb\u7684\u5173\u7cfb,\u800c\u662f\u53ef\u4ee5\u76f8\u4e92\u5e76\u5b58\u7684,\u5176\u4ea4\u96c6\u53ef\u80fd\u5728\u96c6\u5408\u5de5\u5177\u7ec4\u4ef6\u8f83\u591a,\u800c\u5176\u4ed6\u65b9\u9762\u90fd\u662f\u5404\u6709\u6240\u957f,\u56e0\u4e3a\u5e76\u975e\u4e8c\u9009\u4e00\u7684\u95ee\u9898.\\n\\n## Reference\\n\\n- [Guava@Github](https://github.com/google/guava)\\n- [GuavaExplained]\\n- [gs-collections](https://github.com/goldmansachs/gs-collections) A supplement or replacement for the Java Collections Framework.\\n\\n[guavaexplained]: https://code.google.com/p/guava-libraries/wiki/GuavaExplained"},{"id":"/2015/2015-09-25-blog-hugo","metadata":{"permalink":"/story/2015/2015-09-25-blog-hugo","editUrl":"https://github.com/wenerme/wener/edit/master/story/2015/2015-09-25-blog-hugo.md","source":"@site/story/2015/2015-09-25-blog-hugo.md","title":"\u8f6c\u6218 Hugo, \u535a\u5ba2\u8fc1\u79fb\u4e4b\u8def","description":"\u90fd\u5feb\u8981\u628a\u81ea\u5df1\u611f\u52a8, \u4ece\u6700\u521d(2011\u5e74)\u7684 Wordpress, \u5230\u540e\u6765\u81ea\u5df1\u5f00\u53d1\u7684 Tellets , \u73b0\u5728\u53c8\u5230\u4e86 Hugo.","date":"2015-09-25T09:32:05.000Z","formattedDate":"September 25, 2015","tags":[],"readingTime":1.335,"truncated":false,"authors":[],"prevItem":{"title":"Guava \u7b80\u4ecb","permalink":"/story/guava-intro"},"nextItem":{"title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u7b2c\u4e00\u7ae0 - \u5dee\u4e00\u6beb\u7c73\u7684\u7f18\u5206\uff0c\u5417\uff1f","permalink":"/story/here-my-love-ch1"}},"content":"\u90fd\u5feb\u8981\u628a\u81ea\u5df1\u611f\u52a8, \u4ece\u6700\u521d(2011\u5e74)\u7684 Wordpress, \u5230\u540e\u6765\u81ea\u5df1\u5f00\u53d1\u7684 Tellets , \u73b0\u5728\u53c8\u5230\u4e86 Hugo.\\n\\n\u4e4b\u6240\u4ee5\u629b\u5f03 Wordpress \u662f\u56e0\u4e3a\u5b83\u592a\u7b28\u91cd\u4e86,\u90a3\u4e9b\u5e74\u662f\u79df\u7684\u865a\u62df\u4e3b\u673a\u6765\u6302\u535a\u5ba2,\u6bcf\u5e74\u4e5f\u8fd8\u4f1a\u6709\u4e9b\u6295\u5165,\u4f46\u662f\u540e\u6765\u5f88\u5c11\u7ef4\u62a4\u4e86,\u4fbf\u4e0d\u5728\u60f3\u7eed\u8d39\u4e86.\\n\\n\u540e\u9762\u60f3\u627e\u4e00\u4e2a\u8f7b\u4fbf\u7684\u80fd\u6839\u636e\u6587\u4ef6\u65f6\u751f\u6210\u7684\u535a\u5ba2\u7cfb\u7edf,\u6240\u5e78\u627e\u5230\u4e86 Droplet,\u4f46\u53d1\u73b0\u597d\u591a\u4e1c\u897f\u90fd\u4e0d\u80fd\u6ee1\u8db3\u8981\u6c42,\u540e\u6765\u628a Droplet \u5b8c\u5168\u91cd\u5199\u6210\u4e86 Tellts,\u81ea\u5df1\u6dfb\u52a0\u7684\u6700\u559c\u6b22\u7684\u529f\u80fd\u662f\u76f4\u63a5\u914d\u7f6e Github \u7684\u6587\u7ae0\u5f15\u7528. Tellets \u4e5f\u662f PHP \u7684,\u800c\u4e14\u5fc5\u987b\u8981\u652f\u6301\u6587\u4ef6\u64cd\u4f5c,\u4f46\u5f88\u591a PHP \u5e94\u7528\u670d\u52a1\u5668\u90fd\u4e0d\u63d0\u4f9b\u6587\u4ef6\u64cd\u4f5c(\u4f8b\u5982: \u65b0\u6d6a SEA, \u5f53\u521d\u7684\u4eac\u4e1c\u4e91\u64ce),\u540e\u6765\u4e3b\u673a\u505c\u4e86\u4fbf\u6ca1\u6709\u53bb\u7ba1\u4e86. \u518d\u540e\u6765\u6709\u70b9\u60f3\u7528 Go \u91cd\u5199 Tellts, \u4f46\u5b9e\u5728\u6ca1\u65f6\u95f4,\u7136\u540e\u53c8\u8fc7\u4e86\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4.\\n\\n\u5728\u5de5\u4f5c\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u4e86\u89e3 Docker, \u987a\u52bf\u4e5f\u5c31\u5229\u7528 Docker \u90e8\u7f72\u4e86 Hugo."},{"id":"here-my-love-ch1","metadata":{"permalink":"/story/here-my-love-ch1","editUrl":"https://github.com/wenerme/wener/edit/master/story/here-my-love/2014-05-03-\u7b2c\u4e00\u7ae0-\u5dee\u4e00\u6beb\u7c73\u7684\u7f18\u5206\uff0c\u5417\uff1f.md","source":"@site/story/here-my-love/2014-05-03-\u7b2c\u4e00\u7ae0-\u5dee\u4e00\u6beb\u7c73\u7684\u7f18\u5206\uff0c\u5417\uff1f.md","title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u7b2c\u4e00\u7ae0 - \u5dee\u4e00\u6beb\u7c73\u7684\u7f18\u5206\uff0c\u5417\uff1f","description":"\u6709\u4e9b\u4eba\uff0c\u53ea\u662f\u6c38\u8fdc\u4e0d\u53ef\u80fd\u5728\u4e00\u8d77","date":"2014-05-03T00:00:00.000Z","formattedDate":"May 3, 2014","tags":[{"label":"\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979","permalink":"/story/tags/\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979"},{"label":"\u6545\u4e8b","permalink":"/story/tags/\u6545\u4e8b"}],"readingTime":3.21,"truncated":true,"authors":[],"prevItem":{"title":"\u8f6c\u6218 Hugo, \u535a\u5ba2\u8fc1\u79fb\u4e4b\u8def","permalink":"/story/2015/2015-09-25-blog-hugo"},"nextItem":{"title":"\u5b66\u751f\u8003\u52e4\u7cfb\u7edf","permalink":"/story/student-checking-sys"}},"content":"\u6709\u4e9b\u4eba\uff0c\u53ea\u662f\u6c38\u8fdc\u4e0d\u53ef\u80fd\u5728\u4e00\u8d77\\n\u81f4 \u90a3\u4e9b\u4eba\\n\\n\x3c!--more--\x3e\\n\\n\u6545\u4e8b\u7684\u5f00\u59cb\uff0c\u514d\u4e0d\u4e86\u6709\u4e00\u4e2a\u5973\u5b69\u4e00\u4e2a\u7537\u5b69\uff0c\u611f\u60c5\u4e0d\u90fd\u8fd9\u6837\u5f00\u59cb\u7684\u4e48\uff1f\\n\\n\u90a3\u662f\u4e00\u6b21\u7ea6\u4f1a\uff0c\u81f3\u5c11\u4ed6\u662f\u90a3\u6837\u770b\u5f85\u7684\u3002\u4e00\u751f\u4e2d\u7684\u7b2c\u4e00\u6b21\u7ea6\u4f1a\uff0c\u96be\u514d\u89c9\u5f97\u6709\u4e9b\u7d27\u5f20\uff0c\u8fc7\u4e8e\u9686\u91cd\u3002\u53cd\u590d\u7684\u68c0\u67e5\u4e86\u51e0\u904d\u81ea\u5df1\u7684\u7740\u88c5\u548c\u6253\u626e\u540e\uff0c\u59cb\u7ec8\u8fd8\u662f\u89c9\u5f97\u7f3a\u4e86\u70b9\u4ec0\u4e48\u3002\u5176\u5b9e\u4ed6\u4e5f\u5c31\u4e00\u4e2a\u7ea6\u647817 8\u5c81\u7684\u666e\u901a\u5c0f\u7537\u5b69\uff0c\u4e00\u4ef6\u4f53\u6064\u4e00\u6761\u4e03\u5206\u5e93\u4e00\u5934\u5bf8\u628a\u957f\u7684\u9ed1\u53d1\uff0c\u8eab\u4e0a\u4e5f\u6ca1\u6709\u4ec0\u4e48\u5176\u5b83\u884c\u5934\uff0c\u7b97\u5f97\u4e0a\u662f\u8f7b\u88c5\u4e0a\u9635\u4e86\u3002\u4ed6\u4e5f\u5b9e\u5c5e\u65e0\u5948\uff0c\u6ca1\u6709\u597d\u7684\u5bb6\u5ead\u6761\u4ef6\uff0c\u81ea\u5df1\u8eab\u8fb9\u4e5f\u6ca1\u4eba\u8f85\u5bfc\u6253\u626e\uff0c\u53ea\u8981\u81ea\u5df1\u770b\u8d77\u6765\u8fc7\u5f97\u53bb\u5c31\u7b97\u6ee1\u5206\u4e86\u3002\u53ea\u662f\u8fd9\u6b21\u4e0d\u540c\uff0c\u7b2c\u4e00\u6b21\u96be\u514d\uff0c\u4e0d\uff0c\u662f\u5fc5\u987b\u5f97\u5e84\u91cd\u70b9\uff0c\u81ea\u5df1\u7684\u6ee1\u5206\u90fd\u4e0d\u597d\u610f\u601d\u62ff\u51fa\u53bb\u89c1\u4eba\u3002\u5176\u5b9e\u4ed6\u4e5f\u4e0d\u662f\u7b2c\u4e00\u6b21\u89c1\u5230\u5979\u4e86\uff0c\u4f5c\u4e3a\u540c\u73ed\u540c\u5b66\uff0c\u751a\u81f3\u5dee\u4e00\u6beb\u7c73\u7684\u540c\u684c\u3002\u4ed6\u603b\u89c9\u5f97\u90a3\u6b21\u6216\u8bb8\u4f1a\u662f\u4ed6\u7ec8\u751f\u7684\u9057\u61be\uff0c\u5728\u5b89\u6392\u5ea7\u4f4d\u7684\u65f6\u5019\uff0c\u672c\u6765\u4ed6\u4eec\u4e24\u662f\u6ca1\u6709\u9760\u5728\u4e00\u8d77\u7684\uff0c\u540e\u6765\u56e0\u8001\u5e08\u89c9\u5f97\u73ed\u4e0a\u7537\u5973\u540c\u5b66\u7684\u5ea7\u4f4d\u5750\u6807\u4e0d\u7b26\u5408\u67d0\u79cd\u6570\u5b66\u4e0a\u7684\u5750\u6807\u5206\u5e03\uff0c\u5c31\u7a0d\u5fae\u8c03\u6574\u4e86\u4e00\u4e0b\u5ea7\u4f4d\uff0c\u770b\u7740\u770b\u7740\uff0c\u53d1\u73b0\u4e00\u4e0d\u5c0f\u5fc3\u8001\u5e08\u4e3a\u4e86\u4ed6\u628a\u5979\u8c03\u6210\u81ea\u5df1\u7684\u540c\u684c\uff0c\u4e0d\u8fc7\u662f\u9694\u7740\u4e00\u6761\u8d70\u5230\u90a3\u79cd\u3002\u4ed6\u624d\u4e0d\u7ba1\u8d70\u9053\u4e0d\u8d70\u9053\u4ec0\u4e48\u7684\uff0c\u8ddd\u79bb\u4ece\u6765\u4e0d\u662f\u95ee\u9898\uff0c\u6362\u4e00\u4e2a\u89d2\u5ea6\u60f3\u60f3\uff0c\u8fd9\u4e5f\u7b97\u5f97\u4e0a\u662f\u5f7c\u6b64\u7684\u540c\u684c\u4e86\u3002\u4f46\u662f\u5728\u8fd9\u4f4d\u540c\u684c\u8fd8\u6ca1\u7f13\u8fc7\u795e\u6765\u7684\u65f6\u5019\uff0c\u540c\u684c\u524d\u9762\u7684\u5de6\u8fb9\u7684\u4e0a\u8fb9\u7684\u53f3\u8fb9\u548c\u4ed6\u7684\u540c\u684c\u5bf9\u8c03\u4e86\u4e00\u4e0b\uff0c\u987a\u4fbf\u4e5f\u628a\u4ed6\u7ed9\u8c03\u4e86\u4e0a\u53bb\u3002\u5509\uff0c\u5dee\u4e00\u6beb\u7c73\u7684\u540c\u684c\u3002\u4ed6\u4e60\u60ef\u6027\u7684\u628a\u9057\u61be\u7684\u4e8b\u60c5\u8bf4\u6210\u662f\u5dee\u4e00\u6beb\u7c73\u7684\uff0c\u56e0\u4e3a\u90a3\u6837\u8ba9\u4ed6\u611f\u89c9\u5176\u5b9e\u5f53\u521d\u8fd8\u662f\u8ddd\u79bb\u5f88\u8fd1\u5f88\u8fd1\u53ef\u4ee5\u6293\u4f4f\u4ed6\u7684\uff0c\u53ea\u662f\u5dee\u4e00\u6beb\u7c73\u8ba9\u5b83\u6e9c\u8d70\u4e86\u3002\u4e00\u6beb\u7c73\u7684\u540c\u684c\u4ed6\u8fd8\u662f\u5929\u5929\u53ef\u4ee5\u89c1\u5230\u7684\uff0c\u56e0\u4e3a\u4e0d\u53ea\u662f\u4e00\u4e2a\u73ed\u7684\uff0c\u90a3\u6b21\u8c03\u6574\u5ea7\u4f4d\u867d\u7136\u9057\u61be\uff0c\u4e07\u5e78\u7684\u662f\u548c\u4ed6\u4e00\u7ec4\uff0c\u5e76\u4e14\u5979\u8fd8\u5f53\u4e0a\u4e86\u7ec4\u957f\u3002\u8fd9\u6837\u63a5\u89e6\u5c31\u66f4\u591a\u4e86\u3002\u56e0\u4e3a\u5979\u5f53\u4e0a\u4e86\u7ec4\u957f\uff0c\u4ed6\u4e5f\u53d8\u5f97\u6d3b\u6cfc\u4e86\u4e0d\u5c11\uff0c\u56e0\u4e3a\u603b\u662f\u7785\u7740\u770b\u6709\u6ca1\u6709\u54ea\u7bc7\u8bfe\u6587\u662f\u9700\u8981\u80cc\u8bf5\u7684\uff0c\u8fd9\u6837\u53c8\u591a\u4e86\u4e00\u6b21\u673a\u4f1a\u4e00\u4e2a\u7406\u7531\u4e86\uff01"},{"id":"student-checking-sys","metadata":{"permalink":"/story/student-checking-sys","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u90a3\u4e9b\u5c0f\u4e1c\u897f/\u8003\u52e4\u7cfb\u7edf/README.md","source":"@site/story/\u90a3\u4e9b\u5c0f\u4e1c\u897f/\u8003\u52e4\u7cfb\u7edf/README.md","title":"\u5b66\u751f\u8003\u52e4\u7cfb\u7edf","description":"\u522b\u4eba\u4f5c\u4e1a\u5565\u7684~~,\u4e0d\u8fc7\u8fd8\u662f\u5b66\u5230\u4e86\u4e00\u4e9b\u6280\u5de7","date":"2013-12-27T04:24:19.000Z","formattedDate":"December 27, 2013","tags":[{"label":".NET","permalink":"/story/tags/net"},{"label":"C#","permalink":"/story/tags/c"},{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"}],"readingTime":2.12,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u7b2c\u4e00\u7ae0 - \u5dee\u4e00\u6beb\u7c73\u7684\u7f18\u5206\uff0c\u5417\uff1f","permalink":"/story/here-my-love-ch1"},"nextItem":{"title":"\u7eaa\u5ff5\u90a3\u4e9b\u5728 BBK \u7684\u65f6\u5149","permalink":"/story/bbk-memory"}},"content":"\u522b\u4eba\u4f5c\u4e1a\u5565\u7684~~,\u4e0d\u8fc7\u8fd8\u662f\u5b66\u5230\u4e86[\u4e00\u4e9b\u6280\u5de7](#\u4e00\u4e9b\u6280\u5de7)\\n\\n\u5c1a\u4e14\u8fd8\u6709\u4e00\u4e9b\u95ee\u9898\u6ca1\u89e3\u51b3\u7684\\n\\n* \u4f5c\u4e3a\u9634\u5f71\u7684\u7a97\u53e3,\u4e0d\u80fd\u8bbe\u7f6e `ShowInTaskBar = false`,\\n\u8bbe\u7f6e\u540e\u4f1a\u6d88\u5931,\u8fd9\u4e2a\u76f8\u5bf9\u6bd4\u8f83\u9ebb\u70e6,\u6ca1\u5904\u7406\\n* \u753b\u9634\u5f71\u7684\u51fd\u6570\u8fd8\u4e0d\u662f\u5f88\u5b8c\u5584,\u53ea\u80fd\u662f\u7c7b\u4f3c\u7684\u9634\u5f71\\n\\n\u622a\u56fe\\n----\\n\\n![\u767b\u5f55\u9875\u9762](https://raw.github.com/wenerme/blog/master/%E9%82%A3%E4%BA%9B%E5%B0%8F%E4%B8%9C%E8%A5%BF/%E8%80%83%E5%8B%A4%E7%B3%BB%E7%BB%9F/screenshot.png \\"\u767b\u5f55\u9875\u9762\\")\\n\\n![\u67e5\u8be2,\u64cd\u4f5c\u9875\u9762](https://raw.github.com/wenerme/blog/master/%E9%82%A3%E4%BA%9B%E5%B0%8F%E4%B8%9C%E8%A5%BF/%E8%80%83%E5%8B%A4%E7%B3%BB%E7%BB%9F/screenshot-main.png \\"\u67e5\u8be2,\u64cd\u4f5c\u9875\u9762\\")\\n\\n\u4e00\u4e9b\u6280\u5de7\\n============\\n\\n\u8ba9\u7a97\u53e3\u53ef\u62d6\u52a8\\n----------\\n\\n\u662f\u91cd\u5199\u7684WndProc,\u800c\u4e0d\u662f\u4f20\u7edf\u7684\u9f20\u6807\u4e8b\u4ef6\\n\\n```C#\\n\\n// Let Windows drag this form for us\\nprotected override void WndProc(ref Message m)\\n{\\n\\tif (m.Msg == 0x0084 /*WM_NCHITTEST*/)\\n\\t{\\n\\t\\tm.Result = (IntPtr)2;\\t// HTCLIENT\\n\\t\\treturn;\\n\\t}\\n\\tbase.WndProc(ref m);\\n}\\n\\n```\\n\\n\u4f20\u7edf\u7248\u672c\\n\\n```C#\\n// In form load\\n\\nvar lastPoint = new Point();\\nvar _isDraging = false;\\nMouseDown += (sender, e) =>\\n{\\n\\t_isDraging = true;\\n\\tlastPoint = e.Location;\\n};\\nMouseMove += (sender, e) =>\\n{\\n\\tif (! _isDraging)\\n\\t\\treturn;\\n\\n\\tint ox = e.X - lastPoint.X;\\n\\tint oy = e.Y - lastPoint.Y;\\n\\tLocation = new Point(Location.X + ox, Location.Y + oy);\\n};\\nMouseUp += (sender, e) => { _isDraging = false; };\\n\\n```\\n\\n\u5b9e\u73b0\u7c7b\u4f3c\u7684\u7a97\u4f53\u9634\u5f71\\n----------------\\n\\n\u662f\u4f7f\u7528\u7684\u4e00\u4e2a\u7c7b `Dropshadow`.\\n\\n\u6700\u5f00\u59cb\u4ece[\u8fd9\u91cc](http://stackoverflow.com/questions/8793445/windows-7-style-dropshadow-in-borderless-form)\\n\u770b\u5230\u80fd\u5b9e\u73b0\u9634\u5f71\u7684\u65b9\u6cd5,\u540e\u6765\u6709\u67e5\u627e\u4e86\u5f88\u591a\u4e1c\u897f,\u4fee\u6539\u6210\u4e86\\n\u6211\u81ea\u5df1\u7684 `Dropshadow` \u7248\u672c.\u8c03\u7528\u65b9\u6cd5\\n\\n```C#\\nvar f = new Dropshadow(this)\\n{\\n\\tBorderRadius = 40,\\n\\tShadowColor = Color.Blue\\n};\\n\\nf.RefreshShadow();\\n```\\n\\n\u5728 DataGridView \u4e2d\u4f7f\u7528 DateTimePicker\\n-------------------------------------\\n\\n\u8fd9\u4e2a\u5fd8\u8bb0\u4e86\u5177\u4f53\u662f\u5728\u54ea\u91cc\u627e\u7684\u4e86,\u4f7f\u7528 `CalendarColumn`\\n\u548c `CalendarCell` \u5373\u53ef.\u5728\u8bbe\u8ba1\u65f6\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9.\\n\\n\u5706\u89d2\u8fb9\u6846\\n----------\\n\\n```C#\\n[DllImport(\\"Gdi32.dll\\", EntryPoint = \\"CreateRoundRectRgn\\")]\\npublic static extern IntPtr CreateRoundRectRgn\\n\\t(\\n\\tint nLeftRect, // x-coordinate of upper-left corner\\n\\tint nTopRect, // y-coordinate of upper-left corner\\n\\tint nRightRect, // x-coordinate of lower-right corner\\n\\tint nBottomRect, // y-coordinate of lower-right corner\\n\\tint nWidthEllipse, // height of ellipse\\n\\tint nHeightEllipse // width of ellipse\\n\\t);\\n\\n// in form load\\nRegion = Region.FromHrgn(Win32.CreateRoundRectRgn(0, 0, Width, Height, 20, 20));\\n\\n```"},{"id":"bbk-memory","metadata":{"permalink":"/story/bbk-memory","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/README.md","title":"\u7eaa\u5ff5\u90a3\u4e9b\u5728 BBK \u7684\u65f6\u5149","description":"- 2010-09-02 \u6211\u7684\u7b2c\u4e00\u6761\u4e3b\u9898\u5e16","date":"2013-12-15T02:48:00.000Z","formattedDate":"December 15, 2013","tags":[{"label":"\u6545\u4e8b","permalink":"/story/tags/\u6545\u4e8b"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"}],"readingTime":4.24,"truncated":true,"authors":[],"prevItem":{"title":"\u5b66\u751f\u8003\u52e4\u7cfb\u7edf","permalink":"/story/student-checking-sys"},"nextItem":{"title":"\u8f6f\u4ef6\u8bbe\u8ba1\u5e08\u8003\u8bd5\u7b14\u8bb0","permalink":"/story/rk-software-designer"}},"content":"- 2010-09-02 \u6211\u7684\u7b2c\u4e00\u6761\u4e3b\u9898\u5e16\\n- 2007-09-07 \u6211\u7684\u7b2c\u4e00\u6761\u56de\u590d\u5e16\\n- 2007-08-26 \u6ce8\u518c\u5230 http://club.eebbk.com/\\n\\n\x3c!-- more --\x3e\\n\\n\u521a\u5f00\u59cb\u7684\u65f6\u5019\u6211\u7684 ID \u8fd8\u662f `a3160586`,\\n\u540e\u6765 \u66f2\u66f2 \u5949\u732e\u4e86\u4ed6\u7684 G \u5e01\u7ed9\u6211\u6539\u4e86\u4e2a\u540d\u53eb`\u5c0f\u6587\u513f`\u4e86,\u672c\u6765\u662f\u60f3\u53eb`\u6587\u513f`\u7684\\n,\u53ef\u60dc\u5df2\u7ecf\u88ab\u6ce8\u518c\u4e86,\u53ef\u60dc\u5440.\\n\\n\u90a3\u4e9b\u65f6\u5019,\u76db\u884c\u7684\u8fd8\u662f 9688, \u5199\u7684\u8fd8\u662f BBasic \u548c basm, \u7528\u7684\u8fd8\u662f npp.\\n\\n\u90a3\u4e9b\u65f6\u5019,\u8fd8\u66fe\u5f53\u8fc7\u7248\u4e3b,\u6000\u63e3\u7740\u4e00\u4e2a\u68a6\u60f3,\u8bf4\u8fc7\u4e00\u4e9b\u8c6a\u8bed.\\n\\n\u90a3\u4e9b\u65f6\u5019,\u6b63\u503c\u9ad8\u4e09\u4e0b\u671f,\u5929\u5929\u71ac\u591c\u5199\u4e1c\u897f,\u5373\u4fbf\u9003\u8bfe,\u8001\u5e08\u4e5f\u4e0d\u4f1a\u7ba1.\\n\\n\u90a3\u4e9b\u65f6\u5019,\u8fd8\u80fd\u6709\u793c\u7269,\u8fd8\u5728\u8ffd\u6c42\u7cbe\u534e,\u8fd8\u60f3\u632f\u5174\u7f16\u7a0b\u533a(\u73b0\u5728\u5408\u5e76\u5230\u6821\u5916\u533a\u4e86).\\n\\n\u90a3\u4e9b\u65f6\u5019,\u6709\u66f2\u66f2,\u5f1f\u5f1f,red,\u7070\u673a,\u4ed9\u5251 \u7b49\u7b49..........\\n\\n\u90a3\u4e9b\u65f6\u5019,\u771f\u7684\u5f88\u5feb\u4e50,\u867d\u7136\u6211\u61c2\u5f97\u771f\u7684\u4e0d\u591a,\u4f46\u6211\u53ea\u9700\u8981\u638c\u63e1\u597d\u4e00\u6837\u5c31\u597d.\\n\\n\u90a3\u4e9b\u65f6\u5019,\u8fc7\u53bb\u4e86,\u4e0d\u4f1a\u518d\u56de\u6765,\u4e5f\u4e0d\u9700\u8981\u518d\u56de\u6765.\\n\\n\\n\u73b0\u5728\u9762\u5bf9\u7684\u662f\u66f4\u591a\u7684\u77e5\u8bc6\u548c\u6280\u672f,\u6709\u65f6\u5019\u603b\u662f\u8fd8\u60f3\u91cd\u62fe\u4ee5\u524d\u7684\u4e1c\u897f,\\n\u53d1\u73b0\u771f\u7684\u5f88\u96be\u4e86.\u90a3\u4e9b\u4e1c\u897f\u6216\u591a\u6216\u5c11\u5df2\u7ecf\u8fc7\u65f6\u4e86,\u4f46\u662f\u5728\u6210\u957f\u7684\u8fc7\u7a0b\u4e2d\u66fe\\n\u626e\u6f14\u8fc7\u5341\u5206\u91cd\u8981\u7684\u89d2\u8272.\\n\\n\u90a3\u4e48\u591a\u5e74\u8fc7\u53bb\u4e86,BBK \u4e5f\u6ca1\u5f00\u653e\u8fc7\u4ec0\u4e48(\u6216\u8bb8\u6211\u4e0d\u77e5\u9053),\\n\u793e\u533a\u611f\u89c9\u4e0a\u4e5f\u8d8a\u6765\u8d8a\u5c0f\u4e86\u5427,\u771f\u7684\u4e0d\u559c\u6b22\u8fd9\u6837,\u867d\u7136\u73b0\u5728\u8bba\u575b\u66f4\u6f02\u4eae\u4e86,\\n\u754c\u9762\u66f4\u597d\u4e86,\u4ea7\u54c1\u66f4\u65b0\u4e86,\u4f46\u662f\u5438\u5f15\u529b\u5374\u8d8a\u6765\u8d8a\u5c0f\u4e86.\u6ca1\u6709\u81ea\u5df1\u80fd\u7528\u529b\u7684\u5730\u65b9,\\n\u5373\u4fbf\u662f\u518d\u5fe0\u8bda\u7684\u7528\u6237,\u4e5f\u65e0\u80fd\u4e3a\u529b,\u6c38\u8fdc\u5f62\u6210\u4e0d\u4e86\u50cf\u5f00\u6e90\u7684\u90a3\u79cd\u793e\u533a\u6548\u5e94.\\n\\n\u4e00\u4e2a\u4ea7\u54c1\u7684\u8fdb\u5316\u66f4\u591a\u7684\u662f\u53d7\u5230\u793e\u533a\u548c\u7528\u6237\u7684\u5f71\u54cd,\u53ea\u7acb\u8db3\u4e8e\u5546\u4e1a\u548c\u81ea\u5df1\u7684\u5229\u76ca,\\n\u8fd9\u6837\u505a\u7684\u4ea7\u54c1\u6c38\u8fdc\u90fd\u662f\u81ea\u5df1\u7684,\u7528\u6237\u53c8\u6709\u4ec0\u4e48\u53d1\u8a00\u6743\u5462?\u6700\u540e\u4e5f\u53ea\u80fd\u662f\u4eba\u8d70\u8336\u51c9\u4e86.\\n\u4e00\u6279\u4eba\u8d70\u4e86,\u53e6\u4e00\u6279\u4e0d\u660e\u6240\u4ee5\u7684\u4eba\u53c8\u8fdb\u6765,\u7136\u540e\u53c8\u79bb\u5f00.\\n\\n\u6240\u4ee5\u79bb\u5f00\u4e86,\u5269\u4e0b\u7684\u6216\u8bb8\u90fd\u662f\u4f60\u4eec\u7684\u4e16\u754c.\\n\\n\u8fd9\u91cc\u5305\u542b\u4e86\u6211\u5f53\u521d\u5728 bbk \u8bba\u575b\u53d1\u8868\u7684\u90e8\u5206\u5185\u5bb9,\\n\\n- [js \u89e3\u6790 lib \u56fe\u7247\u6587\u4ef6\u5217\u8868](https://wener.me/story/bbk-bbimg-js)\\n- [\u56db\u4e2a\u51fd\u6570\u548c bb \u7f16\u8f91\u5668](https://wener.me/story/bbk-libs)\\n- [BB \u6025\u901f\u622a\u56fe](https://wener.me/story/bbk-quick-screenshot)\\n- [\u8fd8\u539f\u7684 Bda \u8ba1\u7b97\u5668](https://wener.me/story/bbk-bda-calc)\\n- [\u56da\u5f92\u56f0\u5883](https://wener.me/story/bbk-game-prisoner-dilemma)\\n- [\u5e73\u751f\u7b2c\u4e00\u4e2a\u6e38\u620f - \u8da3\u5473\u62fc\u56fe](https://wener.me/story/bbk-first-game)\\n\\n\u6ca1\u6709\u8f6c\u5b58\u7684\u5185\u5bb9,\u4e0b\u9762\u4f1a\u5217\u4e3e\u4e00\u4e9b.\\n\\n> \u4ee5\u4e0b\u94fe\u63a5\u5747 404\\n\\n- [DLX&LIB&RLB&BMP \u6587\u4ef6\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\uff0c\u6df1\u5165\u7814\u7a76 \uff0c\u9644\u5e26\u6587\u4ef6\u8bfb\u53d6\u6a21\u677f\uff0c\u6e90\u7801\uff0c\u5927\u5bcc\u7fc1\u7d20\u6750\u548c\u4e00\u4e9b dlx \u5bfc\u51fa\u7684\u7ed3\u679c](http://club.eebbk.com/bbkbbs/showtopic/250018/1)\\n- [\u7528\u6237\u8bcd\u5178\u6570\u636e\u7ed3\u6784\uff0c\u6a21\u677f\u548c lcc \u6587\u4ef6\u6a21\u677f\uff0c\u53ef\u76f4\u63a5\u8bfb\u5199\u6570\u636e](http://club.eebbk.com/bbkbbs/showtopic/250082/1)\\n- [\u540d\u7247\u6587\u4ef6\uff08LCC\uff09\u7ed3\u6784\uff0c\u751f\u6210\u81ea\u5df1\u7684\u540d\u7247](http://club.eebbk.com/bbkbbs/showtopic/249402/1)\\n- [\u5f3a\u5927\u51fd\u6570 \u5236\u4f5c bb \u7684\u52a8\u6001\u94fe\u63a5\u5e93(dll)\uff0c\u5b9e\u73b0\u6570\u636e\u5e93,\u7528\u6c47\u7f16\u7684](http://club.eebbk.com/bbkbbs/showtopic/246851/1)\\n- [\u8fd9\u6837\u505a ARPG(\u52a8\u4f5c\u7c7b\u89d2\u8272\u626e\u6f14\u6e38\u620f)](http://club.eebbk.com/bbkbbs/showtopic/245477/1)\\n- [p \u7c7b\u51fd\u6570\u5e93\u7684\u5b9e\u9645\u8fd0\u7528\uff0c\u7531\u6d45\u5165\u6df1\uff0c\u6df1\u5165\u6d45\u51fa\u7684\u5b9e\u4f8b\u8bb2\u89e3](http://club.eebbk.com/bbkbbs/showtopic/244376/1)\\n- [BB \u5b66\u4e60\u5fc5\u5907\u624b\u518c](http://club.eebbk.com/bbkbbs/showtopic/245464/1)\\n- [\u7269\u7406\u7684\u7b80\u5355\u8fd0\u7528\u300aPLAYBALL\u300b\uff08\u73a9\u86cb\uff09](http://club.eebbk.com/bbkbbs/showtopic/243308/1)\\n- [\u8d1d\u585e\u5c14\u66f2\u7ebf\u8fd0\u7528\uff0c8 \u4e2a\u5b9e\u4f8b\u3002](http://club.eebbk.com/bbkbbs/showtopic/243000/1)\\n- [\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\u8f85\u52a9\u7684\u5de5\u5177\uff0c\u8ba9\u4f60\u8ba1\u7b97\u70b9\u7684\u4f4d\u7f6e\uff0c\u53ef\u89c6\u5316\u3002exe \u683c\u5f0f](http://club.eebbk.com/bbkbbs/showtopic/243168/1)"},{"id":"rk-software-designer","metadata":{"permalink":"/story/rk-software-designer","editUrl":"https://github.com/wenerme/wener/edit/master/story/2013/2013-11-08-\u8f6f\u4ef6\u8bbe\u8ba1\u5e08\u8003\u8bd5\u7b14\u8bb0.md","source":"@site/story/2013/2013-11-08-\u8f6f\u4ef6\u8bbe\u8ba1\u5e08\u8003\u8bd5\u7b14\u8bb0.md","title":"\u8f6f\u4ef6\u8bbe\u8ba1\u5e08\u8003\u8bd5\u7b14\u8bb0","description":"\u8003\u8bd5\u8f6f\u8003\u7684\u65f6\u5019,\u6574\u7406\u7684\u4e00\u4e9b\u7b14\u8bb0","date":"2013-11-08T00:00:00.000Z","formattedDate":"November 8, 2013","tags":[{"label":"\u8f6f\u4ef6\u8bbe\u8ba1","permalink":"/story/tags/\u8f6f\u4ef6\u8bbe\u8ba1"},{"label":"\u7b14\u8bb0","permalink":"/story/tags/\u7b14\u8bb0"}],"readingTime":29.415,"truncated":true,"authors":[],"prevItem":{"title":"\u7eaa\u5ff5\u90a3\u4e9b\u5728 BBK \u7684\u65f6\u5149","permalink":"/story/bbk-memory"},"nextItem":{"title":"Regex \u901f\u8bb0","permalink":"/story/regex-note"}},"content":"> \u8003\u8bd5\u8f6f\u8003\u7684\u65f6\u5019,\u6574\u7406\u7684\u4e00\u4e9b\u7b14\u8bb0\\n\\n\x3c!-- more --\x3e\\n\\n\u5185\u5bb9\\n====\\n\\n\u7cfb\u7edf\u5f00\u53d1\u548c\u8fd0\u884c\\n--------------\\n\\n### \u8f6f\u4ef6\u751f\u5b58\u5468\u671f\\n\u53ef\u884c\u6027\u5206\u6790, \u9879\u76ee\u5f00\u53d1\u8ba1\u5212, \u9700\u6c42\u5206\u6790, \u8bbe\u8ba1(\u6982\u8981\u8bbe\u8ba1\u548c\u8be6\u7ec6\u8bbe\u8ba1), \u7f16\u7801, \u6d4b\u8bd5, \u7ef4\u62a4\\n\\n### \u8f6f\u4ef6\u5f00\u53d1\u6a21\u578b\\n\\n\u7011\u5e03\u6a21\u578b\\n: \u63d0\u4f9b\u4e86\u6709\u6548\u7684\u7ba1\u7406\u6a21\u5f0f, \u6587\u6863\u9a71\u52a8\\n: \u4e3b\u8981\u7528\u4e8e\u7ed3\u6784\u5316\u7684\u8f6f\u4ef6\u5f00\u53d1\\n: \u7f3a\u4e4f\u7075\u6d3b\u6027, \u65e0\u6cd5\u901a\u8fc7\u5f00\u53d1\u6d3b\u52a8\u6765\u660e\u786e\u9700\u6c42\\n\\n\\n\u6f14\u5316\u6a21\u578b\\n: \u6784\u5efa\u539f\u578b\\n: \u5bf9\u8f6f\u4ef6\u9700\u6c42\u7f3a\u4e4f\u51c6\u786e\u8ba4\u8bc6\\n\\n\u87ba\u65cb\u6a21\u578b\\n: \u7efc\u5408\u4e86\u7011\u5e03\u6a21\u578b\u548c\u6f14\u5316\u6a21\u578b\u7684\u4f18\u70b9\\n: \u589e\u52a0\u4e86\u98ce\u9669\u5206\u6790\\n: \u9002\u5408\u5927\u578b\u590d\u6742\u7cfb\u7edf\\n\\n\u55b7\u6cc9\u6a21\u578b\\n: *\u9762\u5411\u5bf9\u8c61\u5f00\u53d1\u8fc7\u7a0b*\\n: \u5177\u6709\u8fed\u4ee3\u548c\u65e0\u95f4\u9699\u7279\u6027\\n\\nV\u6a21\u578b\\n: \u5f3a\u8c03\u8f6f\u4ef6\u5f00\u53d1\u7684\u534f\u4f5c\u548c\u901f\u5ea6\\n: \u5b9e\u73b0\u548c\u9a8c\u8bc1\u7ed3\u5408\\n: \u4fdd\u8bc1\u8d28\u91cf\u7f29\u77ed\u5468\u671f\\n\\n### \u8f6f\u4ef6\u5f00\u53d1\u65b9\u6cd5\\n\\n#### \u7ed3\u6784\u5316\u65b9\u6cd5\\n\u7531\u7ed3\u6784\u5316\u5206\u6790,\u7ed3\u6784\u5316\u8bbe\u8ba1,\u7ed3\u6784\u5316\u7a0b\u5e8f\u8bbe\u8ba1\u6784\u6210\\n\u662f\u4e00\u79cd\u9762\u5411__\u6570\u636e\u6d41__\u7684\u5f00\u53d1\u65b9\u6cd5.\\n\u4f7f\u7528DFD\u56fe\u6765\u5efa\u7acb\u7cfb\u7edf\u7684\u529f\u80fd\u6a21\u578b.\\n\u6307\u5bfc\u601d\u60f3\u662f \u81ea\u9876\u5411\u4e0b,\u9010\u5c42\u5206\u89e3.\u57fa\u672c\u539f\u5219\u662f\u529f\u80fd\u7684\u5206\u89e3\u4e0e\u62bd\u8c61.\\n\u9002\u7528\u4e8e\u6570\u636e\u5904\u7406\u9886\u57df,\u4e0d\u9002\u5408\u89e3\u51b3\u5927\u89c4\u6a21\u7684,\u7279\u522b\u590d\u6742\u7684\u9879\u76ee,\u4e14\u96be\u4ee5\u9002\u5e94\u9700\u6c42\u7684\u53d8\u5316\\n\\n#### Jackson \u65b9\u6cd5\\n\\n\u662f\u4e00\u79cd\u9762\u5411__\u6570\u636e\u6d41__\u7684\u5f00\u53d1\u65b9\u6cd5.\\nJSP(Jaskon Structure Programming) \u65b9\u6cd5 \u4ee5\u6570\u636e\u7ed3\u6784\u4e3a\u9a71\u52a8,\u9002\u5408\u4e8e\u5c0f\u89c4\u6a21\u9879\u76ee.\\nJSD \u662f JSP \u7684\u6269\u5145.\\n\\n#### \u539f\u578b\u5316\u65b9\u6cd5\\n\\n\u5f00\u53d1\u539f\u578b,\u5f81\u6c42\u610f\u89c1,\u4fee\u6539\u539f\u578b.\\n\u9002\u7528\u4e8e\u7528\u6237\u9700\u6c42\u4e0d\u6e05,\u4e1a\u52a1\u4e0d\u786e\u5b9a,\u9700\u6c42\u7ecf\u5e38\u53d8\u5316\u7684\u60c5\u51b5.\u4e5f\u53ef\u7528\u4e8e\u4e0d\u590d\u6742\u7684\u5c0f\u89c4\u6a21\u9879\u76ee.\\n\\n#### \u9762\u5411\u5bf9\u8c61\u5f00\u53d1\u65b9\u6cd5\\n\\n\u5305\u62ec\u9762\u5411\u5bf9\u8c61\u5206\u6790,\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u548c\u9762\u5411\u5bf9\u8c61\u5b9e\u73b0.\\n\\n\u9762\u5411\u5bf9\u8c61\u5f00\u53d1\u65b9\u6cd5: Booch,Coad,OMT.\\nUML \u662f\u9762\u5411\u5bf9\u8c61\u6807\u51c6\u5efa\u6a21\u8bed\u8a00.\\n\\n### \u98ce\u9669\u5206\u6790\\n\\n\u5305\u62ec \u98ce\u9669\u8bc6\u522b, \u98ce\u9669\u9884\u6d4b, \u98ce\u9669\u8bc4\u4f30, \u98ce\u9669\u63a7\u5236\\n\\n\u98ce\u9669\u8bc6\u522b\\n: \u5efa\u7acb\u98ce\u9669\u6761\u76ee\u68c0\u67e5\u8868\\n\\n\u98ce\u9669\u9884\u6d4b\\n: \u98ce\u9669\u53d1\u751f\u7684\u53ef\u80fd\u6027\u6216\u6982\u7387,\u98ce\u9669\u53d1\u751f\u6240\u4ea7\u751f\u7684\u540e\u679c\\n\\n\u98ce\u9669\u8bc4\u4f30\\n: $(r_i,l_i,x_i)$,r\u4e3a\u98ce\u9669,l\u4e3a\u6982\u7387,x\u4e3a\u5f71\u54cd\\n: \u5efa\u7acb\u53c2\u7167\\n\\n\u98ce\u9669\u63a7\u5236\\n: \u98ce\u9669\u907f\u514d,\u98ce\u9669\u76d1\u63a7, \u98ce\u9669\u7ba1\u7406\u53ca\u610f\u5916\u4e8b\u4ef6\u8ba1\u5212\\n\\n### \u8fdb\u5ea6\u7ba1\u7406\\n\\n#### Gantt \u56fe\\n\\n\u53ef\u4ee5\u53cd\u6620\u5e76\u884c\u5173\u7cfb\\n\u4e0d\u80fd\u53cd\u6620\u4f9d\u8d56\u5173\u7cfb,\u96be\u4ee5\u786e\u5b9a\u9879\u76ee\u7684\u5173\u952e\u6240\u5728,\u4e0d\u80fd\u53cd\u6620\u8ba1\u5212\u4e2d\u6709\u6f5c\u529b\u90e8\u5206\\n\\n#### PERT \u56fe\\n\\n\u53ef\u4ee5\u53cd\u6620\u4f9d\u8d56\u5173\u7cfb,\u786e\u5b9a\u5173\u952e,\u53cd\u6620\u6f5c\u529b\\n\u4e0d\u80fd\u53cd\u6620\u5e76\u884c\\n\\n\u5173\u952e\u8def\u5f84\u662f\u677e\u5f1b\u65f6\u95f4\u4e3a 0 \u7684\u4efb\u52a1\u5b8c\u6210\u8fc7\u7a0b\u6240\u7ecf\u5386\u7684\u8def\u5f84.\u6ca1\u6709\u677e\u5f1b\u65f6\u95f4\u5219\u662f\u8017\u65f6\u6700\u957f\u8def\u5f84.\\n\\n### \u8f6f\u4ef6\u914d\u7f6e\u7ba1\u7406\\n\\n\u6807\u8bc6\u53d8\u66f4,\u63a7\u5236\u53d8\u66f4,\u786e\u4fdd\u53d8\u66f4,\u7248\u672c\u63a7\u5236\\n\\n### \u8f6f\u4ef6\u8fc7\u7a0b\u7ba1\u7406\\n\\n\u8f6f\u4ef6\u8fc7\u7a0b\u80fd\u529b\u8bc4\u4f30\u7684\u610f\u4e49\\n: \u662f\u6539\u8fdb\u8f6f\u4ef6\u8fc7\u7a0b\u548c\u964d\u4f4e\u8f6f\u4ef6\u98ce\u9669\u7684\u9700\u8981\\n\\n### \u8f6f\u4ef6\u80fd\u529b\u6210\u719f\u5ea6\u6a21\u578b / CMM\\n\\n\u521d\u59cb\u7ea7\\n: \u65e0\u5e8f\u7684,\u6df7\u4e71\u7684,\u5bf9\u8fc7\u7a0b\u6ca1\u6709\u5b9a\u4e49,\u6210\u529f\u53d6\u51b3\u4e8e\u4e2a\u4eba\\n\\n\u53ef\u91cd\u590d\u7ea7\\n: \u6709\u57fa\u672c\u7684\u9879\u76ee\u7ba1\u7406\u8fc7\u7a0b\u6765\u8ddf\u8e2a\u8d39\u7528,\u8fdb\u5ea6,\u529f\u80fd\u7279\u6027.\u6709\u8fc7\u7a0b\u7eaa\u5f8b,\u80fd\u91cd\u590d\u65e9\u5148\u7c7b\u4f3c\u7684\u6210\u529f\\n\\n\u5df2\u5b9a\u4e49\u7ea7\\n: \u5c06\u8f6f\u4ef6\u7ba1\u7406\u548c\u5de5\u7a0b\u7684\u8fc7\u7a0b\u6587\u6863\u5316,\u6807\u51c6\u5316,\u7efc\u5408\u6210\u8be5\u7ec4\u7ec7\u7684\u6807\u51c6\u8f6f\u4ef6\u8fc7\u7a0b.\u9879\u76ee\u4f7f\u7528\u7ecf\u6279\u51c6,\u88c1\u526a\u7684\u6807\u51c6\u8f6f\u4ef6\u8fc7\u7a0b\u6765\u5f00\u53d1\u548c\u7ef4\u62a4\u8f6f\u4ef6.\\n\\n\u5df2\u7ba1\u7406\u7ea7\\n: \u6536\u96c6\u5bf9\u8f6f\u4ef6\u8fc7\u7a0b\u548c\u4ea7\u54c1\u8d28\u91cf\u7684\u8be6\u7ec6\u5ea6\u91cf,\u5bf9\u8f6f\u4ef6\u8fc7\u7a0b\u548c\u4ea7\u54c1\u90fd\u6709\u5b9a\u91cf\u7684\u7406\u89e3\u548c\u63a7\u5236\\n\\n\u4f18\u5316\u7ea7\\n: \u8fc7\u7a0b\u7684\u91cf\u5316\u53cd\u9988\u548c\u5148\u8fdb\u7684\u65b0\u601d\u60f3,\u65b0\u6280\u672f\u4fc3\u4f7f\u8fc7\u7a0b\u4e0d\u65ad\u6539\u8fdb.\\n\\n### \u7edf\u4e00\u8fc7\u7a0b\\n\\n\u7edf\u4e00\u8fc7\u7a0b(UP)\u6a21\u578b\u662f\u4e00\u79cd \\"\u7528\u4f8b\u548c\u98ce\u9669\u9a71\u52a8,\u4ee5\u6784\u67b6\u4e3a\u4e2d\u5fc3,\u8fed\u4ee3\u5e76\u4e14\u589e\u91cf\\"\u7684\u5f00\u53d1\u8fc7\u7a0b.\\n\\n\u5206\u4e3a\u4e94\u4e2a\u9636\u6bb5:\\n\\n-|-\\n-|-\\n\u521d\u59cb\u9636\u6bb5|\u751f\u547d\u5468\u671f\u76ee\u6807\\n\u7cbe\u5316\u9636\u6bb5|\u751f\u547d\u5468\u671f\u6784\u67b6\\n\u6784\u5efa\u9636\u6bb5|\u521d\u59cb\u8fd0\u4f5c\u529f\u80fd(Beta \u7248\u4ea7\u54c1)\\n\u79fb\u4ea4\u9636\u6bb5|\u4ea7\u54c1\u53d1\u5e03\\n\\n#### RUP\\nRUP(Rational Unified Process) \u662f UP \u7684\u5546\u4e1a\u6269\u5c55.\\n\\n\u89d2\u8272\\n: \u63cf\u8ff0\u4e2a\u4eba\u6216\u5c0f\u7ec4\u7684\u884c\u4e3a\u804c\u8d23\\n\\n\u6d3b\u52a8\\n: \u6709\u660e\u786e\u76ee\u7684\u7684\u5de5\u4f5c\u5355\u5143\\n\\n\u5de5\u4ef6\\n: \u662f\u6d3b\u52a8\u751f\u6210,\u521b\u5efa\u6216\u4fee\u6539\u7684\u4e00\u6bb5\u4fe1\u606f.\\n\\n### \u654f\u6377\u65b9\u6cd5\\n\\n\u662f \\"\u5c3d\u53ef\u80fd\u65e9\u7684,\u6301\u7eed\u7684\u5bf9\u6709\u4ef7\u503c\u7684\u8f6f\u4ef6\u7684\u4ea4\u4ed8\\"\u4f7f\u5ba2\u6237\u6ee1\u610f\\n\\n\u5178\u578b\u65b9\u6cd5: \u6781\u9650\u7f16\u7a0b,\u6c34\u6676\u6cd5,\u5e76\u5217\u5f81\u6c42\u6cd5,\u81ea\u9002\u5e94\u8f6f\u4ef6\u5f00\u53d1\\n\\n#### \u6781\u9650\u7f16\u7a0b\\n4\u4e2a\u4ef7\u503c\u89c2\\n: \u6c9f\u901a,\u7b80\u5355\u6027,\u53cd\u9988\u548c\u52c7\u6c14\\n\\n5\u4e2a\u539f\u5219\\n: \u5feb\u901f\u53cd\u9988, \u7b80\u5355\u6027\u5047\u8bbe, \u9010\u6b65\u4fee\u6539, \u63d0\u5021\u66f4\u6539\u548c\u4f18\u8d28\u5de5\u4f5c\\n\\n12\u4e2a\u6700\u4f73\u5b9e\u8df5\\n: \u8ba1\u5212\u6e38\u620f,\u5c0f\u578b\u53d1\u5e03,\u9690\u55bb, \u7b80\u5355\u8bbe\u8ba1, \u6d4b\u8bd5\u5148\u884c, \u91cd\u6784, \u7ed3\u5bf9\u7f16\u7a0b, \u96c6\u4f53\u4ee3\u7801\u6240\u6709\u5236,\\n    \u6301\u7eed\u96c6\u6210, \u6bcf\u5468\u5de5\u4f5c40\u4e2a\u5c0f\u65f6,\u73b0\u573a\u5ba2\u6237\u548c\u7f16\u7801\u6807\u51c6.\\n\\n### \u8f6f\u4ef6\u8d28\u91cf\u7279\u6027\\n\\nISO/IEC 9126 \u8f6f\u4ef6\u8d28\u91cf\u6a21\u578b\u7531\u4e09\u4e2a\u5c42\u6b21\u6784\u6210: \u8d28\u91cf\u7279\u6027,\u8d28\u91cf\u5b50\u7279\u6027, \u5ea6\u91cf\u6307\u6807\\n\\n* \u529f\u80fd\u6027\\n    * \u9002\u5408\u6027\\n    * \u51c6\u786e\u6027\\n    * \u4e92\u7528\u6027\\n    * \u4f9d\u4ece\u6027\\n    * \u5b89\u5168\u6027\\n* \u53ef\u9760\u6027\\n    * \u6210\u719f\u6027\\n    * \u5bb9\u9519\u6027\\n    * \u6613\u6062\u590d\u6027\\n* \u6613\u7528\u6027\\n    * \u6613\u7406\u89e3\u6027\\n    * \u6613\u5b66\u6027\\n    * \u6613\u64cd\u4f5c\u6027\\n* \u6548\u7387\\n    * \u65f6\u95f4\u7279\u6027\\n    * \u8d44\u6e90\u7279\u6027\\n* \u53ef\u7ef4\u62a4\u6027\\n    * \u6613\u5206\u6790\u6027\\n    * \u6613\u4fee\u6539\u6027\\n    * \u7a33\u5b9a\u6027\\n    * \u6613\u6d4b\u8bd5\u6027\\n* \u53ef\u79fb\u690d\u6027\\n    * \u9002\u5e94\u6027\\n    * \u6613\u5b89\u88c5\u6027\\n    * \u4e00\u81f4\u6027\\n    * \u6613\u66ff\u6362\u6027\\n\\n#### \u8f6f\u4ef6\u8d28\u91cf\u4fdd\u8bc1\\n\\n\u5305\u62ec7\u4e2a\u4e3b\u8981\u6d3b\u52a8\u76f8\u5173\u7684\u5404\u79cd\u4efb\u52a1:\\n\\n* \u5e94\u7528\u6280\u672f\u65b9\u6cd5\\n* \u8fdb\u884c\u6b63\u5f0f\u7684\u6280\u672f\u8bc4\u5ba1\\n* \u6d4b\u8bd5\u8f6f\u4ef6\\n* \u6807\u51c6\u7684\u5b9e\u65bd\\n* \u63a7\u5236\u53d8\u66f4\\n* \u5ea6\u91cf\\n* \u8bb0\u5f55\u4fdd\u5b58\u548c\u62a5\u544a\\n\\n### \u4ee3\u7801\u590d\u6742\u6027\\n\\n* \u4ee3\u7801\u884c\u5ea6\u91cf\u6cd5\\n* McCabe \u5ea6\u91cf\u6cd5\\n    \u53c8\u79f0\u4e3a\u73af\u5ea6\u91cf\u6cd5,\u8ba4\u4e3a\u590d\u6742\u6027\u4e3b\u8981\u53d6\u51b3\u4e8e\u63a7\u5236\u590d\u6742\u6027.\\n\\n### \u7cfb\u7edf\u8bbe\u8ba1\u7684\u57fa\u672c\u539f\u7406\\n\u62bd\u8c61, \u6a21\u5757\u5316, \u4fe1\u606f\u9690\u853d, \u6a21\u5757\u72ec\u7acb\\n\\n### \u8f6f\u4ef6\u6d4b\u8bd5\u7b56\u7565\\n\\n\u5355\u5143\u6d4b\u8bd5\\n: \u4e5f\u79f0\u4e3a\u6a21\u5757\u6d4b\u8bd5.\\n: \u7279\u5f81: \u6a21\u5757\u7ed3\u6784,\u5c40\u90e8\u6570\u636e\u7ed3\u6784, \u91cd\u8981\u7684\u6267\u884c\u8def\u5f84,\u51fa\u9519\u5904\u7406,\u8fb9\u754c\u6761\u4ef6\\n\\n\u7ec4\u88c5\u6d4b\u8bd5\\n: \u4e5f\u79f0\u4e3a\u96c6\u6210\u6d4b\u8bd5\\n: \u65b9\u6cd5:\\n    1.\u5206\u522b\u6d4b\u8bd5\u5404\u6a21\u5757,\u5728\u7ec4\u88c5\u8d77\u6765\u6574\u4f53\u6d4b\u8bd5,\u5373\u975e\u589e\u91cf\u6d4b\u8bd5.\\n    2.\u6a21\u5757\u7ec4\u5408\u5230\u5df2\u6d4b\u8bd5\u597d\u7684\u6a21\u5757\u4e2d,\u5b8c\u6210\u540e\u7ec4\u5408\u4e0b\u4e00\u4e2a\u6a21\u5757,\u5373\u589e\u91cf\u6d4b\u8bd5\\n\\n\u786e\u8ba4\u6d4b\u8bd5\\n: \u786e\u8ba4\u529f\u80fd\u548c\u6027\u80fd\u662f\u5426\u548c\u7528\u6237\u8981\u6c42\u7684\u4e00\u6837.\\n: \u5148\u8fdb\u884c\u6709\u6548\u6027\u6d4b\u8bd5\u53ca\u8f6f\u4ef6\u914d\u7f6e\u5ba1\u67e5,\u7136\u540e\u8fdb\u884c\u9a8c\u6536\u6d4b\u8bd5\u548c\u5b89\u88c5\u6d4b\u8bd5,\u5b8c\u6210\u540e\u4ea4\u4ed8\u7ed9\u7528\u6237\\n\\n\u7cfb\u7edf\u6d4b\u8bd5\\n: \u5c06\u8f6f\u4ef6\u653e\u5165\u5230\u5b9e\u9645\u73af\u5883\u4e2d,\u8fdb\u884c\u5404\u79cd\u7ec4\u88c5\u6d4b\u8bd5\u548c\u786e\u8ba4\u6d4b\u8bd5.\\n: \u5e38\u89c1\u7684\u7cfb\u7edf\u6d4b\u8bd5 \u6062\u590d\u6d4b\u8bd5,\u5b89\u5168\u6027\u6d4b\u8bd5,\u5f3a\u5ea6\u6d4b\u8bd5, \u6027\u80fd\u6d4b\u8bd5,\u5b89\u88c5\u6d4b\u8bd5,\u53ef\u9760\u6027\u6d4b\u8bd5\\n\\n\\n### \u6d4b\u8bd5\u65b9\u6cd5\\n\\n\u5206\u4e3a\u9759\u6001\u6d4b\u8bd5\u548c\u52a8\u6001\u6d4b\u8bd5\\n\\n\u9759\u6001\u6d4b\u8bd5\u5206\u4e3a \u4eba\u5de5\u68c0\u6d4b\u548c\u8ba1\u7b97\u673a\u8f85\u52a9\u9759\u6001\u5206\u6790\\n\\n\u52a8\u6001\u6d4b\u8bd5\u5206\u4e3a \u9ed1\u76d2\u6d4b\u8bd5\u548c\u767d\u76d2\u6d4b\u8bd5\\n\\n#### \u9ed1\u76d2\u6d4b\u8bd5\u7528\u4f8b\\n\u4e5f\u79f0\u4e3a\u529f\u80fd\u6d4b\u8bd5.\u4e0d\u8003\u8651\u5185\u90e8\u7ed3\u6784\u548c\u7279\u6027\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u5916\u90e8\u7279\u6027\u6d4b\u8bd5.\\n\\n\u5e38\u7528\u7684\u6d4b\u8bd5\u6280\u672f:\\n\\n* \u7b49\u4ef7\u7c7b\u5212\u5206\\n* \u8fb9\u754c\u503c\u5206\u6790\\n* \u9519\u8bef\u63a8\u65ad\\n* \u56e0\u679c\u56fe\\n\\n#### \u767d\u76d2\u6d4b\u8bd5\u7528\u4f8b\\n\u4e5f\u79f0\u4e3a\u7ed3\u6784\u6d4b\u8bd5\\n\\n\u6d4b\u8bd5\u65b9\u6cd5:\\n\\n* \u903b\u8f91\u8986\u76d6\\n* \u5faa\u73af\u8986\u76d6\\n* \u57fa\u672c\u8def\u5f84\u6d4b\u8bd5\\n\\n### \u8c03\u8bd5\\n\\n\u5e38\u7528\u7684\u8c03\u8bd5\u65b9\u6cd5: \u8bd5\u63a2\u6cd5,\u56de\u6eaf\u6cd5, \u5bf9\u5206\u67e5\u627e\u6cd5,\u5f52\u7eb3\u6cd5,\u6f14\u7ece\u6cd5\\n\\n### \u7cfb\u7edf\u6587\u6863\\n\\n\u4eba\u5458|\u6587\u6863\\n-|-\\n\u7528\u6237-\u7cfb\u7edf\u5206\u6790\u4eba\u5458 \u89c4\u5212\u5206\u6790|\u53ef\u884c\u6027\u7814\u7a76\u62a5\u544a,\u603b\u4f53\u89c4\u5212\u62a5\u544a,\u7cfb\u7edf\u5f00\u53d1\u5408\u540c,\u7cfb\u7edf\u65b9\u6848\u8bf4\u660e\u4e66\\n\u7cfb\u7edf\u5f00\u53d1\u4eba\u5458-\u9879\u76ee\u7ba1\u7406\u4eba\u5458|\u7cfb\u7edf\u5f00\u53d1\u8ba1\u5212,\u7cfb\u7edf\u5f00\u53d1\u6708\u62a5,\u7cfb\u7edf\u5f00\u53d1\u603b\u7ed3\\n\u7cfb\u7edf\u6d4b\u8bd5\u4eba\u5458-\u7cfb\u7edf\u5f00\u53d1\u4eba\u5458| \u7cfb\u7edf\u65b9\u6848\u8bf4\u660e\u4e66,\u7cfb\u7edf\u5f00\u53d1\u5408\u540c,\u7cfb\u7edf\u8bbe\u8ba1\u8bf4\u660e\u4e66,\u6d4b\u8bd5\u8ba1\u5212\\n\u7cfb\u7edf\u5f00\u53d1\u4eba\u5458-\u7528\u6237 \u8fd0\u884c\u671f\u95f4| \u7528\u6237\u901a\u8fc7\u5f00\u53d1\u4eba\u5458\u64b0\u5199\u7684\u6587\u6863\u8fd0\u884c\u7cfb\u7edf\\n\u7cfb\u7edf\u5f00\u53d1\u4eba\u5458-\u7cfb\u7edf\u7ef4\u62a4\u4eba\u5458| \u7cfb\u7edf\u8bbe\u8ba1\u8bf4\u660e\u4e66,\u7cfb\u7edf\u5f00\u53d1\u603b\u7ed3\u62a5\u544a\\n\u7528\u6237-\u7ef4\u62a4\u4eba\u5458 \u8fd0\u884c\u7ef4\u62a4\u671f\u95f4| \u7528\u6237\u8bb0\u8f7d\u8fd0\u884c\u95ee\u9898,\u5f62\u6210\u8fd0\u884c\u62a5\u544a\u548c\u4fee\u6539\u5efa\u8bae.\u7ef4\u62a4\u4eba\u5458\u4f9d\u6b21\u8fdb\u884c\u7ef4\u62a4\\n\\n### \u7cfb\u7edf\u7ef4\u62a4\\n\\n\u53ef\u7ef4\u62a4\u6027\\n: \u7ef4\u62a4\u4eba\u5458\u7406\u89e3,\u6539\u6b63,\u6539\u52a8\u548c\u6539\u8fdb\u8fd9\u4e2a\u8f6f\u4ef6\u7684\u96be\u6613\u5ea6.\\n\\n\u7cfb\u7edf\u7684\u53ef\u7ef4\u62a4\u6027\u6307\u6807\\n: \u53ef\u7406\u89e3\u6027,\u53ef\u6d4b\u8bd5\u6027,\u53ef\u4fee\u6539\u6027\\n\\n\u7ef4\u62a4\u4e0e\u6587\u6863\\n: \u6587\u6863\u662f\u8f6f\u4ef6\u53ef\u7ef4\u62a4\u6027\u7684\u51b3\u5b9a\u56e0\u7d20.\u5206\u4e3a\u7528\u6237\u6587\u6863\u548c\u7cfb\u7edf\u6587\u6863\\n\\n#### \u7cfb\u7edf\u7ef4\u62a4\u7684\u5185\u5bb9\u53ca\u7c7b\u578b\\n\\n\u7ef4\u62a4\u7684\u8d39\u7528\u662f\u751f\u5b58\u5468\u671f\u5168\u90e8\u8d39\u7528\u7684 60% ~ 80%\\n\\n* \u786c\u4ef6\u7ef4\u62a4\\n* \u8f6f\u4ef6\u7ef4\u62a4\\n* \u6570\u636e\u7ef4\u62a4\\n\\n\u8f6f\u4ef6\u7ef4\u62a4\u7684\u5206\u7c7b\\n\\n* \u6b63\u786e\u6027/\u6539\u6b63\u6027 \u7ef4\u62a4. 17%~21%\\n    \u4ea4\u4ed8\u540e,\u8fd0\u884c\u65f6,\u8bca\u65ad\u548c\u6539\u6b63\u9519\u8bef\\n* \u9002\u5e94\u6027\u7ef4\u62a4. 18%~25%\\n* \u5b8c\u5584\u6027\u7ef4\u62a4. 50%~60%\\n    \u6269\u5145\u529f\u80fd\u548c\u6539\u5584\u6027\u80fd.\\n* \u9884\u9632\u6027\u7ef4\u62a4. 4%\\n    \u6539\u8fdb\u4ee5\u9002\u5e94\u672a\u6765\u7684\u8f6f\u786c\u4ef6\u73af\u5883,\u589e\u52a0\u65b0\u7684\u529f\u80fd,\u4f7f\u5176\u4e0d\u88ab\u6dd8\u6c70.\\n\\n\\n\\n\\n\\n\\n\u7b97\u6cd5\\n====\\n\\n\u539f\u7801\\n: +0=00000000\\n: -0=10000000\\n\\n\u53cd\u7801\\n: +0=00000000\\n: -0=11111111\\n\\n\u8865\u7801\\n: +0=-0=00000000\\n\\n\u79fb\u7801\\n: =$n^{ n-1 }+X\\\\quad X \u4e3a\u7eaf\u6574\u6570,\u4e14 (-2^{ n-1 }\\\\le\\\\quad X\\\\quad<\\\\quad 2^{n-1})$\\n: =$1+X \\\\quad X\u4e3a\u7eaf\u5c0f\u6570,\u4e14(-1 \\\\le X < 1)$\\n: \u79fb\u7801\u4e3b\u8981\u7528\u4e8e\u8868\u793a\u6d6e\u70b9\u6570\u7684\u9636\u7801, \u5728\u6d6e\u70b9\u6570\u8fd0\u7b97\u4e2d\u6709\u4f18\u52bf.\\n\\n\u6d6e\u70b9\u6570\\n: \u8868\u793a $N=M \\\\cdot R^{E}$\\n: M \u5c3e\u6570 R \u57fa\u6570 E \u9636\u7801\\n: IEEE754 \u8868\u793a $(-1)^{S}2^{E}(b_0b_1\\\\cdots b_{P-1})$\\n\\n\\n\\n\\n## cache\u6027\u80fd\u5206\u6790\\n\\n$$\\nt_a\\\\quad = \\\\quad Ht_c + (1 - H ) t_m\\n$$\\n\\n$$\\nr=t_m/t_a\\n$$\\n\\nH \u4e3a cache \u547d\u4e2d\u7387,\\n$t_c $\u4e3acache \u5b58\u53d6\u65f6\u95f4,\\n$t_m$\u4e3a\u4e3b\u5b58\u8bbf\u95ee\u65f6\u95f4,\\n$t_a$ cache\u7b49\u6548\u8bbf\u95ee\u65f6\u95f4,\\nr \u4e3a\u4f7f\u7528 cache \u63d0\u9ad8\u7684\u901f\u5ea6\u500d\u6570\\n\\n\\n## \u78c1\u76d8\u5bb9\u91cf\\n\\n$$\\n\u975e\u683c\u5f0f\u5316\u5bb9\u91cf = \u9762\u6570 \\\\times (\u78c1\u9053\u6570/\u9762)\\\\times \u5185\u5706\u5468\u957f\\\\times \u6700\u5927\u4f4d\u5bc6\u5ea6\\n$$\\n\\n$$\\n\u683c\u5f0f\u5316\u5bb9\u91cf = \u9762\u6570 \\\\times (\u78c1\u9053\u6570/\u9762)\\\\times (\u6247\u533a\u6570\\\\times \u9053)\\\\times (\u5b57\u8282\u6570/\u6247\u533a)\\n$$\\n\\n---\\n\\n\u541e\u5410\u7387\\n\\n\\n---\\n\\n## \u53ef\u9760\u6027\\n\\n$$\\nR(t) = e^{-\\\\lambda t}\\n$$\\n\\n$\\\\lambda$ \u5931\u6548\u7387\\nt \u65f6\u95f4\\nR(t) t\u8fd9\u6bb5\u65f6\u95f4\u80fd\u6b63\u5e38\u8fd0\u884c\u7684\u6982\u7387\\n\\n$$\\nMTBF= 1/\\\\lambda\\n$$\\n\\n$$\\nA = \\\\frac{MTBF}{MTBF + MTRF}\\n$$\\n\\nMTBF \u5e73\u5747\u65e0\u6545\u969c\u65f6\u95f4\\nMTRF \u5e73\u5747\u6545\u969c\u4fee\u590d\u65f6\u95f4\\n\\n## \u53ef\u9760\u6027\u6a21\u578b\\n\\n\u4e32\u8054\u7cfb\u7edf\\n: $R=R_1R_2\\\\cdots R_N$\\n: $\\\\lambda = \\\\lambda_1 + \\\\lambda_2 + \\\\cdots +\\\\lambda_N$\\n\\n\u5e76\u8054\u7cfb\u7edf\\n: $R = 1 - (1-R_1)\\\\times(1-R_2)\\\\times\\\\cdots\\\\times(1-R_N)$\\n: $\\\\mu =\\\\frac { 1 }{ \\\\frac { 1 }{ \\\\lambda  } \\\\sum _{ j=1 }^{ N }{ \\\\frac{1}{j} }  } $\\n\\nN\u6a21\u5197\u4f59\u7cfb\u7edf\\n: $ R=\\\\sum _{ i=n+1 }^{ N } \\\\begin{pmatrix} j  \\\\\\\\ N  \\\\end{pmatrix} \\\\times R_0^j(1-R_0)^{N-1} $\\n\\n## \u8ba1\u7b97\u673a\u6027\u80fd\\n$$\\nT = \\\\sum_{i=1}^{n} \\\\times (\\\\omega_i \\\\times t_i)\\n$$\\n\\nT \u7b49\u6548\u6307\u4ee4\u65f6\u95f4\\ni \u67d0\u7c7b\u6307\u4ee4\\nn \u6307\u4ee4\u79cd\u7c7b\u6570\\n$\\\\omega_i$ \u6307\u4ee4i\u5728\u7a0b\u5e8f\u4e2d\u5360\u7684\u6bd4\u4f8b\\n$t_i$ \u6307\u4ee4i \u6267\u884c\u65f6\u95f4\\n\\n## McCabe \u5ea6\u91cf\u6cd5\\n\\n$$\\nV(G) = m - n + 2p\\n$$\\n\\nV(G) \u4e3a\u6709\u5411\u56fe G \u4e2d\u7684\u73af\u8def\u6570\\nm \u4e3a\u56fe G \u4e2d\u5f27\u7684\u4e2a\u6570\\nn \u4e3a\u8282\u70b9\u4e2a\u6570\\np \u4e3a G \u4e2d\u7684\u5f3a\u8fde\u901a\u5206\u91cf\u4e2a\u6570\\n\\n## \u5b8c\u5168\u4e8c\u53c9\u6811\u53f6\u5b50\u8282\u70b9\u6570\u91cf\\n\\n\u9664\u6700\u5916\u5c42,\u5176\u4f59\u5c42\u4e0a\u7684\u8282\u70b9\u6570\u76ee\u90fd\u8fbe\u5230\u6700\u5927\u503c,\u800c\u7b2c h \u5c42\u4e0a\u7684\u8282\u70b9\u96c6\u4e2d\u5b58\u653e\u5728\u5de6\u4fa7\u6811\\n```\\nn0 \u5ea6\u4e3a0\u7684\u8282\u70b9\u6570\\nn1 \u5ea6\u4e3a1\u7684\u8282\u70b9\u6570\\nn2 \u5ea6\u4e3a2\u7684\u8282\u70b9\u6570\\n\\nn0 = n2 + 1\\nn = n0 + n1 + n2\\nn0 = (n+1)/2 \u6216 n0 = n/2\\n```\\n\\n## Misc\\n\\n$$\\n\u5e73\u5747\u4f5c\u4e1a\u5468\u8f6c\u65f6\u95f4 = (\\\\sum_{i=1}^{n}{\\\\sum_{j=1}^{i}} t_j)/n\\n$$\\n\\nn \u4e3a\u4f5c\u4e1a\u7684\u6570\u91cf\\nti \u4e3a\u4f5c\u4e1a i \u7684\u65f6\u95f4\\n\\n---\\n\\n$$\\nASL/\u5e73\u5747\u67e5\u627e\u957f\u5ea6 = \\\\sum_{i=1}^nP_iC_i\\n$$\\nn \u8bb0\u5f55\u4e2a\u6570\\nPi \u5bf9\u8868\u4e2d\u7b2c i \u4e2a\u8bb0\u5f55\u8fdb\u884c\u67e5\u627e\u7684\u6982\u7387 \u4e14 $\\\\sum_{i=1}^nP_i = 1$\\n\\n---\\n\\n\\n\\n---\\n\\n```\\n\u82af\u7247\u6570 = \u603b\u5bb9\u91cf/\u82af\u7247\u5bb9\u91cf\\n\u5730\u5740\u7ebf\u6570 = \u7247\u9009\u5730\u5740\u6570 + \u7247\u5185\u5730\u5740\u6570 = log(\u82af\u7247\u6570) + log(\u82af\u7247\u5bb9\u91cf)\\n\u6ce8\u610f: \u5730\u5740\u662f\u6309\u5b57\u8282\u7f16\u5740\u7684\\n\\n\\n```\\n\\n\\nCheat Sheet\\n===========\\n\\n\u8026\u5408\u7c7b\u578b\\n--------\\n\\n\u8026\u5408\u7c7b\u578b | \u63cf\u8ff0\\n-|-\\n\u975e\u76f4\u63a5\u8026\u5408|\u4e24\u4e2a\u6a21\u5757\u4e4b\u95f4\u6ca1\u6709\u76f4\u63a5\u5173\u7cfb\\n\u6570\u636e\u8026\u5408|\u5f7c\u6b64\u4e4b\u95f4\u901a\u8fc7\u6570\u636e\u53c2\u6570\u6765\u4ea4\u6362\u8f93\u5165,\u8f93\u51fa\u4fe1\u606f\\n\u6807\u8bb0\u8026\u5408|\u4e00\u7ec4\u6a21\u5757\u901a\u8fc7\u53c2\u6570\u8868\u4f20\u9012\u8bb0\u5f55\u4fe1\u606f\\n\u63a7\u5236\u8026\u5408|\u4e00\u4e2a\u6a21\u5757\u901a\u8fc7\u4f20\u9001\u5f00\u5173,\u6807\u5fd7,\u540d\u5b57\u7b49\u63a7\u5236\u4fe1\u606f,\u660e\u663e\u5730\u63a7\u5236\u9009\u62e9\u4e86\u4e00\u4e2a\u6a21\u5757\u7684\u529f\u80fd\\n\u5916\u90e8\u8026\u5408| \u4e00\u7ec4\u6a21\u5757\u90fd\u8bbf\u95ee\u540c\u4e00\u5168\u5c40\u7b80\u5355\u53d8\u91cf\u800c\u4e0d\u662f\u540c\u4e00\u5168\u5c40\u6570\u636e\u7ed3\u6784,<br/>\u800c\u4e14\u4e0d\u662f\u901a\u8fc7\u53c2\u6570\u8868\u4f20\u9012\u8be5\u5168\u5c40\u53d8\u91cf\u7684\u4fe1\u606f\\n\u516c\u5171\u8026\u5408 | \u90fd\u8bbf\u95ee\u540c\u4e00\u516c\u5171\u6570\u636e\u73af\u5883\\n\u5185\u5bb9\u8026\u5408| \u4e00\u4e2a\u6a21\u5757\u76f4\u63a5\u8bbf\u95ee\u53e6\u4e00\u4e2a\u6a21\u5757\u7684\u5185\u90e8\u6570\u636e<br/>\u4e00\u4e2a\u6a21\u5757\u4e0d\u901a\u8fc7\u6b63\u5e38\u5165\u53e3\u8f6c\u5230\u53e6\u4e00\u4e2a\u6a21\u5757\u5185\u90e8<br/>\u4e24\u4e2a\u6a21\u5757\u6709\u4e00\u90e8\u5206\u7a0b\u5e8f\u4ee3\u7801\u91cd\u53e0<br/>\u4e00\u4e2a\u6a21\u5757\u6709\u591a\u4e2a\u5165\u53e3\\n\\n\\nUML\\n----------------\\n\\n\u57df|\u89c6\u56fe|\u56fe|\u4e3b\u8981\u6982\u5ff5\\n-|-|-|-\\n\u7ed3\u6784| \u9759\u6001\u89c6\u56fe|\u7c7b\u56fe|\u7c7b,\u5173\u8054,\u6cdb\u5316\u4f9d\u8d56\u5173\u7cfb,\u5b9e\u73b0,\u63a5\u53e3\\n    || \u7528\u4f8b\u89c6\u56fe|\u7528\u4f8b\u56fe| \u7528\u4f8b,\u53c2\u4e0e\u8005,\u5173\u8054,\u6269\u5c55,\u5305\u62ec,\u7528\u4f8b\u6cdb\u5316\\n    || \u5b9e\u73b0\u89c6\u56fe| \u6784\u4ef6\u56fe| \u6784\u4ef6,\u63a5\u53e3,\u4f9d\u8d56\u5173\u7cfb,\u5b9e\u73b0\\n    || \u90e8\u7f72\u89c6\u56fe| \u90e8\u7f72\u56fe|\u8282\u70b9,\u6784\u4ef6,\u4f9d\u8d56\u5173\u7cfb,\u5b9e\u73b0\\n\u52a8\u6001| \u72b6\u6001\u673a\u89c6\u56fe| \u72b6\u6001\u673a\u56fe| \u72b6\u6001,\u4e8b\u4ef6,\u8f6c\u6362,\u52a8\u4f5c\\n    || \u6d3b\u52a8\u89c6\u56fe | \u6d3b\u52a8\u56fe| \u72b6\u6001,\u6d3b\u52a8,\u5b8c\u6210\u8f6c\u6362,\u5206\u53c9,\u7ed3\u5408\\n    || \u4ea4\u4e92\u89c6\u56fe | \u987a\u5e8f\u56fe| \u4ea4\u4e92,\u5bf9\u8c61,\u6d88\u606f,\u6fc0\u6d3b\\n    || | \u534f\u4f5c\u56fe| \u534f\u4f5c,\u4ea4\u4e92,\u5199\u4f5c\u89d2\u8272.\u6d88\u606f\\n\u6a21\u578b\u7ba1\u7406|\u6a21\u578b\u7ba1\u7406\u89c6\u56fe|\u7c7b\u56fe|\u5305,\u5b50\u7cfb\u7edf,\u6a21\u578b\\n\u53ef\u6269\u5c55\u6027,\u6240\u6709|\u6240\u6709|\u7ea6\u675f,\u6784\u9020\u6027,\u6807\u8bb0\u503c\\n\\n\\n\u4f9d\u8d56\\n: \u4e24\u4e2a\u4e8b\u7269\u4e4b\u95f4\u7684\u8bed\u4e49\u5173\u7cfb,\u4e00\u4e2a\u4e8b\u7269\u7684\u53d8\u5316\u4f1a\u5f71\u54cd\u53e6\u4e00\u4e2a\\n\\n\u5173\u8054\\n: \u4e00\u79cd\u7ed3\u6784\u5173\u7cfb, \u63cf\u8ff0\u4e86\u4e00\u7ec4\u94fe\u5f0f\u5bf9\u8c61\u4e4b\u95f4\u7684\u8fde\u63a5.\\n\\n\u805a\u96c6\\n: \u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5173\u8054,\u63cf\u8ff0\u4e86\u6574\u4f53\u548c\u90e8\u5206\u4e4b\u95f4\u7684\u7ed3\u6784\u5173\u7cfb.\\n\\n\u6cdb\u5316\\n: \u662f\u4e00\u79cd \u7279\u6b8a/\u4e00\u822c \u5173\u7cfb\\n\\n\u5b9e\u73b0\\n: \u662f\u7c7b\u5143\u4e4b\u95f4\u7684\u8bed\u4e49\u5173\u7cfb\\n\\n\u5305\u542b\\n: \u628a\u51e0\u4e2a\u7528\u4f8b\u7684\u516c\u5171\u6b65\u9aa4\u5206\u79bb\u6210\u4e00\u4e2a\u5355\u72ec\u7684\u88ab\u5305\u542b\u7528\u4f8b.\\n\\n\u6269\u5c55\\n: \u628a\u65b0\u884c\u4e3a\u63d2\u5165\u5230\u5df2\u6709\u7684\u7528\u4f8b\u4e2d\u7684\u65b9\u6cd5.\\n\\n\u8fb9\u754c\u7c7b\\n: \u63cf\u8ff0\u7684\u662f\u7cfb\u7edf\u5916\u90e8\u73af\u5883\u548c\u7cfb\u7edf\u5185\u90e8\u7684\u4ea4\u4e92,\u5de5\u4f5c\u5728\u5916\u90e8\u73af\u5883\u548c\u7cfb\u7edf\u4e4b\u95f4,\u8fb9\u754c\u5bf9\u8c61\u8868\u793a\u4e00\u4e2a\u7a97\u53e3.\\n\\n\u5b9e\u4f53\u7c7b\\n: \u5b58\u50a8\u548c\u7ba1\u7406\u7cfb\u7edf\u5185\u90e8\u4fe1\u606f,\u53ef\u4ee5\u6709\u884c\u4e3a,\u4f46\u5fc5\u987b\u548c\u4ed6\u6240\u8868\u793a\u7684\u5bf9\u8c61\u5bc6\u5207\u76f8\u5173\\n: \u5b9e\u4f53\u7c7b\u662f\u72ec\u7acb\u4e8e\u7cfb\u7edf\u5916\u90e8\u73af\u5883\u7684\\n\\n\u63a7\u5236\u7c7b\\n: \u4e3b\u8981\u63cf\u8ff0\u7279\u70b9\u7684 UseCase \u7684\u63a7\u5236\u884c\u4e3a,\u4e0e\u7279\u5b9a\u7684 UseCase, \u5b9e\u73b0\u5bc6\u5207\u76f8\u5173\\n: \u53ef\u4ee5\u6709\u6548\u7684\u964d\u4f4e\u8fb9\u754c\u7c7b\u548c\u5b9e\u4f53\u7c7b\u7684\u8026\u5408, \u4f7f\u7cfb\u7edf\u5bf9\u4e8e\u5916\u90e8\u73af\u5883\u7684\u53d8\u5316,\u80fd\u66f4\u597d\u9002\u5e94.\\n\\n\\n\\n\u54c8\u592b\u66fc\u6811\u7684\u5b9a\u4e49\\n----------------\\n\\n\u54c8\u592b\u66fc\u6811\u53c8\u79f0\u6700\u4f18\u4e8c\u53c9\u6811, \u662f\u4e00\u79cd\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u6700\u77ed\u7684\u4e8c\u53c9\u6811.\\n\\n\u5e26\u6743\u8def\u5f84\u957f\u5ea6 = \u6743\u503c * \u8be5\u8282\u70b9\u5230\u6839\u8282\u70b9\u7684\u957f\u5ea6\\n\\nFTR \u6307\u5bfc\u539f\u5219\\n------------\\n\\n1. \u8f6f\u4ef6\u8bc4\u5ba1\u662f\u8bc4\u5ba1\u8f6f\u4ef6\u4ea7\u54c1,\u4e0d\u8981\u6d89\u53ca\u5bf9\u8f6f\u4ef6\u751f\u4ea7\u8005\u80fd\u529b\u7684\u8bc4\u4ef7\\n2. \u8bc4\u5ba1\u524d\u8981\u5236\u5b9a\u4e25\u683c\u7684\u8bc4\u5ba1\u8ba1\u5212,\u5e76\u4e25\u683c\u9075\u5b88\u9884\u8ba1\u7684\u65e5\u7a0b\u5b89\u6392\\n3. \u5bf9\u8bc4\u5ba1\u4e2d\u51fa\u73b0\u7684\u95ee\u9898\u8981\u8bb0\u5f55\u5728\u6848,\u4e0d\u8981\u8fc7\u591a\u7684\u8ba8\u8bba\u89e3\u51b3\u95ee\u9898,\u628a\u95ee\u9898\u89e3\u51b3\u7559\u7ed9\u751f\u4ea7\u8005\\n4. \u8981\u9650\u5236\u53c2\u4e0e\u4eba\u6570,\u5e76\u8981\u6c42\u53c2\u52a0\u8bc4\u5ba1\u7684\u4eba\u5458\u5728\u8bc4\u5ba1\u4f1a\u4e4b\u524d\u4ed4\u7ec6\u9605\u8bfb\u6587\u6863,\u505a\u597d\u5145\u5206\u51c6\u5907\\n\\n\u6570\u636e\u5e93\u8303\u5f0f\\n-----------\\n\\n1NF\\n: \u6bcf\u4e00\u4e2a\u5206\u91cf\u662f\u4e0d\u53ef\u518d\u5206\u7684\u6570\u636e\u9879\\n: \u95ee\u9898\\n    1. \u5197\u4f59\u5ea6\u5927\\n    2. \u5f15\u8d77\u4fee\u6539\u64cd\u4f5c\u4e0d\u4e00\u81f4\\n    3. \u63d2\u5165\u5f02\u5e38\\n    4. \u5220\u9664\u5f02\u5e38\\n\\n2NF\\n: \u6bcf\u4e00\u4e2a\u975e\u4e3b\u5c5e\u6027\u5b8c\u5168\u4f9d\u8d56\u4e8e\u7801\\n: \u5373 \u6d88\u9664\u4e86\u975e\u4e3b\u5c5e\u6027\u5bf9\u7801\u7684\u90e8\u5206\u51fd\u6570\u4f9d\u8d56\\n\\n3NF\\n: \u6d88\u9664\u975e\u4e3b\u5c5e\u6027\u5bf9\u7801\u7684\u4f20\u9012\u51fd\u6570\u4f9d\u8d56\\n\\nBCNF\\n: \u6d88\u9664\u4e3b\u5c5e\u6027\u5bf9\u7801\u7684\u90e8\u5206\u548c\u4f20\u9012\u51fd\u6570\u4f9d\u8d56\\n: \u5373:\\n: \u6240\u6709\u975e\u4e3b\u5c5e\u6027\u5bf9\u6bcf\u4e00\u4e2a\u7801\u90fd\u662f\u5b8c\u5168\u4f9d\u8d56\\n: \u6240\u6709\u975e\u4e3b\u5c5e\u6027\u5bf9\u6bcf\u4e00\u4e2a\u4e0d\u5305\u542b\u5b83\u7684\u7801,\u4e5f\u662f\u5b8c\u5168\u51fd\u6570\u4f9d\u8d56\\n: \u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\u5b8c\u5168\u51fd\u6570\u4f9d\u8d56\u4e8e\u975e\u7801\u7684\u4efb\u4f55\u4e00\u7ec4\u5c5e\u6027\\n\\nACID/Atomicity, Consistency, Isolation, Durability\\n: \u4e8b\u52a1\u7684\u7279\u6027: \u539f\u5b50\u6027 \u4e00\u81f4\u6027 \u9694\u79bb\u6027 \u6301\u4e45\u6027\\n\\n\u5206\u89e3\u5e94\u5177\u6709\u7684\u7279\u6027\\n: \u5206\u89e3\u5177\u6709\u65e0\u635f\u8fde\u63a5\u6027\\n: \u5206\u89e3\u8981\u4fdd\u6301\u51fd\u6570\u4f9d\u8d56\\n: \u5206\u89e3\u65e2\u8981\u6709\u65e0\u635f\u8fde\u63a5\u6027,\u53c8\u8981\u4fdd\u6301\u51fd\u6570\u4f9d\u8d56\\n\\n> \u8bbe $R(U)$ \u662f\u4e00\u4e2a\u5c5e\u6027\u96c6 $U$ \u4e0a\u7684\u5173\u7cfb\u6a21\u5f0f, $X$ \u548c $Y$ \u662f $U$ \u7684\u5b50\u96c6.\\n\\n\u51fd\u6570\u4f9d\u8d56\\n: \u82e5\u5bf9 $R(U)$ \u7684\u4efb\u610f\u53ef\u80fd\u5173\u7cfb $r$\\n: $r$ \u4e2d\u4e0d\u5b58\u5728\u4e24\u4e2a\u6216\u4ee5\u4e0a\u5143\u7ec4\u5728 $X$ \u4e0a\u7684\u5c5e\u6027\u76f8\u7b49 \u800c\u5728 $Y$ \u4e0a\u4e0d\u7b49\\n: \u5219\u79f0 $X$ \u51fd\u6570\u51b3\u5b9a $Y$ \u6216 $Y$ \u51fd\u6570\u4f9d\u8d56\u4e8e $X$, \u8bb0\u505a $X \\\\rightarrow Y$\\n\\n\\n> \u5982\u679c $X \\\\rightarrow Y$\\n\\n\u975e\u5e73\u51e1\u51fd\u6570\u4f9d\u8d56\\n: \u4e14$X \\\\not\\\\subset Y$\\n\\n\u5e73\u51e1\u51fd\u6570\u4f9d\u8d56\\n: \u4e14$X \\\\subset Y$\\n\\n\u5b8c\u5168\u51fd\u6570\u4f9d\u8d56\\n: $\\\\forall X\' \\\\subsetneq X$,\u90fd\u6709 $X \\\\not\\\\rightarrow Y$\\n: \u8bb0\u505a $X \\\\xrightarrow{\\\\quad _f \\\\quad } Y$\\n\\n\u90e8\u5206\u51fd\u6570\u4f9d\u8d56\\n: $\\\\exists  X\' \\\\subsetneq X$,\u6709 $X \\\\not\\\\rightarrow Y$\\n: \u8bb0\u505a $X \\\\xrightarrow{\\\\quad _p \\\\quad } Y$\\n\\n\u6570\u636e\u5e93\u7684\u952e\\n----------\\n\\n\u5019\u9009\u952e/Candidate Key\\n: \u5173\u7cfb\u4e2d\u80fd\u552f\u4e00\u7684\u6807\u8bc6\u4e00\u4e2a\u5143\u7ec4\u7684\u67d0\u4e00\u5c5e\u6027\u6216\u5c5e\u6027\u7ec4\\n\\n\u4e3b\u7801/Primary Key\\n: \u5982\u679c\u5173\u7cfb\u4e2d\u6709\u591a\u4e2a\u5019\u9009\u7801,\u5219\u9009\u5b9a\u4e00\u4e2a\u4f5c\u4e3a\u4e3b\u7801\\n\\n\u4e3b\u5c5e\u6027/Primary Attribute\\n: \u5728\u5019\u9009\u7801\u4e2d\u7684\u5c5e\u6027\\n\\n\u5916\u7801/Foreign Key\\n: \u5c5e\u6027\u662f\u5176\u4ed6\u5173\u7cfb\u7684\u7801\\n\\n\u5168\u7801/All-Key\\n: \u5173\u7cfb\u4e2d\u6240\u6709\u5c5e\u6027\u7ec4\u662f\u8be5\u5173\u7cfb\u7684\u5019\u9009\u7801\\n\\n\u8d85\u952e/Super Key\\n: \u80fd\u552f\u4e00\u6807\u8bc6\u5143\u7ec4\u7684\u5c5e\u6027\u96c6\\n\\n\u8bbe\u8ba1\u6a21\u5f0f \u6982\u62ec\\n--------\\n\\n\u6865\u63a5\u6a21\u5f0f/Bridge\\n: \u5c06\u62bd\u8c61\u90e8\u5206\u548c\u5b83\u7684\u5b9e\u73b0\u90e8\u5206\u5206\u79bb, \u4f7f\u4ed6\u4eec\u90fd\u53ef\u4ee5\u72ec\u7acb\u7684\u53d8\u5316\\n: \u5bf9\u4e00\u4e2a\u62bd\u8c61\u7684\u5b9e\u73b0\u90e8\u5206\u7684\u4fee\u6539\u5e94\u8be5\u5bf9\u4f7f\u7528\u5b83\u4e0d\u4ea7\u751f\u5f71\u54cd\\n\\n\u4e2d\u4ecb\u6a21\u5f0f/Mediator\\n: \u53ef\u4ee5\u4f7f\u5404\u4e2a\u5bf9\u8c61\u95f4\u7684\u8026\u5408\u677e\u6563,\u53ea\u9700\u5173\u5fc3\u548cMediator\u7684\u5173\u7cfb\\n: \u4f7f\u591a\u5bf9\u591a\u7684\u5173\u7cfb\u53d8\u6210\u4e86\u4e00\u5bf9\u591a\u7684\u5173\u7cfb,\u964d\u4f4e\u7cfb\u7edf\u7684\u590d\u6742\u6027,\u63d0\u9ad8\u53ef\u4fee\u6539\u6027\u548c\u6269\u5c55\u6027\\n\\nOOA \u7684\u6b65\u9aa4\\n---------\\n\\n1. \u5206\u6790\u95ee\u9898\u57df,\u5efa\u7acb\u7528\u4f8b\u6a21\u578b\\n2. \u53d1\u73b0\u548c\u5b9a\u4e49\u5bf9\u8c61\u548c\u7c7b\\n3. \u8bc6\u522b\u5bf9\u8c61\u7684\u5185\u90e8\u7279\u5f81\\n4. \u8bc6\u522b\u5bf9\u8c61\u7684\u5916\u90e8\u7279\u5f81\\n5. \u8bc6\u522b\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\\n\\n5\u4e2a\u6d3b\u52a8\\n: \u8ba4\u5b9a\u5bf9\u8c61,\u7ec4\u7ec7\u5bf9\u8c61,\u63cf\u8ff0\u5bf9\u8c61\u95f4\u7684\u76f8\u4e92\u4f5c\u7528,\u5b9a\u4e49\u5bf9\u8c61\u7684\u64cd\u4f5c,\u5b9a\u4e49\u5bf9\u8c61\u7684\u5185\u90e8\u4fe1\u606f\\n\\nOMT \u6982\u8ff0\\n--------\\n\\nOMT/Object Modeling Technique/ \u5bf9\u8c61\u5efa\u6a21\u6280\u672f\\n: \u4e09\u79cd\u6a21\u578b: \u5bf9\u8c61\u6a21\u578b, \u52a8\u6001\u6a21\u578b, \u529f\u80fd\u6a21\u578b\\n: \u56db\u4e2a\u6b65\u9aa4: \u5206\u6790, \u7cfb\u7edf\u8bbe\u8ba1, \u5bf9\u8c61\u8bbe\u8ba1\u548c\u5b9e\u73b0\\n\\n\u5bf9\u8c61\u6a21\u578b\\n: \u63cf\u8ff0\u7cfb\u7edf\u5bf9\u8c61\u7684 \u9759\u6001\u7ed3\u6784,\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb,\u5bf9\u8c61\u7684\u5c5e\u6027,\u64cd\u4f5c\\n: \u8868\u793a\u9759\u6001\u7684,\u7ed3\u6784\u4e0a\u7684,\u7cfb\u7edf\u7684 _\u6570\u636e_ \u7279\u5f81\\n\\n\u52a8\u6001\u6a21\u578b\\n: \u63cf\u8ff0\u4e0e\u65f6\u95f4\u548c\u64cd\u4f5c\u987a\u5e8f\u6709\u5173\u7684\u7cfb\u7edf\u7279\u5f81----\u6fc0\u53d1\u4e8b\u4ef6,\u4e8b\u4ef6\u5e8f\u5217,\u786e\u5b9a\u4e8b\u4ef6\u5148\u540e\u5173\u7cfb\\n    \u4ee5\u53ca\u4e8b\u4ef6\u548c\u72b6\u6001\u7684\u7ec4\u7ec7\\n: \u8868\u793a\u77ac\u65f6\u7684,\u884c\u4e3a\u4e0a\u7684, \u7cfb\u7edf\u7684 _\u63a7\u5236_ \u7279\u5f81\\n\\n\u529f\u80fd\u6a21\u578b\\n: \u63cf\u8ff0\u4e0e\u503c\u7684\u53d8\u6362\u6709\u5173\u7684\u7cfb\u7edf\u7279\u5f81----\u529f\u80fd,\u6620\u5c04,\u7ea6\u675f\u548c\u51fd\u6570\u4f9d\u8d56\\n: \u4f7f\u7528\u6570\u636e\u6d41\u56fe\u6765\u8868\u793a\\n\\n\u6392\u5e8f\u7b97\u6cd5\u7684\u9002\u7528\u6027\\n----------------\\n\\n* \u5f85\u6392\u5e8f\u7684\u8bb0\u5f55\u6570\u636e n \u8f83\u5c0f\u65f6, \u53ef\u91c7\u7528\u63d2\u5165\u6392\u5e8f\u548c\u9009\u62e9\u6392\u5e8f\\n* \u5f85\u6392\u5e8f\u57fa\u672c\u6709\u5e8f, \u9009\u62e9\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u6216\u5192\u6ce1\u6392\u5e8f\\n* \u5f53 n \u5f88\u5927\u4e14\u5173\u952e\u5b57\u4f4d\u6570\u5c11,\u9009\u62e9\u94fe\u5f0f\u57fa\u6570\u6392\u5e8f\\n* \u5f53 n \u5f88\u5927, \u5219\u91c7\u7528\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(nlogn)\u7684\u6392\u5e8f\u65b9\u6cd5----\u5feb\u901f\u6392\u5e8f,\u5806\u6392\u5e8f,\u5f52\u5e76\u6392\u5e8f\\n\\n\u6392\u5e8f\u7b97\u6cd5\u7684\u5206\u7c7b\\n-------------\\n\\n\u5206\u7c7b|\u5305\u542b\\n-|-\\n\u4ea4\u6362\u6392\u5e8f| \u5192\u6ce1\u6392\u5e8f \u5feb\u901f\u6392\u5e8f\\n\u63d2\u5165\u6392\u5e8f| \u63d2\u5165\u6392\u5e8f \u5e0c\u5c14\u6392\u5e8f \u4e8c\u53c9\u67e5\u627e\u6811\u6392\u5e8f\\n\u9009\u62e9\u6392\u5e8f| \u9009\u62e9\u6392\u5e8f \u5806\u6392\u5e8f\\n\u5f52\u5e76\u6392\u5e8f| \u5f52\u5e76\u6392\u5e8f\\n\u5206\u5e03\u6392\u5e8f| \u57fa\u6570\u6392\u5e8f\\n\\n\u8bbe\u8ba1\u6a21\u5f0f\u5206\u7c7b\\n-----------\\n\\n\u5206\u7c7b|\u5305\u542b\\n-|-\\n\u521b\u5efa| \u62bd\u8c61\u5de5\u5382 \u6784\u9020\u5668 \u5de5\u5382\u65b9\u6cd5 \u539f\u578b \u5355\u4f8b\u6a21\u5f0f\\n\u7ed3\u6784| \u9002\u914d\u5668 \u6865\u63a5 \u7ec4\u5408 \u88c5\u9970 \u5916\u89c2 \u4eab\u5143 \u4ee3\u7406\\n\u884c\u4e3a| \u804c\u8d23\u94fe \u547d\u4ee4 \u7ffb\u8bd1\u5668 \u8fed\u4ee3\u5668 \u4ef2\u88c1\u5668(Mediator) \u56de\u5fc6(Memento) \u89c2\u5bdf\u8005 \u72b6\u6001\u673a \u7b56\u7565 \u6a21\u677f\u65b9\u6cd5 \u53c2\u89c2\u8005(Visitor)\\n\\n\u4e54\u59c6\u65af\u57fa\u6587\u6cd5\u7c7b\u578b\\n-----------------\\n\\n\u7c7b\u578b|\u8bf4\u660e\\n-|-\\n0\u578b|\u76f8\u5f53\u4e8e\u56fe\u7075\u673a,\u4efb\u4f55 0\u578b \u8bed\u8a00\u90fd\u662f\u9012\u5f52\u53ef\u679a\u4e3e\u7684\\n1\u578b|\u4e0a\u4e0b\u6587\u6709\u5173\u6587\u6cd5,\u76f8\u5f53\u4e8e\u7ebf\u5f62\u754c\u9650\u81ea\u52a8\u673a,\u5bf9\u975e\u7ec8\u7ed3\u7b26\u66ff\u6362\u65f6\u4e0d\u8003\u8651\u4e0a\u4e0b\u6587,\u4e0d\u5141\u8bb8\u66ff\u6362\u4e3a\u7a7a\u4e32\\n2\u578b| \u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5, \u76f8\u5f53\u4e8e\u975e\u786e\u5b9a\u7684\u4e0b\u63a8\u81ea\u52a8\u673a\\n3\u578b| \u53f3\u7ebf\u6027\u6587\u6cd5,\u7b49\u4ef7\u4e8e\u6b63\u89c4\u5f0f, \u4e5f\u79f0\u4e3a\u6b63\u89c4\u6587\u6cd5\\n\\n\u6587\u6cd5\u63cf\u8ff0\u8bed\u8a00\u7684\u80fd\\n: 0\u578b\u6587\u6cd5\u6700\u5f3a 3\u578b\u6700\u5f31\\n\\n3\u578b\u6587\u6cd5\u5fc5\u662f2\u578b\u6587\u6cd5\\n\\n\\nTips\\n----\\n\\n```\\n\u6b63\u89c4\u5f0f\u53ea\u80fd\u8868\u793a\u7ed9\u5b9a\u7ed3\u6784\u7684\u56fa\u5b9a\u6b21\u6570\u7684\u91cd\u590d\u6216\u8005\u6ca1\u6709\u6307\u5b9a\u6b21\u6570\u7684\u91cd\u590d\\n\u5bf9\u4e8e\u6bcf\u4e2a\u975e\u786e\u5b9a\u7684\u6709\u9650\u81ea\u52a8\u673a,\u90fd\u6709\u4e00\u4e2a\u4e0e\u5176\u7b49\u4ef7\u7684\u6b63\u89c4\u5f0f\\n\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5\u53ef\u4ee5\u8868\u793a\u6b21\u6570\u4e0d\u56fa\u5b9a\u7684\u91cd\u590d\\n\\n\\n```\\n\\n\u4e2d\u65ad\u54cd\u5e94\u6709\u4e24\u79cd\u65b9\u5f0f\\n: \u7cbe\u786e\u65ad\u70b9\u6cd5 \u548c \u4e0d\u7cbe\u786e\u65ad\u70b9\u6cd5\\n\\n\u7cbe\u786e\u65ad\u70b9\u6cd5\\n: \u7acb\u5373\u54cd\u5e94\u4e2d\u65ad\\n: \u4e0d\u5f71\u54cd\u4e2d\u65ad\u53cd\u5e94\u65f6\u95f4,\u5f71\u54cd\u7a0b\u5e8f\u7684\u6b63\u786e\u6267\u884c\\n\\n\u4e0d\u7cbe\u786e\u65ad\u70b9\u6cd5\\n: \u6d41\u6c34\u7ebf\u4e2d\u6307\u4ee4\u6267\u884c\u5b8c\u540e\u518d\u54cd\u5e94\u4e2d\u65ad\\n: \u5f71\u54cd\u4e2d\u65ad\u53cd\u5e94\u65f6\u95f4,\u5f71\u54cd\u7a0b\u5e8f\u7684\u6b63\u786e\u6267\u884c\\n\\n\u5e7f\u4e49\u8868\\n: \u7531\u96f6\u4e2a\u6216\u591a\u4e2a\u5355\u5143\u7d20\u6216\u5b50\u8868\u7ec4\u6210\u7684\u6709\u9650\u5e8f\u5217\\n: \u957f\u5ea6\u503c\u5143\u7d20\u4e2a\u6570,\u6df1\u5ea6\u6307\u5c55\u5f00\u540e\u6240\u542b\u62ec\u53f7\u7684\u6700\u5927\u5c42\u6570\\n: \u975e\u7a7a\u5e7f\u4e49\u8868\u8868\u5c3e\u5fc5\u5b9a\u662f\u4e00\u4e2a\u8868\\n\\nCCIR/\u65e0\u7ebf\u7535\u54a8\u8be2\u59d4\u5458\u4f1a\\n: \u5236\u5b9a\u4e86\u5e7f\u64ad\u7ea7\u8d28\u91cf\u6570\u5b57\u7535\u89c6\u7f16\u7801\u6807\u51c6, CCIR601\\n\\n\u7b97\u6cd5\u7684\u7279\u5f81\\n: \u6709\u7a77\u6027: \u5728\u6709\u7a77\u6b65\u548c\u6709\u9650\u65f6\u95f4\u5185\u5b8c\u6210\\n: \u786e\u5b9a\u6027: \u65e0\u4e8c\u4e49,\u552f\u4e00\u7684\u6267\u884c\u8def\u5f84,\u540c\u6837\u6d4b\u8f93\u5165\u4ea7\u751f\u540c\u6837\u7684\u8f93\u51fa\\n: \u53ef\u6267\u884c\u6027: \u7b97\u6cd5\u4e2d\u63cf\u8ff0\u7684\u64cd\u4f5c\u662f\u901a\u8fc7\u5df2\u7ecf\u5b9e\u73b0\u7684\u57fa\u672c\u64cd\u4f5c\u901a\u8fc7\u6709\u9650\u6b21\u6267\u884c\u5b9e\u73b0\u7684\\n: \u6b63\u786e\u6027: \u6ee1\u8db3\u5177\u4f53\u9700\u6c42\\n: \u53ef\u8bfb\u6027\\n: \u5065\u58ee\u6027: \u80fd\u5904\u7406\u9519\u8bef\u6570\u636e\\n: \u6548\u7387\u4e0e\u4f4e\u5b58\u50a8\u9700\u6c42\\n\\nSIMD \u4e2d\\n: I \u662f\u6307\u6307\u4ee4\u6d41 D \u662f\u6307\u6570\u636e\u6d41\\n\\n\u4e09\u7c7b\u5e38\u7528\u7684\u7a7a\u95f2\u5757\u7ba1\u7406\u65b9\u6cd5\\n: \u4f4d\u56fe\u5411\u91cf\u6cd5, \u7a7a\u95f2\u5757\u94fe\u8868\u94fe\u63a5\u6cd5 \u548c \u7d22\u5f15\u6cd5\\n\\n\u6b7b\u9501\u7684\u56db\u4e2a\u5fc5\u8981\u6761\u4ef6\\n\\n* \u4e92\u65a5\u6761\u4ef6\\n* \u8bf7\u6c42\u548c\u4fdd\u6301\u6761\u4ef6\\n* \u4e0d\u5265\u593a\u6761\u4ef6\\n* \u73af\u8def\u7b49\u5f85\u6761\u4ef6\\n\\n\u6807\u51c6\\n----\\n\\n\u6807\u51c6\u540d | \u63cf\u8ff0\\n-|-\\n[ISO/IEC 9126][1] | Software engineering \u2014 Product quality/\u8f6f\u4ef6\u5de5\u7a0b \u8d28\u91cf\u7ba1\u7406\\nISO/TC 176 | Quality management and quality assurance\\nGB904-91| \u5546\u54c1\u6761\u7801\u7ed3\u6784\\nGB7590-87| \u7b2c\u56db\u8f85\u52a9\u96c6\\n\\n\\n\\n-|-\\n-|-\\n\u56fd\u9645\u6807\u51c6|ISO,IEC\\n\u884c\u4e1a\u6807\u51c6|IEEE\\n\u533a\u57df\u6807\u51c6|CEN(\u6b27\u6d32\u6807\u51c6\u5316\u59d4\u5458\u4f1a)\\n\u5df2\u516c\u5e03\u7684\u884c\u4e1a\u4ee3\u53f7| QJ(\u822a\u5929), SJ(\u7535\u5b50), JB(\u673a\u68b0), JR(\u91d1\u878d\u7cfb\u7edf)\\n\u4f01\u4e1a\u6807\u51c6\u7684\u7f16\u53f7|\u884c\u4e1a\u6807\u51c6\u4ee3\u53f7+[/T]+\u6807\u51c6\u53d1\u5e03\u987a\u5e8f\u53f7(5\u4f4d)+/+\u6807\u51c6\u53d1\u5e03\u5e74\u4ee3\u53f7(4\u4f4d)\\n\\n\u6392\u5e8f\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\\n------------------\\n\\n\u6392\u5e8f\u65b9\u6cd5| \u6700\u4f18\u65f6\u95f4\u590d\u6742\u5ea6 | \u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6 | \u6700\u5dee\u65f6\u95f4\u590d\u6742\u5ea6 | \u6700\u5dee\u7a7a\u95f4| \u8f85\u52a9|\u7a33\u5b9a\\n-|:-:|:-:|:-:|:-:|-|-\\n\u63d2\u5165\u6392\u5e8f\\t| O(n) | O(n<sup>2</sup>) | O(n<sup>2</sup>) | O(n)|O(1)|Yes\\n\u9009\u62e9\u6392\u5e8f\\t| - | O(n<sup>2</sup>) | - | O(n)|~|No\\n\u5192\u6ce1\u6392\u5e8f\\t| O(n) | O(n<sup>2</sup>) | O(n<sup>2</sup>) | O(n)|~|Yes\\n\u5e0c\u5c14\u6392\u5e8f\\t| - | O(nlog<sup>2</sup>n) | -  | O(n)| ~| No\\n\u5feb\u901f\u6392\u5e8f\\t| O(nlogn) |O(nlogn) | O(n<sup>2</sup>)|-| O(nlogn) |No\\n\u5806\u6392\u5e8f\\t| - |O(nlogn) | - | O(n)|O(1)|Yes\\n\u5f52\u5e76\u6392\u5e8f\\t| (wiki:O(n)) | O(nlogn) | - | O(n)|O(n)|Yes\\n\u57fa\u6570\u6392\u5e8f\\t| - |O(d(n+rd)) | -|-|O(rd)|Yes\\n\u57fa\u6570\u6392\u5e8f<sup>1</sup>| - |O(kN) | - | O(k+N)\\n\u4e8c\u53c9\u67e5\u627e\u6811| - | O(logn) | - | O(n)\\n\\n\u6ce8\\n: 1 : \u6307\u7ef4\u57fa\u4e0a\u7684\u7ed3\u679c\\n: ~  : \u548c\u4e0a\u4e00\u4e2a\u503c\u76f8\u540c\\n\\n  [1]: http://en.wikipedia.org/wiki/ISO/IEC_9126"},{"id":"regex-note","metadata":{"permalink":"/story/regex-note","editUrl":"https://github.com/wenerme/wener/edit/master/story/2013/2013-10-13-Regex \u901f\u8bb0.md","source":"@site/story/2013/2013-10-13-Regex \u901f\u8bb0.md","title":"Regex \u901f\u8bb0","description":"\u9700\u8981\u6ce8\u610f\u7684\u662f, \u7531\u4e8e\u6b63\u5219\u5728\u4e0d\u540c\u7684\u6d41\u6d3e\u4e2d\u8868\u793a\u6709\u6240\u4e0d\u540c,\u53ea\u80fd\u6574\u7406\u4e00\u4e9b\u51e0\u4e4e\u96f7\u540c\u7684.","date":"2013-10-13T00:00:00.000Z","formattedDate":"October 13, 2013","tags":[{"label":"\u7b14\u8bb0","permalink":"/story/tags/\u7b14\u8bb0"}],"readingTime":3.625,"truncated":true,"authors":[],"prevItem":{"title":"\u8f6f\u4ef6\u8bbe\u8ba1\u5e08\u8003\u8bd5\u7b14\u8bb0","permalink":"/story/rk-software-designer"},"nextItem":{"title":"\u7b80\u5355\u7684\u6587\u5b57\u6c14\u6ce1\u6846 for Swing","permalink":"/story/java-siwng-textbubble"}},"content":"> \u9700\u8981\u6ce8\u610f\u7684\u662f, \u7531\u4e8e\u6b63\u5219\u5728\u4e0d\u540c\u7684\u6d41\u6d3e\u4e2d\u8868\u793a\u6709\u6240\u4e0d\u540c,\u53ea\u80fd\u6574\u7406\u4e00\u4e9b\u51e0\u4e4e\u96f7\u540c\u7684.\\n> \u4e0d\u540c\u6d41\u6d3e\u4e4b\u95f4\u7684\u5dee\u5f02,\u5f88\u591a\u5728\u662f\u5426\u9700\u8981\u8f6c\u4e49\u4e0a,\u4f8b\u5982 \u5728\u6709\u4e9b\u6d41\u6d3e\u91cc `()` \u8981\u5199\u6210 `\\\\(\\\\)`\\n> \u8fd9\u91cc\u6574\u7406\u7684\u4e3b\u8981\u662f PCRE \u6d41\u6d3e\u7684\u6b63\u5219\u8bed\u6cd5\\n\\n\x3c!-- more --\x3e\\n\\n## \u5b57\u7b26\u8868\u793a\\n\\n\u5b57\u7b26\u7f29\u8fdb\u8868\u793a\\n: `\\\\n,\\\\t,\\\\a,\\\\b,\\\\e,\\\\f,\\\\r,\\\\v`\\n\\n\u516b\u8fdb\u5236\u8f6c\u4e49\\n: `\\\\num`\\n\\n\u5341\u516d\u8fdb\u5236\u8f6c\u4e49/Unicode \u8f6c\u4e49\\n: `\\\\xnum,\\\\x{num},\\\\unum,\\\\Unum`\\n\\n\u63a7\u5236\u5b57\u7b26\\n: `\\\\cchar`\\n\\n## \u5b57\u7b26\u53ca\u76f8\u5173\u7ed3\u6784\\n\\n\u666e\u901a\u5b57\u7b26\u7ec4\\n: `[a-z].[^a-z]`\\n\\n\u51e0\u4e4e\u80fd\u5339\u914d\u4efb\u4f55\u5b57\u7b26\u7684\u5143\u5b57\u7b26\\n: `.`\\n\\n\u5355\u4e2a\u5b57\u8282\\n: \'\\\\C\'\\n\\nUnicode \u7ec4\u5408\u5b57\u7b26\u5e8f\u5217\\n: `\\\\X`\\n\\n\u5b57\u7b26\u7ec4\u7b80\u8bb0(\u5927\u5199\u4e3a\u6392\u9664)\\n: `\\\\w,\\\\W,\\\\s,\\\\S,\\\\d,\\\\D`\\n\\nUnicode \u5c5e\u6027\u533a\u57df\u548c\u5206\u7c7b\\n: `\\\\p{prop},\\\\P{prop}`\\n\\nPOSIX \\"\u5b57\u7b26\u7ec4\\"\u65b9\u62ec\u53f7\u8868\u793a\\n: `[[:alpha:]]`\\n\\nPOSIX \\"Collating \u5e8f\u5217\\" \u65b9\u62ec\u53f7\u8868\u793a\\n: `[[.span.-11.]]`\\n\\nPOSIX \\"\u5b57\u7b26\u7b49\u4ef7\u7c7b\\" \u65b9\u62ec\u53f7\u8868\u793a\\n: `[[=n=]]`\\n\\n## \u951a\u70b9\u53ca\u5176\u4ed6 \\"\u96f6\u957f\u5ea6\u65ad\u8a00\\"\\n\\n\u884c/\u5b57\u7b26\u4e32\u8d77\u70b9\\n: `^, \\\\A`\\n\\n\u884c/\u5b57\u7b26\u4e32\u7ec8\u70b9\\n: \'$. \\\\Z, \\\\z\'\\n\\n\u672c\u6b21\u5339\u914d\u7684\u5f00\u59cb\u4f4d\u7f6e/\u4e0a\u6b21\u5339\u914d\u7684\u7ed3\u675f\u4f4d\u7f6e\\n: `\\\\G`\\n\\n\u5355\u8bcd\u5206\u754c\u7b26\\n: `\\\\b,\\\\B,\\\\<,\\\\>`\\n\\n\u987a\u5e8f\u73af\u89c6\\n: `(?=...), (?!...)`\\n\\n\u9006\u5e8f\u73af\u89c6\\n: `(?<=...),(?<!...)`\\n\\n## \u6ce8\u91ca\u548c\u6a21\u5f0f\u4fee\u9970\u8bcd\\n\\n\u6a21\u5f0f\u4fee\u9970\u8bcd\\n: `(?modifier),(-?modifier)`\\n: eg:`(?i)...(?-i)`\\n\\n\u6a21\u5f0f\u4f5c\u7528\u8303\u56f4\\n: `(?modifier:...)`\\n: eg:`(?i:....)`\\n\\n\u6ce8\u91ca\\n: `(?#...),#...`\\n\\n\u6587\u672c\u8303\u56f4\\n: `\\\\Q,\\\\E`\\n\\n## \u5206\u7ec4,\u6355\u83b7,\u6761\u4ef6\u5224\u65ad\u548c\u63a7\u5236\\n\\n\u6355\u83b7/\u5206\u7ec4\\n: `(...),\\\\1,\\\\2`\\n\\n\u4ec5\u7528\u4e8e\u5206\u7ec4\\n: `(?:...)`\\n\\n\u547d\u540d\u6355\u83b7\\n: `(?<name>...)`\\n\\n\u56fa\u5316\u5206\u7ec4\\n: `(?>...)`\\n\\n\u591a\u9009\\n: `...|...|...`\\n\\n\u6761\u4ef6\u5224\u65ad\\n: `(?if then|else)`\\n\\n\u5339\u914d\u4f18\u5148\u91cf\u8bcd\\n: `*,+,?,{m,n}`\\n\\n\u5ffd\u7565\u4f18\u5148\u91cf\u8bcd\\n: `*?,+?,??,{m,n}?`\\n\\n\u5360\u6709\u4f18\u5148\u91cf\u8bcd\\n: `*?,++,?+,{m,n}+`\\n\\n## \u547d\u540d\u5b57\u7b26\u7ec4\\n\\n\u5173\u4e8e\u8fd9\u4e9b\u5b57\u7b26\u7ec4\u7684\u547d\u540d,\u53ef\u4ee5\u53c2\u8003[susv-ctype].\u9700\u8981\u6ce8\u610f\u7684\u662f,\u5728 unicode \u91cc,\u8fd9\u4e9b\u5b57\u7b26\u7ec4\u7684\u5b9a\u4e49\u8981\u6839\u636e unicode \u7684\u5b9a\u4e49\u6765\u5224\u65ad.\u4f1a\u5305\u542b\u989d\u5916\u7684\u540c\u4e49\u7684\u5b57\u7b26.\\n\\n|        \u7ec4 | \u63cf\u8ff0                             |\\n| --------: | :------------------------------- |\\n| [:alnum:] |\\n| [:alpha:] | \u5b57\u6bcd                             |\\n| [:blank:] | \u7a7a\u767d                             |\\n| [:cntrl:] | \u63a7\u5236\u7b26                           |\\n| [:digit:] |\\n| [:graph:] | \u53ef\u663e\u793a                           |\\n| [:lower:] | \u5c0f\u5199                             |\\n| [:upper:] | \u5927\u5199                             |\\n| [:space:] | \u5305\u62ec [:blank:], \u6362\u884c, \u56de\u8f66\u53ca\u5176\u4ed6 |\\n\\n## \u6d4b\u8bd5\u5f15\u64ce\u7c7b\u578b\\n\\n`nfa|nfa.not` \u5339\u914d `nfa.not`\\n\\n| \u5339\u914d\u7ed3\u679c | \u8bf4\u660e        |\\n| -------- | ----------- |\\n| nfa      | \u4f20\u7edf NFA    |\\n| nfa.not  | POSIX / DFA |\\n\\nDFA \u4e0d\u652f\u6301\u6355\u83b7\u578b\u62ec\u53f7\u548c\u56de\u6eaf\\n\\n`x(.+)+x` \u5339\u914d `=xx============================================================`\\n\\n| \u5339\u914d\u7ed3\u679c | \u8bf4\u660e                            |\\n| -------- | ------------------------------- |\\n| \u65f6\u95f4\u957f   | NFA                             |\\n| \u65f6\u95f4\u77ed   | DFA, \u4f46\u4e5f\u6709\u53ef\u80fd\u662f\u6df7\u5408\u7684\u6216\u4f18\u5316\u7684 |\\n\\n| \u5f15\u64ce             | \u5de5\u5177                                                                            |\\n| ---------------- | ------------------------------------------------------------------------------- |\\n| DFA              | awk, egrep, flex, lex, MySQL, Procmail                                          |\\n| Tranditional NFA | GNU Emacs, Java, grep, less, more, .NET, PCRE, Perl, PHP, Python, Vi, Ruby, sed |\\n| POSIX NFA        | mawk, Mortricekern System;s utiles, GNU Emacs                                   |\\n| DFA/NFA          | GNU awk, GNU grep, Tcl                                                          |\\n\\n## \u5339\u914d\u57fa\u7840\\n\\n\u89c4\u5219 1\\n: \u4f18\u5148\u9009\u62e9\u6700\u5de6\u7aef\u7684\u5339\u914d\u7ed3\u679c\\n\\n\u89c4\u5219 2\\n: \u6807\u51c6\u91cf\u8bcd\u662f\u5339\u914d\u4f18\u5148\u7684\\n\\nNFA\\n: \u8868\u8fbe\u5f0f\u4e3b\u5bfc\\n\\nDFA\\n: \u6587\u672c\u4e3b\u5bfc,\u4e0d\u5173\u5fc3\u8868\u8fbe\u5f0f\u7684\u5f62\u5f0f\\n: \u5373 `x*=x?x?...=(x(x(x...)?)?)?`\\n\\n\u5339\u914d\u4f18\u5148\u91cf\u8bcd\u548c\u5ffd\u7565\u4f18\u5148\u91cf\u8bcd\u63a7\u5236,\u5bf9\u56de\u6eaf\u72b6\u6001\u9009\u62e9,\u662f\u8df3\u8fc7\u8fd8\u662f\u8fdb\u884c.\\n\\n\u73af\u89c6\u6a21\u62df\u56fa\u5316\u5206\u7ec4\\n: `(?>...) => (?=(...))\\\\1`\\n\\n\u591a\u9009\u7ed3\u6784\u5373\u975e\u5339\u914d\u4f18\u5148,\u4e5f\u975e\u5ffd\u7565\u4f18\u5148,\u800c\u662f\u987a\u5e8f\u4f18\u5148\\n: eg: `(to|tow) =~ \\"tow\\" = \\"to\\"`\\n\\n\x3c!-- \u94fe\u63a5 --\x3e\\n\\n[susv-ctype]: http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/ctype.h.html"},{"id":"java-siwng-textbubble","metadata":{"permalink":"/story/java-siwng-textbubble","editUrl":"https://github.com/wenerme/wener/edit/master/story/2013/2013-10-12-\u7b80\u5355\u7684\u6587\u5b57\u6c14\u6ce1\u6846 for Swing.md","source":"@site/story/2013/2013-10-12-\u7b80\u5355\u7684\u6587\u5b57\u6c14\u6ce1\u6846 for Swing.md","title":"\u7b80\u5355\u7684\u6587\u5b57\u6c14\u6ce1\u6846 for Swing","description":"TextBubbleBorderDemo screenschot","date":"2013-10-12T00:00:00.000Z","formattedDate":"October 12, 2013","tags":[{"label":"Java","permalink":"/story/tags/java"},{"label":"Swing","permalink":"/story/tags/swing"},{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"}],"readingTime":0.105,"truncated":false,"authors":[],"prevItem":{"title":"Regex \u901f\u8bb0","permalink":"/story/regex-note"},"nextItem":{"title":"\u6570\u636e\u5e93\u539f\u7406 for NCRE 4","permalink":"/story/ncre-4-database-note"}},"content":"![TextBubbleBorderDemo screenschot](https://git.oschina.net/wenerme/wener/raw/master/screenshot/TextBubbleBorderDemo.png \'TextBubbleBorderDemo\')\\n\\n[\u4ee3\u7801\u4e0b\u8f7d](http://resources.wener.me/java/TextBubbleBorderDemo.java)\\n\\n[\u7a0b\u5e8f\u4e0b\u8f7d](http://resources.wener.me/java/TextBubbleBorderDemo.jar)\\n\\n[\u8fd0\u884c\u7a0b\u5e8f](http://resources.wener.me/java/TextBubbleBorderDemo.jnlp)"},{"id":"ncre-4-database-note","metadata":{"permalink":"/story/ncre-4-database-note","editUrl":"https://github.com/wenerme/wener/edit/master/story/2013/2013-09-24-\u6570\u636e\u5e93\u539f\u7406 for NCRE 4.md","source":"@site/story/2013/2013-09-24-\u6570\u636e\u5e93\u539f\u7406 for NCRE 4.md","title":"\u6570\u636e\u5e93\u539f\u7406 for NCRE 4","description":"\u8bb0\u5f55\u81ea \u5168\u56fd\u9ad8\u7b49\u6559\u80b2\u5236\u5b9a\u6559\u6750 \u6570\u636e\u5e93\u539f\u7406","date":"2013-09-24T00:00:00.000Z","formattedDate":"September 24, 2013","tags":[{"label":"\u6570\u636e\u5e93","permalink":"/story/tags/\u6570\u636e\u5e93"},{"label":"\u7b14\u8bb0","permalink":"/story/tags/\u7b14\u8bb0"}],"readingTime":69.2,"truncated":true,"authors":[],"prevItem":{"title":"\u7b80\u5355\u7684\u6587\u5b57\u6c14\u6ce1\u6846 for Swing","permalink":"/story/java-siwng-textbubble"},"nextItem":{"title":"\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u9875\u9762","permalink":"/story/personal-project-page"}},"content":"> \u8bb0\u5f55\u81ea **\u5168\u56fd\u9ad8\u7b49\u6559\u80b2\u5236\u5b9a\u6559\u6750 \u6570\u636e\u5e93\u539f\u7406**\\n> \u548c \u90e8\u5206\u81ea\u5df1\u7684\u6574\u7406\\n\\n\x3c!-- more --\x3e\\n\\n----------------------------------------------------------------\\n\\n## 1. \u6570\u636e\u5e93\u7cfb\u7edf\u7684\u57fa\u672c\u6982\u5ff5\\n### 1.2 \u6570\u636e\u63cf\u8ff0\\n\\n#### 1.2.1 \u6982\u5ff5\u8bbe\u8ba1\u4e2d\u7684\u6570\u636e\u63cf\u8ff0\\n\\n\u5b9e\u4f53(Entity):\\n: \u5ba2\u89c2\u5b58\u5728,\u53ef\u4ee5\u76f8\u4e92\u533a\u522b\u7684\u4e8b\u7269\u6210\u4e3a\u5b9e\u4f53\\n\\n\u5b9e\u4f53\u96c6(Entity Set)\\n: \u6027\u8d28\u76f8\u540c\u7684\u540c\u7c7b\u5b9e\u4f53\u7684\u96c6\u5408\\n\\n\u5c5e\u6027(Attribute)\\n: \u5b9e\u4f53\u7684\u7279\u6027\u79f0\u4e3a\u5c5e\u6027\\n\\n\u5b9e\u4f53\u6807\u8bc6\u7b26(Indentify)\\n: \u80fd\u552f\u4e00\u6807\u8bc6\u5b9e\u4f53\u7684\u5c5e\u6027\u6216\u5c5e\u6027\u96c6\\n\\n#### 1.2.2 \u903b\u8f91\u8bbe\u8ba1\u4e2d\u7684\u6570\u636e\u63cf\u8ff0\\n\\n\u8bb0\u5f55(Record)\\n: \u5b57\u6bb5\u7684\u6709\u5e8f\u96c6\u5408\\n\\n\u5b57\u6bb5(Field)\\n: \u6807\u8bb0\u5b9e\u4f53\u5c5e\u6027\u7684\u547d\u540d\u5355\u4f4d\u79f0\u4e3a\u5b57\u6bb5\u6216\u6570\u636e\u9879\\n\\n\u6587\u4ef6(File)\\n: \u540c\u4e00\u7c7b\u8bb0\u5f55\u7684\u96c6\u5408\\n\\n\u5173\u952e\u7801(Key)\\n: \u80fd\u552f\u4e00\u4fbf\u662f\u6587\u4ef6\u4e2d\u67d0\u4e2a\u8bb0\u5f55\u7684\u5b57\u6bb5\u6216\u5b57\u6bb5\u96c6\\n\\n#### \u672f\u8bed\u7684\u5bf9\u5e94\u5173\u7cfb\\n\\n\u6982\u5ff5\u8bbe\u8ba1   | \u903b\u8f91\u8bbe\u8ba1\\n--------- | -----\\n\u5b9e\u4f53 | \u8bb0\u5f55\\n\u5c5e\u6027 | \u5b57\u6bb5\\n\u5b9e\u4f53\u96c6 | \u6587\u4ef6\\n\u5b9e\u4f53\u6807\u8bc6\u7b26 | \u5173\u952e\u7801\\n\\n#### 1.2.4 \u6570\u636e\u8054\u7cfb\u7684\u63cf\u8ff0\\n\\n\u8054\u7cfb (Relationship)\\n: \u5b9e\u4f53\u4e4b\u95f4\u7684\u76f8\u4e92\u5173\u7cfb,\u4e0e\u4e00\u4e2a\u8054\u7cfb\u76f8\u5173\u7684\u5b9e\u4f53\u4e2a\u6570\u79f0\u4e3a\u8054\u7cfb\u7684\u5143\u6570\\n\\n\u8054\u7cfb\u7684\u7c7b\u578b\\n: \u4e00\u5bf9\u4e00,\u4e00\u5bf9\u591a,\u591a\u5bf9\u591a 1:1, 1:N, N:M\\n\\n### 1.3 \u6570\u636e\u7684\u62bd\u8c61\u7ea7\u522b\\n\\n#### 1.3.1 \u6570\u636e\u62bd\u8c61\u8fc7\u7a0b\\n\\n\u6a21\u578b(Model)\\n: \u5bf9\u73b0\u5b9e\u4e16\u754c\u7684\u62bd\u8c61\\n\\n\u6570\u636e\u6a21\u578b(Date Model)\\n: \u6570\u636e\u5e93\u7684\u7ed3\u6784\u548c\u8bed\u4e49,\u5bf9\u73b0\u5b9e\u4e16\u754c\u7684\u6570\u636e\u8fdb\u884c\u62bd\u8c61\\n\\n: > **[wiki-\u6570\u636e\u6a21\u578b]** \u6570\u636e\u6a21\u578b\u662f\u5b9a\u4e49\u6570\u636e\u5982\u4f55\u8f93\u5165\u548c\u4e0e\u8f93\u51fa\u7684\u4e00\u79cd\u6a21\u578b\u3002\\n\u5176\u4e3b\u8981\u4f5c\u7528\u662f\u4e3a\u4fe1\u606f\u7cfb\u7edf\u63d0\u4f9b\u6570\u636e\u7684\u5b9a\u4e49\u548c\u683c\u5f0f\u3002\u6570\u636e\u6a21\u578b\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6838\u5fc3\u548c\u57fa\u7840\uff0c\\n\u73b0\u6709\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u90fd\u662f\u57fa\u4e8e\u67d0\u79cd\u6570\u636e\u6a21\u578b\u800c\u5efa\u7acb\u8d77\u6765\u7684\u3002\\n\\n#### 1.3.2 \u6982\u5ff5\u6a21\u578b\\n1. \u8868\u8fbe\u6570\u636e\u7684\u6574\u4f53\u903b\u8f91\u7ed3\u6784\uff0c\u662f\u7cfb\u7edf\u7528\u6237\u5bf9\u6574\u4e2a\u5e94\u7528\u9879\u76ee\u8bbe\u8ba1\u7684\u6570\u636e\u7684\u5168\u9762\u63cf\u8ff0\\n2. \u4ece\u7528\u6237\u7684\u89c2\u70b9\u51fa\u53d1\uff0c\u5bf9\u6570\u636e\u5efa\u6a21\\n3. \u72ec\u7acb\u4e8e\u786c\u4ef6\u548c\u8f6f\u4ef6\\n4. \u662f\u6570\u636e\u5e93\u8bbe\u8ba1\u4eba\u5458\u4e0e\u7528\u6237\u4e4b\u95f4\u8fdb\u884c\u4ea4\u6d41\u7684\u5de5\u5177\\n\\n#### 1.3.3 \u903b\u8f91\u6a21\u578b\\n1. \u8868\u8fbe\u4e86DB\u7684\u6574\u4f53\u903b\u8f91\u7ed3\u6784,\u8bbe\u8ba1\u4eba\u5458\u5bf9\u6574\u4e2a\u5e94\u7528\u9879\u76ee\u6570\u636e\u5e93\u7684\u5168\u9762\u63cf\u8ff0\\n2. \u4ece\u6570\u636e\u5e93\u7684\u5b9e\u73b0\u89c2\u70b9\u51fa\u53d1,\u5bf9\u6570\u636e\u5efa\u6a21\\n3. \u72ec\u7acb\u4e8e\u786c\u4ef6,\u4f9d\u8d56\u4e8e\u8f6f\u4ef6\\n4. \u6570\u636e\u5e93\u8bbe\u8ba1\u4eba\u5458\u4e0e\u5e94\u7528\u7a0b\u5e8f\u5458\u4e4b\u95f4\u8fdb\u884c\u4ea4\u6d41\u7684\u5de5\u5177\\n> \u903b\u8f91\u6a21\u578b\u7684\u7c7b\u578b: \u5c42\u6b21,\u7f51\u72b6,\u5173\u7cfb\\n\\n#### 1.3.4 \u5916\u90e8\u6a21\u578b\\n1. \u662f\u903b\u8f91\u6a21\u578b\u7684\u5b50\u96c6\\n2. \u72ec\u7acb\u4e8e\u786c\u4ef6,\u4f9d\u8d56\u4e8e\u8f6f\u4ef6\\n3. \u53cd\u5e94\u7528\u6237\u4f7f\u7528\u6570\u636e\u5e93\u7684\u89c2\u70b9\\n\\n##### \u5916\u90e8\u6a21\u578b\u7684\u4f18\u70b9\\n1. \u7b80\u5316\u7528\u6237\u7684\u89c2\u70b9\\n2. \u6709\u52a9\u4e8e\u6570\u636e\u7684\u5b89\u5168\u6027\u4fdd\u62a4\\n3. \u5916\u90e8\u6a21\u578b\u662f\u5bf9\u6982\u5ff5\u6a21\u578b\u7684\u652f\u6301\\n\\n#### 1.3.5 \u5185\u90e8\u6a21\u578b\\n\u5185\u90e8\u6a21\u578b\u4e5f\u53eb\u505a\u7269\u7406\u6a21\u578b,\u662f\u6570\u636e\u5e93\u6700\u5e95\u5c42\u7684\u62bd\u8c61,\u5b83\u63cf\u8ff0\u6570\u636e\u5728\u78c1\u76d8\u6216\u78c1\u5e26\u4e0a\u7684\u5b58\u50a8\u65b9\u5f0f,\u5b58\u53d6\u8bbe\u5907\u548c\u5b58\u53d6\u65b9\u6cd5\\n> \u73b0\u4eca\u7684\u5185\u90e8\u7ec6\u8282\u5927\u591a\u7531\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u73b0\\n\\n#### 1.3.6 \u4e09\u5c42\u6a21\u578b\u548c\u4e24\u7ea7\u6620\u8c61\\n* \u4e09\u5c42\u6a21\u578b\u5373\u4e0a\u8ff0\u7684: \u5916\u90e8,\u903b\u8f91,\u5185\u90e8\\n* \u4e24\u5c42\u6620\u8c61\u4e3a: \u5185\u90e8 <-> \u903b\u8f91, \u903b\u8f91 <-> \u5185\u90e8\\n* \u4f18\u70b9: \u589e\u5f3a\u4e86\u72ec\u7acb\u6027,\u4e0d\u540c\u6a21\u5f0f\u5c42\u6b21\u4e4b\u95f4\u7684\u64cd\u4f5c\u7531\u6620\u5c04\u5b8c\u6210\\n\\n### 1.4 \u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf(DBMS)\\n#### 1.4.1 DBMS\u7684\u5de5\u4f5c\u6a21\u5f0f\\n\\n\u6570\u636e\u5e93\u64cd\u4f5c\u7cfb\u7edf(DBMS)\\n: \u662f\u6307\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u5bf9\u6570\u636e\u8fdb\u884c\u7ba1\u7406\u7684\u8f6f\u4ef6\u7cfb\u7edf\u3002\u5b83\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6838\u5fc3\u7ec4\u6210\u90e8\u5206.\u5bf9DB\u7684\u4e00\u5207\u64cd\u4f5c,\\n\u5305\u62ec\u5b9a\u4e49,\u67e5\u8be2,\u66f4\u65b0\u53ca\u5404\u79cd\u63a7\u5236,\u90fd\u662f\u901a\u8fc7DBMS\u8fdb\u884c\u7684.\\n\\n##### DBMS\u7684\u5de5\u4f5c\u6a21\u5f0f\\n\\n1. \u63a5\u53d7\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u8bf7\u6c42\u548c\u5904\u7406\u8bf7\u6c42\\n2. \u5c06\u7528\u6237\u7684\u6570\u636e\u8bf7\u6c42(\u9ad8\u7ea7\u6307\u4ee4)\u8f6c\u6362(\u7f16\u8bd1)\u6210\u590d\u6742\u7684\u673a\u5668\u7801(\u4f4e\u7ea7\u6307\u4ee4)\\n3. \u5b9e\u73b0\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\\n4. \u4ece\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u4e2d\u63a5\u53d7\u67e5\u8be2\u7ed3\u679c\\n5. \u5bf9\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u5904\u7406(\u683c\u5f0f\u8f6c\u6362)\\n6. \u5c06\u5904\u7406\u7ed3\u679c\u8fd4\u56de\u7ed9\u7528\u6237\\n\\n##### DBMS\u7684\u4e3b\u8981\u529f\u80fd\\n\\n1. \u5b9a\u4e49(DDL)\\n2. \u64cd\u7eb5(DML)\\n3. \u6570\u636e\u5e93\u7684\u4fdd\u62a4\u529f\u80fd\\n\\t1. \u6570\u636e\u5e93\u7684\u6062\u590d\\n\\t2. \u5e76\u53d1\u63a7\u5236\\n\\t3. \u5b8c\u6574\u6027\u63a7\u5236\\n\\t4. \u5b89\u5168\u6027\u63a7\u5236\\n4. \u6570\u636e\u5e93\u7684\u7ef4\u62a4\u529f\u80fd\\n\u5305\u62ec\u6570\u636e\u7684\u8f7d\u5165,\u8f6c\u6362,\u8f6c\u50a8,\u6570\u636e\u5e93\u7684\u6539\u7ec4\u4ee5\u53ca\u6027\u80fd\u76d1\u63a7\u7b49\\n5. \u6570\u636e\u5b57\u5178\\n\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u5b58\u653e\u4e09\u7ea7\u7ed3\u6784\u5b9a\u4e49\u7684\u6570\u636e\u5e93\u6210\u4e3a\u6570\u636e\u5b57\u5178(DD)\\n\\n> [wiki-\u6570\u636e\u5b57\u5178]:\u6307\u4e00\u7ec4\u5bf9\u6570\u636e\u6d41\u7a0b\u56fe\u4e2d\u7684\u6570\u636e\u6d41\u3001\u6570\u636e\u6587\u4ef6\u3001\u6570\u636e\u9879\u53ca\u5904\u7406\u903b\u8f91\u8fdb\u884c\u5b9a\u4e49\u63cf\u8ff0\u7684\u8868\u683c\u3002\\n\\n### 1.5 \u6570\u636e\u5e93\u7cfb\u7edf(DBS)\\n#### 1.5.1 DBS\u7684\u7ec4\u6210\\n\\nDBS \u662f\u91c7\u7528\u4e86\u6570\u636e\u5e93\u6280\u672f\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf.\u5b83\u662f\u6570\u636e\u5e93,\u786c\u4ef6,\u8f6f\u4ef6\u548c\u6570\u636e\u5e93\u7ba1\u7406\u5458\u7684\u96c6\u5408\u4f53.\\n\\n\u6570\u636e\u5e93(DB)\\n: \u662f\u5404\u9879\u5e94\u7528\u6709\u5173\u7684\u5168\u90e8\u6570\u636e\u7684\u96c6\u5408.\u5206\u4e3a\u4e24\u7c7b,\u4e00\u7c7b\u662f\u5e94\u7528\u6570\u636e\u7684\u96c6\u5408,\u6210\u4e3a\u7269\u7406\u6570\u636e\u5e93,\\n\u662f\u6570\u636e\u5e93\u7684\u4e3b\u9898;\u53e6\u4e00\u7c7b\u662f\u5404\u7ea7\u6570\u636e\u7ed3\u6784\u7684\u63cf\u8ff0,\u79f0\u4e3a\u63cf\u8ff0\u6570\u636e\u5e93,\u7531DD\u7cfb\u7edf\u7ba1\u7406.\\n\\n##### \u6570\u636e\u5e93\u7ba1\u7406\u5458(DBA)\\n\\nDBA\u9700\u8981\u5177\u5907\u7684\u7d20\u8d28\\n\\n* \u719f\u6089\u4f01\u4e1a\u5168\u90e8\u6570\u636e\u7684\u6027\u8d28\u548c\u7528\u9014\\n* \u5bf9\u6240\u6709\u7528\u6237\u7684\u9700\u6c42\u6709\\n\\n#### 1.5.2 DBS\u7684\u5168\u5c40\u7ed3\u6784\\n\u5e38\u89c1\u4e66\u4e0a\u7684\u56fe 1.21\\n\\n#### 1.5.3 DBS\u7684\u7b11\u610f\\n1. \u7075\u6d3b\u6027\\n2. \u7b80\u6613\u6027\\n3. \u9762\u5411\u7528\u6237\\n4. \u6709\u6548\u7684\u6570\u636e\u63a7\u5236\\n5. \u52a0\u5feb\u5e94\u7528\u7cfb\u7edf\u7684\u5f00\u53d1\u901f\u5ea6\\n6. \u7ef4\u62a4\u65b9\u4fbf\\n7. \u6807\u51c6\u5316\\n\\n----------------------------------------------------------------\\n## 2. \u6570\u636e\u5e93\u8bbe\u8ba1\u548c ER \u6a21\u578b\\n### 2.1 \u6570\u636e\u5e93\u7cfb\u7edf\u751f\u5b58\u671f\\n\\n\u6570\u636e\u5e93\u751f\u5b58\u671f\u4e00\u822c\u5206\u4e3a\u4e03\u4e2a\u9636\u6bb5: \u89c4\u5212,\u9700\u6c42\u5206\u6790,\u6982\u5ff5\u8bbe\u8ba1,\u903b\u8f91\u8bbe\u8ba1,\u5b9e\u73b0,\u8fd0\u884c\u7ef4\u62a4\\n\\n#### 2.1.1 \u89c4\u5212\u9636\u6bb5\\n\u5bf9\u4e8e\u6570\u636e\u5e93\u7cfb\u7edf,\u7279\u522b\u662f\u5927\u578b\u6570\u636e\u5e93\u7cfb\u7edf\u6216\u5927\u578b\u4fe1\u606f\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u5e93\u7fa4,\u89c4\u5212\u9636\u6bb5\u662f\u5341\u5206\u5fc5\u8981\u7684.\\n\u89c4\u5212\u7684\u597d\u574f\u5c06\u76f4\u63a5\u5f71\u54cd\u5230\u6574\u4e2a\u7cfb\u7edf\u7684\u6210\u529f\u4e0e\u5426,\u5bf9\u5e94\u7528\u5355\u4f4d\u7684\u4fe1\u606f\u5316\u8fdb\u7a0b\u5c06\u4ea7\u751f\u6df1\u8fdc\u5f71\u54cd.\\n\\n\u89c4\u5212\u9636\u6bb5\u7684\u5177\u4f53\u6b65\u9aa4:\\n\\n1. \u7cfb\u7edf\u8c03\u67e5\\n\\t\u5bf9\u5e94\u7528\u5355\u4f4d\u505a\u5168\u9762\u7684\u8c03\u67e5.\u53d1\u73b0\u5176\u5b58\u5728\u7684\u4e3b\u8981\u95ee\u9898,\u5e76\u753b\u51fa\u7ec4\u7ec7\u5c42\u6b21\u56fe,\u4ee5\u4e86\u89e3\u4f01\u4e1a\u7684\u7ec4\u7ec7\u7ed3\u6784\\n\\n2. \u53ef\u884c\u6027\u5206\u6790\\n\\t\u4ece\u6280\u672f,\u7ecf\u6d4e,\u6548\u76ca,\u6cd5\u5f8b\u7b49\u8bf8\u65b9\u9762\u5bf9\u5efa\u7acb\u6570\u636e\u5e93\u7684\u53ef\u884c\u6027\u8fdb\u884c\u5206\u6790,\u7136\u540e\u5199\u51fa\u53ef\u884c\u6027\u5206\u6790\u62a5\u544a;\u7ec4\u7ec7\u4e13\u5bb6\u8fdb\u884c\u8ba8\u8bba\u5176\u53ef\u884c\u6027\\n\\n3. \u786e\u5b9a\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u603b\u76ee\u6807, \u5e76\u5bf9\u5e94\u7528\u5355\u4f4d\u7684\u5de5\u4f5c\u6d41\u7a0b\u8fdb\u884c\u4f18\u5316\u548c\u5236\u5b9a\u9879\u76ee\u5f00\u53d1\u8ba1\u5212.\\n\u5728\u5f97\u5230\u51b3\u7b56\u90e8\u95e8\u6279\u51c6\u540e,\u5c31\u6b63\u5f0f\u8fdb\u5165\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u5f00\u53d1\u5de5\u4f5c\\n\\n#### 2.1.2 \u9700\u6c42\u5206\u6790\u9636\u6bb5\\n\u8fd9\u4e00\u9636\u6bb5\u662f\u8ba1\u7b97\u673a\u4eba\u5458(\u7cfb\u7edf\u5206\u6790\u5458)\u548c\u7528\u6237\u53cc\u65b9\u5171\u540c\u6536\u96c6\u6570\u636e\u5e93\u6240\u9700\u7684\u4fe1\u606f\u5185\u5bb9\u548c\u7528\u6237\u5bf9\u5904\u7406\u7684\u9700\u6c42,\\n\u5e76\u4ee5\u9700\u6c42\u8bf4\u660e\u4e66\u7684\u5f62\u5f0f\u786e\u5b9a\u4e0b\u6765,\u4f5c\u4e3a\u4ee5\u540e\u5f00\u7cfb\u7edf\u5f00\u53d1\u7684\u6307\u5357\u548c\u7cfb\u7edf\u9a8c\u8bc1\u7684\u4f9d\u636e\\n\\n\u9700\u6c42\u5206\u6790\u9636\u6bb5\u7684\u5177\u4f53\u6b65\u9aa4:\\n\\n1. \u5206\u6790\u7528\u6237\u6d3b\u52a8,\u4ea7\u751f\u4e1a\u52a1\u6d41\u7a0b\u56fe\\n2. \u786e\u5b9a\u7cfb\u7edf\u8303\u56f4,\u4ea7\u751f\u7cfb\u7edf\u5173\u7cfb\u56fe\\n3. \u5206\u6790\u7528\u6237\u6d3b\u52a8\u6d89\u53ca\u7684\u6570\u636e,\u4ea7\u751f\u6570\u636e\u6d41\u56fe(DFD)\\n4. \u5206\u6790\u7cfb\u7edf\u6570\u636e,\u4ea7\u751f\u6570\u636e\u5b57\u5178\\n\\n> \u6570\u636e\u5b57\u5178\u4e2d\u901a\u5e38\u5305\u62ec\u6570\u636e\u9879,\u6570\u636e\u7ed3\u6784,\u6570\u636e\u6d41,\u6570\u636e\u5b58\u50a8\u548c\u5904\u74065\u4e2a\u90e8\u5206\\n\\n#### 2.1.3 \u6982\u5ff5\u8bbe\u8ba1\u9636\u6bb5\\n\u6982\u5ff5\u8bbe\u8ba1\u7684\u76ee\u6807\u662f\u4ea7\u751f\u53cd\u5e94\u7528\u6237\u5355\u4f4d\u4fe1\u606f\u9700\u6c42\u7684\u6570\u636e\u6982\u5ff5\u7ed3\u6784,\u5373\u6982\u5ff5\u7ed3\u6784,\u6982\u5ff5\u6a21\u578b\u72ec\u7acb\u4e8e\u8ba1\\n\u7b97\u673a\u786c\u4ef6\u7ed3\u6784,\u72ec\u7acb\u4e8e\u652f\u6301\u6570\u636e\u7684DBMS.\\n\\n\u6982\u5ff5\u8bbe\u8ba1\u7684\u4e3b\u8981\u6b65\u9aa4:\\n\\n1. \u8fdb\u884c\u6570\u636e\u62bd\u8c61,\u8bbe\u8ba1\u5c40\u90e8\u6982\u5ff5\u6a21\u578b\\n\\t> \u8bbe\u8ba1\u6982\u5ff5\u7ed3\u6784\u65f6,\u5e38\u7528\u7684\u6570\u636e\u62bd\u8c61\u65b9\u6cd5\u662f\\"\u805a\u96c6\\"\u548c\\"\u6982\u62ec\\"\\n\\n2. \u5c06\u5c40\u90e8\u6982\u5ff5\u7efc\u5408\u6210\u5168\u5c40\u6982\u5ff5\u6a21\u578b\\n3. \u8bc4\u5ba1\\n\\t\u786e\u8ba4\u5168\u5c40\u7ed3\u6784\u662f\u5426\u5b8c\u6574,\u5404\u79cd\u5212\u5206\u662f\u5426\u5408\u7406,\u662f\u5426\u5b58\u5728\u4e0d\u4e00\u81f4\u6027,\u5404\u79cd\u6587\u6863\u662f\u5426\u9f50\u5168\\n\\n#### 2.1.4 \u903b\u8f91\u8bbe\u8ba1\u9636\u6bb5\\n\u6982\u5ff5\u8bbe\u8ba1\u7684\u7ed3\u679c\u662f\u5f97\u5230\u4e00\u4e2a\u4e0eDBMS\u65e0\u5173\u7684\u6982\u5ff5\u6a21\u578b.\u800c\u903b\u8f91\u8bbe\u8ba1\u7684\u76ee\u7684\u662f\u628a\u6982\u5ff5\u8bbe\u8ba1\u9636\u6bb5\u8bbe\u8ba1\u597d\u7684\\n\u6982\u5ff5\u6a21\u578b\u8f6c\u6362\u6210\u5177\u4f53\u7684\u903b\u8f91\u6a21\u578b.\\n\\n\u903b\u8f91\u8bbe\u8ba1\u7684\u4e3b\u8981\u6b65\u9aa4:\\n\\n1. \u628a\u6982\u5ff5\u6a21\u578b\u8f6c\u6362\u6210\u903b\u8f91\u6a21\u578b\\n\\tER\u6a21\u578b\u8f6c\u6362\u6210\u5173\u7cfb\u6a21\u578b\\n2. \u8bbe\u8ba1\u5916\u6a21\u578b\\n3. \u8bbe\u8ba1\u5e94\u7528\u7a0b\u5e8f\u4e0e\u6570\u636e\u5e93\u7684\u63a5\u53e3\\n4. \u8bc4\u4ef7\u6a21\u578b\\n5. \u4fee\u6b63\u6a21\u578b\\n\\n#### 2.1.5 \u7269\u7406\u8bbe\u8ba1\u9636\u6bb5\\n\\n\u5177\u4f53\u6b65\u9aa4:\\n1. \u5b58\u50a8\u8bb0\u5f55\u7ed3\u6784\u8bbe\u8ba1\\n2. \u786e\u5b9a\u6570\u636e\u5b58\u653e\u4f4d\u7f6e\\n3. \u5b58\u53d6\u65b9\u6cd5\u7684\u8bbe\u8ba1\\n4. \u5b8c\u6574\u6027\u548c\u5b89\u5168\u6027\u8003\u8651\\n5. \u7a0b\u5e8f\u8bbe\u8ba1\\n\\n#### 2.1.6 \u6570\u636e\u5e93\u7684\u5b9e\u73b0\\n\u4e3b\u8981\u5305\u62ec\\n\\n1. \u7528DDL\u5b9a\u4e49\u6570\u636e\u5e93\u7ed3\u6784\\n2. \u6570\u636e\u88c5\u8f7d/\u7ec4\u7ec7\u6570\u636e\u5165\u5e93\\n\\t\u5177\u4f53\u6b65\u9aa4: \u7b5b\u9009\u6570\u636e, \u8f93\u5165\u6570\u636e, \u8f6c\u6362\u6570\u636e\u683c\u5f0f, \u6821\u9a8c\u6570\u636e, \u7efc\u5408\u6570\u636e\\n3. \u7f16\u5236\u4e0e\u8c03\u8bd5\u5e94\u7528\u7a0b\u5e8f\\n\\t\u8be5\u6b65\u9aa4\u4f7f\u7528\u6a21\u62df\u6570\u636e\u8fdb\u884c\u8c03\u8bd5\\n4. \u6570\u636e\u5e93\u8bd5\u8fd0\u884c\\n\\t\u529f\u80fd\u8c03\u8bd5,\u6027\u80fd\u6d4b\u8bd5\\n\\n#### 2.1.7 \u6570\u636e\u5e93\u7684\u8fd0\u884c\u4e0e\u7ef4\u62a4\\n\u5728\u6570\u636e\u5e93\u8fd0\u884c\u9636\u6bb5,\u5bf9\u6570\u636e\u5e93\u7ecf\u5e38\u6027\u7684\u7ef4\u62a4\u5de5\u4f5c\u4e3b\u8981\u7531DBA\u5b8c\u6210,\u5b83\u5305\u62ec\u4ee5\u4e0b\u5185\u5bb9:\\n\\n1. \u6570\u636e\u5e93\u7684\u8f6c\u50a8\u548c\u6062\u590d\\n2. \u6570\u636e\u5e93\u5b89\u5168\u6027,\u5b8c\u6574\u6027\u63a7\u5236\\n3. \u6570\u636e\u5e93\u6027\u80fd\u7684\u76d1\u7763,\u5206\u6790\u548c\u6539\u8fdb\\n4. \u6570\u636e\u5e93\u7684\u91cd\u7ec4\u7ec7\u548c\u91cd\u6784\u9020\\n\\n----------------------------------------------------------------\\n## 3. \u5173\u7cfb\u6a21\u5f0f\u8bbe\u8ba1\u7406\u8bba\\n\u5173\u7cfb\u6a21\u5f0f\u8bbe\u8ba1\u7406\u8bba\u4e3b\u8981\u5305\u62ec\u4e09\u4e2a\u65b9\u9762\u7684\u5185\u5bb9: \u6570\u636e\u4f9d\u8d56,\u8303\u5f0f\u548c\u6a21\u5f0f\u8bbe\u8ba1\u65b9\u6cd5\\n\\n### 3.1 \u5173\u7cfb\u6a21\u5f0f\u7684\u8bbe\u8ba1\u51c6\u5219\\n#### 3.1.1 \u5173\u7cfb\u6a21\u5f0f\u7684\u5197\u4f59\u548c\u5f02\u5e38\u95ee\u9898\\n __\u5206\u89e3__\u662f\u89e3\u51b3\u5197\u4f59\u7684\u4e3b\u8981\u65b9\u6cd5,\u4e5f\u662f\u89c4\u8303\u5316\u7684\u4e00\u6761\u539f\u5219:\\"\u5173\u7cfb\u6a21\u5f0f\u6709\u5197\u4f59,\u5c31\u5206\u89e3\u5b83\\"\\n\\n#### 3.1.2 \u5173\u7cfb\u6a21\u5f0f\u7684\u975e\u5f62\u5f0f\u5316\u8bbe\u8ba1\u51c6\u5219\\n\\n\u51c6\u5219 3.1\\n: <small>\u5173\u7cfb\u6a21\u5f0f\u7684\u8bbe\u8ba1\u5c3d\u53ef\u80fd</small>\u53ea\u5305\u542b\u6709\u76f4\u63a5\u8054\u7cfb\u7684\u5c5e\u6027,\u4e0d\u8981\u5305\u542b\u6709\u95f4\u63a5\u8054\u7cfb\u7684\u5c5e\u6027.\\n\\t\u4e5f\u5c31\u662f,\u6bcf\u4e2a\u5173\u7cfb\u5173\u7cfb\u6a21\u5f0f\u5e94\u53ea\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u578b\u6216\u4e00\u4e2a\u8054\u7cfb\u7c7b\u578b.\\n\\n\u51c6\u5219 3.2\\n: <small>\u5173\u7cfb\u6a21\u5f0f\u7684\u8bbe\u8ba1\u5c3d\u53ef\u80fd\u4f7f\u5f97\u76f8\u5e94\u5173\u7cfb\u4e2d</small>\u4e0d\u51fa\u73b0\u63d2\u5165,\u5220\u9664\u548c\u4fee\u6539\u7b49\u64cd\u4f5c\u5f02\u5e38\u73b0\u8c61.\\n\\t\u5982\u679c\u51fa\u73b0\u4efb\u4f55\u5f02\u5e38,\u5219\u8981\u6e05\u695a\u7684\u52a0\u4ee5\u8bf4\u660e,\u5e76\u786e\u4fdd\u66f4\u65b0\u6570\u636e\u5e93\u7684\u7a0b\u5e8f\u6b63\u786e\u64cd\u4f5c.\\n\\n\u51c6\u5219 3.3\\n: <small>\u5173\u7cfb\u6a21\u5f0f\u7684\u8bbe\u8ba1\u5c3d\u53ef\u80fd\u4f7f\u5f97\u76f8\u5e94\u5173\u7cfb\u4e2d</small>\u907f\u514d\u653e\u7f6e\u7ecf\u5e38\u4e3a\u7a7a\u7684\u5c5e\u6027.\\n\\n\u51c6\u5219 3.4\\n: <small>\u5173\u7cfb\u6a21\u5f0f\u7684\u8bbe\u8ba1\u5e94\u5c3d\u53ef\u80fd\u4f7f\u5f97</small>\u5173\u7cfb\u7684\u7b49\u503c\u8fde\u63a5\u5728\u4e3b\u952e\u548c\u5916\u952e\u7684\u5c5e\u6027\u4e0a\u8fdb\u884c,\\n\\t\u5e76\u4e14\u4fdd\u8bc1\u8fde\u63a5\u4ee5\u540e\u4e0d\u4f1a\u4ea7\u751f\u989d\u5916\u7684\u5143\u7ec4.\\n\\t> \u5982\u679c\u4e24\u4e2a\u8fde\u63a5\u5339\u914d\u7684\u4e0d\u662f\u5916\u952e\u6216\u4e3b\u952e,\u90a3\u4e48\u8fd9\u79cd\u8fde\u63a5\u5f88\u53ef\u80fd\u4f1a\u4ea7\u751f\u989d\u5916\u5143\u7ec4\\n\\n### 3.2 \u51fd\u6570\u4f9d\u8d56\\n\\n#### 3.2.1 \u51fd\u6570\u4f9d\u8d56\u7684\u5b9a\u4e49\\n\\n\u5b9a\u4e49 3.1\\n: \u8bbe\u6709\u5173\u7cfb\u6a21\u5f0f R(U), X \u548c Y \u662f\u5c5e\u6027\u96c6 U \u7684\u5b50\u96c6,\\n__\u51fd\u6570\u4f9d\u8d56(FUnctional Dependency, \u7b80\u8bb0\u4e3a FD)__\\n\u662f\u5f62\u6210 $x\\\\rightarrow y$ \u7684\u4e00\u4e2a\u547d\u9898, \u53ea\u8981r\u662fR\u7684\u5f53\u524d\u5173\u7cfb,\\n\u5bf9r\u4e2d\u4efb\u610f\u4e24\u4e2a\u5143\u7ec4 t \u548c s,\u90fd\u6709 t[X] = s[X] \u8574\u542b t[Y] = s[Y],\\n\u90a3\u4e48\u79f0 $FD\\\\quad x\\\\rightarrow y$ \u5728\u5173\u7cfb\u6a21\u5f0f R(U)\u4e2d\u6210\u7acb.\\n\\n\u8fd9\u91cc t[X] \u8868\u793a\u5143\u7ec4 t \u5728\u5c5e\u6027\u96c6 X \u4e0a\u7684\u503c,\u5176\u4f59\u7c7b\u540c. $X \\\\rightarrow Y$ \u8bfb\u4f5c X \u51fd\u6570\u51b3\u5b9a Y,\\n\u6216 Y \u51fd\u6570\u4f9d\u8d56\u4e8e X. FD \u662f\u5bf9\u5173\u7cfb\u6a21\u5f0f R \u7684\u4e00\u5207\u53ef\u80fd\u7684\u5173\u7cfb r \u5b9a\u4e49\u7684. \u5bf9\u4e8e\u5f53\u524d\u5173\u7cfb r \u7684\u4efb\u610f\u4e24\u4e2a\u5143\u7ec4,\\n\u5982\u679c X \u76f8\u540c,\u5219\u8981\u6c42 Y \u503c\u4e5f\u76f8\u540c.\u5373\u6709\u4e00\u4e2a X \u503c\u5c31\u6709\u4e00\u4e2a Y \u503c\u4e0e\u4e4b\u5bf9\u5e94, \u6216\u8005\u8bf4 Y \u503c\u7531 X \u503c\u51b3\u5b9a.\\n\u56e0\u800c\u8fd9\u79cd\u4f9d\u8d56\u79f0\u4e3a\u51fd\u6570\u4f9d\u8d56.\\n\\n\u5f53\u5173\u7cfb\u6a21\u5f0f\u4e0a\u5b58\u5728\u51fd\u6570\u4f9d\u8d56\u65f6,\u5bf9\u5176\u5173\u7cfb\u4e2d\u7684\u503c\u5c06\u6709\u4e25\u683c\u7684\u9650\u5236.\\n\\n\u5b9a\u4e49 3.2\\n: \u5982\u679c $X \\\\rightarrow Y$ \u548c $Y \\\\rightarrow X$ \u540c\u65f6\u6210\u7acb,\u5219\u53ef\u8bb0\u4e3a $X \\\\leftrightarrow Y$.\\n\u4e5f\u5c31\u662f\u5728\u5173\u7cfb\u4e2d, X \u503c\u548c Y \u503c\u5177\u6709\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb.\\n\\n#### 3.2.2 FD \u7684\u903b\u8f91\u8574\u542b\\n\\n\u5b9a\u4e49 3.3\\n: \u8bbe F \u662f\u5728\u5173\u7cfb\u6a21\u5f0f R \u4e0a\u6210\u7acb\u7684\u51fd\u6570\u4f9d\u8d56\u7684\u96c6\u5408, $X \\\\rightarrow Y$ \u662f\u4e00\u4e2a\u51fd\u6570\u4f9d\u8d56.\\n\u5982\u679c\u5bf9\u4e8e R \u7684\u6bcf\u4e2a\u6ee1\u8db3 F \u7684\u5173\u7cfb r \u4e5f\u6ee1\u8db3 $X \\\\rightarrow Y$, \u90a3\u4e48 F \u903b\u8f91\u8574\u542b\\n$X \\\\rightarrow Y$,\u8bb0\u4e3a $F \\\\models X\\\\rightarrow Y$.\\n\\n\u5b9a\u4e49 3.4\\n: \u8bbe F \u662f\u51fd\u6570\u4f9d\u8d56\u96c6, \u88ab F \u903b\u8f91\u8574\u542b\u7684\u51fd\u6570\u4f9d\u8d56\u5168\u4f53\u6784\u6210\u7684\u96c6\u5408,\u79f0\u4e3a\u51fd\u6570\u4f9d\u8d56\u96c6 F \u7684\\n__\u95ed\u5305(Closure)__, \u8bb0\u4e3a${ F }^{ + }$ . \u5373\\n$$\\n{ F }^{ + }=\\\\{ \\\\quad X\\\\rightarrow Y\\\\quad |\\\\quad F \\\\models X\\\\rightarrow Y\\\\quad \\\\}\\n$$\\n\\n#### 3.2.3 FD \u7684\u63a8\u7406\u89c4\u5219\\n\\n\u8bbe U \u662f\u5173\u7cfb\u6a21\u5f0f R \u7684\u5c5e\u6027\u96c6. F \u662f R \u4e0a\u6210\u7acb\u7684\u53ea\u6d89\u53ca\u5230 U \u4e2d\u8212\u5fc3\u7684\u51fd\u6570\u4f9d\u8d56\u96c6. FD \u7684\u63a8\u7406\u89c4\u5219\u6709\u4ee5\u4e0b\u4e09\u6761:\\n\\n\u81ea\u53cd\u6027(Reflexivity)\\n: A1\\n: \u82e5 $Y \\\\subseteq X \\\\subseteq U$, \u5219 $X \\\\rightarrow Y$ \u5728 R \u4e0a\u6210\u7acb.\\n\\n\u589e\u5e7f\u6027(Augmentation)\\n: A2\\n: \u82e5 $X \\\\rightarrow Y$\u5728 R \u4e0a\u6210\u7acb,\u4e14 $Z \\\\subseteq U$, \u5219 $XZ \\\\rightarrow YZ$\u5728 R \u4e0a\u6210\u7acb.\\n\\n\u4f20\u9012\u6027(Transitivity)\\n: A3\\n: \u82e5 $X \\\\rightarrow Y$ \u548c $Y \\\\rightarrow Z$ \u5728 R \u4e0a\u6210\u7acb,\\n\u5219 $X \\\\rightarrow Z$\u5728 R \u4e0a\u6210\u7acb.\\n\\n\u5b9a\u7406 3.1\\n: FD \u63a8\u7406\u89c4\u5219 A1, A2 \u548c A3. \u4e5f\u5c31\u662f, \u5982\u679c $X \\\\rightarrow Y$\\n\u662f\u4ece F \u7528\u63a8\u7406\u89c4\u5219\u5bfc\u51fa, \u90a3\u4e48 $X \\\\rightarrow Y$\u5728$F^+$\u4e2d\\n\\n__\u5b9a\u7406 3.2__ FD \u7684\u5176\u4ed6\u4e94\u6761\u63a8\u7406\u89c4\u5219\\n\\n\u5408\u5e76\u6027(Union)\\n: A4\\n: $ \\\\{ X \\\\rightarrow Y, Y \\\\rightarrow Z \\\\} \\\\models X \\\\rightarrow YZ$\\n\\n\u5206\u89e3\u6027(Decomposition)\\n: A5\\n: $\\\\{ X \\\\rightarrow Y, Z \\\\subseteq Y \\\\} \\\\models X \\\\rightarrow Z$\\n\\n\u4f2a\u4f20\u9012\u6027\\n: A6\\n: $ \\\\{ X \\\\rightarrow Y, WY \\\\rightarrow Z \\\\} \\\\models WX \\\\rightarrow Z$\\n\\n\u590d\u5408\u6027(Composition)\\n: A7\\n: $\\\\{ X \\\\rightarrow Y, W \\\\rightarrow Z \\\\} \\\\models XW \\\\rightarrow YZ$\\n\\n\u901a\u7528\u4e00\u81f4\u6027\u5b9a\u7406(Genernal Unification Theorem)\\n: $\\\\{ X \\\\rightarrow Y, W \\\\rightarrow Z \\\\} \\\\models X \\\\cup (W - Y) \\\\rightarrow YZ$\\n\\n\u5b9a\u4e49 3.5\\n: \u5bf9\u4e8e $FD X \\\\rightarrow Y$, \u5982\u679c $Y \\\\subseteq X$, \u90a3\u4e48\u79f0 $X \\\\rightarrow Y$\\n\\t\u662f\u4e00\u4e2a __\u5e73\u51e1\u7684 FD__, \u5426\u5219\u79f0\u4e3a __\u975e\u5e73\u51e1\u7684 FD__\\n\\n\u6b63\u5982\u540d\u79f0\u6240\u793a,\u5e73\u51e1\u7684 FD \u5e76\u6ca1\u6709\u5b9e\u9645\u610f\u4e49,\u6839\u636e\u89c4\u5219 A1 \u5c31\u53ef\u4ee5\u9000\u51fa. \u4eba\u4eec\u611f\u5174\u8da3\u7684\u662f\u975e\u5e73\u51e1\u7684 FD.\\n\u53ea\u6709\u975e\u5e73\u51e1\u7684 FD \u624d\u548c _\u771f\u6b63\u7684_ \u5b8c\u6574\u6027\u7ea6\u675f\u6761\u4ef6\u76f8\u5173.\\n\\n\u4ece\u89c4\u5219 A4 \u548c A5. \u7acb\u5373\u53ef\u5f97\u5230\u4e0b\u9762\u7684\u5b9a\u7406\\n\\n\u5b9a\u7406 3.3\\n: \u5982\u679c $A_1 \\\\cdots A_n$ \u662f\u5173\u7cfb\u6a21\u5f0f R \u7684\u5c5e\u6027\u96c6, \u90a3\u4e48 $X \\\\rightarrow A_1 \\\\cdots A_n$\\n\u6210\u7acb\u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u662f $X \\\\rightarrow A_i (i = 1, \\\\cdots, n)$ \u6210\u7acb\\n\\n#### 3.2.4 FD \u548c\u5173\u952e\u7801\u7684\u8054\u7cfb\\n\\n\u51fd\u6570\u4f9d\u8d56\u662f\u5173\u952e\u7801\u6982\u5ff5\u7684\u63a8\u5e7f.\\n\\n\u5b9a\u4e49 3.6\\n: \u8bbe\u5173\u7cfb\u6a21\u5f0f R \u7684\u5c5e\u6027\u96c6\u662f U, X \u662f U \u7684\u4e00\u4e2a\u5b50\u96c6.\u5982\u679c $X \\\\rightarrow U$ \u5728 R \u4e0a\u6210\u7acb,\\n\u90a3\u4e48\u79f0 X \u662f R \u7684\u4e00\u4e2a\u8d85\u952e. \u5982\u679c $X \\\\rightarrow U$\u5b50 R \u4e0a\u6210\u7acb,\u4f46\u5bf9\u4e8e X \u7684\u4efb\u4e00\u771f\u5b50\u96c6\\n$X_1$ \u90fd\u6709 $X_1 \\\\rightarrow U$ \u4e0d\u6210\u7acb,\u90a3\u4e48\u79f0 X \u662f R \u4e0a\u7684\u4e00\u4e2a\u5019\u9009\u952e(\u6ca1\u6709\u591a\u4f59\u5c5e\u6027).\\n\\n\u4e00\u822c\u952e\u90fd\u662f\u6307\u5019\u9009\u952e.\\n\\n#### 3.2.5 \u5c5e\u6027\u96c6\u7684\u95ed\u5305\\n\\n\u5b9a\u4e49 3.7\\n: \u8bbe F \u662f\u5c5e\u6027\u96c6 U \u4e0a\u7684 FD \u96c6, X \u662f U \u7684\u5b50\u96c6. \u90a3\u4e48(\u76f8\u5bf9\u4e8e F)\u5c5e\u6027\u96c6 X \u7684\u95ed\u5305\u7528 $X^+$\\n\u8868\u793a, \u5b83\u662f\u4e00\u4e2a\u4ece F \u96c6\u4f7f\u7528 FD \u63a8\u7406\u89c4\u5219\u63a8\u51fa\u7684\u6ee1\u8db3\u6240\u6709 $X \\\\rightarrow A$\u7684\u5c5e\u6027A\u7684\u96c6\u5408:\\n$$\\nX^+ = \\\\{\\\\quad \u5c5e\u6027 A \\\\quad |\\\\quad  F \\\\models X \\\\rightarrow A \\\\quad \\\\}\\n$$\\n\\n\u4ece\u5c5e\u6027\u96c6\u95ed\u5305\u7684\u5b9a\u4e49,\u7acb\u5373\u53ef\u5f97\u51fa\u4e0b\u9762\u7684\u5b9a\u7406\\n\\n\u5b9a\u7406 3.4\\n: $X \\\\rightarrow Y$ \u80fd\u7528 FD \u63a8\u7406\u89c4\u5219\u63a8\u51fa\u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u662f $Y \\\\subseteq X^+$\\n\\n\u7b97\u6cd5 3.1\\n: \u6c42\u5c5e\u6027\u96c6 X \u76f8\u5bf9\u4e8e FD \u96c6 F \u7684\u95ed\u5305 $X^+$\\n: \u8bbe\u5c5e\u6027\u96c6 X \u7684\u95ed\u5305\u4e3a $X^+$, \u5176\u8ba1\u7b97\u7b97\u6cd5\u5982\u4e0b:\\n$$\\n\\\\qquad X^+ = X; \\\\qquad\\\\\\\\\\ndo  \\\\{ \\\\qquad\\\\qquad\\\\qquad\\\\qquad \\\\\\\\\\noldX^+ := X^+; \\\\\\\\\\n\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\nfor\\\\quad {FD}\\\\quad Y \\\\rightarrow Z\\\\quad in\\\\quad F\\\\quad do \\\\\\\\\\n\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\nif\\\\quad Y \\\\subseteq X^+ then\\\\quad X^+ := X^+\\\\cup Z; \\\\\\\\\\n\\\\} while(X^+ != oldX^+);\\n$$\\n\\n#### 3.2.6 FD \u96c6\u7684\u6700\u5c0f\u4f9d\u8d56\u96c6\\n\\n\u5b9a\u4e49 3.8\\n: \u5982\u679c\u5173\u7cfb\u6a21\u5f0f R(U) \u4e0a\u7684\u4e24\u4e2a\u51fd\u6570\u4f9d\u8d56\u96c6 F \u548c G, \u6709 $F^+ = G^+ $,\u5219\u79f0 F \u548c G\\n\u662f\u7b49\u4ef7\u7684\u51fd\u6570\u4f9d\u8d56\u96c6\\n\\nF \u548c G \u7b49\u4ef7,\u610f\u5473\u7740 F \u4e2d\u6bcf\u4e00\u4e2a FD \u90fd\u53ef\u4ee5\u4ece G \u63a8\u5bfc\u51fa\u6765, \u5e76\u4e14 G \u4e2d\u6bcf\u4e00\u4e2a FD\u4e5f\u90fd\u53ef\u4ee5\u4eceF\u63a8\u5bfc\u51fa\u6765\\n\\n\u51fd\u6570\u4f9d\u8d56\u96c6 F \u4e2d\u7684 FD \u5f88\u591a,\u6211\u4eec\u5e94\u8be5\u4ece F \u4e2d\u53bb\u6389\u5e73\u51e1\u7684 FD, \u65e0\u5173\u7684 FD, FD \u4e2d\u65e0\u5173\u7684\u5c5e\u6027,\\n\u4ee5\u6c42\u5f97\u4e0e F \u7b49\u4ef7\u7684\u6700\u5c0f\u4f9d\u8d56\u96c6 G.\\n\\n__\u5b9a\u4e49 3.9__\\n\u5982\u679c\u51fd\u6570\u4f9d\u8d56\u96c6 G \u6ee1\u8db3\u4e0b\u5217\u4e09\u4e2a\u6761\u4ef6,\u5219\u79f0 G \u662f\u6700\u5c0f\u4f9d\u8d56\u96c6\\n\\n1. G \u4e2d\u6bcf\u4e2a FD \u7684\u53f3\u8fb9\u90fd\u662f\u5355\u5c5e\u6027\\n2. G \u4e2d\u6ca1\u6709\u5197\u4f59\u7684 F, \u5373 G \u4e2d\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u51fd\u6570\u4f9d\u8d56 $X \\\\rightarrow Y$,\\n\\t\u4f7f\u5f97 $G - \\\\{ X \\\\rightarrow Y \\\\}$ \u4e0e G \u7b49\u4ef7\\n3. G \u4e2d\u6bcf\u4e2a FD \u7684\u5de6\u8fb9\u6ca1\u6709\u5197\u4f59\u7684\u5c5e\u6027, \u5373 G \u4e2d\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u51fd\u6570\u4f9d\u8d56 $X \\\\rightarrow Y$,\\n\\tX \u6709\u771f\u5b50\u96c6 W \u4f7f\u5f97 $G - \\\\{X \\\\rightarrow Y \\\\} \\\\cup \\\\{ W \\\\rightarrow Y \\\\}$\\n\\t\u4e0e G \u7b49\u4ef7.\\n\\n> \u663e\u7136, \u6bcf\u4e2a\u51fd\u6570\u4f9d\u8d56\u96c6\u81f3\u5c11\u5b58\u5728\u4e00\u4e2a\u7b49\u4ef7\u7684\u6700\u5c0f\u4f9d\u8d56\u96c6,\u4f46\u5e76\u4e0d\u4e00\u5b9a\u552f\u4e00\\n\\n__\u7b97\u6cd5 3.2__\\n: \u8ba1\u7b97\u51fd\u6570\u4f9d\u8d56\u96c6 F \u7684\u6700\u5c0f\u4f9d\u8d56\u96c6 G\\n\\n\\t1. \u6839\u636e\u63a8\u7406\u89c4\u5219\u7684\u5206\u89e3\u7279\u6027(A5),\u5f97\u5230\u4e00\u4e2a\u4e0e F \u7b49\u4ef7\u7684 FD \u96c6 G,\\n\\tG\u4e2d\u6bcf\u4e2aFD\u7684\u5de6\u53f3\u5747\u4e3a\u5355\u5c5e\u6027\\n\\t2. \u5728 G \u7684\u6bcf\u4e2a FD \u4e2d\u6d88\u9664\u5de6\u8fb9\u5197\u4f59\u7684\u5c5e\u6027\\n\\t3. \u5728 G \u4e2d\u6d88\u9664\u5197\u4f59\u7684 FD\\n\\n### 3.3 \u5173\u7cfb\u6a21\u5f0f\u7684\u5206\u89e3\u7279\u6027\\n\\n#### 3.3.1 \u5173\u7cfb\u6a21\u5f0f\u7684\u5206\u89e3\\n\\n\u5b9a\u4e49 3.10\\n: \u8bbe\u6709\u5173\u7cfb\u6a21\u5f0f R(U), \u5c5e\u6027\u96c6\u4e3a U, \u800c $R_1,\\\\cdots,R_k$\u90fd\u662f U \u7684\u5b50\u96c6,\\n\u5e76\u4e14\u6709$R_1 \\\\cup R_2 \\\\cup \\\\cdots \\\\cup R_k = U$. \u5173\u7cfb\u6a21\u5f0f $R_1,\\\\cdots,R_k$\\n\u7684\u96c6\u5408\u7528 $\\\\rho$ \u8868\u793a, $\\\\rho = \\\\{ R_1,\\\\cdots,R_k \\\\}$. \u7528$\\\\rho$\u4ee3\u66ff R \u7684\u8fc7\u7a0b\\n\u79f0\u4e3a\u5173\u7cfb\u6a21\u5f0f\u7684\u5206\u89e3.\u8fd9\u91cc$\\\\rho$\u79f0\u4e3a R \u7684\u4e00\u4e2a\u5206\u89e3.\u4e5f\u79f0\u4e3a__\u6570\u636e\u5e93\u6a21\u5f0f__.\\n\\n#### 3.3.2 \u65e0\u635f\u5206\u89e3\\n\\n\u5b9a\u4e49 3.11\\n: \u5728\u6cdb\u5173\u7cfb\u6a21\u5f0f R \u5206\u89e3\u9648\u6570\u636e\u5e93\u6a21\u5f0f $\\\\rho = R_1,\\\\cdots,R_k$\u65f6,\\n\u6cdb\u5173\u7cfb r \u5728 $\\\\rho$ \u7684\u6bcf\u4e00\u6a21\u5f0f $R_i (1 \\\\le i \\\\le n)$\u4e0a\u6295\u5f71\u540e\\n\u518d\u8fde\u63a5\u8d77\u6765,\u6bd4\u539f\u6765r\u4e2d\u591a\u51fa\u6765\u7684\u5143\u7ec4,\u79f0\u4e3a __\u5bc4\u751f\u5143\u7ec4(Spurious Tuple)__.\\n\\n\u5b9a\u4e49 3.12\\n: \u8bbe R \u662f\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f, F \u662f R \u4e0a\u7684\u4e00\u4e2a FD \u96c6. R \u5206\u89e3\u6210\u6570\u636e\u5e93\u6a21\u5f0f\\n$\\\\rho = R_1,\\\\cdots,R_k$.\u5982\u679c\u5bf9 R \u4e2d\u6ee1\u8db3 F \u7684\u6bcf\u4e00\u4e2a\u5173\u7cfb r, \u90fd\u6709\\n$$\\nr \\\\quad=\\n\\\\quad\\\\pi_{R_2}\\\\quad(r)\\n\\\\quad\\\\rhd\\\\lhd \\\\quad \\\\pi_(R_2)(r)\\n\\\\quad\\\\rhd\\\\lhd \\\\quad \\\\cdots \\\\pi_(R_k)(r)\\n$$\\n\\n\u90a3\u4e48\u79f0\u5206\u89e3 $\\\\rho$ \u76f8\u5bf9\u4e8e F \u662f__\u65e0\u635f\u8fde\u63a5\u5206\u89e3(Lossless Join Decomposition)__,\\n\u7b80\u79f0\u4e3a _\u65e0\u635f\u5206\u89e3_,\u5426\u5219\u79f0\u4e3a __\u635f\u5931\u5206\u89e3(Lossy Decomposition)__\\n\\n_\u635f_\u662f\u6307\u4fe1\u606f\u7684\u4e22\u5931,\u800c\u4e0d\u662f\u5143\u7ec4\u7684\u4e22\u5931.\u5982\u679c\u4e00\u4e2a\u5206\u89e3\u4e0d\u5177\u6709_\u65e0\u635f_\u6027\u8d28,\\n\u90a3\u4e48\u6cdb\u5173\u7cfb\u5728\u6295\u5f71\u8fde\u63a5\u4ee5\u540e\u5c31\u53ef\u80fd\u4ea7\u751f\u5bc4\u751f\u5143\u7ec4.\u5bc4\u751f\u5143\u7ec4\u8868\u793a\u7684\u662f\u9519\u8bef\u4fe1\u606f.\\n\\n\u5176\u4e2d\u7b26\u53f7 $\\\\pi_{R_i}(r)$ \u8868\u793a\u5173\u7cfb r \u5728\u6a21\u5f0f $R_i$\u5c5e\u6027\u4e0a\u7684\u6295\u5f71.\\nr \u7684\u6295\u5f71\u8fde\u63a5\u8868\u8fbe\u5f0f $\\\\pi_{R_1}(r) \\\\quad \\\\rhd\\\\lhd \\\\quad \\\\cdots \\\\pi_{R_k}(r)$\\n\u7528\u7b26\u53f7$m_{\\\\rho}(r)$\u8868\u793a, \u5373\\n$$\\nm_{\\\\rho}(r) = \\\\overset {k}{\\\\underset { i=1 }{ \\\\rhd \\\\lhd }}\\\\pi_{R_i}(r)\\n$$\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f,\u4e0a\u8ff0\u5b9a\u4e49\u6709\u4e00\u4e2a\u5148\u51b3\u6761\u4ef6,\u5373 r \u662f R \u7684\u4e00\u4e2a\u5173\u7cfb. \u4e5f\u5c31\u662f\u5148\u5b58\u5728 r(\u6cdb\u5173\u7cfb)\\n\u7684\u60c5\u51b5\u4e0b,\u518d\u53bb\u8c08\u8bba\u5206\u89e3,\u8fd9\u662f\u5173\u7cfb\u6570\u636e\u5e93\u7406\u8bba\u4e2d\u8457\u540d\u7684__\u6cdb\u5173\u7cfb\u5047\u8bbe(Universal Relation Assumption)__\\n\\n\u5b9a\u4e49 3.13\\n: \u5728\u65e0\u6cdb\u5173\u7cfb\u5047\u8bbe\u65f6,\u5bf9\u4e24\u4e2a\u5173\u7cfb\u8fdb\u884c\u81ea\u7136\u8fde\u63a5\u4e2d\u88ab\u4e22\u5931\u7684\u5143\u7ec4\u79f0\u4e3a\u60ac\u6302\u5143\u7ec4.\\n\\n> \u60ac\u6302\u5143\u7ec4\u662f\u9020\u6210\u4e24\u4e2a\u5173\u7cfb\u4e0d\u5b58\u5728\u6cdb\u5173\u7cfb\u7684\u539f\u56e0.\\n\\n#### 3.3.3 \u6a21\u5f0f\u5206\u89e3\u7684\u4f18\u7f3a\u70b9\\n\\n\u4f18\u70b9:\\n\\n1. \u6a21\u5f0f\u5206\u89e3\u80fd\u6d88\u9664\u6570\u636e\u5197\u4f59\u548c\u64cd\u4f5c\u5f02\u5e38\u73b0\u8c61\\n2. \u5728\u5206\u89e3\u4e86\u7684\u6570\u636e\u5e93\u4e2d\u53ef\u4ee5\u5b58\u50a8\u60ac\u6302\u5143\u7ec4,\u5b58\u50a8\u6cdb\u5173\u7cfb\u4e2d\u65e0\u6cd5\u5b58\u50a8\u7684\u4fe1\u606f\\n\\n\u7f3a\u70b9:\\n\\n1. \u5206\u89e3\u4ee5\u540e,\u68c0\u7d22\u64cd\u4f5c\u9700\u8981\u505a\u7b1b\u5361\u5c14\u79ef\u6216\u8fde\u63a5\u64cd\u4f5c,\u8fd9\u5c06\u4ed8\u51fa\u65f6\u95f4\u4ee3\u4ef7\\n2. \u5728\u6709\u6cdb\u5173\u7cfb\u5047\u8bbe\u65f6,\u5bf9\u6570\u636e\u5e93\u4e2d\u5173\u7cfb\u8fdb\u884c\u81ea\u7136\u8fde\u63a5\u65f6,\u53ef\u80fd\u4ea7\u751f\u5bc4\u751f\u5143\u7ec4,\\n\\t\u5373\u635f\u5931\u4e86\u4fe1\u606f.\u5728\u65e0\u6cdb\u5173\u7cfb\u5047\u8bbe\u65f6,\u7531\u4e8e\u6570\u636e\u5e93\u53ef\u80fd\u5b58\u5728\u60ac\u6302\u5143\u7ec4,\u5c31\u6709\u53ef\u80fd\\n\\t\u4e0d\u5b58\u5728\u6cdb\u5173\u7cfb\\n\\n#### 3.3.4 \u65e0\u635f\u5206\u89e3\u7684\u6d4b\u8bd5\u65b9\u6cd5\\n\\n\u7565\\n\\n#### 3.3.5 \u4fdd\u6301 FD \u7684\u5206\u89e3\\n\\n\u5206\u89e3\u7684\u53e6\u4e00\u4e2a\u7279\u6027\u662f\u5728\u5206\u89e3\u7684\u8fc7\u7a0b\u4e2d\u80fd\u5426\u4fdd\u6301\u51fd\u6570\u4f9d\u8d56\u96c6,\u5982\u679c\u4e0d\u80fd\u4fdd\u6301 FD, \u90a3\u4e48\u6570\u636e\u7684\\n\u5bd3\u610f\u5c31\u4f1a\u51fa\u73b0\u6df7\u4e71.\\n\\n\u5b9a\u4e49 3.14\\n: \u8bbe F \u662f\u5c5e\u6027\u96c6 U \u4e0a\u7684 FD \u96c6, Z \u662f U \u7684\u5b50\u96c6, F \u5728 Z \u4e0a\u7684\u6295\u5f71\u7528$\\\\pi_Z(F)$\\n\u8868\u793a,\u5b9a\u4e49\u4e3a\\n$$\\n\\\\pi_Z(F) = \\\\{\\\\quad\\nX \\\\rightarrow Y | X \\\\rightarrow Y \\\\in F^+, \u4e14 XY \\\\subseteq Z\\n\\\\quad \\\\}\\n$$\\n\\n\u5b9a\u4e49 3.15\\n: \u8bbe $\\\\rho = \\\\{ R_i, \\\\cdots, R_k\\\\}$ \u662f R \u7684\u4e00\u4e2a\u5206\u89e3, F \u662fR \u4e0a\u7684 FD \u96c6, \u5982\u679c\u6709\\n$\\\\overset {k}{\\\\underset { i=1 }{ \\\\cup }}\\\\pi_{R_i}(F) \\\\models F$,\\n\u90a3\u4e48\u79f0\u5206\u89e3 $\\\\rho$ \u4fdd\u6301\u51fd\u6570\u4f9d\u8d56\u96c6 F.\\n\\n### 3.4 \u8303\u5f0f\\n\\n\u5173\u7cfb\u6a21\u5f0f\u7684\u597d\u4e0e\u574f,\u7528\u4ec0\u4e48\u6807\u51c6\u6765\u8861\u91cf? \u8fd9\u4e2a\u6807\u51c6\u5c31\u662f\u6a21\u5f0f\u7684__\u8303\u5f0f(Normal Forms, \u7b80\u8bb0\u4e3a FN)__.\\n\\n#### 3.4.1 \u7b2c\u4e00\u8303\u5f0f(1NF)\\n\\n\u5b9a\u4e49 3.16\\n: \u5982\u679c\u5173\u7cfb\u6a21\u5f0f R \u7684\u6bcf\u4e2a\u5173\u7cfb r \u7684\u5c5e\u6027\u503c\u90fd\u662f\u4e0d\u53ef\u5206\u7684\u539f\u5b50\u503c,\u90a3\u4e48\u79f0 R \u662f\\n__\u7b2c\u4e00\u8303\u5f0f(First Normal Forms, \u7b80\u8bb0\u4e3a 1NF)__\u7684\u6a21\u5f0f.\\n\\n\u6ee1\u8db3 1NF \u7684\u5173\u7cfb\u79f0\u4e3a\u89c4\u8303\u5316\u7684\u5173\u7cfb,\u5426\u5219\u79f0\u4e3a\u975e\u89c4\u8303\u5316\u7684\u5173\u7cfb.\u5173\u7cfb\u6570\u636e\u5e93\u7814\u7a76\u7684\u5173\u7cfb\u90fd\u662f\u89c4\\n\u8303\u5316\u7684\u5173\u7cfb.\\n\\n#### 3.4.2 \u7b2c\u4e8c\u8303\u5f0f(2NF)\\n\\n\u5b9a\u4e49 3.17\\n: \u5bf9\u4e8e $FD\\\\quad W\\\\rightarrow A$,\u5982\u679c\u5b58\u5728 $X \\\\subset W$ \u6709 $X \\\\rightarrow A$\\n\u6210\u7acb, \u90a3\u4e48\u79f0 $W \\\\rightarrow A$ \u662f\u5c40\u90e8\u4f9d\u8d56(A \u5c40\u90e8\u4f9d\u8d56\u4e8e W);\u5426\u5219\u79f0$W\\\\rightarrow A$\\n\u662f\u5b8c\u5168\u4f9d\u8d56.\\n\\n\u5b8c\u5168\u4f9d\u8d56\u4e5f\u79f0\u4e3a__\u5de6\u90e8\u4e0d\u53ef\u7ea6\u4f9d\u8d56__.\\n\\n\u5b9a\u4e49 3.18\\n: \u5982\u679c A \u662f\u5173\u7cfb\u6a21\u5f0f R \u7684\u5019\u9009\u952e\u7684\u5c5e\u6027,\u90a3\u4e48\u79f0 A \u662f R \u7684\u4e3b\u5c5e\u6027; \u5426\u5219\u79f0 A \u662f R \u7684\u975e\u4e3b\u5c5e\u6027\\n\\n\u5b9a\u4e49 3.19\\n: \u5982\u679c\u5173\u7cfb\u6a21\u5f0f R \u662f 1NF, \u4e14\u6bcf\u4e2a\u975e\u4e3b\u5c5e\u6027\u5b8c\u5168\u51fd\u6570\u4f9d\u8d56\u4e8e\u5019\u9009\u952e,\u90a3\u4e48\u79f0 R \u662f\u7b2c\u4e8c\u8303\u5f0f(2NF)\u7684\\n\u6a21\u5f0f.\u5982\u679c\u6570\u636e\u5e93\u6a21\u5f0f\u4e2d\u6bcf\u4e2a\u5173\u7cfb\u6a21\u5f0f\u90fd\u662f 2NF,\u5219\u79f0\u6570\u636e\u5e93\u6a21\u5f0f\u4e3a 2NF \u7684\u6570\u636e\u5e93\u6a21\u5f0f.\\n\\n> \u4e0d\u6ee1\u8db3 2NF\u7684\u5173\u7cfb\u6a21\u5f0f\u4e2d\u5fc5\u5b9a\u5b58\u5728\u6709\u975e\u4e3b\u5c5e\u6027\u5bf9\u5173\u952e\u7801\u7684\u5c40\u90e8\u4f9d\u8d56.\\n\\n#### 3.4.3 \u7b2c\u4e09\u8303\u5f0f(3NF)\\n\\n\u5b9a\u4e49 3.20\\n: \u5982\u679c $X \\\\rightarrow Y , Y \\\\rightarrow A, \u4e14 Y \\\\nrightarrow X \u548c A \\\\notin Y\\n,\u90a3\u4e48\u79f0 X \\\\rightarrow A $\u662f\u4f20\u9012\u4f9d\u8d56(A \u4f20\u9012\u4f9d\u8d56\u4e8e X).\\n\\n\u5b9a\u4e49 3.21\\n: \u5982\u679c\u5173\u7cfb\u6a21\u5f0f R \u662f 1NF, \u4e14\u6bcf\u4e2a\u975e\u4e3b\u5c5e\u6027\u90fd\u4e0d\u4f20\u9012\u4f9d\u8d56\u4e8e R \u7684\u5019\u9009\u952e,\u90a3\u4e48\u79f0 R \u662f\u7b2c\u4e09\u8303\u5f0f\\n(3NF)\u7684\u6a21\u5f0f.\u5982\u679c\u6570\u636e\u5e93\u6a21\u5f0f\u4e2d\u6bcf\u4e2a\u5173\u7cfb\u6a21\u5f0f\u90fd\u662f 3NF,\u5219\u79f0\u5176\u4e3a 3NF \u7684\u6570\u636e\u5e93\u6a21\u5f0f.\\n\\n\u5b9a\u4e49 3.22\\n: \u8bbe F \u662f\u5173\u7cfb\u6a21\u5f0f R \u7684 FD \u96c6, \u5982\u679c\u5bf9 F \u4e2d\u6bcf\u4e2a\u975e\u5e73\u51e1\u7684 $FD\\\\quad X\\\\rightarrow Y$,\\n\u90fd\u6709X\u662fR\u7684\u8d85\u952e,\u6216\u8005 Y \u7684\u6bcf\u4e2a\u5c5e\u6027\u90fd\u662f\u4e3b\u5c5e\u6027, \u90a3\u4e48\u79f0 R \u662f3NF \u7684\u6a21\u5f0f.\\n\\n\u5b9a\u7406 3.5\\n: \u5982\u679c R \u662f 3NF \u6a21\u5f0f,\u90a3\u4e48 R \u4e5f\u662f2NF \u6a21\u5f0f.\\n\\n\u5c40\u90e8\u4f9d\u8d56\u548c\u4f20\u9012\u4f9d\u8d56\u662f\u6a21\u5f0f\u4ea7\u751f\u5197\u4f59\u548c\u5f02\u5e38\u7684\u4e24\u4e2a\u91cd\u8981\u539f\u56e0. \u7531\u4e8e 3NF \u6a21\u5f0f\u4e2d\u4e0d\u5b58\u5728\u975e\u4e3b\u5c5e\u6027\\n\u5bf9\u5019\u9009\u952e\u7684\u5c40\u90e8\u4f9d\u8d56\u548c\u4f20\u9012\u4f9d\u8d56,\u56e0\u6b64\u6d88\u9664\u4e86\u5f88\u5927\u4e00\u90e8\u5206\u5b58\u50a8\u5f02\u5e38.\\n\u5c06 1NF, 2NF \u8f6c\u6362\u4e3a 3NF \u7684\u8fc7\u7a0b\u79f0\u4e3a \u5173\u7cfb\u7684\u89c4\u8303\u5316\u5904\u7406.\\n\\n#### 3.4.4 BCNF(Boyoce-Codd NF)\\n\\n\u5b9a\u4e49 3.33\\n: \u5982\u679c\u5173\u7cfb\u6a21\u5f0f R \u662f 1NF, \u4e14\u6bcf\u4e2a\u5c5e\u6027\u90fd\u4e0d\u4f20\u9012\u4f9d\u8d56\u4e8e R \u7684\u5019\u9009\u952e,\u90a3\u4e48\u79f0 R \u662f BCNF \u6a21\u5f0f.\\n\u5982\u679c\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u5173\u7cfb\u6a21\u5f0f\u90fd\u662f BCNF, \u5219\u79f0\u4e3a BCNF \u7684\u6570\u636e\u5e93\u6a21\u5f0f.\\n\\n\u5b9a\u4e49 3.34\\n: \u8bbe F \u8bbe\u8ba1\u5173\u7cfb\u6a21\u5f0f R \u7684FD \u96c6, \u5982\u679c\u5bf9 F \u4e2d\u6bcf\u4e2a\u975e\u5e73\u51e1$FD \\\\quad X \\\\rightarrow Y$\\n\u90fd\u6709 X \u662f R \u7684\u8d85\u952e,\u90a3\u4e48\u79f0 R \u662f BCNF \u6a21\u5f0f.\\n\\n\u8fd9\u4e2a\u5b9a\u4e49\u8868\u660e,\u5982\u679c\u975e\u5e73\u51e1\u7684 $FD\\\\quad X\\\\rightarrow Y$\u4e2d X \u4e0d\u5305\u542b\u8d85\u952e,\u90a3\u4e48 Y \u5fc5\u5b9a\\n\u4f20\u9012\u4f9d\u8d56\u4e8e\u5019\u9009\u952e, \u56e0\u6b64 R \u4e0d\u662f BCNF \u6a21\u5f0f.\\n\\n\u5b9a\u7406\\n: 3.6 \u5982\u679c R \u662f BCNF \u6a21\u5f0f,\u90a3\u4e48 R \u4e5f\u662f 3NF \u6a21\u5f0f\\n\\n### 3.5 \u591a\u503c\u4f9d\u8d56\u548c\u7b2c\u56db\u8303\u5f0f\\n\\n\u7565\\n\\n----------------------------------------------------------------\\n## Appendix.A ER \u6a21\u578b\\n### 1. ER \u6a21\u578b\u7684\u57fa\u672c\u5143\u7d20\\n#### 1.1. \u5b9e\u4f53\\n\\n\u5b9e\u4f53(Entity)\\n: \u662f\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61,\u6307\u5e94\u7528\u4e2d\u53ef\u4ee5\u533a\u522b\u7684\u5ba2\u89c2\u5b58\u5728\u7684\u4e8b\u7269\\n\\n\u5b9e\u4f53\u96c6(Entity Set)\\n: \u662f\u6307\u540c\u4e00\u7c7b\\n\\n\u5b9e\u4f53\u7c7b\u578b(Entity Type)\\n: \u662f\u5bf9\u5b9e\u4f53\u96c6\u4e2d\u5b9e\u4f53\u7684\u5b9a\u4e49\\n\\n#### 1.2. \u8054\u7cfb\\n\\n\u8054\u7cfb(Relationship)\\n: \u8868\u793a\u4e00\u4e2a\u6216\u591a\u4e2a\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\\n\\n\u8054\u7cfb\u96c6(Relationship Set)\\n: \u662f\u6307\u540c\u4e00\u7c7b\u8054\u7cfb\u6784\u6210\u7684\u96c6\u5408\\n\\n\u8054\u7cfb\u7c7b\u578b(Relationship Type)\\n: \u662f\u5bf9\u8054\u7cfb\u96c6\u4e2d\u8054\u7cfb\u7684\u5b9a\u4e49\\n\\n#### 1.3 \u5c5e\u6027\\n\\n\u5b9e\u4f53\u7684\u67d0\u4e00\u7279\u6027\u79f0\u4e3a\u5c5e\u6027(Attribute).\u5728\u4e00\u4e2a\u5b9e\u4f53\u4e2d,\u80fd\u591f\u552f\u4e00\u6807\u8bc6\u5b9e\u4f53\u7684\u5c5e\u6027\u6216\u5c5e\u6027\\n\u96c6\u79f0\u4e3a\\"\u5b9e\u4f53\u6807\u8bc6\u7b26\\".\\n\\n### 2. \u5c5e\u6027\u7684\u5206\u7c7b\\n#### 2.1 \u7b80\u5355\u5c5e\u6027\u548c\u590d\u5408\u5c5e\u6027\\n\\n\u7b80\u5355\u5c5e\u6027(Simple Attribute)\\n: \u7b80\u5355\u5c5e\u6027\u662f\u4e0d\u53ef\u518d\u5206\u5272\u7684\u5c5e\u6027.\u4f8b\u5982: \u5e74\u9f84,\u6027\u522b\\n\\n\u590d\u5408\u5c5e\u6027(Composite Attribute)\\n: \u590d\u5408\u5c5e\u6027\u662f\u53ef\u4ee5\u518d\u5206\u89e3\u4e3a\u5176\u4ed6\u5c5e\u6027\u7684\u5c5e\u6027.\u4f8b\u5982: \u5730\u5740\u53ef\u5206\u4e3a\u7701,\u5e02,\u533a,\u8857\u9053\u7b49\u5b50\u5c5e\u6027\\n\\n#### 2.2 \u5355\u503c\u5c5e\u6027\u548c\u591a\u503c\u5c5e\u6027\\n\\n\u5355\u503c\u5c5e\u6027(Single-Valued Attribute)\\n: \u662f\u6307\u540c\u4e00\u4e2a\u5b9e\u4f53\u7684\u5c5e\u6027\u53ea\u80fd\u53d6\u4e00\u4e2a\u503c.\u4f8b\u5982: \u5e74\u9f84,\u6027\u522b\\n\\n\u591a\u503c\u5c5e\u6027(Mulyi-Valued Attribute)\\n: \u5b9e\u4f53\u5c5e\u6027\u53ef\u53d6\u591a\u4e2a\u503c.\u4f8b\u5982: \u4e00\u4e2a\u6587\u7ae0\u7684\u6807\u7b7e,\u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u6807\u7b7e\\n\\n##### \u5206\u89e3\u591a\u503c\u5c5e\u6027\u7684\u65b9\u6cd5\\n1. \u5c06\u539f\u6765\u7684\u591a\u503c\u5c5e\u6027\u7528\u51e0\u4e2a\u65b0\u7684\u5355\u503c\u5c5e\u6027\u8868\u793a\\n2. \u5c06\u591a\u503c\u5c5e\u6027\u7528\u4e00\u4e2a\u65b0\u7684\u5b9e\u4f53\u7c7b\u578b\u8868\u793a\\n\\n#### 2.3 \u5b58\u50a8\u5c5e\u6027\u548c\u6d3e\u751f\u5c5e\u6027\\n\\n\u6d3e\u751f\u5c5e\u6027(Derived Attribute)\\n: \u4e24\u4e2a(\u6216\u4e24\u4e2a\u4ee5\u4e0a)\u5c5e\u6027\u662f\u76f8\u5173\u7684.\u53ef\u4ee5\u4ece\u5176\u4ed6\u5c5e\u6027\u63a8\u5bfc\u8be5\u5c5e\u6027\u7684\u503c\\n\\t> \u6d3e\u751f\u5c5e\u6027\u7684\u503c\u4e0d\u5fc5\u5b58\u50a8\u5728\u6570\u636e\u5e93\u5185\\n\\n\u5b58\u50a8\u5c5e\u6027(Stored Attribute)\\n: \u53cd\u4e4b,\u9664\u4e86\u80fd\u63a8\u5bfc\u51fa\u503c\u7684\u6d3e\u751f\u5c5e\u6027,\u5176\u4ed6\u90fd\u662f\u5b58\u50a8\u5c5e\u6027.\\n\\n#### 2.4 \u53ef\u7a7a\u5c5e\u6027\\n\u53ef\u7a7a\u5c5e\u6027(Null Value)\\n: \u5f53\u5b9e\u4f53\u5728\u67d0\u4e2a\u5c5e\u6027\u4e0a\u6ca1\u6709\u503c\u65f6,\u53ef\u4ee5\u4f7f\u7528\u7a7a\u503c(Null Value)\u7684\u5c5e\u6027\\n: \u4f8b\u5982: \u914d\u5076,\u5f53\u672a\u5a5a\u662f\u8be5\u503c\u65e0\u610f\u4e49,\u5373\u53ef\u4e3a\u7a7a,\u4f46\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u5df2\u5a5a\u4f46\u914d\u5076\u672a\u77e5,\u6216\u5c1a\u4e0d\u77e5\u662f\u5426\u5a5a\\n: \u5426.\u5728\u6570\u636e\u5e93\u4e2d,\u7a7a\u503c\u662f\u5f88\u96be\u5904\u7406\u7684\u4e00\u79cd\u503c.\\n\\n### 3. \u8054\u7cfb\u7684\u8bbe\u8ba1\\n#### 3.1 \u8054\u7cfb\u7684\u5143\u6570\\n\\n\u5143\u6570/\u5ea6\u6570(Degree)\\n: \u4e00\u4e2a\u8054\u7cfb\u6d89\u53ca\u5230\u7684\u5b9e\u4f53\u96c6\u7684\u4e2a\u6570\\n: \u7b80\u5355\u7684\u53ef\u79f0\u4e4b\u4e3a \u4e00\u5143\u8054\u7cfb,\u4e8c\u5143\u8054\u7cfb,\u4e09\u5143\u8054\u7cfb\\n\\n#### 3.2 \u8054\u7cfb\u7c7b\u578b\u7684\u7ea6\u675f\\n\\n##### 3.2.1 \u57fa\u6570\u7ea6\u675f\\n\\n\u6620\u5c04\u57fa\u6570(Mapping Cardinalities)\\n: \u5b9e\u4f53\u96c6 E1 \u548c E2 \u4e4b\u95f4\u6709\u4e8c\u5143\u8054\u7cfb,\u5219\u53c2\u4e0e\u4e00\u4e2a\u8054\u7cfb\u4e2d\u7684\u5b9e\u4f53\u6570\u76ee\u6210\u4e3a\u6620\u5c04\u57fa\u6570\\n: \u5bf9\u4e8e\u4e8c\u5143\u8054\u7cfb\u7c7b\u578b,\u53ef\u80fd\u7684\u6620\u5c04\u57fa\u6570\u6709 1:1, 1:N, N:M,\\n\\n##### 3.2.2 \u53c2\u4e0e\u7ea6\u675f\\n\\n\u5b8c\u5168\u53c2\u4e0e\\n: \u5982\u679c\u5b9e\u4f53\u96c6 E \u4e2d\u7684\u5185\u9601\u5b9e\u4f53\u90fd\u53c2\u4e0e\u8054\u7cfb\u96c6 R \u7684\u81f3\u5c11\u4e00\u4e2a\u8054\u7cfb\u4e2d,\u5219\u79f0\u5b9e\u4f53\u96c6 E \u5b8c\u5168\u53c2\u4e0e \u8054\u7cfb\u96c6 R\\n\\n#### 3.3 ER\u6a21\u578b\u7684\u64cd\u4f5c\\n\\nER \u6a21\u578b\u7684\u64cd\u4f5c\u5305\u62ec\u5b9e\u4f53\u7c7b\u578b,\u8054\u7cfb\u7c7b\u578b\u548c\u5c5e\u6027\u7684\u5206\u88c2,\u5408\u5e76,\u589e\u5220 \u7b49\\n> \u5206\u88c2\u65b9\u5f0f\u6709\u6c34\u5e73\u5206\u88c2\u548c\u5782\u76f4\u5206\u88c2\u4e24\u79cd\\n> \u5408\u5e76\u662f\u5206\u88c2\u7684\u9006\u64cd\u4f5c\u8fc7\u7a0b,\u5408\u5e76\u7684\u8054\u7cfb\u7c7b\u578b\u5fc5\u987b\u662f\u5b9a\u4e49\u5728\u76f8\u540c\u7684\u5b9e\u4f53\u7c7b\u578b\u7ec4\u5408\u4e2d\\n\\n#### 3.4 \u91c7\u7528ER\u6a21\u578b\u7684\u6570\u636e\u5e93\u6982\u5ff5\u8bbe\u8ba1\u6b65\u9aa4\\n\\n\u91c7\u7528 ER \u6a21\u578b\u8fdb\u884c\u6570\u636e\u5e93\u7684\u6982\u5ff5\u8bbe\u8ba1,\u53ef\u4ee5\u5206\u6210\u4e09\u6b65\u8fdb\u884c: \u8bbe\u8ba1\u5c40\u90e8 ER \u6a21\u578b,\u7136\u540e\u628a\u5404\u5c40\u90e8 ER \u6a21\u578b\u7efc\u5408\u6210\u4e00\u4e2a\u5168\u5c40 ER \u6a21\u578b,\u6700\u540e\u5bf9\u5168\u5c40 ER \u6a21\u578b\u8fdb\u884c\u4f18\u5316,\u5f97\u5230\u6700\u7ec8\u7684 ER \u6a21\u578b,\u5373\u6982\u5ff5\u6a21\u578b.\\n\\n##### 3.4.1 \u8bbe\u8ba1\u5c40\u90e8 ER \u6a21\u578b\\n\\n1. \u786e\u5b9a\u5c40\u90e8\u7ed3\u6784\u8303\u56f4\\n\\t\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u662f\u4e3a\u591a\u4e2a\u4e0d\u540c\u7528\u6237\u670d\u52a1\u7684.\u5404\u4e2a\u7528\u6237\u4f7f\u7528\u6570\u636e\u7684\u65b9\u6cd5\u4e0d\u540c,\u9700\u6c42\u4e0d\u540c.\u56fa\u5148\u4e3a\u5404\u79cd\u7528\u6237\u786e\u5b9a\u5c40\u90e8\u7684\u4f7f\u7528\u65b9\u6cd5,\u5e76\u4ee5 ER \u6a21\u578b\u6765\u8868\u793a.\\n\u9700\u8981\u8003\u8651\u7684\u56e0\u7d20\\n\\t1. \u8303\u56f4\u5212\u5206\u8981\u81ea\u7136,\u6613\u4e8e\u7ba1\u7406\\n\\t2. \u8303\u56f4\u4e4b\u95f4\u7684\u754c\u9762\u8981\u6e05\u6670,\u76f8\u4e92\u5f71\u54cd\u8981\u5c0f\\n\\t3. \u8303\u56f4\u7684\u5927\u5c0f\u8981\u9002\u5ea6\\n\\n2. \u5b9a\u4e49\u5b9e\u4f53\\n\\t\u6bcf\u4e00\u4e2a\u5c40\u90e8\u7ed3\u6784\u90fd\u5305\u542b\u4e00\u4e9b\u5b9e\u4f53\u7c7b\u578b,\u5b9e\u4f53\u5b9a\u4e49\u7684\u4efb\u52a1\u5c31\u662f\u4ece\u4fe1\u606f\u9700\u6c42\u548c\u5c40\u90e8\u8303\u56f4\u5b9a\u4e49\u51fa\u53d1,\u786e\u5b9a\u6bcf\u4e00\u4e2a\u5b9e\u4f53\u7c7b\u578b\u7684\u5c5e\u6027\u548c\u952e.\\n\\t\u5212\u5206\u7684\u4f9d\u636e\u901a\u5e38\u6709:\\n\\t1. \u91c7\u7528\u4eba\u4eec\u4e60\u60ef\u7684\u5212\u5206\\n\\t2. \u907f\u514d\u5197\u4f59\\n\\t3. \u4f9d\u636e\u7528\u6237\u7684\u4fe1\u606f\u5904\u7406\u9700\u6c42\\n\\n3. \u5b9a\u4e49\u8054\u7cfb\\n4. \u5206\u914d\u5c5e\u6027\\n\\t\u5206\u914d\u5c5e\u6027\u5206\u4e3a\u4e24\u4e2a\u6b65\u9aa4: \u4e00\u662f\u786e\u5b9a\u5c5e\u6027,\u4e8c\u662f\u628a\u5c5e\u6027\u5206\u914d\u5230\\n\\t\u786e\u5b9a\u5c5e\u6027\u7684\u539f\u5219:\\n\\t1. \u5c5e\u6027\u5e94\u8be5\u662f\u4e0d\u53ef\u518d\u5206\u89e3\u7684\u5bd3\u610f\u8303\u56f4.\u4e0d\u53ef\u5206\u89e3\u662f\u4e3a\u4e86\u4f7f\u6a21\u578b\u7ed3\u6784\u7b80\u5355\u5316,\u4e0d\u51fa\u73b0\u5d4c\u5957\u7ed3\u6784.\\n\\t2. \u5b9e\u4f53\u4e0e\u5c5e\u6027\u4e4b\u95f4\u7684\u5173\u7cfb\u53ea\u80fd\u662f 1:N \u7684\\n\\t3. \u4e0d\u540c\u5b9e\u4f53\u7c7b\u578b\u7684\u5c5e\u6027\u4e4b\u95f4\u5e94\u65e0\u76f4\u63a5\u5173\u7cfb\\n\\n##### 3.4.2 \u8bbe\u8ba1\u5168\u5c40 ER \u6a21\u578b\\n\\n1. \u786e\u5b9a\u516c\u5171\u5b9e\u4f53\u7c7b\u578b\\n\\t \u4e00\u822c\u628a\u540c\u540d\u5b9e\u4f53\u7c7b\u578b\u4f5c\u4e3a\u516c\u5171\u5b9e\u4f53\u7c7b\u578b\u7684\u4e00\u7c7b\u5019\u9009,\u628a\u5177\u6709\u76f8\u540c\u952e\u7684\u5b9e\u4f53\u7c7b\u578b\u4f5c\u4e3a\u516c\u5171\u5b9e\u4f53\u7c7b\u578b\u7684\u53e6\u4e00\u7c7b\u5019\u9009.\\n\\n2. \u5408\u5e76\u5c40\u90e8 ER \u6a21\u578b\\n\\t\u5408\u5e76\u539f\u5219: \u9996\u5148\u8fdb\u884c\u4e24\u4e24\u5408\u5e76; \u5148\u5408\u5e76\u90a3\u4e9b\u73b0\u5b9e\u4e16\u754c\u4e2d\u6709\u8054\u7cfb\u7684\u5c40\u90e8\u7ed3\u6784;\u5408\u5e76\u4ece\u516c\u5171\u5b9e\u4f53\u7c7b\u578b\u5f00\u59cb,\u6700\u540e\u52a0\u5165\u72ec\u7acb\u7684\u5c40\u90e8\u7ed3\u6784.\\n\\t\u8fdb\u884c\u4e8c\u5143\u5408\u5e76\u662f\u4e3a\u4e86\u51cf\u5c11\u5408\u5e76\u5de5\u4f5c\u7684\u590d\u6742\u6027.\u540e\u4e24\u9879\u5219\u662f\u4e3a\u4e86\u4f7f\u5408\u5e76\u7ed3\u679c\u7684\u89c4\u6a21\u5c3d\u53ef\u80fd\u5c0f.\\n\\n3. \u6d88\u9664\u51b2\u7a81\\n\\t* \u5c5e\u6027\u51b2\u7a81\\n\\t* \u7ed3\u6784\u51b2\u7a81\\n\\t* \u547d\u540d\u51b2\u7a81\\n\\n##### 3.4.3 \u5168\u5c40 ER \u6a21\u578b\u7684\u4f18\u5316\\n\\n\u4e00\u4e2a\u597d\u7684\u5168\u5c40 ER \u6a21\u578b,\u9664\u80fd\u51c6\u786e,\u5168\u9762\u5730\u53cd\u6620\u7528\u6237\u529f\u80fd\u9700\u6c42\u5916,\u8fd8\u5e94\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6(\u4f18\u5316\u76ee\u6807):\\n\\n1. \u5b9e\u4f53\u7c7b\u578b\u7684\u4e2a\u6570\u5c3d\u53ef\u80fd\u5c11\\n2. \u5b9e\u4f53\u7c7b\u578b\u6240\u542b\u5c5e\u6027\u4e2a\u6570\u5c3d\u53ef\u80fd\u5c11\\n3. \u5b9e\u4f53\u7c7b\u578b\u95f4\u8054\u7cfb\u65e0\u5197\u4f59\\n\\n\u4f18\u5316\u89c4\u5219:\\n\\n1. \u5408\u5e76\u5b9e\u4f53\u7c7b\u578b\\n\\t\u53ef\u4ee5\u628a 1:1 \u8054\u7cfb\u7684\u4e24\u4e2a\u5b9e\u4f53\u7c7b\u578b\u5408\u5e76\\n2. \u6d88\u9664\u5197\u4f59\u5c5e\u6027\\n3. \u6d88\u9664\u5197\u4f59\u8054\u7cfb\\n\\n### 4. ER \u6a21\u578b\u5230\u5173\u7cfb\u6a21\u578b\u7684\u8f6c\u6362\\n#### 4.1 ER \u56fe\u8f6c\u6362\u6210\u5173\u7cfb\u6a21\u5f0f\u96c6\u7684\u7b97\u6cd5\\n\\n1. \u5b9e\u4f53\u7c7b\u578b\u7684\u8f6c\u6362\\n\\n\\t\u5b9e\u4f53 | \u5173\u7cfb\u6a21\u5f0f\\n:---:|:------:\\n\u5b9e\u4f53 | \u5173\u7cfb\u6a21\u5f0f\\n\u5b9e\u4f53\u5c5e\u6027 | \u5173\u7cfb\u6a21\u5f0f\u5c5e\u6027\\n\u5b9e\u4f53\u6807\u8bc6\u7b26 | \u5173\u7cfb\u6a21\u5f0f\u7684\u952e\\n\\n2. \u8054\u7cfb\u7c7b\u578b\u7684\u8f6c\u6362\\n\\t1. \u4e8c\u5143\u8054\u7cfb\u7684\u8f6c\u6362\\n\\t\\t1. 1:1 \u5728\u4efb\u610f\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f\u4e2d\u52a0\u5165\u53e6\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f\u7684\u952e\u4f5c\u4e3a\u5916\u952e\\n\\t\\t2. 1:N \u5728N\u7aef\u5b9e\u4f53\u8f6c\u6362\u6210\u7684\u5173\u7cfb\u6a21\u5f0f\u4e2d\u52a0\u51651\u7aef\u5173\u7cfb\u6a21\u5f0f\u7684\u952e\u4f5c\u4e3a\u5916\u952e\\n\\t\\t3. N:M \u5c06\u8054\u7cfb\u7c7b\u578b\u8f6c\u6362\u4e3a\u5173\u7cfb\u6a21\u5f0f,\u5c06\u4e24\u6bb5\u7684\u952e\u4f5c\u4e3a\u5916\u952e\u52a0\u5165\u5230\u8be5\u5173\u7cfb\u6a21\u5f0f,\\n\\t\\t\u5e76\u5c06\u8054\u7cfb\u7c7b\u578b\u7684\u5c5e\u6027\u52a0\u5165\u5230\u8be5\u6a21\u5f0f\u4e2d,\u800c\u952e\u4e3a\u4e24\u6bb5\u5b9e\u4f53\u952e\u7684\u7ec4\u5408\\n\\n\\t2. \u4e00\u5143\u8054\u7cfb\u7684\u8f6c\u6362\\n\\t\u548c\u4e8c\u5143\u8f6c\u6362\u7c7b\u4f3c\\n\\n\\t3. \u4e09\u5143\u8054\u7cfb\u7c7b\u578b\u7684\u8f6c\u6362\\n\\t\\t1. 1:1:1 \u5728\u4efb\u610f\u4e00\u4e2a\u5173\u7cfb\u6a21\u5f0f\u4e2d\u52a0\u5165\u53e6\u5916\u4e24\u4e2a\u7684\u952e\u4f5c\u4e3a\u5916\u952e,\u52a0\u5165\u8054\u7cfb\u7c7b\u578b\u7684\u5c5e\u6027\\n\\t\\t2. 1:1:N \u540c\u4e0a,\u5c06\u952e\u52a0\u5165\u5230 N \u7aef\u5b9e\u4f53\u8f6c\u6362\u6210\u7684\u5173\u7cfb\u6a21\u578b\u4e2d\\n\\t\\t3. 1:M:N \u5c06\u8054\u7cfb\u7c7b\u578b\u8f6c\u6362\u4e3a\u5173\u7cfb\u6a21\u578b,\u5c06 N \u7aef\u548c M \u7aef\u7684\u952e\u4f5c\u4e3a\u5916\u952e\u548c\u8054\u7cfb\u7c7b\u578b\u7684\\n\\t\\t\u5c5e\u6027\u52a0\u5165\u5230\u8be5\u5173\u7cfb\u6a21\u578b\u4e2d, \u952e\u4e3a N \u7aef\u548c M \u7aef\u5b9e\u4f53\u952e\u7ec4\u5408\\n\\t\\t4. M:N:P \u540c\u4e0a,\u5c06\u4e09\u7aef\u7684\u952e(\u4f5c\u4e3a\u5916\u952e)\u548c\u8054\u7cfb\u5c5e\u6027\u52a0\u5165\u5230\u8be5\u5173\u7cfb\u6a21\u578b,\\n\\t\\t\u952e\u4e3a\u4e09\u7aef\u5b9e\u4f53\u952e\u7684\u7ec4\u5408\\n\\n\\n#### 4.2 \u91c7\u7528 ER \u6a21\u578b\u7684\u903b\u8f91\u8bbe\u8ba1\u6b65\u9aa4\\n\\n1. \u5bfc\u51fa\u521d\u59cb\u5173\u7cfb\u6a21\u5f0f\u96c6\\n\\t\u5373\u628a\u6982\u5ff5\u8bbe\u8ba1\u7684\u7ed3\u679c(\u5168\u5c40 ER \u6a21\u578b)\u8f6c\u6362\u4e3a\u521d\u59cb\u5173\u7cfb\u6a21\u5f0f\u96c6\\n2. \u89c4\u8303\u5316\u5904\u7406\\n\\t\u89c4\u8303\u5316\u7684\u76ee\u7684\u662f\u51cf\u5c11\u4e43\u81f3\u6d88\u9664\u5173\u7cfb\u6a21\u5f0f\u4e2d\u5b58\u5728\u7684\u5404\u79cd\u5f02\u5e38,\u6539\u5584\u5b8c\u6574\u6027,\u4e00\u81f4\u6027\u548c\u5b58\u50a8\u6548\u7387\\n3. \u6a21\u5f0f\u8bc4\u4ef7\\n\\t\u4e3b\u8981\u5305\u62ec\u529f\u80fd\u548c\u6027\u80fd\u4e24\u65b9\u9762\\n4. \u6a21\u5f0f\u4fee\u6b63\\n\\n5. \u8bbe\u8ba1\u5b50\u6a21\u5f0f(\u5916\u90e8\u6a21\u5f0f\\n)\\n\\n### 5.\u589e\u5f3a\u7684 ER \u6a21\u578b\\n\u4e3a\u4e86\u66f4\u51c6\u786e\u7684\u6a21\u62df\u73b0\u5b9e\u4e16\u754c,\u9700\u8981\u6269\u5c55\u57fa\u672c ER \u6a21\u578b\u7684\u6982\u5ff5,\u4ece\u800c\u4ea7\u751f\u4e86\u589e\u5f3a\u7684 ER \u6a21\u578b(Enhanced-ER model, \u7b80\u79f0 EER)\\n\\n#### 5.1 \u5f31\u5b9e\u4f53\u4e0e\u5f3a\u5b9e\u4f53\\n\\n\u82e5\u5b9e\u4f53\\n: \u4e00\u4e2a\u5b9e\u4f53\u7684\u5b58\u5728\u5fc5\u987b\u4f9d\u8d56\u4e8e\u5176\u4ed6\u5b9e\u4f53\\n> \u82e5\u5b9e\u4f53\u53c2\u4e0e\u8054\u7cfb\u65f6\u662f\u5b8c\u5168\u53c2\u4e0e,\u5f3a\u5b9e\u4f53\u4e0e\u5f31\u5b9e\u4f53\u7684\u8054\u7cfb\u53ea\u80fd\u662f 1:N\u6216N:M\\n\\n\u5f3a\u5b9e\u4f53\\n: \u53ef\u4e0d\u5fc5\u4f9d\u8d56\u4e8e\u5176\u4ed6\u5b9e\u4f53\\n\\n#### 5.2 \u5b50\u7c7b\u5b9e\u4f53\u4e0e\u8d85\u7c7b\u5b9e\u4f53\\n\u5355\u8f83\u4f4e\u5c42\u4e0a\u5b9e\u4f53\u7c7b\u578b\u8868\u5230\u4e86\u4e0e\u4e4b\u8054\u7cfb\u7684\u8f83\u9ad8\u5c42\u4e0a\u7684\u5b9e\u4f53\u7c7b\u578b\u7684\u7279\u6b8a\u60c5\u51b5\u65f6,\u5c31\u79f0\u8f83\u9ad8\u5c42\u4e0a\u5b9e\u4f53\u7c7b\u578b\u4e3a**\u8d85\u7c7b\u578b(Supertype)**,\u8f83\u4f4e\u5c42\u4e0a\u5b9e\u4f53\u7c7b\u578b\u4e3a\u5b50**\u7c7b\u578b(Subtype)**\\n\\n\u5728\u6570\u636e\u5e93\u8bbe\u8ba1\u4e2d,\u5b50\u7c7b\u5230\u8d85\u7c7b\u7684\u62bd\u8c61\u5316\u8fc7\u7a0b\u79f0\u4e3a**\u6982\u5316**,\u5219\u662f\u81ea\u5e95\u5411\u4e0a\u7684\u6982\u5ff5**\u7efc\u5408(Synthesis)**;\u4ece\u8d85\u7c7b\u5177\u5316\u5230\u4e4b\u7c7b\u7684\u8fc7\u7a0b\u79f0\u4e3a**\u7279\u5316**,\u5219\u662f\u81ea\u9876\u5411\u4e0b\u7684\u6982\u5ff5**\u53d1\u6325(Refinement)**.\\n\\n\u4e4b\u7c7b\u4e0e\u8d85\u7c7b\u6709\u4e24\u4e2a\u7279\u70b9:\\n\\n1. \u4e4b\u7c7b\u4e0e\u8d85\u7c7b\u4e4b\u95f4\u5177\u6709\u7ee7\u627f\u6027\u7279\u70b9\\n2. \u8fd9\u79cd\u7ee7\u627f\u6027\u662f\u901a\u8fc7\u4e4b\u7c7b\u5b9e\u4f53\u548c\u8d85\u7c7b\u5b9e\u4f53\u5177\u6709\u76f8\u540c\u7684\u5b9e\u4f53\u6807\u8bc6\u7b26\u5b9e\u73b0\u7684\\n\\n\u6b64\u5916,\u6709\u4e24\u79cd\u7ea6\u675f\u9002\u7528\u4e8e\u7279\u5316\u8fc7\u7a0b.\\n\\n\u4e0d\u76f8\u4ea4\u7ea6\u675f(Disjointness Constraint)\\n: \u7ea6\u675f\u4e4b\u7c7b\u7279\u5316\u662f\u662f\u5426\u76f8\u4ea4,\u5206\u4e3a\u4e0d\u76f8\u4ea4\u548c\u91cd\u53e0\u4e24\u79cd\u60c5\u51b5\\n\\n\u4e0d\u76f8\u4ea4(Disjoint)\\n: \u7ea6\u675f\u89c4\u5b9a\u4e86\u5728\u7279\u5316\u8fc7\u7a0b\u4e2d,\u4e4b\u7c7b\u5fc5\u987b\u662f\u4e0d\u60f3\u4ea4\u7684.\\n\\n\u91cd\u53e0(Overlap)\\n: \u5728\u7279\u5316\u8fc7\u7a0b\u4e2d,\u5b50\u7c7b\u53ef\u4ee5\u76f8\u4ea4\\n\\n\u5b8c\u5907\u6027\u7ea6\u675f(Complete Constraint):\\n: \u5206\u7c7b\u6574\u4f53\u7279\u5316\u548c\u90e8\u5206\u7279\u5316\\n\\n\u6574\u4f53\u7279\u5316(Total Specialization)\\n: \u7ea6\u675f\u6307\u5b9a\u8d85\u7c7b\u4e2d\u7684\u6bcf\u4e2a\u5b9e\u4f53\u5fc5\u987b\u662f\u7279\u5316\u4e2d\u7684\u67d0\u4e2a\u5b50\u7c7b\u7684\u4e00\u4e2a\u6210\u5458\\n\\n\u90e8\u5206\u7279\u5316(Partial Specialization)\\n: \u8d85\u7c7b\u4e2d\u7684\u5b9e\u4f53\u53ef\u4ee5\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u4e00\u4e2a\u5b50\u7c7b\\n\\n\u5728 ER \u56fe\u4e2d,\u6240\u6709\u7684\u5b50\u7c7b\u548c\u8d85\u7c7b\u7ec4\u6210\u4e86__\u5c42\u6b21(Hierarchy)__\u6216 __\u683c(Lattice)__\u7684\u7ed3\u6784\\n\\n\\n### 6. ER\u6a21\u578b\u7684\u57fa\u672c\u8868\u793a\\n\\n\\n\u5b9a\u4e49 | \u8868\u793a\\n:---:| :---:\\n\u5b9e\u4f53 | \u77e9\u5f62\\n\u8054\u7cfb | \u83f1\u5f62\\n\u5c5e\u6027 | \u692d\u5706\\n\u591a\u503c\u5c5e\u6027 | \u53cc\u7ebf\u692d\u5706\\n\u6d3e\u751f\u5c5e\u6027 | \u865a\u7ebf\u692d\u5706\\n\u5b9e\u4f53\u6807\u8bc6\u7b26 | \u4e0b\u5212\u7ebf\\n\u5b9e\u4f53\u4e0e\u5c5e\u6027 | \u76f4\u7ebf\u8fde\u63a5\\n\u8054\u7cfb\u4e0e\u5c5e\u6027 | \u76f4\u7ebf\u8fde\u63a5\\n\u8054\u7cfb\u7684\u57fa\u6570\u7ea6\u675f | \u5728\u8fde\u7ebf\u4e0a\u4ee5(m,n)\u7684\u5f62\u5f0f\u8868\u9762\\n\u8054\u7cfb\u7684\u5b8c\u5168\u53c2\u4e0e | \u7528\u53cc\u7ebf\u8fde\u63a5\\n\u8054\u7cfb\u7684\u7c7b\u578b | \u5728\u76f4\u7ebf\u4e24\u7aef\u6307\u660e(1:1,1:N,N:M)\\n\u5f31\u5b9e\u4f53 | \u53cc\u7ebf\u77e9\u5f62\u6846\\n\u4e0d\u76f8\u4ea4 | \u5c0f\u5706\u5708\u91cc\u4e3a __d__\\n\u91cd\u53e0 | \u5c0f\u5706\u5708\u91cc\u4e3a __o__\\n\u6574\u4f53\u7279\u5316 | \u8d85\u7c7b\u5b9e\u4f53\u4e0e\u5706\u5708\u4e4b\u95f4\u7528__\u53cc\u7ebf\u6761__\u8fde\u63a5\\n\u90e8\u5206\u7279\u5316 | \u8d85\u7c7b\u5b9e\u4f53\u4e0e\u5706\u5708\u4e4b\u95f4\u7528__\u5355\u7ebf\u6761__\u8fde\u63a5\\n\\n\\n----------------------------------------------------------------\\n## Appendix.B \u5173\u7cfb\u6a21\u578b\\n\\n### 1. \u5173\u7cfb\u6a21\u578b\u7684\u57fa\u672c\u672f\u8bed\\n\\n\u5173\u7cfb\u6a21\u578b(Relation Model)\\n: \u7528\u4e8c\u7ef4\u8868\u683c\u8868\u793a\u5b9e\u4f53\u96c6,\u7528\u5173\u952e\u7801\u8868\u793a\u5b9e\u4f53\u4e4b\u95f4\u8054\u7cfb\u7684\u6570\u636e\u6a21\u578b\u79f0\u4e3a\u5173\u7cfb\u6a21\u578b.\\n\\n\u5728\u5173\u7cfb\u6a21\u578b\u4e2d,\u5b57\u6bb5\u79f0\u4e3a\u5c5e\u6027,\u5b57\u6bb5\u503c\u79f0\u4e3a\u5c5e\u6027\u503c,\u8bb0\u5f55\u7c7b\u578b\u79f0\u4e3a\u5173\u7cfb\u6a21\u5f0f,\u8bb0\u5f55\u79f0\u4e3a\\n**\u5143\u7ec4(Tuple)**,\u5143\u7ec4\u7684\u96c6\u5408\u79f0\u4e3a**\u5173\u7cfb(Relation)** \u6216 **\u5b9e\u4f8b(Instance)**.\\n\\n\u5728\u5173\u7cfb\u4e2d\u5c5e\u6027\u7684\u4e2a\u6570\u79f0\u4e3a**\u5143\u6570(Arity)**, \u5143\u7d20\u4e2a\u6570\u79f0\u4e3a **\u57fa\u6570(Cardinality)**\\n\\n**\u5173\u952e\u7801(Key,\u7b80\u79f0\u952e)**\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u5c5e\u6027\u7ec4\u6210,\u4e00\u822c\u6709\u4ee5\u4e0b\u51e0\u79cd:\\n\\n\u8d85\u952e(Super Key)\\n: \u5728\u5173\u7cfb\u4e2d\u80fd\u552f\u4e00\u6807\u8bc6\u5143\u7ec4\u7684\u5c5e\u6027\u96c6\u79f0\u4e3a\u5173\u7cfb\u6a21\u5f0f\u7684\u8d85\u952e\\n\\n\u5019\u9009\u952e(Candidate Key)\\n: \u4e0d\u542b\u6709\u591a\u4f59\u5c5e\u6027\u7684\u8d85\u952e\u79f0\u4e3a\u5019\u9009\u952e\\n\\n\u4e3b\u952e(Primary Key)\\n: \u7528\u6237\u9009\u4f5c\u5143\u7ec4\u6807\u8bc6\u7684\u5019\u9009\u952e\u79f0\u4e3a\u4e3b\u952e\\n\\n\u5916\u952e(Foreign Key)\\n: \u5982\u679c\u6a21\u5f0fR\u4e2d,\u5c5e\u6027K\u662f\u5176\u4ed6\u6a21\u5f0f\u7684\u4e3b\u952e,\u90a3\u4e48K\u5728\u6a21\u5f0fR\u4e2d\u79f0\u4e3a\u5916\u952e\\n\\n\u5173\u7cfb\u4e2d\u6bcf\u4e00\u4e2a\u5c5e\u6027\u90fd\u6709\u4e00\u4e2a\u53d6\u503c\u8303\u56f4,\u79f0\u4e3a\u5c5e\u6027\u7684**\u503c\u57df(Domain)**.\u5c5e\u6027A\u7684\u53d6\u503c\u8303\u56f4\u7528 DOM(A) \u8868\u793a.\u6bcf\u4e00\u4e2a\u5c5e\u6027\u5bf9\u5e94\u4e00\u4e2a\u503c\u57df,\u4e0d\u540c\u7684\u5c5e\u6027\u53ef\u5bf9\u5e94\u4e8e\u540c\u4e00\u503c\u57df.\\n\\n### 2. \u5173\u7cfb\u7684\u5b9a\u4e49\u548c\u6027\u8d28\\n\\n\u5173\u7cfb\u662f\u4e00\u4e2a\u5c5e\u6027\u6570\u76ee\u76f8\u540c\u7684\u5143\u7ec4\u7684\u96c6\u5408.\\n\\n\u5982\u679c\u4e00\u4e2a\u5173\u7cfb\u7684\u5143\u7ec4\u6570\u76ee\u662f\u65e0\u9650\u7684,\u5219\u79f0\u4e3a**\u65e0\u9650\u5173\u7cfb**,\u5426\u5219\u79f0\u4e3a**\u6709\u9650\u5173\u7cfb**.\u7531\u4e8e\u8ba1\u7b97\u673a\u5b58\u50a8\u7cfb\u7edf\u9650\u5236,\u53ea\u9650\u4e8e\u7814\u7a76\u6709\u9650\u5173\u7cfb.\\n\\n\u5728\u5173\u7cfb\u6a21\u578b\u4e2d,\u5bf9\u5173\u7cfb\u6709\u4e0b\u5217\u89c4\u8303\u6027\u9650\u5236:\\n\\n1. \u5173\u7cfb\u4e2d\u6bcf\u4e00\u4e2a\u5c5e\u6027\u503c\u90fd\u662f\u4e0d\u53ef\u5206\u89e3\u7684\\n2. \u5173\u7cfb\u4e2d\u4e0d\u5141\u8bb8\u51fa\u73b0\u91cd\u590d\u5143\u7ec4\\n3. \u7531\u4e8e\u5173\u7cfb\u662f\u4e00\u4e2a\u96c6\u5408,\u56e0\u6b64\u4e0d\u8003\u8651\u5143\u7ec4\u95f4\u7684\u987a\u5e8f,\u5373\u6ca1\u6709\u884c\u5e8f\\n4. \u5143\u7ec4\u4e2d\u7684\u5c5e\u6027\u5728\u7406\u8bba\u4e0a\u4e5f\u662f\u65e0\u5e8f\u7684,\u4f46\u4f7f\u7528\u65f6\u6309\u4e60\u60ef\u8003\u8651\u5217\u7684\u987a\u5e8f\\n\\n### 3. \u4e09\u7c7b\u5b8c\u6574\u6027\u89c4\u5219\\n1. \u5b9e\u4f53\u5b8c\u6574\u6027\u89c4\u5219(Entity Integrity Rule)\\n\\t\u8fd9\u6761\u89c4\u5219\u8981\u6c42\u5173\u7cfb\u4e2d\u5143\u7ec4\u5728\u7ec4\u6210\u4e3b\u952e\u7684\u5c5e\u6027\u4e0a\u4e0d\u80fd\u6709\u7a7a\u503c.\\n2. \u53c2\u7167\u5b8c\u6574\u6027\u89c4\u5219(Reference Integrity Rule)\\n\\t\u5373\u4e0d\u5141\u8bb8\u5f15\u7528\u4e0d\u5b58\u5728\u7684\u5b9e\u4f53.\\n\\t\u8fd9\u70b9\u89c4\u5219\u6709\u4ee5\u4e0b\u53d8\u901a:\\n\\t1. \u5916\u952e\u548c\u76f8\u5e94\u7684\u4e3b\u952e\u53ef\u4ee5\u4e0d\u540c\u540d,\u53ea\u8981\u5b9a\u4e49\u5728\u76f8\u540c\u7684\u503c\u57df\u4e0a\u5373\u53ef\\n\\t2. \u5916\u952e\u53ef\u4ee5\u662f\u5f15\u7528\u540c\u4e00\u7ec4\u5173\u7cfb\u6a21\u5f0f, \u6b64\u65f6\u8868\u793a\u4e86\u540c\u4e00\u4e2a\u5173\u7cfb\u4e2d\u4e0d\u540c\u5143\u7ec4\u4e4b\u95f4\u7684\u8054\u7cfb\\n\\t3. \u5916\u952e\u503c\u662f\u5426\u5141\u8bb8\u7a7a,\u5e94\u89c6\u5177\u4f53\u60c5\u51b5\u800c\u5b9a\\n\\n3. \u7528\u6237\u5b9a\u4e49\u7684\u5b8c\u6574\u6027\u89c4\u5219\\n\\n## Appendix.X \u989d\u5916\u7684\u7b14\u8bb0\\n\\n\\n### \u540d\u8bcd\u5b9a\u4e49\\n\\n\\n\u5b8c\u5168\u975e\u5e73\u51e1\u51fd\u6570\u4f9d\u8d56\\n: \u4ec5\u5f53\u5176\u53f3\u8fb9\u96c6\u5408\u7684\u5c5e\u6027\u90fd\u4e0d\u5728\u5de6\u8fb9\u7684\u96c6\u5408\u4e2d\u65f6\u6210\u7acb\\n\\n\u5b8c\u5168\u8fd8\u539f\u6a21\u578b\\n: \u652f\u6301\u56db\u79cd\u5907\u4efd\u6a21\u5f0f, 1.\u5b8c\u5168\u5907\u4efd, 2.\u5dee\u5f02\u5907\u4efd, 3.\u4e8b\u52a1\u65e5\u5fd7\u5907\u4efd, 4.\u6587\u4ef6\u7ec4\u5907\u4efd\\n\\n\u9501\u7684\u7c7b\u578b\\n: \u4e92\u65a5\u9501,\u5171\u4eab\u9501\\n\\n\u5206\u7c7b\\n: \u5206\u7c7b\u7684\u76ee\u7684\u662f\u5b66\u4f1a\u4e00\u4e2a\u5206\u7c7b\u51fd\u6570\u6216\u5206\u7c7b\u9b54\u5fc3,\u8be5\u6a21\u578b\u80fd\u628a\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u9879\u6620\u5c04\u5230\u7ed9\u5b9a\\n    \u7c7b\u522b\u4e2d\u7684\u67d0\u4e00\u4e2a.\\n\\n\u805a\u7c7b\\n: \u805a\u7c7b\u662f\u628a\u4e00\u7ec4\u4e2a\u4f53\u6309\u7167\u76f8\u4f3c\u6027\u5f52\u6210\u82e5\u5e72\u7c7b\u522b,\u76ee\u7684\u662f\u4f7f\u5c5e\u4e8e\u540c\u4e00\u7c7b\u522b\u7684\u4e2a\u4f53\u4e4b\u95f4\u8ddd\u79bb\u5c3d\\n    \u53ef\u80fd\u5c0f,\u800c\u4e0d\u540c\u7c7b\u522b\u4e0a\u4e2a\u4f53\u95f4\u8ddd\u79bb\u5c3d\u53ef\u80fd\u5927.\\n\\n\u6570\u636e\u5e93\u6062\u590d\u987a\u5e8f\\n: \u9996\u5148\u6062\u590d\u5b8c\u5168\u5907\u4efd,\u5176\u6b21\u6062\u590d\u5dee\u5f02\u5907\u4efd,\u7136\u540e\u6062\u590d\u65e5\u5fd7\u5907\u4efd\\n\\n\u529f\u80fd\u9700\u6c42\\n: \u662f\u8be6\u7ec6\u63cf\u8ff0\u603b\u4f53\u7ed3\u6784\u53ca\u529f\u80fd,\u7cfb\u7edf\u8986\u76d6\u7684\u529f\u80fd\u8303,\u5404\u529f\u80fd\u5b50\u7cfb\u7edf\u7684\u5212\u5206,\u529f\u80fd\u63cf\u8ff0\u53ca\\n    \u5b50\u7cfb\u7edf\u4e4b\u95f4\u7684\u5173\u7cfb\u7b49\\n\\n\u4fe1\u606f\u9700\u6c42/\u6570\u636e\u9700\u6c42\\n: \u662f\u5b8c\u6574\u63cf\u8ff0\u7cfb\u7edf\u6240\u6d89\u53ca\u7684\u4fe1\u606f\u8303\u56f4, \u6570\u636e\u7684\u5c5e\u6027\u7279\u5f81,\u6570\u636e\u4e4b\u95f4\u7684\u5173\u7cfb\u548c\u7ea6\u675f.\\n\\n\u6027\u80fd\u9700\u6c42\\n: \u63cf\u8ff0\u5bf9\u7cfb\u7edf\u7684\u6027\u80fd\u8981\u6c42,\u5305\u62ec\u54cd\u5e94\u65f6\u95f4,\u5b58\u50a8\u5bb9\u91cf,\u7cfb\u7edf\u9002\u5e94\u6027,\u6570\u636e\u5e93\u5b89\u5168\u6027,\\n    \u4e00\u81f4\u6027\u548c\u53ef\u9760\u6027.\\n\\n\u5143\u6570\u636e\\n: \u662f\u63cf\u8ff0\u6570\u636e\u5c5e\u6027\u7684\u4fe1\u606f,\u7528\u6765\u652f\u6301\u5982\u6307\u793a\u5b58\u50a8\u4f4d\u7f6e,\u5386\u53f2\u6570\u636e,\u8d44\u6e90\u67e5\u627e,\u6587\u4ef6\u8bb0\u5f55\u7b49\u529f\u80fd.\\n    \u5143\u6570\u636e\u7b97\u662f\u4e00\u79cd\u7535\u5b50\u5f0f\u76ee\u5f55,\u4e3a\u4e86\u8fbe\u5230\u7f16\u5236\u76ee\u5f55\u7684\u76ee\u7684,\u5fc5\u987b\u63cf\u8ff0\u5e76\u6536\u85cf\u6570\u636e\u7684\u5185\u5bb9\\n    \u6216\u7279\u8272,\u8fdb\u800c\u8fbe\u5230\u534f\u52a9\u6570\u636e\u68c0\u7d22\u7684\u76ee\u7684.\\n\\n\u9700\u6c42\u5206\u6790\\n: \u662f\u6307\u5bf9\u5373\u5c06\u8981\u5f00\u53d1\u7684\u7cfb\u7edf\u8981\u505a\u4ec0\u4e48\u4ee5\u53ca\u5b8c\u6210\u4ec0\u4e48\u529f\u80fd\u7684\u5168\u9762\u63cf\u8ff0,\u5b83\u5173\u6ce8\u7684\u662f\u8fd9\u4e2a\u7cfb\u7edf     \u5fc5\u987b\u8981\u505a\u4ec0\u4e48.\\n\\n__\u65e5\u5e38\u7ef4\u62a4\u7684\u76f8\u5173\u5de5\u4f5c__\\n\\n1. \u6570\u636e\u5e93\u7684\u5907\u4efd\u548c\u6062\u590d\\n2. \u5b8c\u6574\u6027\u7ef4\u62a4\\n3. \u5b89\u5168\u6027\u7ef4\u62a4\\n4. \u5b58\u50a8\u7a7a\u95f4\u7ba1\u7406\\n5. \u51b0\u6cd5\u63a7\u5236\u53ca\u6b7b\u9501\u5904\u7406\\n\\n\u53ef\u4e32\u884c\u5316\u8c03\u5ea6\\n: \u5bf9n\u4e2a\u4e8b\u52a1\u7ec4\u6210\u7684\u4e8b\u52a1\u96c6 $TS=\\\\{\\\\quad T_1,T_2,\\\\cdots, T_k,\\\\cdots,T_n\\\\quad\\\\}$,\\n    \u5982\u679c\u5e76\u53d1\u8c03\u5ea6 S \u7b49\u4ef7\u4e8e\u67d0\u4e00\u5728 TS \u4e0a\u7684\u4e32\u884c\u8c03\u5ea6,\u90a3\u4e48 S \u79f0\u4e3a\u53ef\u4e32\u884c\u5316\u8c03\u5ea6,\\n    \u5426\u5219 S \u662f\u4e0d\u53ef\u4e32\u884c\u5316\u8c03\u5ea6.\\n\\n\u51b2\u7a81\u4e32\u884c\u5316\\n: \u5982\u679c\u5b9a\u4e49\u65e9\u4e8b\u52a1\u96c6 TS \u4e0a\u7684\u5e76\u53d1\u8c03\u5ea6 S \u51b2\u7a81\u7b49\u4ef7\u4e8e\u4e8b\u52a1\u96c6 TS \u4e0a\u7684\u67d0\u4e2a\u4e32\u884c\u8c03\u5ea6 S\',\\n    \u5219\u79f0 S \u662f\u51b2\u7a81\u53ef\u4e32\u884c\u7684.\u51b2\u7a81\u53ef\u4e32\u884c\u7684\u5e76\u53d1\u8c03\u5ea6\u7684\u6267\u884c\u7ed3\u679c\u4e0e\u4e32\u884c\u8c03\u5ea6\u4e00\u81f4,\u662f\u6b63\u786e\u7684,\\n    \u540c\u65f6\u53c8\u5177\u6709\u8f83\u9ad8\u7684\u6267\u884c\u6548\u7387.\\n\\n\u89e6\u53d1\u5668\\n: \u901a\u5e38\u7528\u4e8e\u4fdd\u8bc1\u4e1a\u52a1\u89c4\u5219\u548c\u6570\u636e\u5b8c\u6574\u6027, \u5176\u4e3b\u8981\u4f18\u70b9\u662f\u7528\u6237\u53ef\u4ee5\u7528\u7f16\u7a0b\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u590d\u6742\u7684\\n    \u5904\u7406\u903b\u8f91\u548c\u4e1a\u52a1\u89c4\u5219,\u589e\u5f3a\u4e86\u6570\u636e\u5b8c\u6574\u6027\u7ea6\u675f\u7684\u529f\u80fd.\\n\\n\u6280\u672f\u53ef\u884c\u6027\\n: \u662f\u6839\u636e\u7528\u6237\u63d0\u51fa\u7684\u7cfb\u7edf\u529f\u80fd,\u6027\u80fd\u53ca\u5b9e\u73b0\u7cfb\u7edf\u7684\u5404\u9879\u7ea6\u675f\u6761\u4ef6,\u5bf9\u7cfb\u7edf\u8f6f\u4ef6,\u7cfb\u7edf\u786c\u4ef6,\u6280\u672f\\n    \u65b9\u6848\u4f5c\u51fa\u8bc4\u4f30\u548c\u9009\u62e9\u5efa\u8bae,\u5b83\u5c5e\u4e8e\u89c4\u5212\u4e0e\u5206\u6790\u9636\u6bb5\u7684\u53ef\u884c\u6027\u5206\u6790.\\n\\n\u6570\u636e\u5e93\u5e94\u7528\u7cfb\u7edf\u7684\u9700\u6c42\\n: \u6570\u636e\u9700\u6c42\u5206\u6790, \u6570\u636e\u5904\u7406\u9700\u6c42\u5206\u6790, \u4e1a\u52a1\u9700\u6c42\u5206\u6790\u4ee5\u53ca\u5728\u6027\u80fd, \u5b58\u50a8, \u5b89\u5168, \u5907\u4efd\u548c\u6062\u590d\\n    \u7b49\u65b9\u9762\u7684\u8981\u6c42. \u6570\u636e\u64cd\u4f5c\u76f8\u5e94\u65f6\u95f4, \u7cfb\u7edf\u541e\u5410\u91cf, \u6700\u5927\u5e76\u53d1\u7528\u6237\u6570\u90fd\u662f\u6027\u80fd\u9700\u6c42\u5206\u6790\u7684\\n    \u91cd\u8981\u6307\u6807.\\n\\n\u6570\u636e\u5e93\u6982\u5ff5\u8bbe\u8ba1\u9636\u6bb5\u7684\u5de5\u4f5c\u76ee\u6807\\n\\n1. \u5b9a\u4e49\u548c\u63cf\u8ff0\u5e94\u7528\u9886\u57df\u8bbe\u8ba1\u7684\u6570\u636e\u8303\u56f4\\n2. \u83b7\u53d6\u5e94\u7528\u9886\u57df\u6216\u95ee\u9898\u57df\u7684\u4fe1\u606f\u6a21\u578b\\n3. \u63cf\u8ff0\u6e05\u695a\u6570\u636e\u7684\u5c5e\u6027\u7279\u5f81\\n4. \u63cf\u8ff0\u6e05\u695a\u6570\u636e\u4e4b\u95f4\u7684\u5173\u7cfb\\n5. \u5b9a\u4e49\u548c\u63cf\u8ff0\u6570\u636e\u7684\u7ea6\u675f\\n6. \u8bf4\u660e\u6570\u636e\u7684\u5b89\u5168\u6027\u8981\u6c42\\n7. \u652f\u6301\u7528\u6237\u7684\u5404\u79cd\u6570\u636e\u5904\u7406\u9700\u6c42\\n8. \u4fdd\u8bc1\u4fe1\u606f\u6a21\u578b\u65b9\u4fbf\u5730\u8f6c\u6362\u6210\u6570\u636e\u5e93\u7684\u903b\u8f91\u7ed3\u6784(\u6570\u636e\u5e93\u6a21\u5f0f),\u540c\u65f6\u4e5f\u4fbf\u4e8e\u7528\u6237\u7406\u89e3.\\n\\n\u6570\u636e\u4ed3\u5e93\u7684\u5b9a\u4e49\\n: \u662f\u4e00\u4e2a\u9762\u5411\u4e3b\u9898\u7684,\u96c6\u6210\u7684,\u975e\u6613\u5931\u7684,\u4e14\u968f\u65f6\u95f4\u53d8\u5316\u7684\u6570\u636e\u96c6\u5408,\u7528\u6765\u652f\u6301\u7ba1\u7406\u4eba\u5458\u7684\u51b3\u7b56\\n\\n\u6570\u636e\u4ed3\u5e93\u7684\u7279\u6027\\n: \u4e3b\u9898\u4e0e\u9762\u5411\u4e3b\u9898,\u96c6\u6210,\u4e0d\u53ef\u66f4\u65b0,\u968f\u65f6\u95f4\u53d8\u5316.\\n\\n\u805a\u96c6\u7d22\u5f15\u548c\u975e\u805a\u96c6\u7d22\u5f15\\n: \u5bf9\u6570\u636e\u6587\u4ef6\u548c\u5b83\u7684\u4e00\u4e2a\u7279\u5b9a\u7684\u7d22\u5f15\u6587\u4ef6,\u5982\u679c\u6570\u636e\u6587\u4ef6\u4e2d\u6570\u636e\u8bb0\u5f55\u7684\u6392\u5217\u987a\u5e8f\u4e0e\u7d22\u5f15\u6587\u4ef6\u4e2d\\n    \u7d22\u5f15\u9879\u7684\u6392\u5217\u987a\u5e8f\u4e00\u81f4,\u6216\u8005\u8bf4,\u7d22\u5f15\u6587\u4ef6\u6309\u5176\u67e5\u627e\u7801\u6307\u5b9a\u7684\u987a\u5e8f\u4e0e\u6570\u636e\u6587\u4ef6\u4e2d\u6570\u636e\u8bb0\u5f55\\n    \u987a\u5e8f\u4e00\u81f4,\u5219\u8be5\u7d22\u5f15\u6587\u4ef6\u79f0\u4e3a\u805a\u96c6\u7d22\u5f15,\u5426\u5219\u6210\u4e3a\u975e\u805a\u96c6\u7d22\u5f15.\\n\\n\u7a20\u5bc6\u7d22\u5f15\u548c\u7a00\u758f\u7d22\u5f15\\n: \u5982\u679c\u6570\u636e\u6587\u4ef6\u7684\u6bcf\u4e2a\u67e5\u627e\u7801\u503c\u5728\u7d22\u5f15\u6587\u4ef6\u4e2d\u90fd\u5bf9\u5e94\u4e00\u4e2a\u6240\u4ee5\u8bb0\u5f55,\u5219\u8be5\u7d22\u5f15\u79f0\u4e3a\u7a20\u5bc6\u7d22\u5f15.\\n    \u5982\u679c\u53ea\u662f\u4e00\u90e8\u5206\u67e5\u627e\u7801\u5bf9\u5e94\u4e00\u4e2a\u7d22\u5f15\u8bb0\u5f55,\u5219\u8be5\u7d22\u5f15\u7801\u79f0\u4e3a\u7a00\u758f\u7d22\u5f15.\\n\\n\u4e3b\u7d22\u5f15\u548c\u8f85\u7d22\u5f15\\n: \u5728\u6570\u636e\u6587\u4ef6\u5305\u542b\u7684\u5c5e\u6027\u96c6\u4e0a\u5efa\u7acb\u7684\u7d22\u5f15\u79f0\u4e3a\u4e3b\u7d22\u5f15.\u5728\u6570\u636e\u6587\u4ef6\u7684\u975e\u4e3b\u5c5e\u6027\u4e0a\u5efa\u7acb\u7684\u7d22\u5f15\\n    \u79f0\u4e3a\u8f85\u7d22\u5f15.\\n\\n\u8f6f\u4ef6\u603b\u4f53\u8bbe\u8ba1\u7684\u4f9d\u636e\u5305\u62ec \u9700\u6c42\u5206\u6790\u9636\u6bb5\u5f97\u5230\u7684\u6570\u636e\u6d41\u56fe, \u4e8b\u52a1\u63cf\u8ff0\u548c\u4e1a\u52a1\u89c4\u5219\u7b49\u9700\u6c42\u5206\u6790\u7ed3\u679c.\\n\u603b\u4f53\u8bbe\u8ba1\u5f97\u5230\u7684\u7cfb\u7edf\u603b\u4f53\u7ed3\u6784\u548c\u5206\u5c42\u6a21\u5757\u7ed3\u6784\u53ef\u4ee5\u7528\u6a21\u5757\u7ed3\u6784\u56fe\u8868\u793a,\u6a21\u5757\u7ed3\u6784\u56fe\u4e3b\u8981\u5173\u5fc3\u6a21\u5757\\n\u7684\u5916\u90e8\u7279\u6027,\u5373\u4e0a\u4e0b\u7ea7\u6a21\u5757\u4ee5\u53ca\u540c\u7ea7\u6a21\u5757\u95f4\u7684\u6570\u636e\u4f20\u9012\u548c\u7535\u6cf3\u5173\u7cfb,\u4e0e\u5185\u90e8\u5904\u7406\u6d41\u7a0b\u65e0\u5173.\\n\\n\u6570\u636e\u6a21\u578b\\n: \u6570\u636e\u6a21\u578b\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u5f62\u5f0f\u6846\u67b6,\u662f\u7528\u6765\u63cf\u8ff0\u6570\u636e\u7684\u4e00\u7ec4\u6982\u5ff5\u548c\u5b9a\u4e49.\u5b83\u662f\u5305\u62ec\u63cf\u8ff0\u6570\u636e,\u6570\u636e\\n    \u8054\u7cfb,\u6570\u636e\u64cd\u4f5c,\u6570\u636e\u8bed\u4e49\u4ee5\u53ca\u6570\u636e\u4e00\u81f4\u6027\u7684\u6982\u5ff5\u5de5\u5177,\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6838\u5fc3\u548c\u57fa\u7840.\u6309\u7167\u6570\u636e\\n    \u6a21\u578b\u5728\u6570\u636e\u5efa\u6a21\u548c\u6570\u636e\u7ba1\u7406\u4e2d\u7684\u4e0d\u540c\u4f5c\u7528,\u53ef\u4ee5\u5c06\u5176\u5206\u4e3a\u6982\u5ff5\u6570\u636e\u6a21\u578b,\u6570\u636e\u7ed3\u6784\u6a21\u578b\u548c\u7269\u7406\u6570\\n    \u636e\u6a21\u578b.\u6982\u5ff5\u6570\u636e\u6a21\u578b\u7b80\u79f0\u6982\u5ff5\u6a21\u578b,\u662f\u6309\u7528\u6237\u7684\u89c2\u70b9\u5bf9\u6570\u636e\u548c\u4fe1\u606f\u8fdb\u884c\u5efa\u6a21,\u662f\u73b0\u5b9e\u4e16\u754c\u5230\\n    \u4fe1\u606f\u4e16\u754c\u7684\u7b2c\u4e00\u5c42\u62bd\u8c61.\u6570\u636e\u7ed3\u6784\u6a21\u578b\u4e5f\u79f0\u4e3a\u8868\u793a\u578b\u6216\u5b9e\u73b0\u578b\u7684\u6570\u636e\u6a21\u578b,\u662f\u673a\u5668\u4e16\u754c\u4e2d\u4e0e\u5177\u4f53\\n    DBMS \u76f8\u5173\u7684\u6570\u636e\u6a21\u578b.\u7269\u7406\u6570\u636e\u6a21\u578b\u5c5e\u4e8e\u5e95\u5c42\u6570\u636e\u6a21\u578b,\u901a\u8fc7\u8bf8\u5982\u8bb0\u5f55\u683c\u5f0f,\u8bb0\u5f55\u987a\u5e8f\u548c\u5b58\u53d6\u8def\\n    \u5f84\u7b49\u8868\u793a\u4fe1\u606f,\u63cf\u8ff0\u6570\u636e\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u7684\u5b9e\u9645\u5b58\u50a8\u65b9\u5f0f/\u6982\u5ff5\u6a21\u5f0f\u662f\u5bf9\u6570\u636e\u5e93\u4e2d\u5168\u4f53\u6570\u636e\u7684\\n    \u903b\u8f91\u7ed3\u6784\u548c\u7279\u5f81\u7684\u63cf\u8ff0,\u662f\u6240\u6709\u7528\u6237\u7684\u516c\u5171\u6570\u636e\u89c6\u56fe,\u4e00\u4e2a\u6570\u636e\u5e93\u53ea\u6709\u4e00\u4e2a\u6a21\u5f0f.\\n\\n\u6570\u636e\u5e93\u5e94\u7528\u7cfb\u7edf\u5305\u62ec\u6982\u5ff5\u8bbe\u8ba1,\u903b\u8f91\u8bbe\u8ba1,\u7269\u7406\u8bbe\u8ba1\u4e09\u4e2a\u6b65\u9aa4.\u6bcf\u4e2a\u6b65\u9aa4\u6309\u7167\u6570\u636e\u7ec4\u7ec7\u4e0e\u5b58\u50a8,\u6570\u636e\\n\u8bbf\u95ee\u4e0e\u5904\u7406,\u5e94\u7528\u8bbe\u8ba1\u7b49\u51e0\u4e2a\u65b9\u9762\u8fdb\u884c.\u5728\u6982\u5ff5\u8bbe\u8ba1\u9636\u6bb5,\u91c7\u7528\u81ea\u4e0b\u800c\u4e0a\u7684 E-R \u8bbe\u8ba1.\\n\u5c06\u5173\u7cfb\u6a21\u5f0f\u8f6c\u6362\u4e3a\u5177\u4f53 DBMS \u5e73\u53f0\u652f\u6301\u7684\u5173\u7cfb\u8868\u662f\u6570\u636e\u5e93\u7269\u7406\u8bbe\u8ba1\u9636\u6bb5\u7684\u5de5\u4f5c.\u8bbe\u8ba1\u89c6\u56fe\u548c\u5173\u7cfb\\n\u6a21\u5f0f\u7684\u5b8c\u6574\u6027\u7ea6\u675f\u662f\u6570\u636e\u903b\u8f91\u8bbe\u8ba1\u9636\u6bb5\u7684\u5de5\u4f5c.\\n\\nOLTP \u4e2d\u7684\u6570\u636e\u4e00\u822c\u6309\u9762\u5411\u5e94\u7528\u7684\u65b9\u5f0f\u7ec4\u7ec7,\u6570\u636e\u4ed3\u5e93\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u4e00\u822c\u6309\u9762\u5411\u5206\u6790\u4e3b\u9898\u7684\u65b9\u5f0f\u7ec4\u7ec7.\\n\\n#### \u65e5\u5fd7\u6587\u4ef6\u7684\u4f5c\u7528\\n\\n1. \u7528\u4e8e\u4e8b\u52a1\u6545\u969c\u6062\u590d\u548c\u7cfb\u7edf\u6545\u969c\u6062\u590d\\n2. \u52a8\u6001\u8f6c\u50a8\u4e2d\u5fc5\u987b\u5efa\u7acb\u65e5\u5fd7\u6587\u4ef6\\n3. \u9759\u6001\u8f6c\u50a8\u4e2d\u4e5f\u53ef\u4ee5\u5efa\u7acb\u65e5\u5fd7\u6587\u4ef6\\n\\n\u4e3a\u4fdd\u8bc1\u6570\u636e\u5e93\u662f\u53ef\u6062\u590d\u7684,\u5fc5\u987b\u9075\u5faa\u4e24\u6761\u89c4\u5219\\n\\n1. \u767b\u8bb0\u7684\u6b21\u5e8f\u4e25\u683c\u6309\u5e76\u884c\u4e8b\u52a1\u6267\u884c\u7684\u65f6\u95f4\u6b21\u5e8f\\n2. \u5fc5\u987b\u5148\u5199\u5165\u65e5\u5fd7\u6587\u4ef6,\u540e\u5199\u5165\u6570\u636e\u5e93.\\n\\n\\n#### \u4eba\u673a\u754c\u9762\u8bbe\u8ba1\u539f\u5219\\n\\n1. \u7528\u6237\u5e94\u5f53\u611f\u89c9\u7cfb\u7edf\u7684\u8fd0\u884c\u59cb\u7ec8\u5728\u81ea\u5df1\u7684\u63a7\u5236\u4e4b\u4e0b,\u4fdd\u6301\u7528\u6237\u4e0e\u4eba\u673a\u754c\u9762\u7684\u53cc\u5411\u4ea4\u6d41\\n2. \u5f53\u7cfb\u7edf\u53d1\u751f\u9519\u8bef\u6216\u7a0b\u5e8f\u8fd0\u884c\u65f6\u95f4\u8f83\u957f\u65f6,\u7528\u6237\u754c\u9762\u5e94\u8be5\u63d0\u4f9b\u6709\u610f\u4e49\u7684\u53cd\u9988\u4fe1\u606f,\u5e76\u6709\u4e0a\u4e0b\u6587\u611f\u77e5\u7684\\n    \u5e2e\u52a9\u7cfb\u7edf\\n3. \u7528\u6237\u754c\u9762\u80fd\u5bb9\u5fcd\u7528\u6237\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u7684\u5404\u79cd\u64cd\u4f5c\u9519\u8bef,\u5e76\u80fd\u65b9\u4fbf\u7684\u4ece\u9519\u8bef\u4e2d\u6062\u590d,\u4fdd\u8bc1\u7cfb\u7edf\u4e0d\u53d7\\n    \u7528\u6237\u9519\u8bef\u64cd\u4f5c\u7684\u5f71\u54cd\\n4. \u754c\u9762\u9075\u5faa\u4e00\u5b9a\u7684\u6807\u51c6\u548c\u5e38\u89c4\\n5. \u754c\u9762\u5e94\u91c7\u53d6\u7075\u6d3b\u591a\u6837\u7684\u6570\u636e\u8f93\u5165\u65b9\u5f0f,\u5c3d\u91cf\u51cf\u5c11\u7528\u6237\u7684\u8f93\u5165\u8d1f\u62c5.\\n\\n#### \u6027\u80fd\u9700\u6c42\u5206\u6790\\n\\n1. \u6570\u636e\u64cd\u4f5c\u54cd\u5e94\u65f6\u95f4,\u6216\u6570\u636e\u8bbf\u95ee\u54cd\u5e94\u65f6\u95f4\\n    \u6307\u7528\u6237\u5411\u6570\u636e\u5e93\u7cfb\u7edf\u63d0\u4ea4\u6570\u636e\u64cd\u4f5c\u8bf7\u6c42\u5230\u64cd\u4f5c\u8fd4\u56de\u7528\u6237\u7684\u65f6\u95f4.\\n2. \u7cfb\u7edf\u541e\u5410\u91cf\\n    \u7cfb\u7edf\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u53ef\u4ee5\u5b8c\u6210\u7684\u6570\u636e\u5e93\u4e8b\u52a1\u6216\u6570\u636e\u67e5\u8be2\u7684\u6570\u91cf.\\n    \u541e\u5410\u91cf\u53ef\u4ee5\u8868\u793a\u4e3a \u6bcf\u79d2\u4e8b\u52a1\u6570(TPS).\\n3. \u5141\u8bb8\u5e76\u53d1\u8bbf\u95ee\u7684\u6700\u5927\u7528\u6237\u6570\\n    \u5728\u4fdd\u8bc1\u5355\u4e2a\u7528\u6237\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u7684\u524d\u63d0\u4e0b,\u7cfb\u7edf\u6700\u591a\u5141\u8bb8\u591a\u5c11\u7528\u6237\u540c\u65f6\u8bbf\u95ee\u6570\u636e\u5e93.\\n4. TPS \u4ee3\u4ef7\u503c\\n    \u7528\u4e8e\u8861\u91cf\u7cfb\u7edf\u6027\u4ef7\u6bd4\u7684\u6307\u6807.\\n\\n#### \u89c6\u56fe\u7684\u4f5c\u7528\\n\\n1. \u7b80\u5316\u6570\u636e\u67e5\u8be2\u8bed\u53e5\\n2. \u4f7f\u7528\u6237\u80fd\u4ece\u591a\u89d2\u5ea6\u770b\u5f85\u540c\u4e00\u6570\u636e\\n3. \u63d0\u9ad8\u6570\u636e\u7684\u5b89\u5168\u6027\\n4. \u63d0\u4f9b\u4e86\u4e00\u5b9a\u7a0b\u5ea6\u7684\u903b\u8f91\u72ec\u7acb\u6027\\n\\n#### \u7ed3\u6784\u5316\u5206\u6790\u53ca\u5efa\u6a21\u65b9\u6cd5\u7684\u4e3b\u8981\u4f18\u70b9\\n\\n1. \u4e0d\u8fc7\u65e9\u9677\u5165\u5177\u4f53\u7684\u7ec6\u8282\\n2. \u4ece\u6574\u4f53\u6216\u5b8f\u89c2\u5165\u624b\u5206\u6790\u95ee\u9898\\n3. \u901a\u8fc7\u56fe\u5f62\u5316\u7684\u6a21\u578b\u5bf9\u8c61\u76f4\u89c2\u7684\u8868\u793a\u7cfb\u7edf\u8981\u505a\u4ec0\u4e48,\u5b8c\u6210\u4ec0\u4e48\u529f\u80fd\\n4. \u56fe\u5f62\u5316\u5efa\u6a21\u65b9\u6cd5\u65b9\u4fbf\u7cfb\u7edf\u5206\u6790\u5458\u7406\u89e3\u548c\u63cf\u8ff0\u7cfb\u7edf\\n5. \u6a21\u578b\u5bf9\u8c61\u4e0d\u6d89\u53ca\u592a\u591a\u6280\u672f\u672f\u8bed,\u4fbf\u4e8e\u7528\u6237\u7406\u89e3\u6a21\u578b\\n\\n#### UML\\n\\n\u6bcf\u4e00\u79cd UML \u7684\u89c6\u56fe\u90fd\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u56fe\u7ec4\u6210\u7684, UML \u63d0\u4f9b\u4e869\u79cd\u4e0d\u540c\u7684\u56fe,\u5206\u4e3a\u4e24\u7c7b.\\n\\n1. \u9759\u6001\u56fe\\n    \u7528\u4f8b\u56fe, \u7c7b\u56fe, \u5bf9\u8c61\u56fe, \u7ec4\u4ef6\u56fe, \u90e8\u7f72\u56fe\\n2. \u52a8\u6001\u56fe\\n    \u987a\u5e8f\u56fe, \u4ea4\u4e92\u56fe, \u72b6\u6001\u56fe, \u548c \u6d3b\u52a8\u56fe\\n\\n\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u89c6\u56fe\u5e94\u7528\u8fdb\u884c\u5206\u7c7b:\\n\\n1. \u7528\u4f8b\u89c6\u56fe: \u7528\u4f8b\u56fe\\n2. \u7ed3\u6784\u89c6\u56fe: \u7c7b\u56fe, \u5bf9\u8c61\u56fe\\n3. \u884c\u4e3a\u89c6\u56fe: \u987a\u5e8f\u56fe, \u4ea4\u4e92\u56fe, \u72b6\u6001\u56fe, \u6d3b\u52a8\u56fe\\n4. \u5b9e\u73b0\u89c6\u56fe: \u7ec4\u4ef6\u56fe\\n5. \u73af\u5883\u89c6\u56fe: \u90e8\u7f72\u56fe\\n\\n\\n#### \u5206\u5e03\u5f0f\u6570\u636e\u5e93\\n\\n\u76ee\u7684\u662f: \u672c\u5730\u81ea\u6cbb, \u975e\u96c6\u4e2d\u5f0f\u7ba1\u7406,\u9ad8\u53ef\u7528\u6027,\u4f4d\u7f6e\u72ec\u7acb\u6027,\u5206\u5e03\u5f0f\u67e5\u8be2\u5904\u7406,\u5206\u5e03\u5f0f\u4e8b\u52a1\u7ba1\u7406\u7b49.\\n\\n1. \u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5\\n    \u662f\u7269\u7406\u4e0a\u5206\u6563,\u903b\u8f91\u4e0a\u7edf\u4e00\u7684\u6570\u636e\u5e93\u7cfb\u7edf.\\n\\n2. \u5206\u5e03\u5f0f\u6570\u636e\u7684\u6982\u5ff5\\n    \u5206\u5e03\u5f0f\u6570\u636e\u5e93\u5219\u662f\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u4e2a\u573a\u5730\u4e0a\u6570\u636e\u5e93\u7684\u903b\u8f91\u5408.\\n\\n3. \u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7684\u7ed3\u6784\\n    * \u5171\u4eab\u5185\u5b58\u7ed3\u6784\\n    * \u5171\u4eab\u78c1\u76d8\u7ed3\u6784\\n    * \u65e0\u5171\u4eab\u7ed3\u6784\\n        \u6700\u597d\u7684\u5e76\u884c\u7ed3\u6784\\n    * \u6b21\u7ed3\u6784\\n        \u4ee5\u4e0a\u4f53\u7cfb\u7ed3\u6784\u7684\u7ed3\u5408.\\n\\n#### \u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7684\u5206\u5e03\u7b56\u7565\\n\\n\u6570\u636e\u5206\u7247\\n: \u5bf9\u67d0\u4e00\u4e2a\u5173\u7cfb\u8fdb\u884c\u5206\u7247\u662f\u5c06\u5173\u7cfb\u5212\u5206\u4e3a\u591a\u4e2a\u7247\u6bb5, \u8fd9\u4e9b\u7247\u6bb5\u4e2d\u5305\u542b\u8db3\u591f\u7684\u4fe1\u606f\u53ef\u4ee5\u4f7f\u5173\u7cfb\u91cd\u6784.\\n\\n\u6570\u636e\u5206\u7247\u6709\u56db\u79cd\u57fa\u672c\u65b9\u6cd5:\\n\\n1. \u6c34\u5e73\u5206\u7247\\n    \u5728\u5173\u7cfb\u4e2d\u4ece\u884c\u7684\u89d2\u5ea6(\u5143\u7ec4)\u4f9d\u636e\u4e00\u5b9a\u6761\u4ef6\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u7247\u6bb5,\u5173\u7cfb\u4e2d\u7684\u6bcf\u4e00\u884c\u5fc5\u987b\u81f3\u5c11\u5c5e\u4e8e\\n    \u4e00\u4e2a\u7247\u6bb5,\u4ee5\u4fbf\u5728\u9700\u8981\u65f6\u53ef\u4ee5\u91cd\u6784\u5173\u7cfb\\n2. \u5782\u76f4\u5206\u7247\\n    \u5728\u5173\u7cfb\u4e2d\u4ece\u5217\u7684\u89d2\u5ea6(\u5c5e\u6027)\u4f9d\u636e\u4e00\u5b9a\u7684\u6761\u4ef6\u5206\u4e3a\u4e0d\u540c\u7684\u7247\u6bb5,\u5404\u7247\u6bb5\u4e2d\u5e94\u8be5\u5305\u542b\u5173\u7cfb\u7684\u4e3b\u7801\\n    \u5c5e\u6027,\u4e00\u8fb9\u901a\u8fc7\u8fde\u63a5\u65b9\u6cd5\u6062\u590d\u5173\u7cfb.\\n3. \u5bfc\u51fa\u5206\u7247\\n    \u662f\u5bfc\u51fa\u6c34\u5e73\u5206\u7247,\u5206\u7247\u7684\u4f9d\u636e\u4e0d\u662f\u672c\u5173\u7cfb\u7684\u6761\u4ef6,\u800c\u662f\u5176\u4ed6\u5173\u7cfb\u5c5e\u6027\u7684\u6761\u4ef6.\\n4. \u6df7\u5408\u5206\u7247\\n    \u4ee5\u4e0a\u4e09\u79cd\u65b9\u6cd5\u7684\u6df7\u5408\\n\\n\\n#### \u8303\u5f0f\u7684\u7b80\u8ff0\\n\\n* \u7b2c\u4e00\u8303\u5f0f\\n    \u6307\u5173\u7cfb\u5fc5\u987b\u6ee1\u8db3\u6bcf\u4e00\u4e2a\u5c5e\u6027\u503c\u90fd\u662f\u4e0d\u53ef\u5206\u89e3\u7684\u6570\u636e\u9879\\n* \u7b2c\u4e8c\u8303\u5f0f\\n    \u5728\u7b2c\u4e00\u8303\u5f0f\u7684\u57fa\u7840\u4e0a,\u4f7f\u5173\u7cfb\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5c5e\u6027\u5fc5\u987b\u53ea\u4f9d\u8d56\u4e3b\u7801(\u975e\u4e3b\u5c5e\u6027\u5b8c\u5168\u4f9d\u8d56\u4e8e\u5019\u9009\u952e)\\n* \u7b2c\u4e09\u8303\u5f0f\\n    \u5728\u7b2c\u4e8c\u8303\u5f0f\u7684\u57fa\u7840\u4e0a,\u6bcf\u4e00\u4e2a\u975e\u4e3b\u5c5e\u6027\u5fc5\u987b\u53ea\u4f9d\u8d56\u4e8e\u4e3b\u7801\\n    (\u975e\u4e3b\u5c5e\u6027\u90fd\u4e0d\u4f20\u9012\u4f9d\u8d56\u4e8e\u5019\u9009\u952e)\\n\\n\u4e00\u822c\u5173\u7cfb\u6a21\u5f0f\u89c4\u8303\u5316\u5de5\u4f5c\u4ec5\u505a\u5230 3NF \u5c31\u53ef\u4ee5\u628a\u5173\u7cfb\u4e2d\u4e0d\u5408\u7406\u7684\u5c5e\u6027\u57fa\u672c\u6d88\u9664.\\n\\n### \u5173\u4e8e\u6027\u80fd/\u4f18\u5316\\n\\n* \u5c06\u8868\u7684\u6570\u636e\u548c\u7d22\u5f15\u653e\u7f6e\u5728\u540c\u4e00\u78c1\u76d8\u4e0a\u4e0d\u5229\u4e8e\u63d0\u9ad8\u7cfb\u7edf\u67e5\u8be2\u7684\u6548\u7387\\n* \u7269\u7406\u8bbe\u8ba1\u7684\u76ee\u6807\u662f\u5f97\u5230\u5b58\u50a8\u7a7a\u95f4\u5360\u7528\u5c11,\u6570\u636e\u8bbf\u95ee\u6548\u7387\u9ad8\u548c\u7ef4\u62a4\u4ee3\u4ef7\u4f4e\u7684\u6570\u636e\u5e93\u7269\u7406\u6a21\u5f0f.\\n    \u8bbe\u8ba1\u4e00\u4e2a\u597d\u7684\u7d22\u5f15\u548c\u7d22\u5f15\u5b57\u6bb5,\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u67e5\u8be2\u7684\u901f\u5ea6\u548c\u6548\u7387.\\n* \u5c3d\u53ef\u80fd\u5148\u6267\u884c\u67e5\u8be2\u6761\u4ef6,\u628a\u8868\u8fde\u63a5\u653e\u5230\u6700\u540e\u6267\u884c\\n* \u53ef\u4ee5\u4f7f\u7528 FIFS \u6765\u907f\u514d\u6d3b\u9501\u7684\u4ea7\u751f\\n* \u4f7f\u7528\u5185\u8fde\u63a5\u66ff\u4ee3\u5de6\u53f3\u8fde\u63a5\\n\\n\\n#### \u67e5\u8be2\u4f18\u5316\\n\\n1. \u5408\u7406\u4f7f\u7528\u7d22\u5f15\\n2. \u907f\u514d\u6216\u7b80\u5316\u6392\u5e8f\\n3. \u6d88\u9664\u5bf9\u5927\u578b\u8868\u8fdb\u884c\u6570\u636e\u7684\u987a\u5e8f\u5b58\u53d6\\n4. \u907f\u514d\u76f8\u5173\u5b50\u67e5\u8be2\\n5. \u907f\u514d\u56f0\u96be\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\\n6. \u4f7f\u7528\u4e34\u65f6\u8868\u52a0\u901f\u67e5\u8be2\\n7. \u7528\u6392\u5e8f\u6765\u53d6\u4ee3\u975e\u987a\u5e8f\u78c1\u76d8\u5b58\u53d6\\n8. \u4e0d\u5145\u5206\u7684\u8fde\u63a5\u6761\u4ef6(\u907f\u514d\u5de6\u53f3\u8fde\u63a5)\\n9. \u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\\n10. \u4e0d\u8981\u968f\u610f\u4f7f\u7528\u6e38\u6807\\n11. \u4f7f\u7528\u4e8b\u52a1\u5904\u7406\\n\\n### \u5206\u7c7b/\u65b9\u6cd5\\n\\n#### SQL Server 2000 \u6570\u636e\u5e93\u5907\u4efd\u65b9\u5f0f\\n\\n1. \u5148\u521b\u5efa\u5907\u4efd\u8bbe\u5907,\u7136\u540e\u5c06\u6570\u636e\u5e93\u5907\u4efd\u5230\u5907\u4efd\u8bbe\u5907\u4e0a(\u8fd9\u79cd\u8bbe\u5907\u79f0\u4e3a\u6c38\u4e45\u5907\u4efd\u8bbe\u5907)\\n2. \u76f4\u63a5\u5c06\u6570\u636e\u5e93\u5907\u4efd\u5230\u7269\u7406\u6587\u4ef6\u4e0a(\u8fd9\u79cd\u8bbe\u5907\u79f0\u4e3a\u4e34\u65f6\u5907\u4efd\u8bbe\u5907)\\n\\n\u5728\u6267\u884c\u5907\u4efd\u8fc7\u7a0b\u4e2d, \u53ef\u4ee5\u540c\u65f6\u5411\u591a\u4e2a\u5907\u4efd\u8bbe\u5907\u5199\u5907\u4efd\u5185\u5bb9,\u4e5f\u79f0\u4e3a\u5e76\u884c\u5907\u4efd.\\n\\n#### \u6b7b\u9501\u7684\u9884\u9632\u65b9\u6cd5\\n\\n1. \u4e00\u6b21\u52a0\u9501\\n    \u8981\u6c42\u6bcf\u4e2a\u4e8b\u52a1\u5728\u5f00\u59cb\u6267\u884c\u65f6\u5fc5\u987b\u5c06\u9700\u8981\u8bbf\u95ee\u7684\u6570\u636e\u9879\u5168\u90e8\u67b7\u9501,\u5426\u5219\u4e0d\u5141\u8bb8\u6267\u884c\u4e0b\u53bb,\\n    \u4e5f\u5c31\u662f\u8981\u6c42\u4e8b\u52a1\u5fc5\u987b\u80fd\u4e00\u6b21\u6027\u7684\u83b7\u5f97\u5bf9\u9700\u8981\u8bbf\u95ee\u7684\u5168\u90e8\u6570\u636e\u9879\u7684\u8bbf\u95ee\u6743.\\n2. \u987a\u5e8f\u52a0\u9501\\n    \u8be5\u65b9\u6cd5\u5bf9\u6570\u636e\u5e93\u4e2d\u4e8b\u52a1\u8bbf\u95ee\u7684\u6240\u6709\u6570\u636e\u9879\u89c4\u5b9a\u4e00\u4e2a\u52a0\u9501\u987a\u5e8f,\u6bcf\u4e2a\u4e8b\u52a1\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\\n    \u5fc5\u987b\u6309\u6b64\u987a\u5e8f\u5bf9\u6240\u9700\u6570\u636e\u9879\u52a0\u9501.\\n\\n#### \u6570\u636e\u5e93\u7ba1\u7406\u5458\u6267\u884c\u7684\u5de5\u4f5c\\n\\n1. \u6570\u636e\u5e93\u7684\u8f6c\u50a8\u548c\u6062\u590d\\n2. \u6570\u636e\u5e93\u7684\u5b89\u5168\u548c\u5b8c\u6574\u6027\u63a7\u5236\\n3. \u6570\u636e\u5e93\u7684\u6027\u80fd\u76d1\u63a7\u548c\u5206\u6790\\n4. \u6570\u636e\u5e93\u7684\u91cd\u7ec4\u548c\u91cd\u6784\\n\\n#### \u7cfb\u7edf\u6545\u969c/\u8f6f\u6545\u969c \u7684\u5904\u7406\u65b9\u6cd5\\n\\n\u5bf9\u4e8e\u672a\u5b8c\u6210\u7684\u4e8b\u52a1,\u53ef\u80fd\u5df2\u7ecf\u5199\u5165\u6570\u636e\u5e93\u7684\u5185\u5bb9,\u56de\u6eda\u6240\u6709\u672a\u5b8c\u6210\u7684\u4e8b\u52a1\u5199\u5165\u7684\u7ed3\u679c,\u4ee5\u4fdd\u8bc1\\n\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u4e00\u81f4\u6027.\\n\u5bf9\u4e8e\u5df2\u5b8c\u6210\u7684\u4e8b\u52a1\u53ef\u80fd\u90e8\u5206\u6216\u5168\u90e8\u7559\u5728\u7f13\u51b2\u533a\u7684\u7ed3\u679c,\u9700\u8981\u91cd\u505a\u6240\u6709\u5df2\u63d0\u4ea4\u7684\u4e8b\u52a1,\u4ee5\u5c06\u6570\u636e\\n\u5e93\u6062\u590d\u5230\u4e00\u81f4\u72b6\u6001\\n\u5373,\u64a4\u9500(Undo)\u6240\u6709\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1,\u91cd\u505a(Redo)\u6240\u6709\u5df2\u63d0\u4ea4\u7684\u4e8b\u52a1.\\n\\n#### \u6570\u636e\u4ed3\u5e93\u4e2d\u6570\u636e\u7684\u7ef4\u62a4\u7b56\u7565\\n\\n* \u5b9e\u65f6\u7ef4\u62a4\\n* \u5ef6\u65f6\u7ef4\u62a4\\n    \u67e5\u8be2\u65f6\u89e6\u53d1\u7ef4\u62a4,\u51cf\u5c11\u4e86\u5bf9\u6570\u636e\u6e90\u7684\u66f4\u65b0\u65f6\u95f4,\u4f46\u89c6\u56fe\u67e5\u8be2\u65f6\u95f4\u8f83\u957f.\\n* \u5feb\u7167\u7ef4\u62a4\\n    \u5b9a\u671f\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u7ef4\u62a4,\u7ef4\u62a4\u64cd\u4f5c\u7684\u89e6\u53d1\u6761\u4ef6\u662f\u65f6\u95f4.\\n\\n#### \u6570\u636e\u5e93\u7269\u7406\u8bbe\u8ba1\u6b65\u9aa4\\n\\n1. \u6570\u636e\u5e93\u903b\u8f91\u6a21\u5f0f\u8c03\u6574\\n2. \u6587\u4ef6\u7ec4\u7ec7\u4e0e\u5b58\u53d6\u8bbe\u8ba1\\n3. \u6570\u636e\u5206\u5e03\u8bbe\u8ba1\\n4. \u5b89\u5168\u6a21\u5f0f\u8bbe\u8ba1\\n5. \u786e\u5b9a\u7cfb\u7edf\u914d\u7f6e\\n6. \u7269\u7406\u6a21\u5f0f\u8bc4\u4f30\\n\\n#### DBAS \u603b\u4f53\u8bbe\u8ba1\\n\\n1. \u786e\u5b9a DBAS \u4f53\u7cfb\u7ed3\u6784\\n2. \u7cfb\u7edf\u786c\u4ef6\u5e73\u53f0\u548c\u64cd\u4f5c\u7cfb\u7edf,\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7b49\u7cfb\u7edf\u8f6f\u4ef6\u7684\u9009\u578b\u548c\u914d\u7f6e\\n3. \u5e94\u7528\u8f6f\u4ef6\u7ed3\u6784\u8bbe\u8ba1\\n4. \u5bf9\u9700\u6c42\u5206\u6790\u9636\u6bb5\u8bc6\u522b\u51fa\u7684\u4e1a\u52a1\u89c4\u5219\u8fdb\u884c\u521d\u6b65\u8bbe\u8ba1,\u7ec6\u5316\u4e1a\u52a1\u89c4\u5219\u6d41\u7a0b,\u5206\u6790\u6240\u5904\u7406\u7684\u4e1a\u52a1\u6570\u636e\\n    \u548c\u5904\u7406\u65b9\u5f0f,\u660e\u786e\u91c7\u7528\u7684\u5173\u952e\u6280\u672f\u548c\u7b97\u6cd5\u7b49.\\n5. \u5bf9\u7cfb\u7edf\u91c7\u7528\u7684\u5173\u952e\u6280\u672f\u8fdb\u884c\u65b9\u6848\u9009\u578b\u548c\u521d\u6b65\u8bbe\u8ba1.\\n\\n#### RAID \u5206\u7ea7\\n\\nRAID\u7b49\u7ea7 | n | \u6700\u5c0f\u5bb9\u9519\u786c\u76d8\u6570 | \u53ef\u7528\u5bb9\u91cf | \u6027\u80fd|\u5b89\u5168\u6027|\u76ee\u7684|\u5e94\u7528\u4ea7\u4e1a\\n---------|------------|----------------|----------|-----|------|----|--------\\nJBOD|\u22671|0|n|\u4e0d\u53d8|\u65e0(\u540cRAID 0)|\u8ffd\u6c42\u6700\u5927\u5bb9\u91cf||\u4e2a\u4eba(\u6682\u65f6)\u5b58\u50a8\u5907\u4efd\\n0|\u22672|0|n|\u6700\u9ad8|\u4e00\u4e2a\u786c\u76d8\u5f02\u5e38\uff0c\u5168\u90e8\u786c\u76d8\u5373\u8ddf\u7740\u5f02\u5e38|\u8ffd\u6c42\u6700\u5927\u5bb9\u91cf\u3001\u901f\u5ea6|3D\u4ea7\u4e1a\u5b9e\u65f6\u6e32\u67d3\u3001\u89c6\u9891\u526a\u63a5\u9ad8\u901f\u7f13\u5b58\u7528\u9014\\n1|\u22672|\u603b\u6570\u7684\u4e00\u534a|\u603b\u5bb9\u91cf\u7684\u4e00\u534a|\u7a0d\u6709\u63d0\u5347|\u6700\u9ad8|\u8ffd\u6c42\u6700\u5927\u5b89\u5168\u6027|\u4e2a\u4eba\u3001\u4f01\u4e1a\u5907\u4efd\\n5|\u22673|1|n-1|\u9ad8|\u9ad8|\u8ffd\u6c42\u6700\u5927\u5bb9\u91cf\u3001\u6700\u5c0f\u9884\u7b97|\u4e2a\u4eba\u3001\u4f01\u4e1a\u5907\u4efd\\n6|\u22674|2|n-2|\u6bd4RAID 5\u7a0d\u6162|\u5b89\u5168\u6027\u8f83RAID 5\u9ad8|\u540cRAID 5\uff0c\u4f46\u8f83\u5b89\u5168|\u4e2a\u4eba\u3001\u4f01\u4e1a\u5907\u4efd\\n10|\u22674|\u603b\u6570\u7684\u4e00\u534a|\u603b\u5bb9\u91cf\u7684\u4e00\u534a|\u9ad8|\u5b89\u5168\u6027\u6700\u9ad8|\u7efc\u5408RAID 0/1\u4f18\u70b9\uff0c\u7406\u8bba\u901f\u5ea6\u8f83\u5feb|\u5927\u578b\u6570\u636e\u5e93\u3001\u670d\u52a1\u5668\\n\\n\x3c!-- \u5b9a\u4e49\u5916\u90e8\u94fe\u63a5 --\x3e\\n[wiki-\u6570\u636e\u6a21\u578b]:http://zh.wikipedia.org/wiki/\u6570\u636e\u6a21\u578b\\n[wiki-\u6570\u636e\u5b57\u5178]:http://zh.wikipedia.org/wiki/\u6570\u636e\u5b57\u5178"},{"id":"personal-project-page","metadata":{"permalink":"/story/personal-project-page","editUrl":"https://github.com/wenerme/wener/edit/master/story/2013/2013-08-23-\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u9875\u9762.md","source":"@site/story/2013/2013-08-23-\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u9875\u9762.md","title":"\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u9875\u9762","description":"\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u622a\u56fe","date":"2013-08-23T00:00:00.000Z","formattedDate":"August 23, 2013","tags":[{"label":"\u7f51\u7ad9","permalink":"/story/tags/\u7f51\u7ad9"}],"readingTime":0.625,"truncated":true,"authors":[],"prevItem":{"title":"\u6570\u636e\u5e93\u539f\u7406 for NCRE 4","permalink":"/story/ncre-4-database-note"},"nextItem":{"title":"\u4fc4\u7f57\u65af\u65b9\u5757","permalink":"/story/gtetris"}},"content":"\x3c!-- \u94fe\u63a5\u9644\u4e0a: [\u4f5c\u54c1\u5c55\u793a\u9875\u9762](http://sites.wener.me/works) --\x3e\\n\\n![\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u622a\u56fe](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u6211\u7684\u4e2a\u4eba\u4f5c\u54c1\u7f51\u7ad9.png \\"\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\\")\\n\\n\x3c!--more--\x3e\\n\\n\u4e00\u4e2a\u7b80\u7b80\u5355\u5355\u5e72\u5e72\u51c0\u51c0\u7684\u4f5c\u54c1\u5c55\u793a\u9875\u9762\\n\\n\u7279\u6027\\n----\\n\\n* \u6570\u636e\u5747\u4f7f\u7528yaml\u7f16\u5199,\u6613\u4e8e\u4fee\u6539\u6dfb\u52a0\\n* \u6570\u636e\u9a71\u52a8,\u4fee\u6539\u7b80\u5355\\n* \u4e2a\u4eba\u6bd4\u8f83\u559c\u6b22\u8fd9\u6837\u7684\u754c\u9762,\u6de1\u96c5\\n\\n\u8fd8\u6709\u4ec0\u4e48\u8981\u8bf4\u7684\u5462? \u6069~\u4ee5\u540e\u5982\u679c\u6709\u4e86\u65b0\u7684\u4f5c\u54c1\u5e94\u8be5\u90fd\u4f1a\u5c3d\u91cf\u66f4\u65b0\u5728\u54ea\u91cc\u5427.\\n\\n;-)"},{"id":"gtetris","metadata":{"permalink":"/story/gtetris","editUrl":"https://github.com/wenerme/wener/edit/master/story/project/gtetris.md","source":"@site/story/project/gtetris.md","title":"\u4fc4\u7f57\u65af\u65b9\u5757","description":"\u4fc4\u7f57\u65af\u65b9\u5757/GTetris","date":"2013-08-12T00:00:00.000Z","formattedDate":"August 12, 2013","tags":[{"label":"\u9879\u76ee","permalink":"/story/tags/\u9879\u76ee"},{"label":"Java","permalink":"/story/tags/java"},{"label":"\u6e38\u620f","permalink":"/story/tags/\u6e38\u620f"}],"readingTime":0.995,"truncated":true,"authors":[],"prevItem":{"title":"\u4e2a\u4eba\u4f5c\u54c1\u5c55\u793a\u9875\u9762","permalink":"/story/personal-project-page"},"nextItem":{"title":"\u8d2a\u5403\u86c7-\u63a7\u5236\u53f0\u7248","permalink":"/story/greedy_snake"}},"content":"\x3c!-- title: \u591a\u63a7\u7248 \u4fc4\u7f57\u65af\u65b9\u5757-GTetris,java swing \u5b9e\u73b0 --\x3e\\n\x3c!-- tag: java --\x3e\\n\x3c!-- category: Game --\x3e\\n\x3c!-- date: 2013/10/12 --\x3e\\n\x3c!-- state: published --\x3e\\n\x3c!-- link: gtetris --\x3e\\n\\n\u4fc4\u7f57\u65af\u65b9\u5757/GTetris\\n==========\\n\\n\u7b80\u5355\u7684\u4fc4\u7f57\u65af\u65b9\u5757, java swing \u5b9e\u73b0\\n\\n* [\u9879\u76ee\u5730\u5740](https://github.com/WenerLove/GTetris)\\n* [\u7a0b\u5e8f\u4e0b\u8f7d](http://resources.wener.me/java/GTetris.jar)\\n* [\u8fd0\u884c\u7a0b\u5e8f](http://resources.wener.me/java/GTetris.jnlp)\\n* [\u6e90\u4ee3\u7801\u6253\u5305\u4e0b\u8f7d](https://github.com/WenerLove/GTetris/archive/master.zip)\\n\\n\u622a\u56fe/Screenshot\\n----\\n\\n![GTetris screenschot](https://raw.github.com/WenerLove/GTetris/master/screenshot-main.png \\"GTetris\\")\\n\\n\x3c!--more--\x3e\\n\\n![GTetris screenschot](https://raw.github.com/WenerLove/GTetris/master/screenshot.png \\"GTetris\\")\\n\\n\u6e38\u620f\u7279\u8272/Features\\n--------\\n\\n* \u53ef\u64cd\u63a7,\u5f53\u524d\u6700\u591a\u53ef\u4e09\u4e2a\u73a9\u5bb6\u540c\u65f6\u64cd\u4f5c\\n* \u53ef\u4fdd\u5b58\\n\\n\\n\u6309\u952e/Shortcuts\\n------\\n\\nEsc: \u6682\u505c\\n\\n1: \u4fdd\u5b58\\n\\n2: \u52a0\u8f7d\\n\\n4: \u52a0\u5165\u73a9\u5bb6\\n\\n\u7b2c\u4e00\u4e2a\u73a9\u5bb6\\nw,a,s,d\\n\\n\u7b2c\u4e8c\u4e2a\u73a9\u5bb6\\ni,j,k,l\\n\\n\u7b2c\u4e09\u4e2a\u73a9\u5bb6\\n\u4e0a\u4e0b\u5de6\u53f3\\n\\n\\nThanks\\n---------\\n\\n\u5b57\u4f53 [Slice](http://www.dafont.com/christian-munk.d3941?fpp=50&text=Wener)\\n\\n\u5b57\u4f53 [Visitor](http://www.dafont.com/font-comment.php?file=visitor&fpp=50&text=Wener)\\n\\n[lombok](http://projectlombok.org)\\n\\n[commons-io](http://commons.apache.org/proper/commons-io/)\\n\\nTODO\\n----\\n\\n* \u6dfb\u52a0\u58f0\u97f3\\n* \u5b9e\u73b0\u64ad\u653e\u529f\u80fd\\n\\n\u4f5c\u8005/Author\\n-----------\\n\\n\u4f5c\u8005: [wener](http://wener.me)\\n\\n\u5fae\u535a: [@\u5c0f\u5c0f\u6587\u5c0f\u5c0f\u7231](http://weibo.com/u/2705020605)\\n\\n\u535a\u5ba2: http://blog.wener.me"},{"id":"greedy_snake","metadata":{"permalink":"/story/greedy_snake","editUrl":"https://github.com/wenerme/wener/edit/master/story/project/greedy_snake.md","source":"@site/story/project/greedy_snake.md","title":"\u8d2a\u5403\u86c7-\u63a7\u5236\u53f0\u7248","description":"\u8d2a\u5403\u86c7 v1.0","date":"2013-05-14T00:00:00.000Z","formattedDate":"May 14, 2013","tags":[{"label":"\u9879\u76ee","permalink":"/story/tags/\u9879\u76ee"},{"label":"C","permalink":"/story/tags/c"},{"label":"\u6e38\u620f","permalink":"/story/tags/\u6e38\u620f"}],"readingTime":0.855,"truncated":true,"authors":[],"prevItem":{"title":"\u4fc4\u7f57\u65af\u65b9\u5757","permalink":"/story/gtetris"},"nextItem":{"title":"VB.NET \u5bf9\u5bf9\u78b0\u6e38\u620f","permalink":"/story/vb-pong-game"}},"content":"\x3c!-- title: \u4e00\u679a\u5c0f\u6e38\u620f-\u8d2a\u5403\u86c7-\u63a7\u5236\u53f0\u7248 --\x3e\\n\x3c!-- category: Game --\x3e\\n\x3c!-- tag: c --\x3e\\n\x3c!-- date: 2013/8/19 --\x3e\\n\x3c!-- state: published --\x3e\\n\x3c!-- link: greedy_snake --\x3e\\n\\n\u8d2a\u5403\u86c7 v1.0\\n===========\\n\\n## \u4f5c\u8005:\\nAuthor: *Wener*\\n\\nE-mail: *wenermail(at)gmail.com*\\n\\nSite: [Blog.wener.me](http://blog.wener.me)\\n\\n![\u8d2a\u5403\u86c7](https://raw.github.com/WenerLove/greedy_snake/master/screenshot.png \\"\u8d2a\u5403\u86c7 v1.0\\")\\n\\n\x3c!-- more --\x3e\\n\\n## \u63cf\u8ff0:\\n*  \u4e00\u4e2awindows \u5728\u63a7\u5236\u53f0\u4e0b\u7684\u5c0f\u6e38\u620f\\n\\n\\n## \u6309\u952e:\\n*    \u4e0a-\u4e0b-\u5de6-\u53f3 \u63a7\u5236\u65b9\u5411/\u83dc\u5355\u9009\u62e9\\n*   <kbd>ESC</kbd>       \u9000\u51fa\u6e38\u620f\\n*   <kbd>R</kbd>         \u91cd\u65b0\u5f00\u59cb\\n*   <kbd>S</kbd>         \u6e38\u620f\u4fdd\u5b58\\n*   <kbd>L</kbd>         \u6e38\u620f\u8bfb\u53d6\\n*   <kbd>SPACE</kbd>     \u6682\u505c\\n*   <kbd>M</kbd>         \u58f0\u97f3\u5f00\u5173\u5207\u6362\\n\\n\\n## \u80dc\u5229\u6761\u4ef6:\\n*   \u5f53\u86c7\u7684\u957f\u5ea6\u8fbe\u5230[ 30 ]\u65f6\u5373\u83b7\u5f97\u6e38\u620f\u80dc\u5229\\n\\n## *Tips*:\\n* \u6309\u952e\u5982\u679c\u548c\u86c7\u5934\u7684\u65b9\u5411\u4e00\u6837,\u53ef\u52a0\u901f\\n* \u4f7f\u7528\u7684\u6211\u81ea\u5df1\u5199\u7684conlib\u5e93\\n* \u73a9\u7684\u6109\u5feb!"},{"id":"vb-pong-game","metadata":{"permalink":"/story/vb-pong-game","editUrl":"https://github.com/wenerme/wener/edit/master/story/2012/2012-02-28-VB.NET \u5bf9\u5bf9\u78b0\u6e38\u620f.md","source":"@site/story/2012/2012-02-28-VB.NET \u5bf9\u5bf9\u78b0\u6e38\u620f.md","title":"VB.NET \u5bf9\u5bf9\u78b0\u6e38\u620f","description":"\u4f5c\u8005:Wener","date":"2012-02-28T00:00:00.000Z","formattedDate":"February 28, 2012","tags":[{"label":"\u6e38\u620f","permalink":"/story/tags/\u6e38\u620f"},{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"VB.NET","permalink":"/story/tags/vb-net"},{"label":".NET","permalink":"/story/tags/net"}],"readingTime":1.255,"truncated":true,"authors":[],"prevItem":{"title":"\u8d2a\u5403\u86c7-\u63a7\u5236\u53f0\u7248","permalink":"/story/greedy_snake"},"nextItem":{"title":"\u6211\u7684\u7b2c\u4e00\u4e2aVB.Net\u7a0b\u5e8f","permalink":"/story/first-vb-prog"}},"content":"\u4f5c\u8005:[Wener](http://blog.wener.me)\\n\\n\u7248\u672c:1.0\\n\\n\u5e73\u53f0:.Net 4.0\\n\\nVS:2010\\n\\n[\u70b9\u6b64](http://download.csdn.net/detail/a3160586/4178509)\u4e0b\u8f7d\\n\\n![\u5bf9\u5bf9\u78b0\u6e38\u620f\u622a\u5c4f](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u5bf9\u5bf9\u78b0\u6e38\u620f.jpg \\"\u5bf9\u5bf9\u78b0\u6e38\u620f\\")\\n\\n\x3c!--more--\x3e\\n\\n\u7b80\u4ecb\\n----\\n\\n\u8fd9\u4e2a\u6e38\u620f\u7c7b\u4f3c\u4e8e\u8fde\u8fde\u770b,\u70b9\u51fb\u4e2d\u95f4\u83dc\u5355\u4e0a\u7684\u5f00\u59cb\u6309\u94ae,\u5f00\u59cb\u6e38\u620f.\\n\u6e38\u620f\u5728\u5f00\u59cb\u540e,\u7403\u7684\u6570\u91cf\u9010\u6e10\u589e\u52a0,\u901f\u5ea6\u9010\u6e10\u52a0\u5feb,\u79cd\u7c7b\u9010\u6e10\u589e\u591a.\\n\\n\u5728\u7403\u7684\u6700\u5927\u91cf\u8fbe\u5230100\u65f6\u4e0d\u518d\u589e\u52a0.\u6570\u91cf\u5728\u9762\u677f\u4e0a\u6709\u663e\u793a.\\n\\n\u6570\u91cf:(\u5f53\u524d\u6570\u91cf)/(\u6700\u5927\u91cf)\\n\\n\u5728\u603b\u91cf\u8fbe\u5230100\u65f6,\u5f00\u59cb\u5012\u8ba1\u65f6,120\u79d2.\u5728\u5012\u8ba1\u65f6\u5185\u628a\u6240\u6709\u7684\u7403\u90fd\\n\\n\u6d88\u6389,\u4fbf\u80dc\u5229,\u5426\u5219\u5931\u8d25.\\n\\n\u64cd\u4f5c\u8bf4\u660e\\n: \u6bcf\u4e2a\u6ce1\u6ce1\u90fd\u53ef\u4ee5\u629b\u6254,\u5f53\u524d\u9009\u4e2d\u7684\u7403\u4e0a\u4f1a\u6709\u4e00\u4e2a\u9ed1\u5708.\\n\\n### \u6a21\u5f0f\u8bf4\u660e\\n\\n\u91cd\u529b\u6a21\u5f0f\\n: \u6a21\u62df\u51fa\u91cd\u529b\u6548\u679c,\u4f7f\u5c0f\u7403\u81ea\u52a8\u5f80\u4e0b\u6389.\\n\\n\u80cc\u666f\u53ef\u9009\\n: \u5f53\u6253\u5f00\u7684\u65f6\u5019,\u80fd\u591f\u70b9\u51fb\u5230\u80cc\u666f\u540e\u7684\u5185\u5bb9.\\n\\n\u6b22\u4e50\u6a21\u5f0f\\n: \u5728\u8be5\u6a21\u5f0f\u4e0b,\u5f53\u4e24\u4e2a\u76f8\u540c\u7684\u7403\u78b0\u649e\u65f6,\u81ea\u52a8\u6d88\u5931."},{"id":"first-vb-prog","metadata":{"permalink":"/story/first-vb-prog","editUrl":"https://github.com/wenerme/wener/edit/master/story/2012/2012-02-25-\u6211\u7684\u7b2c\u4e00\u4e2aVBNet\u7a0b\u5e8f.md","source":"@site/story/2012/2012-02-25-\u6211\u7684\u7b2c\u4e00\u4e2aVBNet\u7a0b\u5e8f.md","title":"\u6211\u7684\u7b2c\u4e00\u4e2aVB.Net\u7a0b\u5e8f","description":"\u6211\u5b66VB.Net\u7684\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u3002\u5305\u542b\u4e86VB\u57fa\u672c\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u5bf9\u6211\u6765\u8bf4\u5177\u6709\u76f8\u5f53\u7684\u7eaa\u5ff5\u610f\u4e49\u3002","date":"2012-02-25T00:00:00.000Z","formattedDate":"February 25, 2012","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"VB.NET","permalink":"/story/tags/vb-net"},{"label":".NET","permalink":"/story/tags/net"}],"readingTime":0.42,"truncated":false,"authors":[],"prevItem":{"title":"VB.NET \u5bf9\u5bf9\u78b0\u6e38\u620f","permalink":"/story/vb-pong-game"},"nextItem":{"title":"\u6982\u8ff0 getopt.h \u7684\u4f7f\u7528","permalink":"/story/getopt-h-tips"}},"content":"\u6211\u5b66VB.Net\u7684\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u3002\u5305\u542b\u4e86VB\u57fa\u672c\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u5bf9\u6211\u6765\u8bf4\u5177\u6709\u76f8\u5f53\u7684\u7eaa\u5ff5\u610f\u4e49\u3002\\n\\n![WinForm](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u6211\u7684\u7b2c\u4e00\u4e2aVB.Net\u7a0b\u5e8f-\u754c\u9762.png \\"WinForm\\")\\n\\n\u7a0b\u5e8f\u4e2a\u4e2a\u7ec4\u4ef6\u4e0a\u6709tooltip\uff0c\u9f20\u6807\u632a\u4e0a\u53bb\u5c31\u77e5\u9053\u4ec0\u4e48\u610f\u601d\u4e86\u3002\u89c9\u5f97\u8fd8\u662f\u633a\u6709\u8da3\u7684\u3002\\n\\n[\u7a0b\u5e8f\u548c\u4ee3\u7801\u4e0b\u8f7d](http://download.csdn.net/detail/a3160586/5972007)"},{"id":"getopt-h-tips","metadata":{"permalink":"/story/getopt-h-tips","editUrl":"https://github.com/wenerme/wener/edit/master/story/2012/2012-02-23-\u6982\u8ff0getopt.h\u7684\u4f7f\u7528.md","source":"@site/story/2012/2012-02-23-\u6982\u8ff0getopt.h\u7684\u4f7f\u7528.md","title":"\u6982\u8ff0 getopt.h \u7684\u4f7f\u7528","description":"\u6982\u8ff0","date":"2012-02-23T00:00:00.000Z","formattedDate":"February 23, 2012","tags":[{"label":"C","permalink":"/story/tags/c"},{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u5e93","permalink":"/story/tags/\u5e93"}],"readingTime":7.095,"truncated":true,"authors":[],"prevItem":{"title":"\u6211\u7684\u7b2c\u4e00\u4e2aVB.Net\u7a0b\u5e8f","permalink":"/story/first-vb-prog"},"nextItem":{"title":"\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb PPT","permalink":"/story/fwj-resume"}},"content":"## \u6982\u8ff0\\nc\u8bed\u8a00\u63a7\u5236\u53f0\u7f16\u7a0b\u65f6\uff0c\u7ecf\u5e38\u90fd\u8981\u63a5\u53d7\u547d\u4ee4\u884c\u4f20\u9012\u6765\u7684\u9009\u9879\uff0c\u800cgetopt\u662f\u4e13\u95e8\u7528\u6765\u89e3\u6790\u547d\u4ee4\u884c\u9009\u9879\u7684\u4e00\u5957\u51fd\u6570\u3002\\n\\n\u7b80\u5355\u7684\u8bf4\u4e00\u4e0bgetopt\uff0c\u5979\u5df2\u7ecf\u6709\u76f8\u5f53\u957f\u7684\u5386\u53f2\u4e86\uff0c\u65e9\u671f\u662f\u5728Unix\u4e2d\u4f7f\u7528\uff0c\u73b0\u5728\u5df2\u7ecf\u79fb\u690d\u5230\u4e86\u4e2a\u4e2a\u4e0d\u540c\u7684\u8bed\u8a00\uff08Shell,Java,Php,.NET...\uff09\uff0c\u4e3a\u63a5\u53d7\u547d\u4ee4\u884c\u9009\u9879\u63d0\u4f9b\u4e86\u5f88\u5927\u7684\u4fbf\u5229\u3002\u540c\u65f6\u4e5f\u6307\u5b9a\u4e86\u4e00\u5957\u4f20\u9012\u9009\u9879\u548c\u53c2\u6570\u7684\u6807\u51c6\u3002\\n\\n\x3c!--more--\x3e\\n\\n## \u53c2\u6570\u4f20\u9012\u6807\u51c6\\n\u5982\u4eca\u7684\u9009\u9879\u6709\u4e24\u79cd\u6a21\u5f0f\uff0c\u77ed\u9009\u9879\u548c\u957f\u9009\u9879\uff0c\u9009\u9879\u53c8\u5206\u4e3a\u5e26\u53c2\u6570\u548c\u4e0d\u5e26\u53c2\u6570\u3002\\n\\n\u6bd4\u5982\uff1a\\n\\ngcc -V \u662f\u77ed\u9009\u9879\uff0c\u4e14\u4e0d\u5e26\u53c2\u6570\\n\\ngcc --version \u662f\u957f\u9009\u9879\uff0c\u4e0d\u5e26\u53c2\u6570\u3002\u4e0egcc -V\u76f8\u540c\\n\\ngcc -o exc \u662f\u77ed\u9009\u9879 \u5e26\u53c2\u6570\uff0c\u4e0egcc --output exc\u76f8\u540c\\n\\n\u800c\u591a\u4e2a\u77ed\u9009\u9879\u53ef\u76f4\u63a5\u8fde\u63a5\uff0c\u4f8b\u5982gcc -so FILE \u4e0e gcc -s -o FILE\u76f8\u540c\\n\\n\u77ed\u9009\u9879\u7684\u53c2\u6570\u53ef\u76f4\u63a5\u7d27\u63a5\u5728\u5176\u540e,\u4f8b\u5982gcc -oFILE = gcc -oFILE\\n\\n\u957f\u9009\u9879\u7684\u53c2\u6570\u53ef\u4ee5\u4ee5\u7a7a\u683c\u5206\u9694\u6216\u8005=\u5206\u9694\uff0c\u4f8b\u5982 gcc --output FILE = gcc --output=FILE\\n<h1>\u5b9e\u73b0</h1>\\ngetopt\u4e2d\u7684\u5185\u5bb9\uff1a\\n\\n\u5177\u4f53\u8bb2\u89e3\u5728\u5b9e\u4f8b\u4e2d\u3002\\n\\n```c\\n/* \u5df2\u5b9a\u4e49\u7684\u53d8\u91cf */\\n\\nint opterr\\nint optopt\\nint optind\\nchar *optarg\\n\\n/* \u5df2\u5b9a\u4e49\u7684\u51fd\u6570 */\\n/*  */\\nint getopt (int argc, char **argv, const char *options)\\nint getopt_long (int argc, char *const *argv, const char *shortopts, const struct option *longopts, int *indexptr)\\n\\nint getopt_long_only (int argc, char *const *argv, const char *shortopts, const struct option *longopts, int *indexptr)\\n\\n/* \u6570\u636e\u7c7b\u578b */\\nstruct option</code>\\n\\n\u5b9e\u4f8b1.\u5b9e\u73b0\u77ed\u53c2\u6570\\n\\n<code lang=\\"c[lines]\\">\\n#include <ctype .h>\\n#include <stdio .h>\\n#include <stdlib .h>\\n/* getopt\u65f6\u5fc5\u987b\u5305\u542b unistd\u5934\u6587\u4ef6 */\\n#include <unistd .h>\\n\\nint main (int argc, char **argv)\\n{\\n    int index;\\n    int c;\\n\\n    opterr = 0;\\n /* getopt \u7528\u6765\u89e3\u6790\u77ed\u9009\u9879\uff0c\u7b2c\u4e00\u4e8c\u4e2a\u53c2\u6570\u57fa\u672c\u90fd\u662f\u76f8\u540c\u7684 */\\n /* \u7b2c\u4e09\u4e2a\u9009\u9879\u4f20\u5165\u80fd\u63a5\u53d7\u7684\u53c2\u6570,\':\'\u4ee3\u8868\u9700\u8981\u503c \'::\'\u4ee3\u8868\u503c\u4e3a\u53ef\u9009*/\\n /* \u5982\u679c\u4f20\u5165\u4e86\u503c\uff0c\u5176\u503c\u4fdd\u5b58\u5728optarg\u5f53\u4e2d\uff0c\u5f53\u5176\u503c\u4e3a\u5fc5\u987b\u662f\uff0c\u82e5\u6ca1\u6709\u4f20\u5165\u503c\u5219\u4f1a\u62a5\u9519 \u7f3a\u5c11\u503c */\\n /* getopt\u8fd4\u56de\u5339\u914d\u7684\u9009\u9879&nbsp;\u4f8b\u5982a/b/c */\\n /* \u672a\u5339\u914d\u503c\u65f6\u8fd4\u56de\uff1f \u89e3\u6790\u5b8c\u65f6\uff0c\u4f1a\u8fd4\u56de-1 \u8df3\u51fa */\\n    while ((c = getopt (argc, argv, \\"abc:\\")) != -1)\\n        switch (c)\\n        {\\n        case \'a\':\\n            printf(\\"\u68c0\u6d4b\u5230-a\u9009\u9879\\\\n\\");\\n            break;\\n        case \'b\':\\n            printf(\\"\u68c0\u6d4b\u5230-b\u9009\u9879\\\\n\\");\\n            break;\\n        case \'c\':\\n            printf(\\"\u68c0\u6d4b\u5230-c\u9009\u9879\uff0c\u5176\u53c2\u6570\u4e3a\uff1a%s\\\\n\\", optarg);\\n            break;\\n        /* \u7528\u6765\u68c0\u6d4b\u5176\u4ed6\u610f\u5916\u7684\u503c */\\n        case \'?\':\\n         /* optopt\u4e3a\u5728\u6ca1\u6709\u5339\u914d\u4efb\u4f55\u9009\u9879\u65f6\uff0c\u4fdd\u5b58\u7684\u9009\u9879\u503c */\\n         /* \u4f8b\u5982-n\uff0c\u6ca1\u6709\u4e0e\u4e0a\u9762\u5339\u914d\uff0c\u5219\u6b64\u65f6optopt=c */\\n            if (optopt == \'c\')\\n                fprintf (stderr, \\"\u9009\u9879 -%c \u9700\u8981\u4e00\u4e2a\u53c2\u6570.\\\\n\\", optopt);\\n            else if (isprint (optopt))\\n                fprintf (stderr, \\"`-%c\'\u672a\u5b9a\u4e49\\\\n\\", optopt);\\n            else\\n                fprintf (stderr,\\n                         \\" `\\\\\\\\x%x\' \u672a\u5b9a\u4e49\\\\n\\",\\n                         optopt);\\n            return 1;\\n        default:\\n            abort ();\\n        }\\n /*\\n \u6700\u540e\u68c0\u6d4b\u547d\u4ee4\u884c\u7ed9\u7684\u9009\u9879\u662f\u5426\u5df2\u7ecf\u89e3\u6790\u5b8c\\n  optind\u662f\u5f53\u524d\u89e3\u6790\u5230\u9009\u9879\u7684\u7d22\u5f15\\n  \u5224\u65ad\u4f9d\u636e\u662f\u5982\u679c\u89e3\u6790\u7684\u4e2a\u6570\u5c0f\u4e8eargc\uff0c\u90a3\u4e48\u5c31\u662f\u6ca1\u6709\u89e3\u6790\u5b8c\\n */\\n    for (index = optind; index < argc; index++)\\n        printf (\\"\u672a\u5b9a\u4e49\u7684\u53c2\u6570\uff1a %s\\\\n\\", argv[index]);\\n    return 0;\\n}\\n```\\n\\n\u5b9e\u4f8b2.\u5b9e\u73b0\u957f\u9009\u9879\\n\\n```c\\n#include <stdio .h>\\n#include <stdlib .h>\\n/* \u4f7f\u7528getopt_long\u65f6\u4e0d\u9700\u8981unistd*/\\n#include <getopt .h>\\n\\n/* \u7528\u6765\u4f5c\u4e3a\u4e00\u4e2a\u6807\u5fd7\u7684\u503c. */\\nstatic int verbose_flag;\\n\\nint\\nmain (argc, argv)\\nint argc;\\nchar **argv;\\n{\\n    int c;\\n\\n    while (1)\\n    {\\n     /*\\n \u7ed3\u6784\u8bf4\u660e\\n  struct option {\\n const char *name; //\u5339\u914d\u7684\u957f\u9009\u9879\u540d\\n int  has_arg; //\u6307\u5b9a\u53c2\u6570\u9009\u9879no_argument required_argument optional_argument\\n  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// \u65e0\u503c \u503c\u5fc5\u987b \u503c\u53ef\u9009\\n int *flag; //\u6807\u5fd7\u4f4d,\u6570\u636e\u7c7b\u578b\u4e3a int*\\n int val; //\u503c\uff0c\u6807\u5fd7\u4f4d\u4e0d\u4e3a0\u65f6\uff0c\u5982\u679c\u8be5\u9009\u9879\u6307\u5b9a\uff0c\u90a3\u4e48flag=val \u6b64\u65f6val\u4e0d\u53ef\u4f5c\u4e3acase\u503c\\n //\u5426\u5219val\u53ef\u4ee5\u4f5c\u4e3a\u77ed\u9009\u9879 \u4e5f\u5c31\u76f8\u5f53\u4e8ecase\\n };\\n */\\n        static struct option long_options[] =\\n        {\\n            /* \u5982\u679c\u6307\u5b9a\u4e86-verbose \u90a3\u4e48verbose_flag = 1*/\\n            {\\"verbose\\", no_argument,       &verbose_flag, 1},\\n            /* \u5982\u679c\u6307\u5b9a\u4e86-brief \u90a3\u4e48verbose_flag = 0*/\\n            {\\"brief\\",   no_argument,       &verbose_flag, 0},\\n            /* --add = -a \u4e0d\u5e26\u53c2\u6570*/\\n            {\\"add\\",     no_argument,       0, \'a\'},\\n            {\\"append\\",  no_argument,       0, \'b\'},\\n            /* --delete=XX = -dXX \u5e26\u53c2\u6570*/\\n            {\\"delete\\",  required_argument, 0, \'d\'},\\n            {\\"create\\",  required_argument, 0, \'c\'},\\n            {\\"file\\",    required_argument, 0, \'f\'},\\n            /* \u5f88\u660e\u663e5438\u4e0d\u53ef\u80fd\u7528\u4e00\u4e2aANSCI\u8868\u793a\u51fa\u6765\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53ef\u4ee5\u76f4\u63a5\u7528case\u5c31\u53ef\u4ee5*/\\n            {\\"a_very_long_arg\\",    no_argument, 0, 5438},\\n            /* \u6700\u540e\u4e3a\u7a7a\u503c\uff0c\u6765\u6807\u8bc6\u7ed3\u675f */\\n            {0, 0, 0, 0}\\n        };\\n        /* \u56e0\u4e3a\u6ca1\u6709\u4e86optind\uff0c\u90a3\u4e48\u5c31\u8981\u7528\u4e00\u4e2a\u503c\u6765\u5b58\u50a8\u5f53\u524d\u7d22\u5f15 */\\n        int option_index = 0;\\n\\n /* \u524d\u4e09\u4e2a\u53c2\u6570\u4e0egetopt\u76f8\u540c\uff0c\u7b2c\u56db\u4e2a\u4e3aoption\uff0c\u7b2c\u4e94\u4e2a\u4e3a\u5b58\u7d22\u5f15int\u7684\u6307\u9488*/\\n        c = getopt_long (argc, argv, \\"abc:d:f:\\",\\n                         long_options, &option_index);\\n\\n        /* \u5f53\u89e3\u6790\u5b8c\u8fd4\u56de-1 \u8df3\u51fa\u5faa\u73af */\\n        if (c == -1)\\n            break;\\n\\n        switch (c)\\n        {\\n        case 0:\\n            /* \u5f53 flag\u4e0d\u4e3a0\u65f6\uff0c\u9047\u5230\u90a3\u4e9b\u9009\u9879 getopt_long\u8fd4\u56de0*/\\n            if (long_options[option_index].flag != 0)\\n                break;\\n            printf (\\"\u9009\u9879 %s\\", long_options[option_index].name);\\n            if (optarg)\\n                printf (\\" \u503c %s\\", optarg);\\n            printf (\\"\\\\n\\");\\n            break;\\n\\n        case \'a\':\\n            puts (\\"\u9009\u9879 -a\\\\n\\");\\n            break;\\n\\n        case \'b\':\\n            puts (\\"\u9009\u9879 -b\\\\n\\");\\n            break;\\n        //\u957f\u9009\u9879\\n        case 5438:\\n            puts (\\"\u9009\u9879 --a_very_long_arg\\\\n\\");\\n            break;\\n            break;\\n        case \'c\':\\n            printf (\\"\u9009\u9879 -c \u503c\u4e3a `%s\'\\\\n\\", optarg);\\n            break;\\n\\n        case \'d\':\\n            printf (\\"\u9009\u9879 -d \u503c\u4e3a `%s\'\\\\n\\", optarg);\\n            break;\\n\\n        case \'f\':\\n            printf (\\"\u9009\u9879 -f \u503c\u4e3a `%s\'\\\\n\\", optarg);\\n            break;\\n\\n        case \'?\':\\n            /* getopt_long \u4f1a\u81ea\u52a8\u8f93\u51fa\u9519\u8bef\uff0c\u4e0d\u50cfgetopt\u9700\u8981\u81ea\u5df1\u68c0\u6d4b */\\n            break;\\n\\n        default:\\n            abort ();\\n        }\\n    }\\n\\n    /* \u68c0\u6d4b\u662f\u5426\u8bbe\u7f6e\u4e86\u6807\u5fd7\u4f4d */\\n    if (verbose_flag)\\n        puts (\\"verbose \u6807\u5fd7\u5df2\u88ab\u8bbe\u7f6e\\");\\n\\n    /* \u8f93\u5165\u672a\u89e3\u6790\u5b8c\u7684\u9009\u9879. */\\n    if (optind < argc)\\n    {\\n        printf (\\"\u65e0\u6548\u9009\u9879\uff1a \\");\\n        while (optind < argc)\\n            printf (\\"%s \\", argv[optind++]);\\n        putchar (\'\\\\n\');\\n    }\\n\\n    exit (0);\\n}\\n```\\n\\n\u5b9e\u4f8b3.<strong>getopt_long_only</strong>\\n\\n\u8fd9\u4e2a\u51fd\u6570\u7684\u53c2\u6570\u548cgetopt_long\u76f8\u540c\uff0c\u53ea\u662f\u63a5\u53d7\u957f\u53c2\u6570\u65f6\uff0c\u53ef\u4ee5\u53ea\u7528\u4e00\u4e2a\'-\'\u6765\u66ff\u4ee3\'--\'\u3002\u5f53-xx\u6ca1\u6709\u68c0\u6d4b\u5230xx\u7684\u957f\u53c2\u6570\u65f6\u4f1a\u68c0\u6d4b-x\u77ed\u53c2\u6570\u3002\\n\\n\u540c\u65f6\'--\'\u4e5f\u80fd\u591f\u4f7f\u7528,\u4e5f\u5c31\u662f\u8bf4-xx=--xx\\n<h1>\u7ed3\u5c3e</h1>\\n\u4e0d\u5f97\u4e0d\u8bf4\uff0cgetopt\u662f\u4e00\u4e2a\u5f88\u5b9e\u7528\u7684\u5de5\u5177\uff0c\u5bf9\u4e8e\u7f16\u7a0b\u80fd\u63d0\u4f9b\u5f88\u591a\u7684\u4fbf\u5229\u3002gnu\u4e5f\u6709\u5f00\u6e90\u7684\u5b9e\u73b0\u5728gnulib\u548clibc\u4e2d\u3002\\n\\n\u53c2\u8003\uff1a\\n\\nGNU Libc\u624b\u518c\uff1a<a href=\\"http://www.gnu.org/software/libc/manual/html_node/Getopt.html#Getopt\\">http://www.gnu.org/software/libc/manual/html_node/Getopt.html#Getopt</a>\\n\\nGetopt\u82f1\u6587\u7ef4\u57fa\u9875\u9762\uff1a<a href=\\"http://en.wikipedia.org/wiki/Getopt\\">http://en.wikipedia.org/wiki/Getopt</a>"},{"id":"fwj-resume","metadata":{"permalink":"/story/fwj-resume","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-12-07-\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb PPT.md","source":"@site/story/2011/2011-12-07-\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb PPT.md","title":"\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb PPT","description":"\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb-\u4e2d\u5f97\u4e00\u4e2aPPT\u7cfb\u7edf","date":"2011-12-07T00:00:00.000Z","formattedDate":"December 7, 2011","tags":[],"readingTime":1.75,"truncated":true,"authors":[],"prevItem":{"title":"\u6982\u8ff0 getopt.h \u7684\u4f7f\u7528","permalink":"/story/getopt-h-tips"},"nextItem":{"title":"\u300a\u975e\u9057\u5931\u300b","permalink":"/story/not-lost"}},"content":"![\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb-\u4e2d\u5f97\u4e00\u4e2aPPT\u7cfb\u7edf](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb-\u4e2d\u5f97\u4e00\u4e2aPPT\u7cfb\u7edf.jpg )\\n\\n![\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb-\u4e2d\u5f97\u4e00\u4e2aPPT\u7cfb\u7edf](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb-\u6307\u5bfc.jpg )\\n\\n\u4e0b\u8f7d(zip)\uff1a[\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u5386](http://download.csdn.net/detail/a3160586/6706453)\\n\\n\x3c!--more--\x3e\\n\\n\u8001\u5e08\u53eb\u505a\u7684\u4f5c\u4e1a\uff0c\u4e00\u65f6\u5fc3\u8840\u6765\u6f6e\u5c31\u505a\u4e86\u4e2a\u8fd9\u4e2a\u3002\u6700\u540e\u611f\u89c9\u8fd8\u4e0d\u9519\u3002\\n\\n\u4ee5\u524d\u8fd8\u4ece\u672a\u505a\u8fc7ppt\uff0c\u505a\u4e86\u8fd9\u4e2a\u4e4b\u540e\uff0c\u89c9\u5f97ppt\u8fd8\u662f\u86ee\u5f3a\u5927\u7684\u3002\u4e0d\u8fc7\u5c31\u662f\u5f88\u7e41\u7410\uff0c\u7279\u522b\u662f\u5728\u81ea\u5b9a\u4e49\u52a8\u753b\u591a\u4e86\u4e4b\u540e\uff0c\u56fe\u5c42\u5bf9\u8c61\u591a\u4e86\u4e4b\u540e\uff0c\u7ba1\u7406\u8d77\u6765\u5f88\u9ebb\u70e6\u3002wps\u4e5f\u6709\u4e9b\u4e0d\u7ed9\u529b\uff0c\u672c\u6765\u662f\u597d\u597d\u57302012\u7684\uff0c\u4e0d\u5f97\u4e0d\u53c8\u8fd8\u56de\u4e862010\uff0c\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\u7684\u65f6\u5019\u8fd8\u4f1a\u5f88\u5361\u3002\\n\\nms office\u8fd8\u4e0d\u9519\uff0c\u5f88\u987a\u7545\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u662f\u7528wps\u505a\u7684\uff0c\u6ca1\u6709\u5916\u90e8\u6587\u4ef6\u7684\u4f9d\u8d56\u3002\u4f46\u662f\u5bf9office 2007\u597d\u50cf\u770b\u4e0d\u5230\u80cc\u666f\uff0c\u6211\u57282003\u4e0a\u80fd\u770b\u5230\u80cc\u666f\u3002\u8fd9\u70b9\u5f88\u65e0\u5948\u3002\\n\\n\u5728\u505a\u81ea\u5b9a\u4e49\u52a8\u4f5c\u7684\u65f6\u5019\u3002\u8fd8\u662f\u6709\u4e9b\u6280\u5de7\u7684\uff0c\u6bd4\u5982\u8bf4\u4e00\u6b21\u52a0\u5165\u591a\u4e2a\u6587\u4ef6\uff0c\u9009\u62e9\u591a\u4e2a\u6587\u4ef6\u6dfb\u52a0\u540c\u6837\u7684\u52a8\u4f5c\u7136\u540e\u7fa4\u4f53\u79fb\u52a8\u3002\u8fd9\u4e2a\u6587\u4ef6\u672c\u6765\u8fd8\u53ef\u4ee5\u52a0\u5165\u58f0\u97f3\u7684\uff0c\u4f46\u662f\u6ca1\u6709\u53bb\u627e\u58f0\u97f3\u6587\u4ef6\u5728\u54ea\u91cc\u3002\\n\\n\u8981\u662f\u559c\u6b22\uff0c\u53ef\u4efb\u610f\u4fee\u6539\u54e6\u3002\\n\\n\u4e0b\u8f7d(zip)\uff1a[\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u5386](http://download.csdn.net/detail/a3160586/6706453)"},{"id":"not-lost","metadata":{"permalink":"/story/not-lost","editUrl":"https://github.com/wenerme/wener/edit/master/story/2011/2011-11-16-\u300a\u975e\u9057\u5931\u300b.md","source":"@site/story/2011/2011-11-16-\u300a\u975e\u9057\u5931\u300b.md","title":"\u300a\u975e\u9057\u5931\u300b","description":"","date":"2011-11-16T00:00:00.000Z","formattedDate":"November 16, 2011","tags":[{"label":"\u8bd7\u6b4c","permalink":"/story/tags/\u8bd7\u6b4c"}],"readingTime":0.34,"truncated":false,"authors":[],"prevItem":{"title":"\u68a6\u5e7b\u897f\u6e38\u7248\u4e2a\u4eba\u7b80\u4ecb PPT","permalink":"/story/fwj-resume"},"nextItem":{"title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u5e8f","permalink":"/story/here-my-love-prolog"}},"content":"```\\n\u6211\u4e0d\u662f\u4f60\u7684\u4ec0\u4e48\\n\\n\u53ea\u662f\u56e0\u4e3a\u4f60\u6211\u9057\u5931\u4e86\u5f88\u591a\\n\\n\u627e\u4e0d\u56de\u6765\u7684\u662f\u518d\u4e5f\u65e0\u6cd5\u5f97\u5230\u7684\\n\\n\u7559\u4e0b\u7684 \u6c38\u6052\u7684 \u9057\u5931\u7684\\n\\n\u7684\u4f60\\n\\n\u5373\u4fbf\u662f\u5728\u68a6\u4e2d\u4e5f\u6293\u4e0d\u4f4f\u4e00\u7f15\u53d1\u4e1d\\n\\n\u4f60\u53ea\u662f\u8d70\u4e86\uff0c\u53ea\u662f\u4e0d\u518d\u56de\u6765\\n```"},{"id":"here-my-love-prolog","metadata":{"permalink":"/story/here-my-love-prolog","editUrl":"https://github.com/wenerme/wener/edit/master/story/here-my-love/2011-11-16-\u5e8f.md","source":"@site/story/here-my-love/2011-11-16-\u5e8f.md","title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u5e8f","description":"","date":"2011-11-16T00:00:00.000Z","formattedDate":"November 16, 2011","tags":[{"label":"\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979","permalink":"/story/tags/\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979"},{"label":"\u6545\u4e8b","permalink":"/story/tags/\u6545\u4e8b"}],"readingTime":1.55,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u975e\u9057\u5931\u300b","permalink":"/story/not-lost"},"nextItem":{"title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u7bc7\u5916 \u300c\u98ce\u7684\u6545\u4e8b\u300d","permalink":"/story/here-my-love-wind-story"}},"content":"```\\n\u751f\u6d3b\u4e2d\uff0c\u603b\u6709\u90a3\u4e48\u4e2a\u5979\uff0c\u966a\u4f60\u5ea6\u8fc7\u56f0\u96be\uff0c\u966a\u4f60\u5f00\u6000\u5927\u7b11\uff0c\u966a\u4f60\u7545\u8c08\u7406\u60f3\uff0c\u966a\u4f60\u8d70\u8fc7\u4e00\u6bb5\u8def\uff0c\u966a\u4f60\u5531\u8fc7\u4e00\u9996\u6b4c\uff0c\u966a\u4f60\u505a\u8fc7\u4e00\u4e2a\u68a6\u3002\u68a6\u4e2d\u6709\u4f60\u6709\u5979\u8fd8\u6709\u68a6\u3002\u4e5f\u603b\u6709\u90a3\u4e48\u4e2a\u5979\uff0c\u8ba9\u4f60\u81ea\u4fe1\uff0c\u8ba9\u4f60\u5feb\u4e50\uff0c\u8ba9\u4f60\u4f24\u75db\uff0c\u8ba9\u4f60\u5fc3\u788e\uff0c\u8ba9\u4f60\u6d41\u6cea\uff0c\u75b2\u60eb\uff0c\u6194\u60b4\uff0c\u5fc3\u7075\u6ca1\u6709\u9632\u5907\u2026\u2026\u5230\u6700\u540e\u624d\u53d1\u73b0\uff0c\u53ea\u662f\u8ba9\u4f60\u5728\u6539\u53d8\u3002\\n\u751f\u6d3b\u4e2d\uff0c\u603b\u4f1a\u6709\u90a3\u4e48\u591a\u5f97\u60c5\u7231\u3002\u5979\u4eec\u7ed9\u7684\u6216\u7ed9\u4e0d\u4e86\u7684\uff0c\u6211\u80fd\u505a\u7684\u6216\u505a\u4e0d\u4e86\u7684\u603b\u662f\u592a\u591a\u3002\u50cf\u662f\u6234\u5728\u98df\u6307\u7684\u6212\u671f\u5f85\u7231\u5374\u4e0d\u80fd\u7231\uff0c\u542b\u7f9e\u8349\u822c\u4e0d\u5bb9\u67d3\u6307\u7684\u7f8e\u4e3d\u3002\u5c31\u8ba9\u6211\u9759\u9759\u5730\u7b49\uff0c\u9759\u9759\u5730\u770b\u3002\\n\\n    \u751f\u6d3b\u4e2d\uff0c\u603b\u4f1a\u6709\u592a\u591a\u7684\u4eba\uff0c\u592a\u591a\u7684\u4e8b\uff0c\u592a\u591a\u7684\u60b2\u6b22\u79bb\u5408\u3002\u6ca1\u6709\u6c38\u6052\uff0c\u6216\u8bb8\u8fde\u660e\u5929\u4e5f\u6ca1\u6709\uff0c\u4e00\u76f4\u90fd\u6d3b\u5728\u4eca\u5929\uff0c\u4f46\u662f\u5728\u60f3\u7740\u660e\u5929\uff0c\u751a\u81f3\u8fd8\u5ff5\u5ff5\u4e0d\u5fd8\u6628\u5929\u3002\u5f53\u54ed\u6ce3\u7740\u8bf4\u81ea\u5df1\u5b64\u5355\uff0c\u5374\u770b\u4e0d\u89c1\u8eab\u8fb9\u966a\u4f34\u7684\u4eba\u3002\\n    \u6709\u65f6\u5019\u76ee\u5149\u592a\u77ed\uff0c\u770b\u4e0d\u89c1\u6574\u7247\u5929\u7a7a\uff0c\u751a\u81f3\u770b\u4e0d\u89c1\u6211\uff0c\u770b\u4e0d\u89c1\u81ea\u5df1\u3002\\n    \u68a6\u8fd8\u662f\u5728\u5ef6\u7eed\u7740\uff0c\u53ea\u662f\u201c\u6709\u4e9b\u4e8b\u4f60\u73b0\u5728\u4e0d\u5fc5\u95ee\uff0c\u6709\u4e9b\u4eba\u4f60\u6c38\u8fdc\u4e0d\u5fc5\u7b49\u201d\u3002\\n```"},{"id":"here-my-love-wind-story","metadata":{"permalink":"/story/here-my-love-wind-story","editUrl":"https://github.com/wenerme/wener/edit/master/story/here-my-love/2011-11-16-\u7bc7\u5916 \u300c\u98ce\u7684\u6545\u4e8b\u300d.md","source":"@site/story/here-my-love/2011-11-16-\u7bc7\u5916 \u300c\u98ce\u7684\u6545\u4e8b\u300d.md","title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u7bc7\u5916 \u300c\u98ce\u7684\u6545\u4e8b\u300d","description":"","date":"2011-11-16T00:00:00.000Z","formattedDate":"November 16, 2011","tags":[{"label":"\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979","permalink":"/story/tags/\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979"},{"label":"\u6545\u4e8b","permalink":"/story/tags/\u6545\u4e8b"}],"readingTime":1.64,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u5e8f","permalink":"/story/here-my-love-prolog"},"nextItem":{"title":"js\u89e3\u6790lib\u56fe\u7247\u6587\u4ef6\u5217\u8868","permalink":"/story/bbk-bbimg-js"}},"content":"```\\n\u6211\u559c\u6b22\u5728\u8d77\u98ce\u7684\u65f6\u5019\u60f3\u4f60\uff0c\u98ce\u80fd\u628a\u6211\u7684\u601d\u5ff5\u5e26\u5230\u8fdc\u65b9\u3002\\n\\n\u6211\u559c\u6b22\u5728\u5fae\u98ce\u4e2d\u54ed\u6ce3\uff0c\u98ce\u4f1a\u6084\u7136\u7684\u5e2e\u6211\u62ed\u53bb\u773c\u6cea\\n\u6211\u559c\u6b22\u628a\u7231\u653e\u5728\u98ce\u4e2d\uff0c\u98ce\u628a\u7231\u5e26\u7ed9\u6211\u601d\u5ff5\u7684\u4f60\u3002\\n\u98ce\u4ece\u4e0d\u505c\u7559\uff0c\u4ed6\u8b66\u6212\u81ea\u5df1\u4e0d\u80fd\u591f\u53bb\u7737\u604b\u3002\\n\u98ce\u8bf4\uff0c\u5982\u679c\u5979\u559c\u6b22\u6211\uff0c\u90a3\u5979\u4e00\u5b9a\u8fd8\u4f1a\u6765\u5230\u8fd9\u91cc\u3002\\n\u4f60\u6c38\u8fdc\u5728\u98ce\u7684\u5fc3\u91cc\uff0c\u6216\u8bb8\u4f60\u672a\u66fe\u542c\u8fc7\u4ed6\u7684\u547c\u58f0\uff0c\u4f46\u4ed6\u5374\u4e00\u76f4\u966a\u4f34\u7740\u4f60\u3002\\n\u56e0\u4e3a\\n\u4f60\u4e0d\u77e5\u9053\u7684\u662f\uff0c\u4ed6\u662f\u771f\u7684\u559c\u6b22\u4f60\\n\u4f60\u4e0d\u77e5\u9053\u7684\u662f\uff0c\u4ed6\u60f3\u4f60\u5374\u4e0d\u80fd\u544a\u8bc9\u4f60\\n\u4f60\u4e0d\u77e5\u9053\u7684\u662f\uff0c\u4ed6\u603b\u4f1a\u5728\u591c\u91cc\u770b\u671b\u4f60\\n\u4f60\u4e0d\u77e5\u9053\u7684\u662f\uff0c\u4ed6\u5728\u6bcf\u4e2a\u5fe7\u4f24\u7684\u96e8\u5b63\u91cc\u90fd\u548c\u4f60\u5728\u4e00\u8d77\\n\u4ed6\u4e0d\u820d\u5f97\u79bb\u53bb\\n\u4ed6\u62e8\u64a9\u7740\u4f60\u7684\u53d1\u4e1d\uff0c\u503e\u89c6\u4ed6\u66ae\u604b\u7684\u5bb9\u989c\\n\u542c\u90a3\u9152\u7a9d\u53d9\u8ff0\u7740\u7684\u6545\u4e8b\\n\u770b\u90a3\u773c\u7738\u51dd\u89c6\u7740\u7684\u98ce\u666f\\n\u611f\u53d7\u90a3\u7ea4\u7ec6\u6307\u5c16\u8f7b\u89e6\u7684\u82b1\\n\u4f46\u5374\u4e0b\u8d77\u4e86\u96e8\u6765\\n\u4ed6\u547c\u5578\u7740\u8fc7\u6765\uff0c\u4ed6\u60f3\u62b1\u7740\u4f60\uff0c\u4e3a\u4f60\u62b5\u6321\u90a3\u523a\u9aa8\u7684\u96e8\u3002\\n\u96e8\u6dcb\u6e7f\u4e86\u4f60\u8eab\uff0c\u5374\u523a\u75db\u4e86\u4ed6\u7684\u5fc3\\n\u6700\u540e\\n\u4f60\u8d70\u4e86\uff0c\u4e0d\u66fe\u56de\u671b\\n\u53ea\u662f\u98ce\u4f9d\u7136\u505c\u7559\\n\u6211\u6f2b\u6b65\u5728\u96e8\u540e\u7684\u8def\uff0c\u90a3\u6ef4\u96e8\u62e8\u5f04\u7740\u6e56\u9762\\n\u542c\u7740\u98ce\u7ed9\u6211\u8bb2\u8ff0\u7740\u4ed6\u7684\u6545\u4e8b\\n```"},{"id":"bbk-bbimg-js","metadata":{"permalink":"/story/bbk-bbimg-js","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/BBImg/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/BBImg/README.md","title":"js\u89e3\u6790lib\u56fe\u7247\u6587\u4ef6\u5217\u8868","description":"\u539f\u5e16\u94fe\u63a5","date":"2011-09-15T21:51:00.000Z","formattedDate":"September 15, 2011","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":0.595,"truncated":false,"authors":[],"prevItem":{"title":"\u300a\u6211\u628a\u6211\u7684\u77dc\u6301\u90fd\u7ed9\u4e86\u5979\u300b\uff1a\u7bc7\u5916 \u300c\u98ce\u7684\u6545\u4e8b\u300d","permalink":"/story/here-my-love-wind-story"},"nextItem":{"title":"\u56db\u4e2a\u51fd\u6570\u548cbb\u7f16\u8f91\u5668","permalink":"/story/bbk-libs"}},"content":"\u539f\u5e16**[\u94fe\u63a5](http://club.eebbk.com/bbkbbs/showtopic/269578/1)**\\n\\n\u4ee3\u7801\u5168\u90e8\u4e3a\u7eaf\u539f\u521b\uff0c\u7c7b\u90a3\u4e9b\u4e5f\u90fd\u662f\u81ea\u5df1\u5199\u7684.\\nui\u5199\u7684\u5f88\u5dee\uff0c\u89c9\u5f97\u968f\u4fbf\u3002\\n\u9700\u8981\u628a\u6253\u5f00\u7684\u6587\u4ef6\u653e\u5728src\u6587\u4ef6\u5939\u4e0b\uff01\\n\u8bf7\u7528\u975eie\u5185\u6838\u6253\u5f00\uff0c\u56e0\u4e3a\u9700\u8981canvas\u6807\u7b7e\u7684\u652f\u6301\uff0c\u4e5f\u6ca1\u6709\u5bf9ie\u8fdb\u884c\u517c\u5bb9\\n\\n\u5728\u7f51\u9875\u4e2d\u6253\u5f00BBImg.html\u5c31ok\u4e86\uff01\\n\u5fc5\u987b\u8981\u6c42\u6709\u670d\u52a1\u5668,\u4e5f\u5c31\u662f\u94fe\u63a5\u7684\u5f62\u5f0f\u5fc5\u987b\u662f `http://`xxxx,\u800c\u4e0d\u662f`file://`.\\n\u56e0\u4e3a\u4f7f\u7528\u4e2aajax.\\n\\n\u4f5c\u8005\uff1a\u5c0f\u6587\u513f"},{"id":"bbk-libs","metadata":{"permalink":"/story/bbk-libs","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u56db\u4e2a\u51fd\u6570/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u56db\u4e2a\u51fd\u6570/README.md","title":"\u56db\u4e2a\u51fd\u6570\u548cbb\u7f16\u8f91\u5668","description":"Lib\u56fe\u7247\u9009\u62e9","date":"2011-04-24T01:34:00.000Z","formattedDate":"April 24, 2011","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.655,"truncated":true,"authors":[],"prevItem":{"title":"js\u89e3\u6790lib\u56fe\u7247\u6587\u4ef6\u5217\u8868","permalink":"/story/bbk-bbimg-js"},"nextItem":{"title":"BB\u6025\u901f\u622a\u56fe","permalink":"/story/bbk-quick-screenshot"}},"content":"![Lib\u56fe\u7247\u9009\u62e9](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9B%E4%B8%AA%E5%87%BD%E6%95%B0/Lib%E5%9B%BE%E7%89%87%E9%80%89%E6%8B%A9.gif)\\n![\u83dc\u5355\u5f0f\u9009\u62e9](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9B%E4%B8%AA%E5%87%BD%E6%95%B0/%E8%8F%9C%E5%8D%95%E5%BC%8F%E9%80%89%E6%8B%A9.jpg)\\n![\u56fe\u7247\u8c03\u6574\u51fd\u6570](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9B%E4%B8%AA%E5%87%BD%E6%95%B0/%E9%A1%B5%E9%9D%A2%E8%B0%83%E6%95%B4-%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91.gif)\\n\\n\u539f\u5e16**[\u94fe\u63a5](http://club.eebbk.com/bbkbbs/showtopic/257169/1)**\\n\\n\x3c!-- more --\x3e\\n\\n```\\n\'//=========ShowPic_Alpha==========//\\n\'//=========\u5e26Alpha\u663e\u793a\u56fe\u7247==========//\\n\'\u4f5c\u8005 Wener\\n\'\u8bba\u575bId a3160586 (club.eebbk.com   \u7f16\u7a0b\u533a)\\n\'QQ 514403150\\n\\n\u8bf4\u660e:\\nshowpic_alpha( srcPage, srcPic, alPic, DisX, DisY, Wid, Hgt, srcX, srcY, showMODE)\\n\u76f8\u6bd4showpic\u51fd\u6570\uff0c\u53ea\u591a\u4e86\u4e00\u4e2aalPic\u53c2\u6570 \u5176\u4ed6\u90fd\u662f\u4e00\u6837\u7684\\n\u8fd9\u4e2a\u662falpha\u7684\u901a\u9053\u56fe \u7531\u4e8ebb\u7684\u663e\u793a\u989c\u8272\u6570\u76ee\u6709\u9650\uff0c\u4e0d\u4f1a\u5728\u7535\u8111\u4e0a\u770b\u8d77\u6765\u4e00\u6837\u5e73\u6ed1\u7684\\n\\n\'//=========LibSel==========//\\n\'//=========Lib\u56fe\u7247\u9009\u62e9\u51fd\u6570==========//\\n\'\u4f5c\u8005 Wener\\n\'\u8bba\u575bId a3160586 (club.eebbk.com   \u7f16\u7a0b\u533a)\\n\'QQ 514403150\\n\\n\u8bf4\u660e\uff1a\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u9009\u62e9Lib\u4e2d\u7684\u67d0\u4e00\u5f20\u56fe\u7247\uff0c\u7136\u540e\u8fd4\u56de\u56fe\u7247\u53e5\u67c4\\n\u8fd9\u4e2a\u51fd\u6570\u5177\u6709\u6bd4\u8f83\u597d\u7684UI\uff0c\u7528\u8d77\u6765\u611f\u89c9\u8fd8\u662f\u6bd4\u8f83\u597d\u7684\\n\u8fd9\u4e2a\u51fd\u6570\u8981\u4f9d\u8d56\u4e8egetLibCount \uff0c getInput \u8fd9\u4e24\u4e2a\u51fd\u6570\\nLibSel( Lib_Name$)\\n\u8fd9\u4e2a\u51fd\u6570\u53ea\u9700\u8981LIB\u6587\u4ef6\u540d\u8fd9\u4e2a\u53c2\u6570\\n\\n\\n\\n\'//=========Selector==========//\\n\'//=========\u83dc\u5355\u5f0f\u9009\u62e9==========//\\n\'\u4f5c\u8005 Wener\\n\'\u8bba\u575bId a3160586 (club.eebbk.com   \u7f16\u7a0b\u533a)\\n\'QQ 514403150\\n\\n\u8bf4\u660e\uff1a\u8fd9\u4e2a\u51fd\u6570\u5c31\u50cf\u624b\u673a\u7684\u83dc\u5355\u90a3\u79cd\u6837\uff0c\u5c31\u662f\u9009\u62e9\u7684\\nSelector_Str$\u8fd9\u4e2a\u4e3a\u4e00\u4e2a\u6570\u7ec4\uff0c\u8c03\u7528\u524d\u8bf7\u4e3a\u5176\u8d4b\u503c\u5b57\u7b26\u4e32\\nSelector_StrCount \u662f\u603b\u7684\u9009\u9879\u4e2a\u6570\\n\u8c03\u7528 Selector( MustChoiceOne)\\nMustChoiceOne\u53c2\u6570\u662f\u662f\u5426\u5fc5\u987b\u9009\u62e9\u4e00\u4e2a 1 \u4e3a\u662f \u4e5f\u5c31\u662f\u662f\u8bf4\u4e0d\u80fd\u9000\u51fa\\nMustChoiceOne\u4e3a0\u7684\u65f6\u5019  \u9000\u51fa\u8fd4\u56de1 \u786e\u8ba4\u8fd4\u56de\u9009\u9879\u5728Selector_Str\u4e2d\u7684\u4f4d\u7f6e\\n\u4e5f\u5c31\u662fSelector_Str$( i)\\n\u5177\u4f53\u8bf7\u770b eg.Selector.bas\\n\\n\'//=========PageAdjust==========//\\n\'//=========\u9875\u9762\u8c03\u6574\u51fd\u6570==========//\\n\'\u4f5c\u8005 Wener\\n\'\u8bba\u575bId a3160586 (club.eebbk.com   \u7f16\u7a0b\u533a)\\n\'QQ 514403150\\n\\n\u8bf4\u660e\uff1a\u8fd9\u4e2a\u51fd\u6570\u5c31\u50cfphotoshop\u7684\u4e00\u4e9b\u529f\u80fd\u6837\\n\u5e73\u8861\u989c\u8272\uff0c\u8c03\u6574rbg\u901a\u9053\uff0c\u8c03\u6574\u660e\u6697\uff0c\u4f7f\u9875\u9762\u9ed1\u767d\u5316\\n\u53ef\u955c\u50cf\uff0c\u65cb\u8f6c180\xb0\u56fe\u50cf\u7b49\uff0c\u66f4\u591a\u8bf7\u5728\u4f7f\u7528\u7684\u65f6\u5019\u53d1\u73b0\u5427\\n\u8fd9\u4e2a\u51fd\u6570\u751f\u6210\u7684bin\u6587\u4ef6\u8f83\u5927\uff0c300\u591ak\uff0c\u56e0\u4e3a\u6709\u7559\u4e86\u5927\u90e8\u5206\u7a7a\u767d\\n\\n\\n\u989d\u5916\u8bf4\u660e\uff1a\\n\u9664\u4e86PageAdjust\u5916\uff0c\u5176\u4ed6\u4e09\u4e2a\u51fd\u6570\u90fd\u9700\u8981SYS_Fe$ \u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf\\n\u8fd9\u4e2a\u611f\u89c9\u8fd9\u4e2a\u662f\u5e94\u8be5\u90fd\u8981\u6709\u7684\u4e00\u4e2a\u53d8\u91cf\uff0c\u6240\u4ee5\u5c31\u90fd\u653e\u5728\u4e86\u5168\u5c40\\nIF GetEnv!() = Env_SIM Then\\n\\tSYS_Fe$ = \\".rlb\\"\\nElse\\n\\tSYS_Fe$ = \\".lib\\"\\nEnd IF\\n\u4e5f\u5c31\u662f\u5224\u65ad\u4e2d\u8f7d\u5165\u4ec0\u4e48\u683c\u5f0f\u7684\\n```"},{"id":"bbk-quick-screenshot","metadata":{"permalink":"/story/bbk-quick-screenshot","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/BB\u6025\u901f\u622a\u56fe/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/BB\u6025\u901f\u622a\u56fe/README.md","title":"BB\u6025\u901f\u622a\u56fe","description":"\u8fd0\u884c\u622a\u56fe","date":"2011-03-22T01:56:00.000Z","formattedDate":"March 22, 2011","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.515,"truncated":true,"authors":[],"prevItem":{"title":"\u56db\u4e2a\u51fd\u6570\u548cbb\u7f16\u8f91\u5668","permalink":"/story/bbk-libs"},"nextItem":{"title":"\u8fd8\u539f\u7684Bda\u8ba1\u7b97\u5668","permalink":"/story/bbk-bda-calc"}},"content":"![\u8fd0\u884c\u622a\u56fe](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/BB%E6%80%A5%E9%80%9F%E6%88%AA%E5%9B%BE/%E6%88%AA%E5%9B%BE.gif)\\n\\n\u539f\u5e16[\u94fe\u63a5](http://club.eebbk.com/bbkbbs/showtopic/255787/1)\\n\\n\x3c!-- more --\x3e\\n\\n```\\n\'//=========\u622a\u56fe\u7c7b\u51fd\u6570v1.0==========//\\n\'\u4f5c\u8005 Wener\\n\'\u8bba\u575bId a3160586 (club.eebbk.com   \u7f16\u7a0b\u533a)\\n\'QQ 514403150\\n\'date: 1:56 AM 2011-3-22\\n\u7279\u8272\uff1a\\n\u622a\u56fe\u51fd\u6570\u6781\u5176\u7684\u5feb  1.5s > \u5e73\u5747\\n\u53ef\u4fdd\u5b58\u4e3alib\u548cbmp\\nsupper\u53ef\u7531\u7528\u6237\u81ea\u7531\u9009\u62e9\u8bbe\u7f6e\uff0c\u5e26\u6709\u8f83\u597d\u7684ui\\n\u6e90\u4ee3\u7801\u516c\u5f00\uff0c\u53ef\u4efb\u610f\u4f7f\u7528\u5230\u4f60\u4eec\u81ea\u5df1\u7684\u4f5c\u54c1\u4e2d\\n\\n\u4f7f\u7528\u8bf7\u4fdd\u7559\u539f\u4f5c\u8005\u4fe1\u606f\uff0c\u8c22\u8c22 ^o^\\n\uff1b==========================================\\n\u51fd\u6570\u8bf4\u660e\uff1a\\n\u622a\u56fe\u7c7b\u51fd\u6570\uff0c\u6545\u540d\u601d\u8bae\u3002\\n\u5171\u6709\u4e09\u4e2a\u51fd\u6570\\n\u9ed8\u8ba4\u5168\u5c4f\u622a\u56fe\\nScreenPrint_ALL( ScrP_p_page, ScrP_p_BMP_FileName$)\\nScrP_p_page \u622a\u56fe\u9875\u9762\\nScrP_p_BMP_FileName$ \u4fdd\u5b58\u4e3a\u7684bmp\u6587\u4ef6\u540d\u3002\u82e5\u4fdd\u4e3alib\u5219\u53c2\u6570\u4e3a \\"\\" \u7a7a\u5b57\u7b26\\n\u77e9\u5f62\u6846\u622a\u56fe\\nScreenPrint_Rect( ScrP_p_PAGE, ScrP_p_x, ScrP_p_y, ScrP_p_Wid, ScrP_p_Hgt, ScrP_p_BMP_FileName$)\\n\u4e24\u4e2a\u53c2\u6570\u540c\u4e0a\\nScrP_p_x, ScrP_p_y \u622a\u56fe\u8d77\u70b9\\nScrP_p_Wid, ScrP_p_Hgt \u622a\u56fe\u5bbd\u9ad8\\n\u7528\u6237\u81ea\u5b9a\u4e49\u88c1\u526a\u622a\u56fe\\nScreenPrint_Supper( ScrP_p_page)\\nScrP_p_page \u622a\u56fe\u9875\u9762\\n\\n\uff1b==========================================\\n\u8be6\u7ec6\u8bf4\u660e\uff1a\\n\u6b64\u7c7b\u51fd\u6570\u90fd\u9700\u8981\u4e00\u4e2a\u6587\u4ef6\u53e5\u67c4\uff0c\u53ef\u5728const\u4e2d\u81ea\u5b9a\u4e49\\nconst ScreenPrint_Use_File_ID = \uff1f\uff1f\\n\\n\\nScreenPrint_ALL\u548cScreenPrint_Rect\u51fd\u6570\u8981\u6c42\u8f83\u4f4e\uff0c\u4ee3\u7801\u4e5f\u4e0d\u662f\u5f88\u591a\uff0c\u56e0\u6b64\u82e5\u8981\u6c42\u4e0d\u9ad8\uff0c\u5219\u53ef\u4ee5\u4ec5\u4ec5\u4f7f\u7528\u8fd9\u4e24\u4e2a\u51fd\u6570\u5c31\u53ef\u4ee5\u4e86\\n\\nScreenPrint_Supper\u8981\u6c42\u8f83\u9ad8\uff0c\u5e26ui\uff0c\u5171\u9700\u89814\u4e2a\u9875\u9762\u53e5\u67c4\uff0cui\u754c\u9762\u662f\u81ea\u52a8\u5224\u522b\u4f7f\u7528\u73af\u5883\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u81ea\u52a8\u9009\u62e9\u8bfb\u53d6lib\u6216\u8005\u662frlb\u3002\\nsupper\u51fd\u6570\u4e2d\u5305\u542b\u4e86\u5927\u91cf\u8ba1\u7b97\uff0c\u96be\u4ee5\u907f\u514d\u7684\u6709\u70b9\u70b9\u5361\uff0c\u5728\u6de1\u51fa\u7684\u65f6\u5019\u6709\u70b9\u5361\u3002\\n\\n\u538b\u7f29\u5305\u4e2d\u7684 PT_res.lib \u548c PT_res.rlb \u90fd\u662f\u6d4b\u8bd5\u65f6\u4f7f\u7528\u7684 \uff0c\u4e0eSuper_example.bas \u6709\u5173\\n\\n\u6e90\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u547d\u540d\u6709\u4e9b\u6709\u70b9\u6df7\u4e71\u3002\\n\u6709 Scrp_\uff08screenPrint\uff09\u5f00\u5934\u7684,\u6709screenPrint_\u5f00\u5934\u7684\uff0c\u6709screenCapture\u5f00\u5934\u7684 \u4e09\u4e2a\u51fd\u6570.bas\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u5df2\u7ecf\u4fee\u6b63\\n\u5176\u5b9e\u6211\u90a3\u6837\u547d\u540d\u4e5f\u662f\u4e3a\u4e86\u5728\u533a\u522b\u6c47\u7f16\u548cbb  bb\u4e2d\u662fscrp \u6c47\u7f16\u4e2d\u662f screenPrint.  screenCapture\u53ea\u6709\u4e24\u6b21\\n\\n\u5728\u4f7f\u7528\u7684\u65f6\u5019\u8bf7\u5c06ScreenPrint.lib\u4e00\u8d77\u590d\u5236\uff0c\u8fd9\u4e2a\u6587\u4ef6\u53ea\u662f\u4e2a\u7a7a\u6587\u4ef6\uff0c\u53ea\u662f\u4e3a\u4e86\u4e3alib\u7684\u5b58\u50a8\u201c\u5360\u5730\u76d8\u201d\uff0c\u5b58\u653e\u7d22\u5f15\u3002\u8f6c\u6362\u4e3alib\u7684\u7ed3\u679c\u90fd\u5728\u8fd9\u4e2a\u6587\u4ef6\u5f53\u4e2d\u3002\\n```"},{"id":"bbk-bda-calc","metadata":{"permalink":"/story/bbk-bda-calc","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u8ba1\u7b97\u5668/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u8ba1\u7b97\u5668/README.md","title":"\u8fd8\u539f\u7684Bda\u8ba1\u7b97\u5668","description":"\u9ed1\u8272\u4e3b\u9898\u622a\u56fe","date":"2011-03-11T13:44:00.000Z","formattedDate":"March 11, 2011","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":3.805,"truncated":true,"authors":[],"prevItem":{"title":"BB\u6025\u901f\u622a\u56fe","permalink":"/story/bbk-quick-screenshot"},"nextItem":{"title":"\u56da\u5f92\u56f0\u5883","permalink":"/story/bbk-game-prisoner-dilemma"}},"content":"![\u9ed1\u8272\u4e3b\u9898\u622a\u56fe](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E8%AE%A1%E7%AE%97%E5%99%A8/Cal.gif)\\n![\u84dd\u8272\u4e3b\u9898\u622a\u56fe](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E8%AE%A1%E7%AE%97%E5%99%A8/B_Cal.gif)\\n\\n\u539f\u5e16[\u94fe\u63a5](http://club.eebbk.com/bbkbbs/showtopic/255060/1)\\n\\n\x3c!-- more --\x3e\\n\\n```\\n\u521a\u5f00\u59cb\u770b\u5230\u56fe\u7247\u7684\u65f6\u5019\u4f1a\u4e0d\u4f1a\u89c9\u5f97\u662fBda\u5462\uff1f\\n\\n \'//////////////////////////\\n\'////////\u8fd8\u539fde\u8ba1\u7b97\u5668//////\\n\'////////\u4f5c\u8005id:a3160586///\\n\'////////\u4f5c\u8005:Wener////////\\n\'////////=================/\\n\'////////\u6b22\u8fce\u8bbf\u95ee//////////\\n\'////////club.eebbk.com////\\n\'//////////////////////////\\n\\n\u56fe\u7247\u90fd\u662f\u7528\u7684\u548c\u5c0f\u673a\u4e0a\u4e00\u6837\u7684\u56fe\u7247\\n\u5c55\u793a\u7684\u6548\u679c\u4e5f\u548c\u5c0f\u673a\u4e0a\u57fa\u672c\u76f8\u540c\uff0c\u597d\u50cf\u53ea\u662f\u6ca1\u6709\u51fa\u6765error\u7684\u60c5\u51b5\\n\u8fd8\u662f\u6709\u4e00\u70b9\u70b9\u7f3a\u70b9\uff0c\u5c31\u662f\u5904\u7406\u5c0f\u6570\u7684\u65f6\u5019\u4e0d\u662f\u5f88\u6709\u529b\uff0c\u6709\u65f6\u4f1a\u51fa\u73b0\u8bef\u5dee\\n\\n\u4f60\u53ef\u4ee5\u76f4\u63a5\u628a\u5168\u90e8\u4ee3\u7801\u590d\u5236\u5230\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u8fdb\u884c\u8c03\u7528 Cal_Calculator( the)\\nthe\u4e3a\u5047\u7684\u65f6\u5019\u662f\u9ed1\u8272\u4e3b\u9898\uff0c\u4e3a\u771f\u7684\u65f6\u5019\u662f\u84dd\u8272\u4e3b\u9898\\n\u53d8\u91cf\u7684\u547d\u540d\u90fd\u662f\u7528Cal_\u5f00\u5934\u7684\uff0c\u53ea\u6709\u51e0\u4e2a\u516c\u7528\u7684\u51fd\u6570\u624d\u6ca1\u90a3\u6837\u5904\u7406\\n\\ndeclare function str2float!( str2float_p_fstr$) \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6d6e\u70b9\u6570\\ndeclare function float2str$( float2str_p_flo!) \u628a\u6d6e\u70b9\u6570\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32  \u8fd9\u91cc\u6709\u65f6\u5019\u4f1a\u4ea7\u751f\u8bef\u5dee\\ndeclare function ShowFloat( ShowFloat_p_hPage, ShowFloat_p_hImg, ShowFloat_p_x, ShowFloat_p_y, ShowFloat_p_Float$) \u7528\u56fe\u7247\u6765\u663e\u793a\u6d6e\u70b9\u6570\u7684\u5b57\u7b26\u4e32\\n\\n\u8fd9\u51e0\u4e2a\u51fd\u6570\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u53ef\u4ee5\u4efb\u610f\u8c03\u7528\uff0c\u4f46\u662f\u8fd9\u4e2a\u8ba1\u7b97\u5668\u5fc5\u987b\u4f9d\u8d56\u8fd9\u4e09\u4e2a\u51fd\u6570\\n\\n\u8c22\u8c22\u5927\u5bb6\u53c2\u8003\u5b66\u4e60~\\n\u6709\u610f\u5b66\u4e60\u7684\u53ef\u4ee5\u770b\u770b\u4e0b\u9762\\n\\n\u539f\u5148\u6211\u5728\u60f3\u7740\u5199\u8fd9\u4e2a\u7684\u65f6\u5019\uff0c\u60f3\u7684\u662f\u591a\u4e48\u7684\u7b80\u5355~~~\u5f53\u505a\u8d77\u6765\u7684\u65f6\u5019\u624d\u53d1\u73b0\uff0c\u539f\u6765~\u4e0d\u53ea\u662f\u60f3\u7684\u90a3\u4e48\u7b80\u5355~\\ninstr\uff0c\u5728\u7535\u8111\u4e0a\uff0c\u6ca1\u67e5\u627e\u5230\u7684\u65f6\u5019\u662f\u8fd4\u56de0\u7684\uff0c\u800c\u5728\u6700\u65b0\u7684bda\u4e0a\u662f\u8fd4\u56de-1\\n\u6240\u4ee5 \u8fd8\u662f\u7528 < 1 \u6216\u8005 > 0 \u6765\u5224\u65ad\u662f\u5426\u67e5\u627e\u5230\u8981\u65b9\u4fbf\u4e9b\\n\u6211\u4e0d\u77e5\u9053\u5c0f\u673a\u4e0a\u7684left\u80fd\u7528\u4e0d\uff0c\u6240\u4ee5\u5168\u90e8\u662f\u7528mid\u4ee3\u66ff\u7684\\n\\ns! = 0.0202\\nprint s! * 100000\\n\u4f60\u731c\u7ed3\u679c\u662f\u591a\u5c11~\uff1f\\n\\n\\n2019.999878\\n\u8fd9\u5c31\u662f\u6211\u4e4b\u6240\u4ee5\u4e0d\u80fd\u4fdd\u8bc1\u7cbe\u786e\u7684\u539f\u56e0\uff0c\u5728\u7a0b\u5e8f\u4e2d\u6211\u7565\u52a0\u5904\u7406\u8fc7\u4e86\uff0c\u4f46\u662f\u8fd8\u662f\u514d\u4e0d\u4e86\u6709\u51fa\u9519\u60c5\u51b5\u7684\\n\u7279\u522b\u662f\u5904\u7406\u5f88\u591a\u5c0f\u6570\u7684\u65f6\u5019\u3002\u3002\u3002\u3002\\n\u8981\u662f\u51fa\u9519\u4e86\u4e5f\u53ea\u80fd\u6309c\u53d6\u6d88\u4e86\u4ece\u6765~\\n\\n\u5728\u5904\u7406\u952e\u76d8\u6309\u952e\u7684\u65f6\u5019\uff0c\u89c9\u5f97\u6211\u7684\u90a3\u4e2a\u60f3\u6cd5\u662f \u5f88\u4e0d\u9519\u7684\uff0c\u5927\u5bb6\u53ef\u4ee5\u501f\u9274\u501f\u9274\uff0c\u5c31\u662f~~~~~~\\n\u770b\u4ee3\u7801\u5427\uff0c\u563f\u563f  \u4fdd\u8bc1\u8d85\u8d8a\u524d\u4eba\uff0c\u6b63\u5728\u505a\u7684ime\u4e5f\u662f\u7528\u7684\u8fd9\u6837\u7684\u601d\u8def\u3002\u7533\u8bf7\u4e2a\u4e13\u5229\u54e6\\n\\n\u8fd9\u91cc\u5bf9\u70ed\u8877\u4e8e\u6c47\u7f16\u7684\u4eba\u8bf4\u51e0\u53e5\u8bdd\uff0c\u5176\u5b9e\u673a\u5668\u5e76\u6ca1\u6709\u4f60\u4eec\u60f3\u7684\u90a3\u4e48\u4e0d\u582a~\\n\u6211\u89c9\u5f97\u901f\u5ea6\u5bf9\u6211\u6765\u8bf4\u8fd8\u662f\u5f88\u4e0d\u9519\u7684\uff0c\u7279\u522b\u662f\u6211\u5728\u5c4f\u5e55\u4e0a\u4e71\u6309\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u592a\u5feb\uff0c\u5bfc\u81f4\u5f88\u591a\u952e\u8fd8\u6ca1\u6062\u590d\u7684\u65f6\u5019\u90fd\u53c8\u6309\u4e0b\u4e86\uff0c\u6062\u590d\u662f40ms\u5ef6\u65f6\u7684\uff0c\u53ef\u60f3\uff0c\u5176\u5b9e\u901f\u5ea6\u8fd8\u662f\u591f\u4e86\u554a~\\n\u6c47\u7f16\u4f5c\u4e3a\u8f85\u52a9\uff0c\u662f\u6700\u4f73\u7684\u9009\u62e9\uff0c\u6211\u5c31\u662f\u8fd9\u6837\u7528\u7684\uff0c\u628a\u4e00\u4e9b\u8981\u91cd\u590d\u7528\u5230\u7684\u5b50\u8fc7\u7a0b\u653e\u5f00\uff0c\u7528call\u6765\u8c03\u7528\u7684\uff0c\u8fd9\u6837\u53ef\u770b\u6027\u8981\u9ad8\u4e00\u70b9\u70b9~\u672c\u6765\u8fc7\u7a0b\u4e5f\u4e0d\u957f\uff0c\u6ca1\u5fc5\u8981\u7528\u4e00\u4e2a\u51fd\u6570\u3002\\n\\n\u597d\u4e86\u5c31\u5230\u8fd9\u91cc\u5427\\n\\n\u9884\u77e5\u66f4\u591a\uff0c\u8bf7\u770b\u4ee3\u7801\\n\u672c\u4ebaqq\uff1a514403150\\n\u6b22\u8fce\u8ba8\u8bba\u4ea4\u6d41\\n^.^\\n```"},{"id":"bbk-game-prisoner-dilemma","metadata":{"permalink":"/story/bbk-game-prisoner-dilemma","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u56da\u5f92\u56f0\u5883/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u56da\u5f92\u56f0\u5883/README.md","title":"\u56da\u5f92\u56f0\u5883","description":"\u6e38\u620f\u622a\u56fe","date":"2011-03-05T21:31:00.000Z","formattedDate":"March 5, 2011","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u6e38\u620f","permalink":"/story/tags/\u6e38\u620f"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":1.11,"truncated":true,"authors":[],"prevItem":{"title":"\u8fd8\u539f\u7684Bda\u8ba1\u7b97\u5668","permalink":"/story/bbk-bda-calc"},"nextItem":{"title":"\u5e73\u751f\u7b2c\u4e00\u4e2a\u6e38\u620f - \u8da3\u5473\u62fc\u56fe","permalink":"/story/bbk-first-game"}},"content":"![\u6e38\u620f\u622a\u56fe](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9A%E5%BE%92%E5%9B%B0%E5%A2%83/QT.gif \\"\u8fd0\u884c\u6548\u679c\\")\\n\\n\u539f\u5e16**[\u8fde\u63a5](http://club.eebbk.com/bbkbbs/showtopic/254672/1)**\\n\\n\x3c!-- more --\x3e\\n\\n\u6b64\u6e38\u620f\u7531\u8457\u540d\u7684\u5fc3\u7406\u6d4b\u8bd5\u201c\u56da\u5f92\u56f0\u5883\u201d\u542f\u53d1\u5236\u4f5c\u3002\\n\\n\u6e38\u620f\u89c4\u5219\u6781\u5176\u7b80\u5355\u3002\\n\u521d\u59cb\u5206\u6570\u4e3a0\u5206\uff0c\u7531\u73a9\u5bb6\u4e0e\u6587\uff08\u7535\u8111\uff09\u5bf9\u6218\\n\\n\u5f97\u5206\u89c4\u5219\uff1a\\n\\n* \u53cc\u65b9\u90fd\u5408\u4f5c \u5404\u5f973\u5206\\n* \u53cc\u65b9\u90fd\u80cc\u53db \u5404\u5f971\u5206\\n* \u4e00\u65b9\u5408\u4f5c\u4e00\u65b9\u80cc\u53db \u80cc\u53db\u76845\u5206 \u5408\u4f5c\u76840\u5206\\n\\n\u6e38\u620f\u63a7\u5236\uff1a\\n\\n* \u70b9\u51fb\u5c40\u6b21\u4e0a\u9650\u8bbe\u7f6e\u6b21\u6570\uff0c\u6e38\u620f\u65f6\u53ef\u4ee5\u8bbe\u7f6e\\n* \u70b9\u51fb\u5e2e\u52a9\u67e5\u770b\u5e2e\u52a9\\n* \u70b9\u51fb\u5173\u4e8e\u67e5\u770b\u5173\u4e8e\\n* \u70b9\u51fb\u5f00\u59cb\u5373\u5f00\u59cb\u6e38\u620f\\n* \u5f53\u6e38\u620f\u4e2d\u65f6\u70b9\u51fb\u5f00\u59cb\u6e38\u620f\u5c06\u4f1a\u8be2\u95ee\u662f\u5426\u91cd\u65b0\u5f00\u59cb\u6e38\u620f\\n\\n\u539f\u672c\u7684\u6e38\u620f\u56fe\u7247\u662f\u66f4\u597d\u770b\u7684\uff08\u5728\u7535\u8111\u4e0a\uff09\uff0c\u4f46\u662f\u4e3a\u4e86\u5728\u673a\u5668\u4e0a\u770b\u8d77\u6765\u80fd\u770b\uff0c\u5c31\u90fd\u8c03\u6697\u4e86\u3002\\n\\n\u4f5c\u8005\\n: Wener\\n\\n\u8bba\u575bId\\n: \u5c0f\u6587\u513f\\n\\n\u6b22\u8fce\u8bbf\u95ee  club.eebbk.com"},{"id":"bbk-first-game","metadata":{"permalink":"/story/bbk-first-game","editUrl":"https://github.com/wenerme/wener/edit/master/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u8da3\u5473\u62fc\u56fe/README.md","source":"@site/story/\u6211\u90a3\u4e9b\u6b65\u6b65\u9ad8\u7684\u6545\u4e8b/\u8da3\u5473\u62fc\u56fe/README.md","title":"\u5e73\u751f\u7b2c\u4e00\u4e2a\u6e38\u620f - \u8da3\u5473\u62fc\u56fe","description":"\u539f\u5e16\u5b50\u94fe\u63a5","date":"2011-02-04T02:21:00.000Z","formattedDate":"February 4, 2011","tags":[{"label":"\u7f16\u7a0b","permalink":"/story/tags/\u7f16\u7a0b"},{"label":"\u6e38\u620f","permalink":"/story/tags/\u6e38\u620f"},{"label":"\u6b65\u6b65\u9ad8","permalink":"/story/tags/\u6b65\u6b65\u9ad8"},{"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.85,"truncated":true,"authors":[],"prevItem":{"title":"\u56da\u5f92\u56f0\u5883","permalink":"/story/bbk-game-prisoner-dilemma"}},"content":"\u539f\u5e16\u5b50[\u94fe\u63a5](http://club.eebbk.com/bbkbbs/showtopic/252670/1)\\n\\n![\u6e38\u620f\u622a\u56fe](https://github.com/wenerme/wener/raw/master/story/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E8%B6%A3%E5%91%B3%E6%8B%BC%E5%9B%BE/%E8%B6%A3%E5%91%B3%E6%8B%BC%E5%9B%BE.gif \\"\u8fd0\u884c\u6548\u679c\\")\\n\\n\x3c!-- more --\x3e\\n\\n\u73a9\u6cd5\u548c\u624b\u673a\u4e0a\u7684\u90a3\u79cd\u62fc\u56fe\u76f8\u5dee\u65e0\u51e0\\n\\n\u4e0d\u540c\u7684\u662f\uff1a\u6bcf\u6b21\u7684\u7f3a\u5c11\u4f4d\u7f6e\u662f\u968f\u673a\u7684\uff0c\u4e0d\u50cf\u624b\u673a\u4e0a\u7684\u90a3\u4e48\u6b7b\u677f\\n\\n\u53ef\u81ea\u5b9a\u4e49\u5173\u5361\uff0c\u81ea\u5df1\u4fee\u6539\u6e38\u620f\u811a\u672c\uff0c\u5236\u4f5c\u7279\u5b9a\u5173\u5361\u3002\\n\u8be6\u7ec6\u7684\u8bf7\u770b\u6211\u5728\u8bba\u575b\u7684\u53d1\u5e16\\n\\n\u6e38\u620f\u63a7\u5236\uff1a\\n\\n* \u5728\u4e3b\u83dc\u5355\u65f6 \u5f53\u6ca1\u6709\u5b58\u6863\u65f6\u4e0d\u4f1a\u7ee7\u7eed\u6e38\u620f\\n* \u5728\u4e3b\u83dc\u5355\u65f6\uff0c\u9000\u51fa\u952e\u662f\u9000\u51fa\\n* \u5728\u6e38\u620f\u4e2d\u65f6 \u9000\u51fa\u952e\uff08\u5de6\u8f6f\u4ef6\uff09\u662f\u8fd4\u56de\u4e0a\u4e00\u6b65\\n* \u70b9\u51fb\u7f29\u7565\u56fe\u79d1\u67e5\u770b\u5168\u56fe\\n* \u952e\u76d8\u548c\u5c4f\u5e55\u89e6\u6478\u63a7\u5236\u79fb\u52a8\\n* \u6e38\u620f\u65f6\u53f3\u4e0b\u89d2\u6709\u4e2a\u83dc\u5355\u6761\uff0c\u70b9\u51fb\u5373\u5c55\u5f00 \u6709\u9000\u51fa\u548c\u4fdd\u5b58\u9009\u9879\\n\\n\\n\u4f5c\u8005\\n: Wener\\n\\n\u8bba\u575bId\\n: \u5c0f\u6587\u513f\\n\\n\u6b22\u8fce\u8bbf\u95ee  club.eebbk.com\\n\\n\u5982\u4f55\u5236\u4f5c\u5173\u5361\\n-----------\\n\\n\u5b58\u653e\u56fe\u7247\u7684\u6587\u4ef6\u662f PT_res.lib\\n\\n![\u547d\u540d\u683c\u5f0f](http://upload.eebbk.net/UploadFile/2011-2/2011242274888328.jpg)\\n\u4ee5\u201c_s\u201d\u7ed3\u5c3e\u7684\u90fd\u662f\u7f29\u7565\u56fe\uff0c\u4e5f\u5c31\u662f\u7b2c 2n\u5f20\u662f\u62fc\u56fe\u7684\u56fe\uff0c\u800c \u7b2c2n+1\u5f20\u662f\u7b2c2n\u957f\u7684\u7f29\u7565\u56fe\\n\\n\u5c31\u662f\u8fd9\u4e48\u7b80\u5355\u3002\\n\\n\u5173\u4e8e\u4e00\u4e9b\u7279\u6b8a\u8bbe\u7f6e,\u5728\u51fd\u6570 specialGate \u91cc\u9762,\u6bd4\u5982\u50cf\u8fd9\u6837\u7684\u56fe\\n\\n![\u7279\u6b8a\u8bbe\u7f6e\u7c7b\u578b](http://upload.eebbk.net/UploadFile/2011-2/2011242305561677.jpg)\\n\\n\u6211\u9700\u8981\u89c4\u5b9a\u7528\u6237\u7f3a\u5931\u7684\u7684\u662f\u54ea\u4e00\u5757\u624d\u80fd\u73a9\u7684\u6b63\u5e38\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u8fd9\u6837\u8bbe\u7f6e\uff1a\\n```\\nif G_User_Gate = 6 then\\n    specialGate_var = 8\\nend if\\n```\\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5173\u5361\u662f\u7b2c\u516d\u5173\uff0c\u4e5f\u5c31\u662f\u4e0a\u56fe\u90a3\u4e00\u5173\uff0c\u90a3\u4e48\u6211\u60f3\u7528\u6237\u7f3a\u5931\u7684\u662f\u7b2c8\u5757\\n\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u5c0f\u56fe\u7247\u662f\u4ece0\u5f00\u59cb\u7684\uff0c\u7b2c8\u5757\u4e5f\u5c31\u662f\u6700\u53f3\u4e0b\u89d2\u7684\u90a3\u4e00\u5757\u3002\\n\\n\u5982\u679c\u6211\u60f3\u7b2c3\u5173\u73a9\u5bb6\u7f3a\u5931\u7684\u662f\u7b2c 4\u5757 \u90a3\u4e2a\u4ee3\u7801\u5c31\u662f\\n```\\nif G_User_Gate = 3 then\\n    specialGate_var = 4\\nend if\\n```\\n\u5f53\u7136\u662f\u53ef\u4ee5\u5199\u5f88\u591a\u4e2a\u8fd9\u6837\u7684\u3002\\n\\n\\n\u5982\u679c\u662f\u5c0f\u7537\u751f\uff0c\u5176\u5b9e\u53ef\u4ee5\u6709\u610f\u7684\u5f04\u70b9\u4ec0\u4e48\u793a\u7231\u7684\u3002\u3002\u3002\u3002\u4e0d\u8bf4\u4e86\\n\\n\\n\u7ed3\u5c3e\\n----\\n\\n\u8fd9\u4e2a\u6e38\u620f\u8fd8\u4e0d\u662f\u5f88\u5b8c\u7f8e\u7684\uff0c\u50a8\u5b58\u8fd8\u4e0d\u591f\u5b8c\u7f8e\uff0c\u7ed3\u6784\u8fd8\u4e0d\u591f\u5b8c\u7f8e\uff0c\u8fc7\u5173\u7684\u52a8\u753b\u6ca1\u5199\u8fd8\u6709\u4e9b\u9057\u6f0f\u7684\u5730\u65b9\u3002\\n\u4f46\u662f\u81f3\u5c11\u80fd\u73a9\u7684\uff0c\u800c\u4e14\u754c\u9762\u8fd8\u662f pretty good \u7684\u3002\u5f88\u591a\u5730\u65b9\u90fd\u662f\u7528\u7684\u7f13\u52a8\uff0c\u672c\u6765\u56fe\u7247\u7684\u79fb\u52a8\u8fd8\u662f\u60f3\u7528\u7f13\u52a8\u7684\uff0c\u4f46\u662f\u6211\u89c9\u5f97\u90a3\u662f\u6ca1\u4e8b\u627e\u4e8b~~\\n\\n\u8981\u662f\u8fd8\u6709\u5565\u9700\u6c42\u53ef\u4ee5\u5c3d\u91cf\u63d0\u51fa\uff0c\u4fee\u6539\u5c31\u662f\u4e86"}]}')}}]);