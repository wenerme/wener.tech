/*! For license information please see 2f35dba0.03637563.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[54620],{20148:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>a});var o=t(2488),r=t(62780);const s={title:"Dante"},c="Dante",i={id:"service/network/proxy/dante",title:"Dante",description:"- dante",source:"@site/../notes/service/network/proxy/dante.md",sourceDirName:"service/network/proxy",slug:"/service/network/proxy/dante",permalink:"/notes/service/network/proxy/dante",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/proxy/dante.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1680070123,formattedLastUpdatedAt:"Mar 29, 2023",frontMatter:{title:"Dante"},sidebar:"docs",previous:{title:"Clash.Meta",permalink:"/notes/service/network/proxy/clash/mihomo"},next:{title:"FRP",permalink:"/notes/service/network/proxy/frp/"}},l={},a=[{value:"\u57fa\u7840\u914d\u7f6e",id:"\u57fa\u7840\u914d\u7f6e",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.M)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"dante",children:"Dante"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.a,{href:"http://www.inet.no/dante/",children:"dante"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"consists of a SOCKS server and a SOCKS client"}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://www.inet.no/dante/doc/1.4.x/index.html",children:"\u6587\u6863"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.li,{children:"sockd - \u670d\u52a1\u7aef"}),"\n",(0,o.jsx)(e.li,{children:"socks - \u5ba2\u6237\u7aef"}),"\n",(0,o.jsx)(e.li,{children:"socksify - \u57fa\u4e8e LD_PRELOAD \u7684\u4ee3\u7406"}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://lvii.gitbooks.io/outman/content/dante.html",children:"https://lvii.gitbooks.io/outman/content/dante.html"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"https://www.inet.no/dante/doc/1.4.x/sockd.conf.5.html",children:"sockd.conf.5"})}),"\n"]}),"\n",(0,o.jsxs)(e.admonition,{type:"tip",children:[(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u5982\u679c\u914d\u7f6e\u4e86 ipsec\uff0c\u5219 external \u9700\u8981\u914d\u7f6e ipsec \u7684 left \u5730\u5740 - \u5426\u5219\u4e0d\u4f1a\u7ecf\u8fc7 ipsec"}),"\n"]}),(0,o.jsx)(e.p,{children:"::"}),(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# macOS \u5b89\u88c5\nbrew install dante\n\n# \u670d\u52a1\u7aef\u5b89\u88c5\napk add dante{,-server}\n\n# \u6821\u9a8c\u914d\u7f6e\u6587\u4ef6\nsockd -V -f /etc/sockd.conf\n\n# Docker \u542f\u52a8\n# \u901a\u8fc7 ip \u9650\u5236\u8bbf\u95ee\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 127.0.0.1:8888:8888 \\\n  --name dante wener/dante\n"})}),(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"sockd.conf"})}),(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u89c4\u5219\u6761\u4ef6 clientcompatibility, clientmethod, command, from, group, socksmethod, protocol, proxyprotocol, to, user"}),"\n",(0,o.jsx)(e.li,{children:"\u89c4\u5219\u52a8\u4f5c bandwidth, libwrap, log, session, redirect, timeout.connect, timeout.negotiate, timeout.io, timeout.tcp_fin_wait, udp.portrange"}),"\n"]}),(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-conf",children:"# \u65e5\u5fd7\u8f93\u51fa\nlogoutput: stdout\n# \u76d1\u542c\u5730\u5740\n# \u53ef\u4ee5\u662f\u5730\u5740\u6216 interface\ninternal: 0.0.0.0 port = 8888\n# \u51fa\u53e3\u7f51\u5361\u6216\u5730\u5740 - macOS \u4f7f\u7528 en0\nexternal: eth0\n# \u5ba2\u6237\u7aef\u6388\u6743\u65b9\u5f0f - \u652f\u6301 pam.address pam.any none rfc931\nclientmethod: none\n# \u670d\u52a1\u7aef\u9009\u62e9\u7684\u6388\u6743\u65b9\u5f0f\nsocksmethod: none\nuser.privileged: root\nuser.unprivileged: nobody\n# \u5ba2\u6237\u7aef\u89c4\u5219 - \u57fa\u4e8e\u5ba2\u6237\u7aef\u4fe1\u606f\u8fdb\u884c\u7684\u89c4\u5219\u6821\u9a8c\n# --------\n# \u63a5\u6536\u8bbf\u95ee\nclient pass {\n  from: 0.0.0.0/0 to: 0.0.0.0/0\n  log: error\n}\n# \u7981\u6b62\u8bbf\u95ee 127/8\nclient block {\n  from: 0.0.0.0/0 to: 127.0.0.0/8\n  log: error\n}\n# socks \u89c4\u5219 - \u57fa\u4e8e socks \u534f\u8bae\u5c42\u4fe1\u606f\u8fdb\u884c\u7684\u89c4\u5219\u6821\u9a8c\n# --------\nsocks pass {\n  from: 0.0.0.0/0 to: 0.0.0.0/0\n  # \u5e94\u7528\u89c4\u5219\u7684\u6307\u4ee4 bind, bindreply, connect, udpassociate, udpreply\n  command: bind connect udpassociate\n}\nsocks pass {\n  from: 0.0.0.0/0 to: 0.0.0.0/0\n  command: bindreply udpreply\n  log: error\n}\nsocks block {\n  from: 0.0.0.0/0 to: 127.0.0.0/8\n  command: bind connect udpassociate\n  log: connect error\n}\n"})}),(0,o.jsx)(e.h2,{id:"\u57fa\u7840\u914d\u7f6e",children:"\u57fa\u7840\u914d\u7f6e"}),(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-pre",metastring:'title="sockd.conf"',children:"logoutput: stderr\ninternal: 0.0.0.0 port = 8888\n# External address or interface\nexternal: eth0\nclientmethod: none\nsocksmethod: none\nuser.privileged: root\nuser.unprivileged: nobody\nclient pass {\n        from: 0.0.0.0/0 to: 0.0.0.0/0\n        log: error\n}\nclient block {\n        from: 0.0.0.0/0 to: 127.0.0.0/8\n        log: error\n}\nsocks pass {\n        from: 0.0.0.0/0 to: 0.0.0.0/0\n        command: bind connect udpassociate\n}\nsocks pass {\n        from: 0.0.0.0/0 to: 0.0.0.0/0\n        command: bindreply udpreply\n        log: error\n}\nsocks block {\n        from: 0.0.0.0/0 to: 127.0.0.0/8\n        command: bind connect udpassociate\n        log: connect error\n}\n"})})]})]})}function p(n={}){const{wrapper:e}={...(0,r.M)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},38088:(n,e,t)=>{var o=t(96651),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(n,e,t){var o,s={},a=null,d=null;for(o in void 0!==t&&(a=""+t),void 0!==e.key&&(a=""+e.key),void 0!==e.ref&&(d=e.ref),e)c.call(e,o)&&!l.hasOwnProperty(o)&&(s[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps)void 0===s[o]&&(s[o]=e[o]);return{$$typeof:r,type:n,key:a,ref:d,props:s,_owner:i.current}}e.Fragment=s,e.jsx=a,e.jsxs=a},2488:(n,e,t)=>{n.exports=t(38088)},62780:(n,e,t)=>{t.d(e,{I:()=>i,M:()=>c});var o=t(96651);const r={},s=o.createContext(r);function c(n){const e=o.useContext(s);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),o.createElement(s.Provider,{value:e},n.children)}}}]);