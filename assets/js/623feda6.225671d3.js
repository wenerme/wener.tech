/*! For license information please see 623feda6.225671d3.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[95610],{91156:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>h});var i=t(11527),s=t(47214);const r={title:"tinode"},d="tinode",l={id:"service/im/tinode",title:"tinode",description:"- tinode/chat",source:"@site/../notes/service/im/tinode.md",sourceDirName:"service/im",slug:"/service/im/tinode",permalink:"/notes/service/im/tinode",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/im/tinode.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1678762178,formattedLastUpdatedAt:"Mar 14, 2023",frontMatter:{title:"tinode"},sidebar:"docs",previous:{title:"Signal",permalink:"/notes/service/im/signal"},next:{title:"wire",permalink:"/notes/service/im/wire"}},c={},h=[{value:"message format",id:"message-format",level:2}];function a(n){const e={a:"a",code:"code",del:"del",em:"em",h1:"h1",h2:"h2",li:"li",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"tinode",children:"tinode"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/tinode/chat",children:"tinode/chat"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"message-format",children:"message format"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "txt": "this is bold, code and italic, strike combined bold and italic an url: https://www.example.com/abc#fragment and another www.tinode.co this is a @mention and a #hashtag in a string second #hashtag",\n  "fmt": [\n    { "at": 8, "len": 4, "tp": "ST" },\n    { "at": 14, "len": 4, "tp": "CO" },\n    { "at": 23, "len": 6, "tp": "EM" },\n    { "at": 31, "len": 6, "tp": "DL" },\n    { "tp": "BR", "len": 1, "at": 37 },\n    { "at": 56, "len": 6, "tp": "EM" },\n    { "at": 47, "len": 15, "tp": "ST" },\n    { "tp": "BR", "len": 1, "at": 62 },\n    { "at": 120, "len": 13, "tp": "EM" },\n    { "at": 71, "len": 36, "key": 0 },\n    { "at": 120, "len": 13, "key": 1 },\n    { "tp": "BR", "len": 1, "at": 133 },\n    { "at": 144, "len": 8, "key": 2 },\n    { "at": 159, "len": 8, "key": 3 },\n    { "tp": "BR", "len": 1, "at": 179 },\n    { "at": 187, "len": 8, "key": 3 },\n    { "tp": "BR", "len": 1, "at": 195 }\n  ],\n  "ent": [\n    { "tp": "LN", "data": { "url": "https://www.example.com/abc#fragment" } },\n    { "tp": "LN", "data": { "url": "http://www.tinode.co" } },\n    { "tp": "MN", "data": { "val": "mention" } },\n    { "tp": "HT", "data": { "val": "hashtag" } }\n  ]\n}\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"fmt"}),(0,i.jsx)(e.th,{children:"for"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"BR"})}),(0,i.jsx)(e.td,{children:"line break."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"CO"})}),(0,i.jsxs)(e.td,{children:["code or monotyped text, possibly with different background: ",(0,i.jsx)(e.code,{children:"monotype"}),"."]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"DL"})}),(0,i.jsxs)(e.td,{children:["deleted or strikethrough text: ",(0,i.jsx)(e.del,{children:"strikethrough"}),"."]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"EM"})}),(0,i.jsxs)(e.td,{children:["emphasized text, usually represented as italic: ",(0,i.jsx)(e.em,{children:"italic"}),"."]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FM"})}),(0,i.jsx)(e.td,{children:"form / set of fields; may also be represented as an entity."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"HD"})}),(0,i.jsx)(e.td,{children:"hidden content."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"HL"})}),(0,i.jsx)(e.td,{children:"highlighted text, such as text in a different color or with a different background; the color cannot be specified."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"RW"})}),(0,i.jsx)(e.td,{children:"logical grouping of formats, a row; may also be represented as an entity."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"ST"})}),(0,i.jsxs)(e.td,{children:["strong or bold text: ",(0,i.jsx)(e.strong,{children:"bold"}),"."]})]})]})]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"ent"}),(0,i.jsx)(e.th,{children:"for"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"AU"})}),(0,i.jsx)(e.td,{children:"embedded audio."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"BN"})}),(0,i.jsx)(e.td,{children:"interactive button."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"EX"})}),(0,i.jsx)(e.td,{children:"generic attachment."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FM"})}),(0,i.jsx)(e.td,{children:"form / set of fields; may also be represented as a basic decoration."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"HT"})}),(0,i.jsxs)(e.td,{children:["hashtag, e.g. ",(0,i.jsx)(e.a,{href:"#",children:"#hashtag"}),"."]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"IM"})}),(0,i.jsx)(e.td,{children:"inline image."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"LN"})}),(0,i.jsxs)(e.td,{children:["link (URL) ",(0,i.jsx)(e.a,{href:"https://api.tinode.co",children:"https://api.tinode.co"}),"."]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"MN"})}),(0,i.jsxs)(e.td,{children:["mention such as ",(0,i.jsx)(e.a,{href:"#",children:"@tinode"}),"."]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"RW"})}),(0,i.jsx)(e.td,{children:"logical grouping of formats, a row; may also be represented as a basic decoration."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"VC"})}),(0,i.jsx)(e.td,{children:"video (and audio) calls."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"VD"})}),(0,i.jsx)(e.td,{children:"inline video."})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["ent.data\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"mime"}),"\n",(0,i.jsx)(e.li,{children:"val"}),"\n",(0,i.jsx)(e.li,{children:"ref"}),"\n",(0,i.jsx)(e.li,{children:"preview"}),"\n",(0,i.jsx)(e.li,{children:"duration"}),"\n",(0,i.jsx)(e.li,{children:"name"}),"\n",(0,i.jsx)(e.li,{children:"size"}),"\n",(0,i.jsx)(e.li,{children:"width"}),"\n",(0,i.jsx)(e.li,{children:"height"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["VC ent.data\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"incoming"}),"\n",(0,i.jsx)(e.li,{children:"aonly"}),"\n",(0,i.jsxs)(e.li,{children:["state\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"accepted"}),"\n",(0,i.jsx)(e.li,{children:"finished"}),"\n",(0,i.jsx)(e.li,{children:"disconnected"}),"\n",(0,i.jsx)(e.li,{children:"missed"}),"\n",(0,i.jsx)(e.li,{children:"declined"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"preref - preview ref"}),"\n",(0,i.jsx)(e.li,{children:"premime - preview mime"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["act\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"pub"}),"\n",(0,i.jsx)(e.li,{children:"url"}),"\n",(0,i.jsx)(e.li,{children:"note"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/tinode/chat/blob/master/docs/drafty.md",children:"https://github.com/tinode/chat/blob/master/docs/drafty.md"})}),"\n",(0,i.jsxs)(e.li,{children:["card\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/tinode/chat/blob/master/docs/thecard.md",children:"https://github.com/tinode/chat/blob/master/docs/thecard.md"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["c -> s\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["hi\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"id"}),"\n",(0,i.jsx)(e.li,{children:"ver"}),"\n",(0,i.jsx)(e.li,{children:"ua"}),"\n",(0,i.jsx)(e.li,{children:"dev"}),"\n",(0,i.jsx)(e.li,{children:"platf"}),"\n",(0,i.jsx)(e.li,{children:"lang"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["acc\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"id"}),"\n",(0,i.jsx)(e.li,{children:"user"}),"\n",(0,i.jsx)(e.li,{children:"token"}),"\n",(0,i.jsx)(e.li,{children:"status - ok"}),"\n",(0,i.jsx)(e.li,{children:"schema"}),"\n",(0,i.jsx)(e.li,{children:"secret"}),"\n",(0,i.jsx)(e.li,{children:"login"}),"\n",(0,i.jsx)(e.li,{children:"tags"}),"\n",(0,i.jsx)(e.li,{children:"cred"}),"\n",(0,i.jsx)(e.li,{children:"desc"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["sub\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"topic"}),"\n",(0,i.jsx)(e.li,{children:"bkg - by an automated agent"}),"\n",(0,i.jsx)(e.li,{children:"set"}),"\n",(0,i.jsx)(e.li,{children:"get"}),"\n",(0,i.jsx)(e.li,{children:"data"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"leave"}),"\n",(0,i.jsx)(e.li,{children:"pub"}),"\n",(0,i.jsx)(e.li,{children:"get"}),"\n",(0,i.jsx)(e.li,{children:"set"}),"\n",(0,i.jsx)(e.li,{children:"note - ephemeral notification"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["s -> c\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"data"}),"\n",(0,i.jsx)(e.li,{children:"ctrl"}),"\n",(0,i.jsx)(e.li,{children:"meta"}),"\n",(0,i.jsxs)(e.li,{children:["pres - important event\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.google.com/spreadsheets/d/e/2PACX-1vStUDHb7DPrD8tF5eANLu4YIjRkqta8KOhLvcj2precsjqR40eDHvJnnuuS3bw-NcWsP1QKc7GSTYuX/pubhtml?gid=1959642482&single=true",children:"https://docs.google.com/spreadsheets/d/e/2PACX-1vStUDHb7DPrD8tF5eANLu4YIjRkqta8KOhLvcj2precsjqR40eDHvJnnuuS3bw-NcWsP1QKc7GSTYuX/pubhtml?gid=1959642482&single=true"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"info - Forwarded client-generated notification"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "abc": {},\n  "extra": {\n    "attachments": ["/v0/file/s/sJOD_tZDPz0.jpg"],\n    "obo": "usr2il9suCbuko", // Alternative user ID set by the root user (obo = On Behalf Of).\n    "authlevel": "auth" // Altered authentication level set by the root user.\n  }\n}\n'})})]})}function o(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},3354:(n,e,t)=>{var i=t(50959),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(n,e,t){var i,r={},h=null,a=null;for(i in void 0!==t&&(h=""+t),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(a=e.ref),e)d.call(e,i)&&!c.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:s,type:n,key:h,ref:a,props:r,_owner:l.current}}e.Fragment=r,e.jsx=h,e.jsxs=h},11527:(n,e,t)=>{n.exports=t(3354)},47214:(n,e,t)=>{t.d(e,{Z:()=>l,a:()=>d});var i=t(50959);const s={},r=i.createContext(s);function d(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:d(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);