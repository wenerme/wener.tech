"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[91953],{49613:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var r=a(59496);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),s=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),h=s(a),u=n,d=h["".concat(c,".").concat(u)]||h[u]||m[u]||l;return a?r.createElement(d,i(i({ref:t},p),{},{components:a})):r.createElement(d,i({ref:t},p))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=h;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},47933:function(e,t,a){a.r(t),a.d(t,{assets:function(){return k},contentTitle:function(){return u},default:function(){return b},frontMatter:function(){return h},metadata:function(){return d},toc:function(){return g}});var r=a(49613),n=Object.defineProperty,l=Object.defineProperties,i=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,p=(e,t,a)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))c.call(t,a)&&p(e,a,t[a]);if(o)for(var a of o(t))s.call(t,a)&&p(e,a,t[a]);return e};const h={title:"clash"},u="clash",d={unversionedId:"service/network/proxy/clash/README",id:"service/network/proxy/clash/README",title:"clash",description:"- Dreamacro/clash",source:"@site/../notes/service/network/proxy/clash/README.md",sourceDirName:"service/network/proxy/clash",slug:"/service/network/proxy/clash/",permalink:"/notes/service/network/proxy/clash/",draft:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/proxy/clash/README.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1680154821,formattedLastUpdatedAt:"Mar 30, 2023",frontMatter:{title:"clash"},sidebar:"docs",previous:{title:"\u4ee3\u7406",permalink:"/notes/service/network/proxy/"},next:{title:"Clash \u914d\u7f6e",permalink:"/notes/service/network/proxy/clash/conf"}},k={},g=[{value:"Awesome",id:"awesome",level:2},{value:"API",id:"api",level:2},{value:"TProxy",id:"tproxy",level:2},{value:"openrc",id:"openrc",level:2},{value:"Premium",id:"premium",level:2},{value:"Start TProxy server error: operation not permitted",id:"start-tproxy-server-error-operation-not-permitted",level:2}],N={toc:g};function b(e){var t,a=e,{components:n}=a,p=((e,t)=>{var a={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&s.call(e,r)&&(a[r]=e[r]);return a})(a,["components"]);return(0,r.kt)("wrapper",(t=m(m({},N),p),l(t,i({components:n,mdxType:"MDXLayout"}))),(0,r.kt)("h1",m({},{id:"clash"}),"clash"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash"}),"Dreamacro/clash"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"GPLv3, Golang"),(0,r.kt)("li",{parentName:"ul"},"rule-based tunnel"))),(0,r.kt)("li",{parentName:"ul"},"\u53c2\u8003",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/juewuy/ShellClash"}),"juewuy/ShellClash")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://clash.gitbook.io/doc/"}),"https://clash.gitbook.io/doc/")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/vernesong/OpenClash"}),"vernesong/OpenClash")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Loyalsoldier"}),"https://github.com/Loyalsoldier"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Loyalsoldier/geoip"}),"Loyalsoldier/geoip")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/eycorsican/leaf"}),"eycorsican/leaf")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/eycorsican/go-tun2socks"}),"eycorsican/go-tun2socks")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/EAimTY/tuic"}),"EAimTY/tuic")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/HyNetwork/hysteria"}),"HyNetwork/hysteria")))),(0,r.kt)("li",{parentName:"ul"},"Premium - \u95ed\u6e90",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash/releases/tag/premium"}),"\u53d1\u5e03\u5386\u53f2")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash/wiki/Premium-Core-Features"}),"Premium-Core-Features")),(0,r.kt)("li",{parentName:"ul"},"tun,script,tracing"),(0,r.kt)("li",{parentName:"ul"},"rule-providers",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"type: http,file - \u6307\u5411 yaml"),(0,r.kt)("li",{parentName:"ul"},"yaml \u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"li"},"{payload:[]}")))),(0,r.kt)("li",{parentName:"ul"},"ebpf - redirect-to-tun"),(0,r.kt)("li",{parentName:"ul"},"auto-redir - \u914d\u5408 tun \u66ff\u4ee3 redir-port")))),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),"# golang build from source\ngo install github.com/Dreamacro/clash@latest\n# macOS\nbrew install clash\n\n# Docker\n# https://hub.docker.com/r/dreamacro/clash\n# https://github.com/Dreamacro/clash/blob/master/Dockerfile\ndocker run --rm -it --name clash dreamacro/clash\n")),(0,r.kt)("h2",m({},{id:"awesome"}),"Awesome"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash"}),"Dreamacro/clash")),(0,r.kt)("li",{parentName:"ul"},"Client",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/vernesong/OpenClash"}),"vernesong/OpenClash"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"OpenWRT Client"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Fndroid/clash_for_windows_pkg"}),"Fndroid/clash_for_windows_pkg")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/ClashDotNetframework/ClashDotNetframework"}),"ClashDotNetframework"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"DotNet, Windows"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/yichengchen/clashX"}),"yichengchen/clashX"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"macOS"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/WhoJave/clashX/tree/master"}),"WhoJave/clashX")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Kr328/ClashForAndroid"}),"Kr328/ClashForAndroid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/WhoJave/ClashA"}),"WhoJave/ClashA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/ccg2018/ClashA"}),"ccg2018/ClashA")),(0,r.kt)("li",{parentName:"ul"},"iOS",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://apps.apple.com/app/choc/id1582542227"}),"https://apps.apple.com/app/choc/id1582542227"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6536\u8d39\uff0c\u4e0d\u4e00\u5b9a\u53ef\u7528"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/SpongeNobody/Clashy"}),"SpongeNobody/Clashy")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://sites.google.com/view/honven/%E9%A6%96%E9%A1%B5/%E6%9C%BA%E5%9C%BA%E9%93%BE%E6%8E%A5%E8%BD%AC%E6%8D%A2"}),"\u94fe\u63a5\u8f6c\u6362")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash-tracing"}),"Dreamacro/clash-tracing")),(0,r.kt)("li",{parentName:"ul"},"Dashboard",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/haishanh/yacd"}),"haishanh/yacd"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"MIT, Typescript"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"http://yacd.haishan.me/"}),"http://yacd.haishan.me/")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash-dashboard"}),"Dreamacro/clash-dashboard"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"MIT, Typescript"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://clash.razord.top/"}),"https://clash.razord.top/")),(0,r.kt)("li",{parentName:"ul"},"Docker \u5185\u7f6e")))))),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),"# Dreamacro/clash-dashboard\ncurl -LO https://github.com/Dreamacro/clash-dashboard/archive/gh-pages.zip\nunzip gh-pages.zip\nmv clash-dashboard-gh-pages/ ~/.config/clash/\n# haishanh/yacd\ncurl -LO https://github.com/haishanh/yacd/archive/gh-pages.zip\nunzip gh-pages.zip\nmv yacd-gh-pages/ ~/.config/clash/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-yaml"}),"external-controller: 0.0.0.0:9090\nsecret: external-controller-secret\n# \u9ed8\u8ba4\u76ee\u5f55 \uff5e/.config/clash\n# http://{{external-controller}}/ui\n# yacd-gh-pages\nexternal-ui: clash-dashboard-gh-pages\n")),(0,r.kt)("h2",m({},{id:"api"}),"API"),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),'# reload \u91cd\u8f7d\u914d\u7f6e\ncurl -X PUT 127.0.0.1:9090/configs --json "{}"\n# \u914d\u7f6e Secret \u540e\ncurl -X PUT -H "Authorization: Bearer secret" 127.0.0.1:9090/configs --json "{}"\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash/wiki/external-controller-API-reference"}),"https://github.com/Dreamacro/clash/wiki/external-controller-API-reference"))),(0,r.kt)("h2",m({},{id:"tproxy"}),"TProxy"),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),'sysctl -w net.ipv4.ip_forward=1\n\n# \u65b0\u7684\u8def\u7531\u8868\nip rule add fwmark 666 lookup 666\nip route add local 0.0.0.0/0 dev lo table 666\n\n# clash\n# ==================\n# clash \u94fe\u8d1f\u8d23\u5904\u7406\u8f6c\u53d1\u6d41\u91cf\niptables -t mangle -N clash\n\n# DIRECT Private\niptables -t mangle -A clash -d 0.0.0.0/8 -j RETURN\niptables -t mangle -A clash -d 127.0.0.0/8 -j RETURN\niptables -t mangle -A clash -d 10.0.0.0/8 -j RETURN\niptables -t mangle -A clash -d 172.16.0.0/12 -j RETURN\niptables -t mangle -A clash -d 192.168.0.0/16 -j RETURN\niptables -t mangle -A clash -d 169.254.0.0/16 -j RETURN\niptables -t mangle -A clash -d 224.0.0.0/4 -j RETURN\niptables -t mangle -A clash -d 240.0.0.0/4 -j RETURN\n\n# Proxy\niptables -t mangle -A clash -p tcp -j TPROXY --on-port 7893 --tproxy-mark 666\niptables -t mangle -A clash -p udp -j TPROXY --on-port 7893 --tproxy-mark 666\n\n# \u8f6c\u53d1\u6240\u6709 DNS \u67e5\u8be2\u5230 1053 \u7aef\u53e3\n# \u6b64\u64cd\u4f5c\u4f1a\u5bfc\u81f4\u6240\u6709 DNS \u8bf7\u6c42\u5168\u90e8\u8fd4\u56de\u865a\u5047 IP(fake ip 198.18.0.1/16)\niptables -t nat -I PREROUTING -p udp --dport 53 -j REDIRECT --to 1053\n\n# \u5982\u679c\u60f3\u8981 dig \u7b49\u547d\u4ee4\u53ef\u7528, \u53ef\u4ee5\u53ea\u5904\u7406 DNS SERVER \u8bbe\u7f6e\u4e3a\u5f53\u524d\u5185\u7f51\u7684 DNS \u8bf7\u6c42\n#iptables -t nat -I PREROUTING -p udp --dport 53 -d 192.168.0.0/16 -j REDIRECT --to 1053\n\n# \u6700\u540e\u8ba9\u6240\u6709\u6d41\u91cf\u901a\u8fc7 clash \u94fe\u8fdb\u884c\u5904\u7406\niptables -t mangle -A PREROUTING -j clash\n\n# clash_local\n# ==================\n# clash_local \u94fe\u8d1f\u8d23\u5904\u7406\u7f51\u5173\u672c\u8eab\u53d1\u51fa\u7684\u6d41\u91cf\niptables -t mangle -N clash_local\n# nerdctl \u5bb9\u5668\u6d41\u91cf\u91cd\u65b0\u8def\u7531\n#iptables -t mangle -A clash_local -i nerdctl2 -p udp -j MARK --set-mark 666\n#iptables -t mangle -A clash_local -i nerdctl2 -p tcp -j MARK --set-mark 666\n\n# \u8df3\u8fc7\u5185\u7f51\u6d41\u91cf\niptables -t mangle -A clash_local -d 0.0.0.0/8 -j RETURN\niptables -t mangle -A clash_local -d 127.0.0.0/8 -j RETURN\niptables -t mangle -A clash_local -d 10.0.0.0/8 -j RETURN\niptables -t mangle -A clash_local -d 172.16.0.0/12 -j RETURN\niptables -t mangle -A clash_local -d 192.168.0.0/16 -j RETURN\niptables -t mangle -A clash_local -d 169.254.0.0/16 -j RETURN\n\niptables -t mangle -A clash_local -d 224.0.0.0/4 -j RETURN\niptables -t mangle -A clash_local -d 240.0.0.0/4 -j RETURN\n\n# \u4e3a\u672c\u673a\u53d1\u51fa\u7684\u6d41\u91cf\u6253 mark\niptables -t mangle -A clash_local -p tcp -j MARK --set-mark 666\niptables -t mangle -A clash_local -p udp -j MARK --set-mark 666\n\n# \u8df3\u8fc7 clash \u7a0b\u5e8f\u672c\u8eab\u53d1\u51fa\u7684\u6d41\u91cf, \u9632\u6b62\u6b7b\u5faa\u73af(clash \u7a0b\u5e8f\u9700\u8981\u4f7f\u7528 "clash" \u7528\u6237\u542f\u52a8)\niptables -t mangle -A OUTPUT -p tcp -m owner --uid-owner clash -j RETURN\niptables -t mangle -A OUTPUT -p udp -m owner --uid-owner clash -j RETURN\n\n# \u8ba9\u672c\u673a\u53d1\u51fa\u7684\u6d41\u91cf\u8df3\u8f6c\u5230 clash_local\n# clash_local \u94fe\u4f1a\u4e3a\u672c\u673a\u6d41\u91cf\u6253 mark, \u6253\u8fc7 mark \u7684\u6d41\u91cf\u4f1a\u91cd\u65b0\u56de\u5230 PREROUTING \u4e0a\niptables -t mangle -A OUTPUT -j clash_local\n\n# \u4fee\u590d ICMP(ping)\n# \u8fd9\u5e76\u4e0d\u80fd\u4fdd\u8bc1 ping \u7ed3\u679c\u6709\u6548(clash \u7b49\u4e0d\u652f\u6301\u8f6c\u53d1 ICMP), \u53ea\u662f\u8ba9\u5b83\u6709\u8fd4\u56de\u7ed3\u679c\u800c\u5df2\n# --to-destination \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u53ef\u8fbe\u7684\u5730\u5740\u5373\u53ef\nsysctl -w net.ipv4.conf.all.route_localnet=1\niptables -t nat -A PREROUTING -p icmp -d 198.18.0.0/16 -j DNAT --to-destination 127.0.0.1\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u53c2\u8003\u914d\u7f6e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://gist.github.com/phlinhng/38a141862de775b10c613f7f2c6ade99"}),"https://gist.github.com/phlinhng/38a141862de775b10c613f7f2c6ade99")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/springzfx/cgproxy/blob/aaa628a76b2911018fc93b2e3276c177e85e0861/readme.md#known-issues"}),"https://github.com/springzfx/cgproxy/blob/aaa628a76b2911018fc93b2e3276c177e85e0861/readme.md#known-issues"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"docker \u4e0d\u53ef\u4ee5 tproxy")))))),(0,r.kt)("h2",m({},{id:"openrc"}),"openrc"),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),'#!/sbin/openrc-run\nsupervisor=supervise-daemon\n\nname="Clash"\ndescription="A rule-based tunnel in Go."\ndescription_reload="Reload configuration without exiting"\n\ncommand=/usr/local/bin/clash\ncommand_args="-d /var/lib/clash/ -f /etc/clash/config.yaml"\n\nCLASH_LOGFILE="${CLASH_LOGFILE:-/var/log/${RC_SVCNAME}.log}"\noutput_log=${CLASH_LOGFILE}\nerror_log=${CLASH_LOGFILE}\n\ndepend() {\n  use logger dns\n  need net\n}\n\ncheckconfig() {\n  if [ ! -f "/etc/clash/config.yaml" ]; then\n    eerror "No clash config.yaml"\n    return 1\n  fi\n  return 0\n}\n\nreload() {\n  ebegin "Reloading configuration"\n  curl -X PUT -H "Authorization: Bearer $AUTH_TOKEN" -sf 127.0.0.1:9090/configs --json "{}"\n  eend $?\n}\n')),(0,r.kt)("h2",m({},{id:"premium"}),"Premium"),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),"curl -OL https://release.dreamacro.workers.dev/latest/clash-linux-amd64-latest.gz\ngzip -d clash-linux-amd64-latest.gz\nmv clash-linux-amd64-latest clash\nchmod +x clash\n")),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-yaml"}),"# \u51fa\u53e3\ninterface-name: eth0\n\ntun:\n  enable: true\n  stack: system # gvisor\n  # dns-hijack:\n  #   - 8.8.8.8:53\n  #   - tcp://8.8.8.8:53\n  #   - any:53\n  #   - tcp://any:53\n  auto-route: true # \u8bbe\u7f6e\u5168\u5c40\u4ee3\u7406\n  # auto-detect-interface: true # \u81ea\u52a8\u68c0\u6d4b interface-name\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash/wiki/Clash-Premium-Features"}),"https://github.com/Dreamacro/clash/wiki/Clash-Premium-Features")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://github.com/Dreamacro/clash/releases/tag/premium"}),"https://github.com/Dreamacro/clash/releases/tag/premium")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",m({parentName:"li"},{href:"https://www.wintun.net/"}),"https://www.wintun.net/"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"wintun.dll")))),(0,r.kt)("h1",m({},{id:"faq"}),"FAQ"),(0,r.kt)("h2",m({},{id:"start-tproxy-server-error-operation-not-permitted"}),"Start TProxy server error: operation not permitted"),(0,r.kt)("pre",null,(0,r.kt)("code",m({parentName:"pre"},{className:"language-bash"}),"sudo setcap cap_net_bind_service,cap_net_admin+ep $(which clash)\n")))}b.isMDXComponent=!0}}]);