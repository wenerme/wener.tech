/*! For license information please see c1c4195b.89a6f194.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[31958],{9814:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var l=i(11527),r=i(47214);const s={title:"IAX",tags:["RFC","Protocol"]},t="IAX",a={id:"voip/asterisk/iax",title:"IAX",description:"- rfc5456",source:"@site/../notes/voip/asterisk/iax.md",sourceDirName:"voip/asterisk",slug:"/voip/asterisk/iax",permalink:"/notes/voip/asterisk/iax",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/voip/asterisk/iax.md",tags:[{label:"RFC",permalink:"/notes/tags/rfc"},{label:"Protocol",permalink:"/notes/tags/protocol"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1639029574,formattedLastUpdatedAt:"Dec 9, 2021",frontMatter:{title:"IAX",tags:["RFC","Protocol"]},sidebar:"docs",previous:{title:"DAHDI",permalink:"/notes/voip/asterisk/dahdi"},next:{title:"res_http",permalink:"/notes/voip/asterisk/res_http"}},c={},d=[{value:"Protocol",id:"protocol",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h1,{id:"iax",children:"IAX"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://datatracker.ietf.org/doc/html/rfc5456",children:"rfc5456"}),"\nIAX: Inter-Asterisk eXchange Version 2"]}),"\n",(0,l.jsx)(e.li,{children:"peer-to-peer, VoIP-oriented protocol"}),"\n",(0,l.jsx)(e.li,{children:"control & media"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"iax:[username@]host[:port][/number[?context]]"})}),"\n",(0,l.jsx)(e.li,{children:"60s \u8d85\u65f6"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Registration - \u6ce8\u518c\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"REGREQ, REGAUTH, REGACK, REGREJ, REGREL"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Call Link Management - Call Leg Management\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"NEW, AUTHREP, AUTHREQ, REJECT, HANGUP, ACCEPT, PROCEEDING, RINGING, ANSWER"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Call Control\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"PROCEEDING, RINGING, ANSWER"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Mid-Call Behavior - Mid-Call Link Operations\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"FLASH, HOLD, UNHOLD, QUELCH, UNQUELCH, TRANSFER"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Call Path Optimization\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"TXREJ, TXREL, TXREQ, TXCNT, TXACC, TXREADY, TXMEDIA"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Call Tear Down\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"HANGUP, REJECT, TRANSFER, TXREADY"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Network Monitoring\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"POKE, PING, PONG, LAGRQ, LAGRP"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Digit Dialing\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"DPREQ, DPREP, DIAL"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Miscellaneous\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"ACK, INVAL, VNAK, MWI, UNSUPPORT"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Media Messages\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"DMTF"}),"\n",(0,l.jsx)(e.li,{children:"voice, video, text, image, html"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"abbr."}),(0,l.jsx)(e.th,{children:"stand for"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"IE"}),(0,l.jsx)(e.td,{children:"Information Element"})]})})]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6d88\u606f\u4f20\u8f93\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Mini Frame\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"media data"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Full Frame - reliably\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"signaling, media data"}),"\n",(0,l.jsx)(e.li,{children:"\u901a\u8fc7 ACK \u786e\u8ba4"}),"\n",(0,l.jsx)(e.li,{children:"\u7ef4\u62a4 sequence"}),"\n",(0,l.jsx)(e.li,{children:"timestamp \u8981\u6c42\u5355\u8c03\u9012\u589e"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Trunking\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["trunk frame\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5c01\u88c5 trunked call audio"}),"\n",(0,l.jsx)(e.li,{children:"2 octets - source number"}),"\n",(0,l.jsx)(e.li,{children:"2 octets - length of data"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"Timers"}),"\n",(0,l.jsxs)(e.li,{children:["Encryption\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"AES"}),"\n",(0,l.jsx)(e.li,{children:"NEW \u65f6\u5efa\u7acb"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"protocol",children:"Protocol"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://kroki.io/bytefield/svg/eNqlkktvwjAMgO_8iqi7gLRKpTzHbYMh7bJJgxvqwS0OREsfS1IxhPLf57KuDwnQpB2-i_PZie10t8jBGKXZLNy5O4WYsNOMCymZcwce5-A5ttfptrQjSpkeao_zy14mko-mFXqXrOgI7TuBw4Vaucok1h4OwxGfFN5ZZFEq8zhxJYQoNds4nnPv9AmfGBBDYkSMiQkxJR6IR-KJmBML4plYEv_LD36ez8L0C7WboXIVDWzg12H3ILZmz3yvCCk4uGUDe4QtKv0bJZNRPbY5zXRGc-rbelEBa1mrNFcRsjnQfF7zOETVSBvZaiNBK-v9Su2WtEBtRAJGpMnt-sUu26lrEVMyxFktD3zb-EbBeYOV_7bCzyR1WOlObavay83TpYIY2fqY4TVj_pduV3kYSdC6KjKx1Rt3kNE4wEBxGIvyw5XL02xsG90Yk8a9zjfJygQ0",alt:""})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"F - full frame"}),"\n",(0,l.jsx)(e.li,{children:"R - retransmitted"}),"\n",(0,l.jsx)(e.li,{children:"time-stamp - since first transmission of the call"}),"\n",(0,l.jsx)(e.li,{children:"OSeqno - outbound stream sequence number"}),"\n",(0,l.jsx)(e.li,{children:"ISeqno - inbound stream sequence number"}),"\n",(0,l.jsxs)(e.li,{children:["C - \u5f71\u54cd Subclass\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"0 - Subclass 7-bit unsigned integer"}),"\n",(0,l.jsx)(e.li,{children:"1 - pow(Subclass,2)"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["frame type\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"DTMF"}),"\n",(0,l.jsx)(e.li,{children:"Voice"}),"\n",(0,l.jsx)(e.li,{children:"Video"}),"\n",(0,l.jsx)(e.li,{children:"Control"}),"\n",(0,l.jsx)(e.li,{children:"Null"}),"\n",(0,l.jsxs)(e.li,{children:["IAX\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5305\u542b IE"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"Text"}),"\n",(0,l.jsx)(e.li,{children:"Image"}),"\n",(0,l.jsx)(e.li,{children:"HTML"}),"\n",(0,l.jsx)(e.li,{children:"Comfort Noise"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-pre",metastring:'title="mini frame"',children:"                        1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|     Source call number      |            time-stamp         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                             Data                              :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-pre",metastring:'title="meta frame"',children:"    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|         Meta Indicator      |V|      Source Call Number     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |?|          time-stamp         |                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |\n   |                                         Data                  |\n   :                                                               :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"frame \u524d 16 byte \u90fd\u4e3a 0"}),"\n",(0,l.jsx)(e.li,{children:"Meta Indicator = 0"}),"\n",(0,l.jsx)(e.li,{children:"V=1 - meta video frame"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-pre",metastring:'title="meta trunk frame"',children:"    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|         Meta Indicator      |V|Meta Command | Cmd Data (0)  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                            time-stamp                         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |R|      Source Call Number     |     Data Length (in octets)   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                             Data                              :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                                   .\n                                   .\n                                   .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |R|      Source Call Number     |     Data Length (in octets)   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                             Data                              :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Meta Command=1 - meta trunk frame"}),"\n",(0,l.jsxs)(e.li,{children:["Command Data\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"0 - \u4e0d\u5305\u542b timestamp"}),"\n",(0,l.jsx)(e.li,{children:"1 - \u989d\u5916\u589e\u52a0 timestamp"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-pre",metastring:'title="full frame enc"',children:"                        1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|     Source Call Number      |R|   Destination Call Number   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                         12 Random bytes                       |\n   |                                                               |\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |               28  Random bits                         |padding|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   : between 0 and 15 (as indicated by the padding field above)    :\n   :                         Random bytes                          :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                    Remainder of Actual Frame                  :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-pre",metastring:'title="full frame dec"',children:"                        1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|     Source Call Number      |R|   Destination Call Number   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                         Encrypted data                        |\n   |                Multiple of 16 bytes                           |\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},3354:(n,e,i)=>{var l=i(50959),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(n,e,i){var l,s={},d=null,o=null;for(l in void 0!==i&&(d=""+i),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(o=e.ref),e)t.call(e,l)&&!c.hasOwnProperty(l)&&(s[l]=e[l]);if(n&&n.defaultProps)for(l in e=n.defaultProps)void 0===s[l]&&(s[l]=e[l]);return{$$typeof:r,type:n,key:d,ref:o,props:s,_owner:a.current}}e.Fragment=s,e.jsx=d,e.jsxs=d},11527:(n,e,i)=>{n.exports=i(3354)},47214:(n,e,i)=>{i.d(e,{Z:()=>a,a:()=>t});var l=i(50959);const r={},s=l.createContext(r);function t(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);