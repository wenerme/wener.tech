/*! For license information please see 2ec24e91.38acef2f.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[26896],{39954:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var i=s(11527),t=s(47214);const r={title:"nacos"},c="nacos",a={id:"service/api/nacos",title:"nacos",description:"- \u975e Java \u7684 SDK \u8d28\u91cf\u5f88\u4f4e",source:"@site/../notes/service/api/nacos.md",sourceDirName:"service/api",slug:"/service/api/nacos",permalink:"/notes/service/api/nacos",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/api/nacos.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1699003495,formattedLastUpdatedAt:"Nov 3, 2023",frontMatter:{title:"nacos"},sidebar:"docs",previous:{title:"hoppscotch",permalink:"/notes/service/api/hoppscotch"},next:{title:"OpenAPI",permalink:"/notes/service/api/openapi/"}},o={},l=[{value:"Deploy",id:"deploy",level:2},{value:"No DataSource set",id:"no-datasource-set",level:2},{value:"\u5fd8\u8bb0\u5bc6\u7801",id:"\u5fd8\u8bb0\u5bc6\u7801",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"nacos",children:"nacos"}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u975e Java \u7684 SDK \u8d28\u91cf\u5f88\u4f4e\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4e0d\u4e00\u5b9a\u652f\u6301 auth\uff0c\u56e0\u6b64\u53ef\u80fd\u76f4\u63a5\u7528\u4e0d\u4e86"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Java SDK\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["grpc \u4e0d\u652f\u6301 https - ",(0,i.jsx)(e.code,{children:"UNAVAILABLE: Network closed for unknown reason"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"GrpcClient \u5199\u6b7b usePlaintext"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/alibaba/nacos/issues/7842",children:"#7842"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"v2 \u65e0 http client"}),"\n",(0,i.jsxs)(e.li,{children:["nacos.server.grpc.port.offset=1000\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"grpc \u7aef\u53e3\u504f\u79fb\u91cf"}),"\n",(0,i.jsx)(e.li,{children:"8848 + 1000 = 9848"}),"\n",(0,i.jsx)(e.li,{children:"\u53ef\u80fd\u9700\u8981\u4fee\u6539"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/alibaba/nacos",children:"alibaba/nacos"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"dynamic Naming And COnfiguration Service"}),"\n",(0,i.jsx)(e.li,{children:"\u670d\u52a1\u53d1\u73b0\u3001\u914d\u7f6e\u7ba1\u7406\u3001\u670d\u52a1\u7ba1\u7406"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/master/distribution/conf/application.properties",children:"https://github.com/alibaba/nacos/blob/master/distribution/conf/application.properties"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"server.servlet.contextPath=/nacos"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/master/distribution/bin/startup.sh",children:"https://github.com/alibaba/nacos/blob/master/distribution/bin/startup.sh"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["embedded\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"-DembeddedStorage=true"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"JAVA_OPT"}),"\n",(0,i.jsxs)(e.li,{children:["MODE=standalone\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"-Xms512m -Xmx512m -Xmn256m -Dnacos.standalone=true"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"http://127.0.0.1:8848/nacos/",children:"http://127.0.0.1:8848/nacos/"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"nacos:nacos"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/develop/api/src/main/proto/nacos_grpc_service.proto",children:"https://github.com/alibaba/nacos/blob/develop/api/src/main/proto/nacos_grpc_service.proto"})}),"\n",(0,i.jsxs)(e.li,{children:["MySQL\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/develop/distribution/conf/mysql-schema.sql",children:"https://github.com/alibaba/nacos/blob/develop/distribution/conf/mysql-schema.sql"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-http-request",children:"### \u6ce8\u518c\nPOST http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&ip=20.18.7.10&port=8080\n\n### \u670d\u52a1\u53d1\u73b0\nPOST http://127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName\n\n### \u53d1\u5e03\u914d\u7f6e\nPOST http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&group=test&content=helloWorld\n\n### \u83b7\u53d6\u914d\u7f6e\nPOST http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&group=test\n"})}),"\n",(0,i.jsx)(e.h2,{id:"deploy",children:"Deploy"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://nacos.io/zh-cn/docs/quick-start-docker.html",children:"https://nacos.io/zh-cn/docs/quick-start-docker.html"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/nacos-group/nacos-docker",children:"nacos-group/nacos-docker"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u53ef\u4ee5\u914d\u7f6e JAVA_OPT"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/nacos-group/nacos-k8s",children:"nacos-group/nacos-k8s"})}),"\n"]}),"\n",(0,i.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(e.h2,{id:"no-datasource-set",children:"No DataSource set"}),"\n",(0,i.jsx)(e.p,{children:"\u53ef\u80fd\u662f\u6ca1\u5efa\u8868"}),"\n",(0,i.jsx)(e.h2,{id:"\u5fd8\u8bb0\u5bc6\u7801",children:"\u5fd8\u8bb0\u5bc6\u7801"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"UPDATE users\nSET `password` = '$2a$10$eSH9UR8RJ2s8VV9mHPPkB.PhOeVaIGBLNAgQEVx3f.y9zK8svGYJW'\nWHERE `username` = 'nacos'\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"jerryjin666"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},3354:(n,e,s)=>{var i=s(50959),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(n,e,s){var i,r={},l=null,d=null;for(i in void 0!==s&&(l=""+s),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(d=e.ref),e)c.call(e,i)&&!o.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:t,type:n,key:l,ref:d,props:r,_owner:a.current}}e.Fragment=r,e.jsx=l,e.jsxs=l},11527:(n,e,s)=>{n.exports=s(3354)},47214:(n,e,s)=>{s.d(e,{Z:()=>a,a:()=>c});var i=s(50959);const t={},r=i.createContext(t);function c(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);