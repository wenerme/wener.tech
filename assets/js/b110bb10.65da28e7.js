/*! For license information please see b110bb10.65da28e7.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[34381],{1128:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>h,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=s(11527),r=s(47214);const i={title:"tus"},o="tus",l={id:"service/storage/tus",title:"tus",description:"- tus/tusd",source:"@site/../notes/service/storage/tus.md",sourceDirName:"service/storage",slug:"/service/storage/tus",permalink:"/notes/service/storage/tus",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/storage/tus.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1696577752,formattedLastUpdatedAt:"Oct 6, 2023",frontMatter:{title:"tus"},sidebar:"docs",previous:{title:"tar",permalink:"/notes/service/storage/tar"},next:{title:"uppy",permalink:"/notes/service/storage/uppy"}},h={},c=[{value:"hooks",id:"hooks",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"tus",children:"tus"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/tus/tusd",children:"tus/tusd"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"MIT, Golang"}),"\n",(0,n.jsx)(t.li,{children:"\u652f\u6301\u6682\u505c\u6062\u590d"}),"\n",(0,n.jsxs)(t.li,{children:["SDK for JS, Java, iOS, Python, NodeJS, .NET\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://tus.io/implementations.html",children:"https://tus.io/implementations.html"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["tus v1 ",(0,n.jsx)(t.a,{href:"https://tus.io/protocols/resumable-upload.html",children:"\u534f\u8bae"})]}),"\n",(0,n.jsxs)(t.li,{children:["tus v2 \u88ab httpwg \u91c7\u7528\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/httpwg/http-extensions/blob/main/draft-ietf-httpbis-resumable-upload.md",children:"https://github.com/httpwg/http-extensions/blob/main/draft-ietf-httpbis-resumable-upload.md"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\u53c2\u8003\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/tus/tus-node-server",children:"tus/tus-node-server"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"NodeJS server"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/tus/tus-js-client",children:"tus/tus-js-client"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"tusd -upload-dir=./data\n\nexport AWS_ACCESS_KEY_ID=xxxxx\nexport AWS_SECRET_ACCESS_KEY=xxxxx\nexport AWS_REGION=eu-west-1\ntusd -s3-bucket=my-test-bucket.com -s3-endpoint=minio -s3-object-prefix=upload -show-greeting=false\n"})}),"\n",(0,n.jsx)(t.h2,{id:"hooks",children:"hooks"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Type\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"script"}),"\n",(0,n.jsx)(t.li,{children:"http"}),"\n",(0,n.jsx)(t.li,{children:"gRPC"}),"\n",(0,n.jsx)(t.li,{children:"golang plugin"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["Hook\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"pre-create"}),"\n",(0,n.jsx)(t.li,{children:"post-create"}),"\n",(0,n.jsxs)(t.li,{children:["post-receive\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"\u9ed8\u8ba4\u672a\u5f00\u542f"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.li,{children:"pre-finish"}),"\n",(0,n.jsx)(t.li,{children:"post-finish"}),"\n",(0,n.jsx)(t.li,{children:"post-terminate"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["Model\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/tus/tusd/blob/main/docs/hooks.md",children:"https://github.com/tus/tusd/blob/main/docs/hooks.md"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://pkg.go.dev/github.com/tus/tusd/v2/pkg/hooks#HookRequest",children:"https://pkg.go.dev/github.com/tus/tusd/v2/pkg/hooks#HookRequest"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://pkg.go.dev/github.com/tus/tusd/v2/pkg/hooks#HookResponse",children:"https://pkg.go.dev/github.com/tus/tusd/v2/pkg/hooks#HookResponse"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"tusd --hooks-http http://localhost:8081/write --hooks-http-retry 5 --hooks-http-backoff 2\n"})})]})}function u(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},3354:(e,t,s)=>{var n=s(50959),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,i={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!h.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},11527:(e,t,s)=>{e.exports=s(3354)},47214:(e,t,s)=>{s.d(t,{Z:()=>l,a:()=>o});var n=s(50959);const r={},i=n.createContext(r);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);