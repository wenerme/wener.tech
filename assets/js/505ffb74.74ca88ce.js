/*! For license information please see 505ffb74.74ca88ce.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[81327],{50050:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=t(11527),s=t(47214);const o={title:"PostgreSQL Introspection"},l="PostgreSQL Introspection",i={id:"db/relational/postgresql/postgresql-introspection",title:"PostgreSQL Introspection",description:"- \u53c2\u8003",source:"@site/../notes/db/relational/postgresql/postgresql-introspection.md",sourceDirName:"db/relational/postgresql",slug:"/db/relational/postgresql/introspection",permalink:"/notes/db/relational/postgresql/introspection",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/db/relational/postgresql/postgresql-introspection.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1656950348,formattedLastUpdatedAt:"Jul 4, 2022",frontMatter:{title:"PostgreSQL Introspection"},sidebar:"docs",previous:{title:"PostgreSQL Inside",permalink:"/notes/db/relational/postgresql/inside"},next:{title:"PostgreSQL JSON",permalink:"/notes/db/relational/postgresql/json"}},a={},c=[{value:"pg_catalog",id:"pg_catalog",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"postgresql-introspection",children:"PostgreSQL Introspection"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/information-schema.html",children:"information_schema"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/functions-info.html",children:"System Information Functions and Operators"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/catalogs.html",children:"System Catalogs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.interdb.jp/pg/index.html",children:"https://www.interdb.jp/pg/index.html"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"select *\nfrom information_schema.columns AS cols\n         JOIN pg_type AS pgt ON cols.udt_name = pgt.typname\nwhere table_schema not in ('information_schema', 'pg_catalog', 'metric_helpers')\n  and table_name not like 'pg_%'\norder by table_catalog, table_schema, table_name, ordinal_position;\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",metastring:'title="generate golang struct field"',children:"select concat(column_name, '  ',\n              case pgt.typname\n                when 'name' then 'string'\n                when 'varchar' then 'string'\n                when 'char' then 'string'\n                when 'text' then 'string'\n                when 'oid' then 'int'\n                when 'int2' then 'int'\n                when 'int4' then 'int'\n                when 'int8' then 'int'\n                when 'bool' then 'bool'\n                when 'regproc' then 'string'\n                when '_aclitem' then 'string'\n                when 'pg_node_tree' then 'string'\n                else pgt.typname end, ' `gorm:\"column:',\n              column_name, '\"`')\nfrom information_schema.columns AS cols\n         JOIN pg_type AS pgt ON cols.udt_name = pgt.typname\nwhere table_schema = 'information_schema'\n  and table_name = 'columns'\norder by table_catalog, table_schema, table_name, ordinal_position;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"pg_catalog",children:"pg_catalog"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8bb0\u5f55\u6240\u6709 postgres \u7684\u5185\u90e8\u5bf9\u8c61"}),"\n",(0,r.jsxs)(n.li,{children:["pg_policy\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u89c6\u56fe pg_policies"}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},3354:(e,n,t)=>{var r=t(50959),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,o={},c=null,p=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(p=n.ref),n)l.call(n,r)&&!a.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===o[r]&&(o[r]=n[r]);return{$$typeof:s,type:e,key:c,ref:p,props:o,_owner:i.current}}n.Fragment=o,n.jsx=c,n.jsxs=c},11527:(e,n,t)=>{e.exports=t(3354)},47214:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>l});var r=t(50959);const s={},o=r.createContext(s);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);