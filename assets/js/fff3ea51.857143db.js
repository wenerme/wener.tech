/*! For license information please see fff3ea51.857143db.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[53516],{87280:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>m});var t=r(2488),s=r(62780);const l={title:"rename"},o="rename",i={id:"os/linux/shell/rename",title:"rename",description:"- util-linux - rename - c \u7248\u672c",source:"@site/../notes/os/linux/shell/rename.md",sourceDirName:"os/linux/shell",slug:"/os/linux/shell/rename",permalink:"/notes/os/linux/shell/rename",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/shell/rename.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1656388638,formattedLastUpdatedAt:"Jun 28, 2022",frontMatter:{title:"rename"},sidebar:"docs",previous:{title:"nano",permalink:"/notes/os/linux/shell/nano"},next:{title:"sed",permalink:"/notes/os/linux/shell/sed"}},a={},m=[{value:"\u6279\u91cf\u91cd\u547d\u540d",id:"\u6279\u91cf\u91cd\u547d\u540d",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,s.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"rename",children:"rename"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["util-linux - rename - c \u7248\u672c\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man1/rename.1.html",children:"rename.1"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"perl \u7248\u672c - \u652f\u6301\u6b63\u5219"}),"\n",(0,t.jsx)(n.li,{children:"zsh - zmv"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# C \u7248\u672c - util-linux\n# ==========\n# from to files\nrename .htm .html *.htm\nrename .txt '' *.txt\n\n# Perl \u7248\u672c\n# macOS\nbrew install rename\n\nrename 'y/a-z/A-Z/' *\nrename 's/\\.txt$//' *.txt\n# s01e01 -> S01E01\nrename -v 's/s(\\d+)e(\\d+)/S\\1E\\2/' *.ass\n# \u30101997\u301105\u8721\u7b14\u5c0f\u65b0 -> \u8721\u7b14\u5c0f\u65b0 (1997)\nrename -nv 's/\u3010(\\d+)\u3011.*?\u8721\u7b14\u5c0f\u65b0/\u8721\u7b14\u5c0f\u65b0 (\\1)'\n# \u8721\u7b14\u5c0f\u65b0.abc.mkv -> /Volumes/Movie/\u8721\u7b14\u5c0f\u65b0.abc/\u8721\u7b14\u5c0f\u65b0.abc.mkv\nls \u8721\u7b14\u5c0f\u65b0*.{mkv,mp4} | xargs -I {} -n 1 sh -c 'f=\"{}\";mkdir -p \"/Volumes/Movie/${f%.*}\";mv \"$f\" \"/Volumes/Movie/${f%.*}\"'\n\n# zsh\nzmv 'image(*.png)' '$1'\nzmv -w 'image*.png' '$1.png'\n\n# mmv\nmmv \"image*.png\" \"#1.png\"\n\n# for loop\nfor i in image*jpg\ndo\n  mv -v \"$i\" \"$(echo \"$i\" | sed -e 's/^\\.\\/image//' - )\"\ndone\n\n# \u8c03\u6574\u5267\u96c6\u540d\u5b57 [Name][01].mkv -> Name.S01E01.mkv\necho \"[Name][01].mkv\" | sed -re 's/\\[([^]]+)\\]\\[([^]]+)\\](.*?)/\\1.S01E\\2\\3/' -\n\n#\nfor i in \\[*\\]\\[*\\]*\ndo\n  mv -v \"$i\" \"$(echo \"$i\" | sed -re 's/\\[([^]]+)\\]\\[([^]]+)\\](.*?)/\\1.S01E\\2\\3/' - )\"\ndone\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6279\u91cf\u91cd\u547d\u540d",children:"\u6279\u91cf\u91cd\u547d\u540d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# \u6b63\u5219\nfind . -type f | perl -pe \'print $_; s/input/output/\' | xargs -d "\\n" -n2 mv\n\n# \u53bb\u6389\u5355\u5f15\u53f7 - escape \u6bd4\u8f83\u590d\u6742\nfind . -type f | grep "[\']" | perl -pe "print \\$_; s/\'//g" | xargs -d "\\n" -n2 mv\n\n# \u7535\u89c6\u5267\u7b2cN\u96c6 -> \u7535\u89c6\u5267 N\n# echo - dry run\nfind . -type f | perl -pe \'print $_; s/\u7b2c(\\d+)\u96c6/ \\1/\' | xargs -d "\\n" -n2 echo mv\n# \u7535\u89c6\u5267.01.mp4 -> \u7535\u89c6\u5267.EP01.mp4\nfind . -type f | perl -pe \'print $_; s/[.](\\d+)[.]/.EP\\1./\' | xargs -d "\\n" -n2 echo mv\n'})})]})}function c(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},38088:(e,n,r)=>{var t=r(96651),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function m(e,n,r){var t,l={},m=null,d=null;for(t in void 0!==r&&(m=""+r),void 0!==n.key&&(m=""+n.key),void 0!==n.ref&&(d=n.ref),n)o.call(n,t)&&!a.hasOwnProperty(t)&&(l[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===l[t]&&(l[t]=n[t]);return{$$typeof:s,type:e,key:m,ref:d,props:l,_owner:i.current}}n.Fragment=l,n.jsx=m,n.jsxs=m},2488:(e,n,r)=>{e.exports=r(38088)},62780:(e,n,r)=>{r.d(n,{I:()=>i,M:()=>o});var t=r(96651);const s={},l=t.createContext(s);function o(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);