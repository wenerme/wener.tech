/*! For license information please see 959cc17c.d1db1ef9.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[72471],{82179:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var r=t(2488),o=t(62780);const s={tags:["Interop"]},i="node-gyp",l={id:"web/nodejs/node-gyp",title:"node-gyp",description:"- \u6700\u597d\u4f7f\u7528 prebuild",source:"@site/../notes/web/nodejs/node-gyp.md",sourceDirName:"web/nodejs",slug:"/web/nodejs/node-gyp",permalink:"/notes/web/nodejs/node-gyp",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/web/nodejs/node-gyp.md",tags:[{label:"Interop",permalink:"/notes/tags/interop"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1709090151,formattedLastUpdatedAt:"Feb 28, 2024",frontMatter:{tags:["Interop"]},sidebar:"docs",previous:{title:"mikro-orm",permalink:"/notes/web/nodejs/mikro-orm"},next:{title:"Nodejs Awesome",permalink:"/notes/web/nodejs/awesome"}},a={},d=[];function p(e){const n={code:"code",h1:"h1",li:"li",pre:"pre",ul:"ul",...(0,o.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"node-gyp",children:"node-gyp"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6700\u597d\u4f7f\u7528 prebuild"}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679c\u51fa\u73b0\u4e86\u4ece\u6e90\u7801\u6784\u5efa\uff0c\u5148\u6392\u67e5\u4e3a\u4ec0\u4e48\u4f1a\u5bfc\u81f4\u6784\u5efa"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# node gyp \u4f9d\u8d56\napk add python3 g++ gcc make\n\n# \u5f3a\u5236\u4ece\u6e90\u7801\u6784\u5efa\nnpm install sqlite3 --build-from-source=sqlite3\n\n# \u67e5\u770b binary \u5730\u5740\n# \u6ce8\u610f module_name \u53ef\u80fd\u4e0d\u540c\u4e8e npm \u5305\u540d\nnpm view sqlite3@3.1.3 binary             # aws\nnpm view sqlite3@5.1.0 binary.module_name # github\n\n# install \u5305\u542b platform \u548c libc \u6761\u4ef6\nnpm install --platform=linux --libc=libc --registry https://npm.wener.me/\n\nnpm install sqlite3 --node_sqlite3_binary_host_mirror=https://npmmirror.com/mirrors/sqlite3\n\n# \u6839\u636e\u5e73\u53f0 rebuild\nnode-pre-gyp rebuild --target=0.30.2 --arch=x32 --target_platform=win32 --dist-url=https://atom.io/download/atom-shell\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"--{module_name}_binary_host_mirror"})}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},38088:(e,n,t)=>{var r=t(96651),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(e,n,t){var r,s={},d=null,p=null;for(r in void 0!==t&&(d=""+t),void 0!==n.key&&(d=""+n.key),void 0!==n.ref&&(p=n.ref),n)i.call(n,r)&&!a.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===s[r]&&(s[r]=n[r]);return{$$typeof:o,type:e,key:d,ref:p,props:s,_owner:l.current}}n.Fragment=s,n.jsx=d,n.jsxs=d},2488:(e,n,t)=>{e.exports=t(38088)},62780:(e,n,t)=>{t.d(n,{I:()=>l,M:()=>i});var r=t(96651);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);