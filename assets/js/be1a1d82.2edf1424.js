/*! For license information please see be1a1d82.2edf1424.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[28912],{94586:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var r=t(11527),i=t(47214);const s={title:"editor.js"},o="editor.js",a={id:"web/editor/editorjs",title:"editor.js",description:"- codex-team/editor.js",source:"@site/../notes/web/editor/editorjs.md",sourceDirName:"web/editor",slug:"/web/editor/editorjs",permalink:"/notes/web/editor/editorjs",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/web/editor/editorjs.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1680629704,formattedLastUpdatedAt:"Apr 4, 2023",frontMatter:{title:"editor.js"},sidebar:"docs",previous:{title:"Editor FAQ",permalink:"/notes/web/editor/faq"},next:{title:"formily",permalink:"/notes/web/editor/formily"}},l={},c=[{value:"Notes",id:"notes",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"editorjs",children:"editor.js"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/codex-team/editor.js",children:"codex-team/editor.js"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Apache-2.0, TS"}),"\n",(0,r.jsx)(n.li,{children:"Block \u7f16\u8f91\u5668"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/codex-team/editor.js/blob/next/types/configs/editor-config.d.ts",children:"editor-config.d.ts"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/editor-js/awesome-editorjs",children:"editor-js/awesome-editorjs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/codex-team/codex.docs",children:"codex-team/codex.docs"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5f00\u53d1\u4e0d\u6d3b\u8dc3\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/factly/dega/issues/454#issue-997246320",children:"factly/dega#454"})}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e0d\u652f\u6301\u62d6\u62fd"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u652f\u6301\u5e03\u5c40\u5143\u7d20"}),"\n",(0,r.jsx)(n.li,{children:"undo\u3001redo \u6709\u95ee\u9898"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u652f\u6301 markdown"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u652f\u6301\u5d4c\u5957 block"}),"\n",(0,r.jsx)(n.li,{children:"\u76ee\u524d\u6ca1\u6709 mention \u7ec4\u4ef6"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u652f\u6301\u5feb\u6377\u952e\uff0c\u4e0d\u652f\u6301 slash \u547d\u4ee4"}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u533a\u5206 InlineBlock \u548c Block"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="\u6570\u636e\u6a21\u578b"',children:'{\n  "time": 1550476186479,\n  "version": "2.8.1",\n  "blocks": [\n    {\n      "type": "header",\n      "data": {\n        "text": "With the header of course",\n        "level": 2\n      }\n    },\n    {\n      "type": "paragraph",\n      "data": {\n        "text": "So what do we have?"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="BlockPlugin.ts"',children:"export class MyBlock {\n  get shortcut() {\n    return 'CMD+M';\n  }\n  // \u9ed8\u8ba4 Block\n  static get isInline() {\n    return false;\n  }\n  static get toolbox() {\n    return {\n      title: 'Image',\n      icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>',\n    };\n  }\n  static get pasteConfig() {\n    return {\n      tags: ['IMG'],\n      files: {\n        mimeTypes: ['image/*'],\n        extensions: ['gif', 'jpg', 'png'],\n      },\n      patterns: {\n        image: /https?:\\/\\/\\S+\\.(gif|jpe?g|tiff|png)$/i,\n      },\n    };\n  }\n  static get sanitize() {\n    return {\n      url: false, // disallow HTML\n      caption: {}, // only tags from Inline Toolbar\n      mark: {\n        class: 'cdx-marker',\n      },\n    };\n  }\n  constructor({ block, data, api, config }) {\n    this.block = block;\n    this.data = data;\n    this.api = api;\n    this.config = config;\n  }\n  render() {\n    return document.createElement('input');\n  }\n  renderSettings() {\n    return document.createElement('div');\n  }\n  save(blockContent) {\n    return {\n      url: blockContent.value,\n    };\n  }\n  // \u6821\u9a8c\u4fdd\u5b58\u7684\u6570\u636e\n  validate(savedData) {\n    if (!savedData.url.trim()) {\n      return false;\n    }\n\n    return true;\n  }\n  onPaste(event) {\n    switch (event.type) {\n      case 'tag':\n        const imgTag = event.detail.data;\n        this._createImage(imgTag.src);\n        break;\n      case 'file':\n        const file = event.detail.file;\n        const reader = new FileReader();\n\n        reader.onload = (loadEvent) => {\n          this._createImage(loadEvent.target.result);\n        };\n\n        reader.readAsDataURL(file);\n        break;\n      case 'pattern':\n        const src = event.detail.data;\n\n        this._createImage(src);\n        break;\n    }\n  }\n\n  // inline\n\n  surround(range) {}\n\n  checkState(selection) {}\n  renderActions() {}\n\n  //\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},3354:(e,n,t)=>{var r=t(50959),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,s={},c=null,d=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)o.call(n,r)&&!l.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===s[r]&&(s[r]=n[r]);return{$$typeof:i,type:e,key:c,ref:d,props:s,_owner:a.current}}n.Fragment=s,n.jsx=c,n.jsxs=c},11527:(e,n,t)=>{e.exports=t(3354)},47214:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>o});var r=t(50959);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);