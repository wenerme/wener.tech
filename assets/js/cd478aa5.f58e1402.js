/*! For license information please see cd478aa5.f58e1402.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[91648],{59952:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var r=t(2488),s=t(62780);const o={title:"Network FAQ",tags:["FAQ"]},i="Network FAQ",l={id:"service/network/network-faq",title:"Network FAQ",description:"TURN vs STUN",source:"@site/../notes/service/network/network-faq.md",sourceDirName:"service/network",slug:"/service/network/faq",permalink:"/notes/service/network/faq",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/network-faq.md",tags:[{label:"FAQ",permalink:"/notes/tags/faq"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1669459050,formattedLastUpdatedAt:"Nov 26, 2022",frontMatter:{title:"Network FAQ",tags:["FAQ"]},sidebar:"docs",previous:{title:"Network Awesome",permalink:"/notes/service/network/awesome"},next:{title:"NextDNS",permalink:"/notes/service/network/nextdns"}},c={},a=[{value:"TURN vs STUN",id:"turn-vs-stun",level:2},{value:"\u7b80\u5355\u7684\u7aef\u53e3\u6392\u67e5",id:"\u7b80\u5355\u7684\u7aef\u53e3\u6392\u67e5",level:2},{value:"\u4fdd\u7559\u6765\u6e90IP",id:"\u4fdd\u7559\u6765\u6e90ip",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,s.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"network-faq",children:"Network FAQ"}),"\n",(0,r.jsx)(n.h2,{id:"turn-vs-stun",children:"TURN vs STUN"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["STUN\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5b9e\u73b0 NAT \u7a7f\u900f\u3001\u7aef\u53e3\u6620\u5c04"}),"\n",(0,r.jsx)(n.li,{children:"\u5b9e\u73b0\u4fe1\u4ee4\u80fd\u529b"}),"\n",(0,r.jsx)(n.li,{children:"\u8d44\u6e90\u5360\u7528\u4f4e\uff0c\u670d\u52a1\u5668\u6d41\u91cf\u5f88\u5c0f"}),"\n",(0,r.jsx)(n.li,{children:"\u901a\u5e38\u6709\u516c\u5171\u7684 stun \u670d\u52a1 - \u65e0\u9700\u6388\u6743"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["TURN\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e2d\u7ee7\uff0c\u65e0\u6cd5 NAT \u7a7f\u900f\u65f6"}),"\n",(0,r.jsx)(n.li,{children:"\u5b9e\u73b0\u4e2d\u7ee7\u4ee3\u7406\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.li,{children:"\u8d44\u6e90\u5360\u7528\u9ad8\uff0c\u670d\u52a1\u5668\u6d41\u91cf\u5927"}),"\n",(0,r.jsx)(n.li,{children:"\u4e0d\u5b58\u5728\u516c\u5171\u7684 turn \u670d\u52a1 - \u901a\u5e38\u9700\u8981\u6388\u6743"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u7b80\u5355\u7684\u7aef\u53e3\u6392\u67e5",children:"\u7b80\u5355\u7684\u7aef\u53e3\u6392\u67e5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# nc - busybox\n# ==========\n# UDP\nnc -u -l -p 12345 -e cat\necho test | nc -u -w 2 127.0.0.1 12345\n# TCP\nnc -l -p 12345 -e cat\necho test | nc -w 2 127.0.0.1 12345\n\n# ncat - nmap\n# ==========\nncat -ulk -e /bin/cat 12345\n\n# socat\n# ==========\nsocat -u udp-l:12345,fork exec:/bin/cat\necho "test" | socat -u - udp:127.0.0.1:12345\n\nsocat -u tcp-l:12345,fork exec:/bin/cat\necho "test" | socat -u - tcp:127.0.0.1:12345\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u4fdd\u7559\u6765\u6e90ip",children:"\u4fdd\u7559\u6765\u6e90IP"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PROXY"}),"\n",(0,r.jsxs)(n.li,{children:["mmproxy\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"remote PROXY -> mmproxy PROXY -> localhost"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/cloudflare/mmproxy",children:"cloudflare/mmproxy"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://blog.cloudflare.com/mmproxy-creative-way-of-preserving-client-ips-in-spectrum/",children:"https://blog.cloudflare.com/mmproxy-creative-way-of-preserving-client-ips-in-spectrum/"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/notes/service/network/tproxy",children:"TPROXY"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"linux \u5185\u6838\u6a21\u5757"}),"\n",(0,r.jsxs)(n.li,{children:["HAProxy \u652f\u6301 ",(0,r.jsx)(n.a,{href:"https://gist.github.com/mhofman/a01df56480b3791d526b77dbebef43a2#haproxy-transparent-support",children:"https://gist.github.com/mhofman/a01df56480b3791d526b77dbebef43a2#haproxy-transparent-support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"server app1-tls 192.0.2.10:3001 source * usesrc client weight 0"})}),"\n",(0,r.jsx)(n.li,{children:"usesrc"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.kernel.org/networking/tproxy.html",children:"https://docs.kernel.org/networking/tproxy.html"})}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},38088:(e,n,t)=>{var r=t(96651),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(e,n,t){var r,o={},a=null,d=null;for(r in void 0!==t&&(a=""+t),void 0!==n.key&&(a=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,r)&&!c.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===o[r]&&(o[r]=n[r]);return{$$typeof:s,type:e,key:a,ref:d,props:o,_owner:l.current}}n.Fragment=o,n.jsx=a,n.jsxs=a},2488:(e,n,t)=>{e.exports=t(38088)},62780:(e,n,t)=>{t.d(n,{I:()=>l,M:()=>i});var r=t(96651);const s={},o=r.createContext(s);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);