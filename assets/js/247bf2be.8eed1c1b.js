/*! For license information please see 247bf2be.8eed1c1b.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[64096],{68572:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>o});var l=r(2488),s=r(62780);const d={title:"Gradle"},t="Gradle",a={id:"java/build/gradle/README",title:"Gradle",description:"- Userguide",source:"@site/../notes/java/build/gradle/README.md",sourceDirName:"java/build/gradle",slug:"/java/build/gradle/",permalink:"/notes/java/build/gradle/",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/java/build/gradle/README.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1708697175,formattedLastUpdatedAt:"Feb 23, 2024",frontMatter:{title:"Gradle"},sidebar:"docs",previous:{title:"google-java-format",permalink:"/notes/java/build/google-java-format"},next:{title:"Gradle FAQ",permalink:"/notes/java/build/gradle/faq"}},i={},o=[{value:"env",id:"env",level:2},{value:"gradle.properties",id:"gradleproperties",level:2},{value:"daemon",id:"daemon",level:2},{value:"cache",id:"cache",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.M)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"gradle",children:"Gradle"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/userguide.html",children:"Userguide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://guides.gradle.org/building-java-9-modules/",children:"Building Java 9 Modules"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://sagioto.github.io/maven2gradle/",children:"maven 2 gradle"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8f6c\u6362 dependency"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://gradle.org/releases/",children:"https://gradle.org/releases/"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sdk install gradle 8.0.1 # for SDKMAN\nbrew install gradle      # for macOS\n\n# wrapper \u5347\u7ea7\n./gradlew wrapper --gradle-version=8.0.1 --distribution-type=bin\n\n# https://docs.gradle.org/current/userguide/build_init_plugin.html\n# \u751f\u6210\u57fa\u672c\u914d\u7f6e\n# --type pom,java-application,java-library,scala-library,groovy-library,basic\ngradle init\n\n# \u5237\u65b0\u4f9d\u8d56\n./gradlew build --refresh-dependencies\n# \u4ee3\u7406\n./gradlew -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=1234 -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1234 build\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"gradle.properties"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"# \u4ee3\u7406\u914d\u7f6e\nsystemProp.http.proxyHost=127.0.0.1\nsystemProp.http.proxyPort=1234\nsystemProp.https.proxyHost=127.0.0.1\nsystemProp.https.proxyPort=1234\n\n# \u5982\u679c\u9700\u8981\u6388\u6743\n# http.proxyUser=usernameProxy\n# http.proxyPassword=yourPassoword\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-groovy",children:'// https://docs.gradle.org/current/userguide/declaring_repositories.html\nmavenCentral()\nmaven {\n    url "http://maven.aliyun.com/nexus/content/groups/public"\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-groovy",children:'// build.gradle or settings.gradle\nrepositories {\n  maven {\n    url "http://repo1.mycompany.com/maven2"\n  }\n  maven {\n    url "http://repo2.mycompany.com/maven2"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"env",children:"env"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"env"}),(0,l.jsx)(n.th,{children:"default"}),(0,l.jsx)(n.th,{children:"for"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"GRADLE_HOME"}),(0,l.jsx)(n.td,{}),(0,l.jsx)(n.td,{children:"\u5b89\u88c5\u76ee\u5f55"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"GRADLE_USER_HOME"}),(0,l.jsx)(n.td,{children:"~/.gradle"}),(0,l.jsx)(n.td,{children:"\u7528\u6237\u76ee\u5f55"})]})]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Windows\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["GRADLE_USER_HOME=",(0,l.jsx)(n.code,{children:"C:\\Users\\<USERNAME>\\.gradle"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-txt",metastring:"title=GRADLE_USER_HOME",children:"\u251c\u2500\u2500 caches\n\u2502   \u251c\u2500\u2500 4.8\n\u2502   \u251c\u2500\u2500 4.9\n\u2502   \u251c\u2500\u2500 \u22ee\n\u2502   \u251c\u2500\u2500 jars-3\n\u2502   \u2514\u2500\u2500 modules-2\n\u251c\u2500\u2500 daemon\n\u2502   \u251c\u2500\u2500 \u22ee\n\u2502   \u251c\u2500\u2500 4.8\n\u2502   \u2514\u2500\u2500 4.9\n\u251c\u2500\u2500 init.d\n\u2502   \u2514\u2500\u2500 my-setup.gradle\n\u251c\u2500\u2500 jdks\n\u2502   \u251c\u2500\u2500 \u22ee\n\u2502   \u2514\u2500\u2500 jdk-14.0.2+12\n\u251c\u2500\u2500 wrapper\n\u2502   \u2514\u2500\u2500 dists\n\u2502       \u251c\u2500\u2500 \u22ee\n\u2502       \u251c\u2500\u2500 gradle-4.8-bin\n\u2502       \u251c\u2500\u2500 gradle-4.9-all\n\u2502       \u2514\u2500\u2500 gradle-4.9-bin\n\u2514\u2500\u2500 gradle.properties\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/directory_layout.html",children:"https://docs.gradle.org/current/userguide/directory_layout.html"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"gradleproperties",children:"gradle.properties"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/build_environment.html",children:"https://docs.gradle.org/current/userguide/build_environment.html"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"org.gradle.daemon=true\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["GRADLE_OPTS\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"-Dorg.gradle.daemon=false"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"daemon",children:"daemon"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./gradlew -d --no-daemon\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.gradle.org/8.0.1/userguide/gradle_daemon.html",children:"https://docs.gradle.org/8.0.1/userguide/gradle_daemon.html"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"cache",children:"cache"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gradle --build-cache compileJava\ngradle --build-cache compileJava -Dorg.gradle.caching.debug=true\n\nls ~/.gradle/caches/build-cache-1/\n\ngradle clean\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-properties",metastring:"title=gradle.properties",children:"org.gradle.caching=true\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u8fdc\u7a0b\u7f13\u5b58"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-groovy",children:"buildCache {\n    remote(HttpBuildCache) {\n        url = 'https://example.com:8123/cache/'\n        credentials {\n            username = 'build-cache-user-name'\n            password = 'build-cache-password'\n        }\n    }\n}\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/build_cache.html",children:"https://docs.gradle.org/current/userguide/build_cache.html"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},38088:(e,n,r)=>{var l=r(96651),s=Symbol.for("react.element"),d=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,n,r){var l,d={},o=null,c=null;for(l in void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),void 0!==n.ref&&(c=n.ref),n)t.call(n,l)&&!i.hasOwnProperty(l)&&(d[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps)void 0===d[l]&&(d[l]=n[l]);return{$$typeof:s,type:e,key:o,ref:c,props:d,_owner:a.current}}n.Fragment=d,n.jsx=o,n.jsxs=o},2488:(e,n,r)=>{e.exports=r(38088)},62780:(e,n,r)=>{r.d(n,{I:()=>a,M:()=>t});var l=r(96651);const s={},d=l.createContext(s);function t(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);