/*! For license information please see 7bd1417d.6a1589a1.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[36306],{42649:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=r(11527),s=r(47214);const o={title:"protoc"},i="protoc",l={id:"service/api/protobuf/protoc",title:"protoc",description:"| flag                             | for                                           |",source:"@site/../notes/service/api/protobuf/protoc.md",sourceDirName:"service/api/protobuf",slug:"/service/api/protobuf/protoc",permalink:"/notes/service/api/protobuf/protoc",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/service/api/protobuf/protoc.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1677222278,formattedLastUpdatedAt:"Feb 24, 2023",frontMatter:{title:"protoc"},sidebar:"docs",previous:{title:"protoc-gen-validate",permalink:"/notes/service/api/protobuf/protoc-gen-validate"},next:{title:"Serialization Awesome",permalink:"/notes/service/api/serialization-awesome"}},c={},d=[{value:"Plugins",id:"plugins",level:2},{value:"Descriptor",id:"descriptor",level:2},{value:"Write Plugins",id:"write-plugins",level:2}];function h(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"protoc",children:"protoc"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"flag"}),(0,t.jsx)(e.th,{children:"for"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["-I,--proto_path ",(0,t.jsx)(e.code,{children:"<PATH>"})]}),(0,t.jsx)(e.td,{children:"\u9ed8\u8ba4\u5f53\u524d\u76ee\u5f55, --descriptor_set_in"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["--encode ",(0,t.jsx)(e.code,{children:"<MESSAGE_TYPE>"})]}),(0,t.jsx)(e.td,{children:"text -> proto"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--deterministic_output"}),(0,t.jsxs)(e.td,{children:["\u5f53 ",(0,t.jsx)(e.code,{children:"--encode"})," \u786e\u4fdd map \u987a\u5e8f\u56fa\u5b9a"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["--decode ",(0,t.jsx)(e.code,{children:"<MESSAGE_TYPE>"})]}),(0,t.jsx)(e.td,{children:"proto -> text"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--decode_raw"}),(0,t.jsx)(e.td,{children:"proto -> tag,value - \u4e0d\u9700\u8981 proto"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["--descriptor_set_in ",(0,t.jsx)(e.code,{children:"<FILES>"})]}),(0,t.jsx)(e.td,{children:"FileDescriptorSet \u5217\u8868 descriptor.proto"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:["-o,--descriptor_set_out ",(0,t.jsx)(e.code,{children:"<FILE>"})]}),(0,t.jsx)(e.td,{children:"FileDescriptorSet"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--include_imports"}),(0,t.jsxs)(e.td,{children:["\u5f53 ",(0,t.jsx)(e.code,{children:"--descriptor_set_out"})," \u5305\u542b\u4f9d\u8d56"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--include_source_info"}),(0,t.jsxs)(e.td,{children:["\u5f53 ",(0,t.jsx)(e.code,{children:"--descriptor_set_out"})," \u4fdd\u7559 SourceCodeInfo"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--dependency_out=FILE"}),(0,t.jsx)(e.td,{children:"\u8f93\u51fa make \u4f9d\u8d56"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--error_format=FORMAT"}),(0,t.jsx)(e.td,{children:"gcc, msvs"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--fatal_warnings"}),(0,t.jsx)(e.td,{children:"warnings -> fatal"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--print_free_field_numbers"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"--plugin=EXECUTABLE"}),(0,t.jsxs)(e.td,{children:["\u9ed8\u8ba4 PATH, \u53ef\u4ee5\u662f ",(0,t.jsx)(e.code,{children:"NAME=PATH"})]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"@<filename>"})}),(0,t.jsx)(e.td,{children:"\u4ece\u6587\u4ef6\u8bfb\u53d6\u914d\u7f6e"})]})]})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u63d2\u4ef6\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"<plugin>_out"})," - \u8f93\u51fa\u76ee\u5f55 - \u4f8b\u5982 ",(0,t.jsx)(e.code,{children:".:."}),", ",(0,t.jsx)(e.code,{children:".:./gen/out"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"<plugin>_opt"})," - \u53c2\u6570"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["plugin\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"cpp"}),"\n",(0,t.jsx)(e.li,{children:"csharp"}),"\n",(0,t.jsx)(e.li,{children:"java"}),"\n",(0,t.jsx)(e.li,{children:"js"}),"\n",(0,t.jsx)(e.li,{children:"kotlin"}),"\n",(0,t.jsx)(e.li,{children:"objc"}),"\n",(0,t.jsx)(e.li,{children:"php"}),"\n",(0,t.jsx)(e.li,{children:"python"}),"\n",(0,t.jsx)(e.li,{children:"ruby"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["descriptor_set\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9884\u751f\u6210 descriptor\uff0c\u4e4b\u540e\u5219\u4e0d\u9700\u8981 proto \u6e90\u6587\u4ef6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"plugins",children:"Plugins"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"protoc-gen-<plugin>"})}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/notes/service/api/protobuf/protoc-gen-validate",children:"protoc-gen-validate"})," \u6821\u9a8c message\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"go,java,cc"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/protobuf-c/protobuf-c",children:"protoc-gen-c"})}),"\n",(0,t.jsxs)(e.li,{children:["Golang\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/protocolbuffers/protobuf-go",children:"protoc-gen-go"})}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/mitchellh/protoc-gen-go-json",children:"protoc-gen-go-json"})," Go JSON Marshal/Unmarshal"]}),"\n",(0,t.jsx)(e.li,{children:"protoc-gen-go-vtproto"}),"\n",(0,t.jsx)(e.li,{children:"protoc-gen-gotag"}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/gogo/protobuf",children:"gogo/protobuf"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"APIv2 \u53d1\u5e03\u540e\u4e0d\u518d\u7ef4\u62a4"}),"\n",(0,t.jsx)(e.li,{children:"protoc-gen-{gofast,combo,gogo,gogofast,gogofaster,gogoslic,gogotypes,gostring}"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Document\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"protoc-gen-slate"}),"\n",(0,t.jsx)(e.li,{children:"protoc-gen-swagger"}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/pseudomuto/protoc-gen-doc",children:"protoc-gen-doc"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Schema\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/chrusty/protoc-gen-jsonschema",children:"protoc-gen-jsonschema"})}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/GoogleCloudPlatform/protoc-gen-bq-schema",children:"protoc-gen-bq-schema"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"pb to BigQuery schema"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"descriptor",children:"Descriptor"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"proto \u89e3\u6790\u8fc7\u540e\u7684\u7ed3\u6784"}),"\n",(0,t.jsxs)(e.li,{children:["DescriptorProto - Message\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"field FieldDescriptorProto"}),"\n",(0,t.jsx)(e.li,{children:"extension"}),"\n",(0,t.jsx)(e.li,{children:"nested_type - DescriptorProto"}),"\n",(0,t.jsx)(e.li,{children:"enum_type - EnumDescriptorProto"}),"\n",(0,t.jsx)(e.li,{children:"oneof - OneofDescriptorProto"}),"\n",(0,t.jsx)(e.li,{children:"options - MessageOptions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"write-plugins",children:"Write Plugins"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u63d2\u4ef6\u534f\u8bae ",(0,t.jsx)(e.a,{href:"https://github.com/protocolbuffers/protobuf/blob/main/src/google/protobuf/compiler/plugin.proto",children:"https://github.com/protocolbuffers/protobuf/blob/main/src/google/protobuf/compiler/plugin.proto"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u901a\u8fc7 stdio \u4ea4\u4e92"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/lyft/protoc-gen-star",children:"lyft/protoc-gen-star"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u8f85\u52a9\u5b9e\u73b0\u63d2\u4ef6"}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/lyft/protoc-gen-star/tree/master/protoc-gen-debug",children:"protoc-gen-debug"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u751f\u6210 bin\uff0c\u7528\u4e8e\u6d4b\u8bd5\u63d2\u4ef6"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/danielgtaylor/python-betterproto",children:"danielgtaylor/python-betterproto"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Python 3.6+ code generator & library for Protobuf 3 and async gRPC"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://json-to-proto.github.io/",children:"json-to-proto"})}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(h,{...n})}):h(n)}},3354:(n,e,r)=>{var t=r(50959),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(n,e,r){var t,o={},d=null,h=null;for(t in void 0!==r&&(d=""+r),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(h=e.ref),e)i.call(e,t)&&!c.hasOwnProperty(t)&&(o[t]=e[t]);if(n&&n.defaultProps)for(t in e=n.defaultProps)void 0===o[t]&&(o[t]=e[t]);return{$$typeof:s,type:n,key:d,ref:h,props:o,_owner:l.current}}e.Fragment=o,e.jsx=d,e.jsxs=d},11527:(n,e,r)=>{n.exports=r(3354)},47214:(n,e,r)=>{r.d(e,{Z:()=>l,a:()=>i});var t=r(50959);const s={},o=t.createContext(s);function i(n){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);