/*! For license information please see 0a61c5ca.e1f5fd0f.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[420],{18213:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>l,metadata:()=>c,toc:()=>h});var s=i(11527),r=i(47214);const l={title:"QEMU Version",tags:["Version"]},t="QEMU Version",c={id:"os/virt/qemu/qemu-version",title:"QEMU Version",description:"| ver                     | date       |",source:"@site/../notes/os/virt/qemu/qemu-version.md",sourceDirName:"os/virt/qemu",slug:"/os/virt/qemu/version",permalink:"/notes/os/virt/qemu/version",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/os/virt/qemu/qemu-version.md",tags:[{label:"Version",permalink:"/notes/tags/version"}],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1667482099,formattedLastUpdatedAt:"Nov 3, 2022",frontMatter:{title:"QEMU Version",tags:["Version"]},sidebar:"docs",previous:{title:"QEMU QMP",permalink:"/notes/os/virt/qemu/qmp"},next:{title:"QEMU Windows \u5bbf\u4e3b\u673a",permalink:"/notes/os/virt/qemu/windows-host"}},d={},h=[{value:"Qemu 7.0",id:"qemu-70",level:2},{value:"Qemu 6.0",id:"qemu-60",level:2},{value:"Qemu 5.2",id:"qemu-52",level:2},{value:"Qemu 5.1",id:"qemu-51",level:2},{value:"Qemu 5.0",id:"qemu-50",level:2},{value:"Qemu 4.2.0",id:"qemu-420",level:2},{value:"Qemu 4.1.0",id:"qemu-410",level:2},{value:"Qemu 4.0.0",id:"qemu-400",level:2},{value:"Qemu 3.1.0",id:"qemu-310",level:2},{value:"Qemu 3.0.0",id:"qemu-300",level:2},{value:"Qemu 2.12",id:"qemu-212",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"qemu-version",children:"QEMU Version"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"ver"}),(0,s.jsx)(n.th,{children:"date"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#qemu-70",children:"Qemu 7.0"})}),(0,s.jsx)(n.td,{children:"2020-04-30"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#qemu-60",children:"Qemu 6.0"})}),(0,s.jsx)(n.td,{children:"2020-04-30"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#qemu-50",children:"Qemu 5.0"})}),(0,s.jsx)(n.td,{children:"2020-04-29"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#qemu-420",children:"Qemu 4.2.0"})}),(0,s.jsx)(n.td,{children:"2019-12-13"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#qemu-400",children:"Qemu 4.0.0"})}),(0,s.jsx)(n.td,{children:"2019-04-24"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#qemu-212",children:"Qemu 2.1.2"})}),(0,s.jsx)(n.td,{children:"2018-04-24"})]})]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://wiki.qemu.org/Planning",children:"https://wiki.qemu.org/Planning"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://wiki.qemu.org/ChangeLog",children:"https://wiki.qemu.org/ChangeLog"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/airbus-seclab/qemu_blog",children:"https://github.com/airbus-seclab/qemu_blog"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-70",children:"Qemu 7.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"x86 - Intel AMX"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://wiki.qemu.org/ChangeLog/7.0",children:"https://wiki.qemu.org/ChangeLog/7.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://news.ycombinator.com/item?id=31093564",children:"https://news.ycombinator.com/item?id=31093564"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-60",children:"Qemu 6.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"tcg \u652f\u6301 macOS ARM"}),"\n",(0,s.jsx)(n.li,{children:"68k virt mahcine"}),"\n",(0,s.jsxs)(n.li,{children:["arm\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ARMv8.1-M Helium arch, Cortex-M55 CPU"}),"\n",(0,s.jsx)(n.li,{children:"ARMv8.4 TTST, SEL2, DIT"}),"\n",(0,s.jsx)(n.li,{children:"ARMv8.5 MemTag"}),"\n",(0,s.jsx)(n.li,{children:"mps3-an524, mps3-an547 board"}),"\n",(0,s.jsx)(n.li,{children:"xlnx-zynqmp, xlnx-versal, sbsa-ref, npcm7xx, sabrelite"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"MIPS Loongson-3 virt machine"}),"\n",(0,s.jsx)(n.li,{children:"virtiofs USE_KILLPRIV_V2"}),"\n",(0,s.jsx)(n.li,{children:"virtio-vga scaling resolution based on client window size"}),"\n",(0,s.jsx)(n.li,{children:"\u5e9f\u5f03 -writeconfig - \u8bed\u6cd5\u53c2\u6570\u7b49\u65e0\u6cd5\u4fdd\u8bc1\u6b63\u786e"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-machine"})," \u65b0\u589e ACPI \u9009\u9879 oem-id, oem-table-id"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-machine x-remote"}),", ",(0,s.jsx)(n.code,{children:"-device x-pci-proxy-dev"})," \u591a\u8fdb\u7a0b QEMU - \u76ee\u524d\u53ea\u652f\u6301 ",(0,s.jsx)(n.code,{children:"lsi53c895"})," SCSI"]}),"\n",(0,s.jsxs)(n.li,{children:["\u652f\u6301\u5c06 usb \u4f20\u8f93\u6570\u636e\u8f6c\u50a8\u5230\u6587\u4ef6 - \u7528\u4e8e wireshark \u5206\u6790 - ",(0,s.jsx)(n.code,{children:"pcap=<file>"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-52",children:"Qemu 5.2"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["x86 KVM \u5f02\u6b65 page faults - ",(0,s.jsx)(n.code,{children:"-cpu ...,kvm-async-pf-int"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Linux 5.8+"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"NVMe 1.3"}),"\n",(0,s.jsx)(n.li,{children:"SMBIOS OEM \u5b57\u7b26\u4e32\u53ef\u4ece\u6587\u4ef6\u8bfb\u53d6"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-51",children:"Qemu 5.1"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2020-08-11"}),"\n",(0,s.jsxs)(n.li,{children:["RPi \u652f\u6301 USB \u63a7\u5236\u5668\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["guest \u6dfb\u52a0 ",(0,s.jsx)(n.code,{children:"dwc_otg.fiq_fsm_enable=0"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"AMD X86 \u652f\u6301 \u8fc1\u79fb \u5d4c\u5957\u865a\u62df\u5316"}),"\n",(0,s.jsx)(n.li,{children:"\u652f\u6301 Linux keyring \u4f20\u9012 secret"}),"\n",(0,s.jsx)(n.li,{children:"LUKS keyslot \u7ba1\u7406"}),"\n",(0,s.jsxs)(n.li,{children:["qcow2 \u652f\u6301 zstd - ",(0,s.jsx)(n.code,{children:"compression_type=zstd"})]}),"\n",(0,s.jsx)(n.li,{children:"AVR \u67b6\u6784"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u6dfb\u52a0 keyslot\nqemu-img amend \\\n  --object secret,id=sec0,data=current_password \\\n  --object secret,id=sec1,data=new_password \\\n  --image-opts driver=luks,file.filename=test.luks,key-secret=sec0 \\ #image has to be opened with --image-opts to pass current secret\n-o state=active,new-secret=sec1,[keyslot=1] #keyslot is optional\n# \u79fb\u9664\nqemu-img amend \\\n  --object secret,id=sec0,data=current_password \\\n  --object secret,id=sec1,data=new_password \\\n  --image-opts driver=luks,file.filename=test.luks,key-secret=sec0 \\\n  -o state=inactive,old-secret=sec1\n"})}),"\n",(0,s.jsx)(n.h2,{id:"qemu-50",children:"Qemu 5.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://www.qemu.org/2020/04/29/qemu-5-0-0/",children:"5.0.0"})," - 2020-04-29"]}),"\n",(0,s.jsxs)(n.li,{children:["virtiofsd - \u6620\u5c04\u4e3b\u673a\u76ee\u5f55\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Linux 5.4 \u652f\u6301 VirtIO-FS"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"D-Bus QEMU \u8fdb\u7a0b Live-Migration"}),"\n",(0,s.jsxs)(n.li,{children:["block\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u652f\u6301\u538b\u7f29\u5907\u4efd\u955c\u50cf"}),"\n",(0,s.jsx)(n.li,{children:"qemu-img measure \u652f\u6301 LUKS\uff0c convert \u652f\u6301\u8df3\u8fc7 zero"}),"\n",(0,s.jsx)(n.li,{children:"qemu-storage-daemon \u652f\u6301\u8bbf\u95ee\u5b58\u50a8\uff0c\u4e0d\u9700\u8981\u542f\u52a8 VM"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# ./virtiofsd -o vhost_user_socket=/tmp/vhostqemu -o source=$TESTDIR -o cache=always\n\nqemu-system-x86_64 -M pc -cpu host --enable-kvm -smp 2 \\\n  -m 4G -object memory-backend-file,id=mem,size=4G,mem-path=/dev/shm,share=on -numa node,memdev=mem \\\n  -chardev socket,id=char0,path=/tmp/vhostqemu -device vhost-user-fs-pci,queue-size=1024,chardev=char0,tag=myfs \\\n  -chardev stdio,mux=on,id=mon -mon chardev=mon,mode=readline -device virtio-serial-pci -device virtconsole,chardev=mon -vga none -display none \\\n  -drive if=virtio,file=rootfsimage.qcow2\n\nmount -t virtiofs myfs /mnt\n\n# DAX\n#  -device vhost-user-fs-pci,queue-size=1024,chardev=char0,tag=myfs,cache-size=2G\n"})}),"\n",(0,s.jsx)(n.h2,{id:"qemu-420",children:"Qemu 4.2.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://www.qemu.org/2019/12/13/qemu-4-2-0/",children:"4.2.0"})," - 2019-12-13"]}),"\n",(0,s.jsxs)(n.li,{children:["x86\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["VMX \u53ef\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"-cpu"})," \u542f\u7528\u6216\u505c\u7528"]}),"\n",(0,s.jsx)(n.li,{children:"microvm \u4f7f\u7528 virtio-mmio \u800c\u4e0d\u662f PCI \u4f5c\u4e3a\u6027\u80fd\u57fa\u7ebf\u4f18\u5316"}),"\n",(0,s.jsxs)(n.li,{children:["macOS ",(0,s.jsx)(n.code,{children:"-accel hvf"})," \u7a33\u5b9a"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-410",children:"Qemu 4.1.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.qemu.org/2019/08/16/qemu-4-1-0/",children:"https://www.qemu.org/2019/08/16/qemu-4-1-0/"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-400",children:"Qemu 4.0.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.qemu.org/2019/04/24/qemu-4-0-0/",children:"https://www.qemu.org/2019/04/24/qemu-4-0-0/"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-310",children:"Qemu 3.1.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ARM"}),"\n",(0,s.jsx)(n.li,{children:"qemu-img tool can now generate LUKS-encrypted files through \u2018convert\u2019 command"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.qemu.org/2018/12/12/qemu-3-1-0/",children:"https://www.qemu.org/2018/12/12/qemu-3-1-0/"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-300",children:"Qemu 3.0.0"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5b8c\u6574\u7684 ARM 7 \u6a21\u62df"}),"\n",(0,s.jsx)(n.li,{children:"Sparc32"}),"\n",(0,s.jsx)(n.li,{children:"Sparc64"}),"\n",(0,s.jsx)(n.li,{children:"SDL 2"}),"\n",(0,s.jsx)(n.li,{children:"GTK 3"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.qemu.org/2018/08/15/qemu-3-0-0/",children:"https://www.qemu.org/2018/08/15/qemu-3-0-0/"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"qemu-212",children:"Qemu 2.12"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Initial support for Raspberry Pi 3 machine model"}),"\n",(0,s.jsx)(n.li,{children:'Experimental support for two new virtualization accelerators: Apple\'s Hypervisor.framework ("-accel hvf") and Microsoft\'s Windows Hypervisor Platform Extensions ("-accel whpx")'}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-nic"})," \u53d6\u4ee3 ",(0,s.jsx)(n.code,{children:"-net"})," \u53c2\u6570\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-nic user"})," -> ",(0,s.jsx)(n.code,{children:"-net nic -net user"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://wiki.qemu.org/ChangeLog/2.12",children:"ChangeLog/2.12"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},3354:(e,n,i)=>{var s=i(50959),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,n,i){var s,l={},h=null,o=null;for(s in void 0!==i&&(h=""+i),void 0!==n.key&&(h=""+n.key),void 0!==n.ref&&(o=n.ref),n)t.call(n,s)&&!d.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:r,type:e,key:h,ref:o,props:l,_owner:c.current}}n.Fragment=l,n.jsx=h,n.jsxs=h},11527:(e,n,i)=>{e.exports=i(3354)},47214:(e,n,i)=>{i.d(n,{Z:()=>c,a:()=>t});var s=i(50959);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);