/*! For license information please see 0d981c1c.787c164d.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[20640],{49472:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var r=i(2488),l=i(62780);const s={title:"MySQL GTID"},t="GTID",a={id:"db/relational/mysql/mysql-gtid",title:"MySQL GTID",description:"\u8fd9\u91cc\u4e3b\u8981\u7b80\u5355\u63cf\u8ff0\u4e0b\u5b9e\u73b0 GTID \u9047\u5230\u7684\u95ee\u9898",source:"@site/../notes/db/relational/mysql/mysql-gtid.md",sourceDirName:"db/relational/mysql",slug:"/db/relational/mysql/gtid",permalink:"/notes/db/relational/mysql/gtid",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/db/relational/mysql/mysql-gtid.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1678453938,formattedLastUpdatedAt:"Mar 10, 2023",frontMatter:{title:"MySQL GTID"},sidebar:"docs",previous:{title:"MySQL FAQ",permalink:"/notes/db/relational/mysql/faq"},next:{title:"InnoDB",permalink:"/notes/db/relational/mysql/innodb"}},d={},c=[{value:"MySQL vs MariaDB",id:"mysql-vs-mariadb",level:2},{value:"Reference",id:"reference",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.M)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"gtid",children:"GTID"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u4e3b\u8981\u7b80\u5355\u63cf\u8ff0\u4e0b\u5b9e\u73b0 GTID \u9047\u5230\u7684\u95ee\u9898"}),"\n",(0,r.jsx)(e.h2,{id:"mysql-vs-mariadb",children:"MySQL vs MariaDB"}),"\n",(0,r.jsx)(e.p,{children:"MariaDB 10.0.2 \u5f00\u59cb\u652f\u6301 GTID, MySQL 5.6 \u5f00\u59cb\u652f\u6301 GTID,\u56e0\u4e3a MariaDB \u662f\u57fa\u4e8e MySQL 5.5.5, \u56e0\u6b64 MariaDB \u7684 GTID \u4e0e MySQL \u7684 GTID \u59ff\u52bf\u5e76\u4e0d\u4e00\u6837."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["GTID \u683c\u5f0f\u4e0d\u4e00\u6837\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["MySQL:\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["UUID SET\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"3E11FA47-71CA-11E1-9E33-C80AA9429562:23"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"server_uuid:interval"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["GTID SET\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"uuid_set[, uuid_set] ... | ''"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["MariaDB\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"0-3306-123"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"DomainID-ServerID-Sequence"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5f00\u59cb GTID \u590d\u5236\u7684\u6d41\u7a0b\u4e0d\u4e00\u6837\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["MySQL\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528 [COM_BINLOG_DUMP_GTID] \u5f00\u59cb\u590d\u5236\u6d41\u7a0b,\u5728\u5305\u4e2d\u6307\u5b9a GTID SET"}),"\n",(0,r.jsx)(e.li,{children:"COM_BINLOG_DUMP_GTID \u662f 5.6 \u652f\u6301\u7684\u534f\u8bae"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"MariaDB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \u5bf9\u4e8e\u4e0d\u540c\u7684\u590d\u5236\u9700\u6c42,\u901a\u8fc7\u8bbe\u7f6e\u4f1a\u8bdd\u4e2d\u7684\u53d8\u91cf\u6307\u5b9a\n-- \u53ef\u901a\u8fc7\u6293\u5305\u770b\u5230 MaraDB \u5f00\u59cb\u590d\u5236\u7684\u6d41\u7a0b\n-- \u4e3b\u8981\u4e0e GTID \u76f8\u5173\u7684\u53d8\u91cf\nSET @mariadb_slave_capability = 4;-- \u8868\u660e\u80fd\u63a5\u53d7 GTID\nSET @slave_connect_state = '0-3311-90';-- \u6307\u5b9a GTID\n-- \u7136\u540e\u53d1\u9001 REGISTER_SLAVE\n-- MySQL \u662f\u53d1\u9001 BINLOG_DUMP.REGISTER_SLAVE \u662f\u53ef\u9009\u7684\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"MariaDB \u7684 GTID \u4e8b\u4ef6\u5305\u4e0e MySQL \u7684\u4e0d\u540c,\u76ee\u524d\u53ea\u6709\u901a\u8fc7\u6293\u5305\u5206\u6790."}),"\n",(0,r.jsxs)(e.li,{children:["MySQL \u7684\u534f\u8bae\u6709\u76f8\u5bf9\u5b8c\u5584\u7684\u6587\u6863, MariaDB \u4ec0\u4e48\u7684\u534f\u8bae,\u6587\u6863\u6ef4\u6ca1\u6709\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"MariaDB \u5927\u90e8\u5206\u534f\u8bae\u4e0e MySQL \u76f8\u540c, \u4f46\u662f\u8fd9\u90e8\u5206\u4e0d\u540c"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"reference",children:"Reference"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/wenerme/mysql-binlog-connector-java",children:"wenerme/mysql-binlog-connector-java"}),"\n\u652f\u6301 Mariadb GTID \u7684\u5b9e\u73b0"]}),"\n",(0,r.jsxs)(e.li,{children:["MySQL\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/5.6/en/replication-gtids.html",children:"Replication with Global Transaction Identifiers"})}),"\n",(0,r.jsx)(e.li,{children:"[COM_BINLOG_DUMP_GTID]"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["MariaDB\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://mariadb.com/kb/en/mariadb/global-transaction-id/",children:"Global Transaction ID"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://mariadb.com/blog/mariadb-10-gtid-explained",children:"MariaDB 1- GTID explain"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://mariadb.com/blog/enabling-gtids-server-replication-mariadb-100",children:"Enabling GTIDs for server replication in MariaDB 10.0"}),"\n[com_binlog_dump_gtid]: ",(0,r.jsx)(e.a,{href:"http://dev.mysql.com/doc/internals/en/com-binlog-dump-gtid.html",children:"http://dev.mysql.com/doc/internals/en/com-binlog-dump-gtid.html"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,l.M)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},38088:(n,e,i)=>{var r=i(96651),l=Symbol.for("react.element"),s=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(n,e,i){var r,s={},c=null,o=null;for(r in void 0!==i&&(c=""+i),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(o=e.ref),e)t.call(e,r)&&!d.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:l,type:n,key:c,ref:o,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},2488:(n,e,i)=>{n.exports=i(38088)},62780:(n,e,i)=>{i.d(e,{I:()=>a,M:()=>t});var r=i(96651);const l={},s=r.createContext(l);function t(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);