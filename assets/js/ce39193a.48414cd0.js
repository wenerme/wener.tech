/*! For license information please see ce39193a.48414cd0.js.LICENSE.txt */
"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([[27804],{12636:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var t=s(11527),i=s(47214);const l={title:"eslint"},r="eslint",c={id:"web/dev/eslint",title:"eslint",description:"- eslint-plugin-import",source:"@site/../notes/web/dev/eslint.md",sourceDirName:"web/dev",slug:"/web/dev/eslint",permalink:"/notes/web/dev/eslint",draft:!1,unlisted:!1,editUrl:"https://github.com/wenerme/wener/edit/master/notes/../notes/web/dev/eslint.md",tags:[],version:"current",lastUpdatedBy:"wener",lastUpdatedAt:1688206885,formattedLastUpdatedAt:"Jul 1, 2023",frontMatter:{title:"eslint"},sidebar:"docs",previous:{title:"elysia",permalink:"/notes/web/dev/elysia"},next:{title:"graphile-worker",permalink:"/notes/web/dev/graphile-worker"}},o={},d=[{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"disable/false positive",id:"disablefalse-positive",level:2},{value:"tslint",id:"tslint",level:2},{value:"The file does not match your project config",id:"the-file-does-not-match-your-project-config",level:2},{value:"eslint decorators consistent-type-imports",id:"eslint-decorators-consistent-type-imports",level:2},{value:"The keyword &#39;import&#39; is reserved",id:"the-keyword-import-is-reserved",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"eslint",children:"eslint"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx eslint \"src/**\" --ext .ts --ext .tsx\n\nTIMING=1 npx eslint src # \u8f93\u51fa\u65f6\u95f4\uff0c\u6392\u67e5\u6162\u7684\u63d2\u4ef6\n\n# fix single rule\n# eslint --fix --rule 'quotes: [2, double]' .\neslint --no-eslintrc --parser @typescript-eslint/parser --fix --rule 'prefer-const: 1' src/**/*.ts\n\neslint --env-info\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"eslint-plugin-import"}),"\n",(0,t.jsx)(n.li,{children:"eslint-plugin-react"}),"\n",(0,t.jsx)(n.li,{children:"eslint-plugin-jsx-a11y"}),"\n",(0,t.jsxs)(n.li,{children:["react/react-in-jsx-scope\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4e0d\u8981\u6c42 ",(0,t.jsx)(n.code,{children:"import React from 'react'"})]}),"\n",(0,t.jsxs)(n.li,{children:["ESBuild \u8fd8\u4e0d\u652f\u6301 jsx - \u56e0\u6b64\u9700\u8981 ",(0,t.jsx)(n.code,{children:"import React"})," - ",(0,t.jsx)(n.a,{href:"https://github.com/evanw/esbuild/issues/334",children:"esbuild#334"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://eslint.org",children:"eslint.org"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://eslint.org/docs/latest/rules/",children:"rules"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/typescript-eslint/typescript-eslint",children:"typescript-eslint"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://typescript-eslint.io/rules/",children:"rules"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/vercel/next.js/tree/canary/packages/eslint-config-next",children:"https://github.com/vercel/next.js/tree/canary/packages/eslint-config-next"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"NextJS"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/xojs/eslint-config-xo-typescript",children:"xojs/eslint-config-xo-typescript"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/standard/eslint-config-standard-with-typescript",children:"standard/eslint-config-standard-with-typescript"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/standard/eslint-config-standard-with-typescript/blob/master/src/index.ts",children:"https://github.com/standard/eslint-config-standard-with-typescript/blob/master/src/index.ts"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:".eslintrc.{js,yml,json,cjs}"}),"\n",(0,t.jsxs)(n.li,{children:["eslint.config.js\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ESM"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53c2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://eslint.org/docs/latest/use/configure/configuration-files",children:"https://eslint.org/docs/latest/use/configure/configuration-files"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://eslint.org/docs/latest/use/configure/configuration-files-new",children:"https://eslint.org/docs/latest/use/configure/configuration-files-new"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"ESLINT_USE_FLAT_CONFIG=true \u4e0d\u641c\u7d22 eslint.config.js"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  root: true,\n  // \u6269\u5c55\u73b0\u6709\u914d\u7f6e - \u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u53ef\u4ee5\u662f\u5305/\u6a21\u5757\n  // \u7f29\u5199\u903b\u8f91:\n  //   custom -> eslint-config-custom\n  //   @wener -> @wener/eslint-config\n  extends: ['@wener/eslint-config-custom'],\n  settings: {\n    next: {\n      rootDir: ['apps/*/'],\n    },\n  },\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"disablefalse-positive",children:"disable/false positive"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u5ffd\u7565\u5355\u4e2a\u89c4\u5219\n/*eslint eqeqeq:0*/\n\n// \u5ffd\u7565\u5355\u884c\n// eslint-disable-next-line\n\n// \u5ffd\u7565\u8303\u56f4\n/*eslint-disable */\nalert('foo');\n/*eslint-enable */\n\n// \u5ffd\u7565\u5f53\u524d\na == a; // eslint-disable-line\n"})}),"\n",(0,t.jsx)(n.h2,{id:"tslint",children:"tslint"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["@typescript-eslint/no-redeclare\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["ignoreDeclarationMerge\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"interface + interface"}),"\n",(0,t.jsx)(n.li,{children:"namespace + namespace"}),"\n",(0,t.jsx)(n.li,{children:"class + interface"}),"\n",(0,t.jsx)(n.li,{children:"class + namespace"}),"\n",(0,t.jsx)(n.li,{children:"class + interface + namespace"}),"\n",(0,t.jsx)(n.li,{children:"function + namespace"}),"\n",(0,t.jsx)(n.li,{children:"enum + namespace"}),"\n",(0,t.jsx)(n.li,{children:"\u6ca1\u6709 const + interface - utils \u5408\u96c6"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["@typescript-eslint/no-extraneous-class\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["allowStaticOnly\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u65b9\u4fbf\u66b4\u9732 utils \u5408\u96c6"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(n.h2,{id:"the-file-does-not-match-your-project-config",children:"The file does not match your project config"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title=".eslintrc.js"',children:"module.exports = {\n  ignorePatterns: ['.eslintrc.js'],\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"eslint-decorators-consistent-type-imports",children:"eslint decorators consistent-type-imports"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"tsconfig.json emitDecoratorMetadata=true"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"the-keyword-import-is-reserved",children:"The keyword 'import' is reserved"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "parserOptions": {\n    "sourceType": "module"\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},3354:(e,n,s)=>{var t=s(50959),i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,n,s){var t,l={},d=null,a=null;for(t in void 0!==s&&(d=""+s),void 0!==n.key&&(d=""+n.key),void 0!==n.ref&&(a=n.ref),n)r.call(n,t)&&!o.hasOwnProperty(t)&&(l[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===l[t]&&(l[t]=n[t]);return{$$typeof:i,type:e,key:d,ref:a,props:l,_owner:c.current}}n.Fragment=l,n.jsx=d,n.jsxs=d},11527:(e,n,s)=>{e.exports=s(3354)},47214:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>r});var t=s(50959);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);