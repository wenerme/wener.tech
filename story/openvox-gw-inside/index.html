<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/story/rss.xml" title="Wener Live &amp; Life Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/story/atom.xml" title="Wener Live &amp; Life Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Wener Live &amp; Life" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">OpenVox VoxStack ç½‘å…³åˆ†æ | Wener Live &amp; Life</title><meta data-react-helmet="true" property="og:title" content="OpenVox VoxStack ç½‘å…³åˆ†æ | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="å› ä¸ºæ·˜åˆ°ä¸€ä¸ªäºŒæ‰‹ OpenVox è¯­éŸ³ç½‘å…³ï¼Œå°±å¥½å¥‡&quot;é‡Œé¢&quot;é•¿ä»€ä¹ˆæ ·ã€‚"><meta data-react-helmet="true" property="og:description" content="å› ä¸ºæ·˜åˆ°ä¸€ä¸ªäºŒæ‰‹ OpenVox è¯­éŸ³ç½‘å…³ï¼Œå°±å¥½å¥‡&quot;é‡Œé¢&quot;é•¿ä»€ä¹ˆæ ·ã€‚"><meta data-react-helmet="true" property="og:url" content="https://wener.me/story/openvox-gw-inside"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wener.me/story/openvox-gw-inside"><link data-react-helmet="true" rel="alternate" href="https://wener.me/story/openvox-gw-inside" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wener.me/story/openvox-gw-inside" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.82b257c7.css">
<link rel="preload" href="/assets/js/runtime~main.e921aeef.js" as="script">
<link rel="preload" href="/assets/js/main.4c6dc16e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Wener</b></a><a class="navbar__item navbar__link" href="/notes/java/java">ç¬”è®°</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/story">æ•…äº‹</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/story/k8s-distro-compare">K8S Distro Compare</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/story/out-of-daily-work">æ—¥å¸¸å·¥ä½œä¹‹å¤–</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/story/how-i-build-my-site">æˆ‘çš„ç«™ç‚¹æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Ÿï¼</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/story/macos-wechat-backup">macOS å¾®ä¿¡å¤‡ä»½åŸç†</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/story/agi-vs-ami-vs-ari">å¦‚ä½•é€‰æ‹© Asterisk æ¥å£</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="blogPostTitle_GeHD">OpenVox VoxStack ç½‘å…³åˆ†æ</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-03-25T00:00:00.000Z">March 25, 2021</time> Â· 12 min read</div><div class="avatar margin-vert--md"><div class="avatar__intro"></div></div></header><div class="markdown"><p>å› ä¸ºæ·˜åˆ°ä¸€ä¸ªäºŒæ‰‹ OpenVox è¯­éŸ³ç½‘å…³ï¼Œå°±å¥½å¥‡&quot;é‡Œé¢&quot;é•¿ä»€ä¹ˆæ ·ã€‚</p><p>Let&#x27;s find out.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="vs-agu-e2m0800"></a>VS-AGU-E2M0800<a class="hash-link" href="#vs-agu-e2m0800" title="Direct link to heading">#</a></h2><ul><li>VS - VoxStack ç³»åˆ— - æ¨¡å—åŒ–ï¼Œçƒ­æ’æ‹”</li><li>AGU - Analog Gateway - æ¨¡æ‹Ÿç½‘å…³</li><li>è½¯ä»¶ 1.1.10</li><li>ç¡¬ä»¶ 1.0.0</li></ul><p>ä¸€å¼ å¡ä¸¤ä¸ªæ¨¡å—</p><ul><li>E2M8HJ9DJ68P - VS æ¨¡å—<ul><li>M83241G13 - Freescale Semiconductor - NXP<ul><li>Telecom Interface ICs C1K-LS102M 450MHz</li><li>IC C1K 450MHZ VOIP 448BGA</li></ul></li></ul></li><li>FXS-420 v1.2 - FS42HJ1KK4UY5<ul><li>S13215-FM</li></ul></li><li>FXO-400 v1.4 - FXODHJO2XT6L<ul><li>3019-FT 1718FF L0L4</li><li>Si3050-FT 1708EM F1Q5</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web-ç®¡ç†ç•Œé¢"></a>Web ç®¡ç†ç•Œé¢<a class="hash-link" href="#web-ç®¡ç†ç•Œé¢" title="Direct link to heading">#</a></h2><p>ç•Œé¢ç±»ä¼¼äºå®˜æ–¹æ¼”ç¤º http://admin:<a href="mailto:admin@demo.openvox.cn" target="_blank" rel="noopener noreferrer">admin@demo.openvox.cn</a>:65327</p><p>é€šè¿‡å¼€å¯ ssh, è´¦å·åè®¾ç½®ä¸º super å¯è·å–åˆ° root æƒé™ï¼Œé»˜è®¤ SSH ç«¯å£ 12345ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç¡¬ä»¶"></a>ç¡¬ä»¶<a class="hash-link" href="#ç¡¬ä»¶" title="Direct link to heading">#</a></h2><blockquote><p>æœªå¼€ç®±ï¼Œä¸ä¸€å®šå‡†ç¡®ã€‚</p></blockquote><table><thead><tr><th>-</th><th>è§„æ ¼</th></tr></thead><tbody><tr><td>å†…å­˜</td><td>120MB</td></tr><tr><td>CPU</td><td>ARMv6-compatible processor rev 5 (v6l)</td></tr></tbody></table><p><strong>Comcerto 1000 M83263G</strong></p><ul><li>ARM1136 - 2 Core, 650MHz</li><li>æ•è¿…ç§‘æŠ€/Mindspeed Technologies èŠ¯ç‰‡</li><li>Mindspeed ä¸»è¦æä¾› VoIP é¢†åŸŸè§£å†³æ–¹æ¡ˆ - DSP, LTE, Transcede</li><li>VoIP, Security Engine, PCIe 2, RGMII 2</li><li>SDRAM 16/32 bit DDR2-800/667/533</li><li>L1 ç¼“å­˜ 2x(64K D<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">/</mi><mn>64</mn><mi>K</mi><mi>I</mi></mrow><annotation encoding="application/x-tex">/64K I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">/</span><span class="mord">6</span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span></span>)</li><li>VoIP èƒ½åŠ›<ul><li>Field hardened voice features</li><li>World class acoustic echo cancellation technology</li><li>Narrow and wideband codecs</li><li>G.711, G.729, G.722, G.723.1, iLBC, T.38, G.729.1, G.722.2, AMR, AMR Wideband</li><li>Enhanced echo canceller, CID-I/II, VAD/CNG, AGC</li><li>3-Way conferencing</li></ul></li><li>TDM/PCM interface for glue-less VoIP support</li><li>2009 å¹´</li></ul><p><strong>/proc/cpuinfo</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Processor   : ARMv6-compatible processor rev 5 (v6l)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">BogoMIPS    : 648.80</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Features    : swp half thumb fastmult edsp java</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CPU implementer : 0x41</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CPU architecture: 6TEJ</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CPU variant : 0x1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CPU part    : 0xb36</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CPU revision    : 5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Hardware    : Comcerto 1000 (EVM)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Revision    : 0000</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Serial      : 0000000000000000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ<a class="hash-link" href="#ç³»ç»Ÿç¯å¢ƒ" title="Direct link to heading">#</a></h2><blockquote><p>åº•å±‚åŸºäº OpenWrt</p></blockquote><table><thead><tr><th>-</th><th>-</th></tr></thead><tbody><tr><td>uname -a</td><td>Linux General 2.6.33.5 #4 Tue Aug 29 20:38:01 CST 2017 armv6l unknown</td></tr><tr><td>Busybox</td><td>1.4.2</td></tr><tr><td>Asterisk</td><td>1.8.20.0 / 1.8.X å‘å¸ƒäº 2010-10-21 EOL 2015-10-21</td></tr><tr><td>dahdi</td><td>2.6.0</td></tr><tr><td>dcra</td><td>0.1.0</td></tr></tbody></table><blockquote><p>Busybox applet</p><p>[, [[, arping, ash, awk, awx, basename, bunzip2, bzcat, cat, chgrp, chmod, chown, chroot, clear, cp, crond, crontab, cut, date, df, dirname, dmesg, du, echo, egrep, env, expr, false, fgrep, find, free, getty, grep, gunzip, gzip, halt, head, hostid, hostname, httpd, id, ifconfig, init, insmod, ipkg, kill, killall, killall5, klogd, length, less, ln, lock, logger, login, logread, ls, lsmod, md5sum, mdev, mesg, mkdir, mkfifo, mknod, mktemp, mount, mv, nc, netmsg, netstat, nice, nslookup, passwd, pidof, ping, ping6, pivot_root, poweroff, printf, ps, pwd, rdate, reboot, renice, reset, rm, rmdir, rmmod, route, sed, seq, sh, sleep, sort, strings, stty, switch_root, sync, sysctl, syslogd, tail, tar, tee, telnet, test, time, top, touch, tr, traceroute, true, tty, udhcpc, umount, uname, uniq, uptime, vconfig, vi, watchdog, wc, wget, which, xargs, yes, zcat</p></blockquote><p><strong>cmdline</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">init=/etc/preinit ubi.mtd=4,2048 ubi.block=0,0 root=/dev/ubiblk0_0 ro rootfstype=squashfs hwaddress=eth0,a0:98:05:0e:04:8e hwaddress=eth2,00:03:7F:0B:00:01 console=ttyS0,115200 mtdparts=comcertonand:256k(uboot),128k(env),128K(param),4M(kernel),20M(root),4M(ekernel),20M(eroot),16M(config),-(system) partno=M83263G fppmode=1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>å†…æ ¸æ¨¡å—</strong></p><table><thead><tr><th>Module</th><th>Size</th><th>Used by</th></tr></thead><tbody><tr><td>wctdmc1k</td><td>30096</td><td>16</td></tr><tr><td>dcra</td><td>8524</td><td>1 wctdmc1k</td></tr><tr><td>dahdi</td><td>185948</td><td>17 wctdmc1k</td></tr><tr><td>krtpd</td><td>148520</td><td>0</td></tr><tr><td>csmencaps</td><td>14740</td><td>2</td></tr><tr><td>led_key</td><td>2500</td><td>4</td></tr></tbody></table><ul><li>dahdi<ul><li>wctdmc1k - OpenVox æ¨¡æ‹Ÿä¿¡å·å¤„ç†æ¨¡å—<ul><li>WCTDMC1K è®¾å¤‡é©±åŠ¨ - Mindspeed å¼€å‘çš„èŠ¯ç‰‡é©±åŠ¨</li></ul></li><li>dcra - opvx_dcra - Access Dahdi Channel Registers through procfs</li></ul></li><li>csmencaps - åº”è¯¥æ˜¯ FX å¤„ç†ç›¸å…³æ¨¡å—</li><li>led_key - åº”è¯¥æ˜¯é©±åŠ¨é¢æ¿ led çš„</li><li>krtpd - Kernel RTP proxy for Asterisk - openvox å¼€å‘<ul><li>ç±»ä¼¼åŠŸèƒ½å¼€æº <a href="https://github.com/sipwise/rtpengine" target="_blank" rel="noopener noreferrer">sipwise/rtpengine</a></li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">filename:       /lib/modules/2.6.33.5/dcra.ko</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">license:        GPL v2</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">alias:          opvx_dcra</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description:    Access Dahdi Channel Registers through procfs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">parmtype:       maxchan:int</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">parmtype:       debug:int</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">depends:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vermagic:       2.6.33.5 mod_unload ARMv6</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>ä¸»è¦ç”¨æˆ·è¿›ç¨‹</strong></p><table><thead><tr><th>proc</th><th>desc</th></tr></thead><tbody><tr><td>/bin/php /my_tools/keeper</td><td></td></tr><tr><td>/bin/php /my_tools/logfile_monitor</td><td></td></tr><tr><td>/my_tools/checkasteriskstat</td><td></td></tr><tr><td>/my_tools/ntpclient</td><td>æ—¶é—´åŒæ­¥</td></tr><tr><td>/my_tools/resetkey</td><td></td></tr><tr><td>/my_tools/sys_restore</td><td></td></tr><tr><td>/my_tools/watchdog</td><td></td></tr><tr><td>/usr/sbin/crond</td><td>å®šæ—¶ä»»åŠ¡</td></tr><tr><td>/webservice/service</td><td></td></tr><tr><td>asterisk -g</td><td>asterisk ä¸»è¿›ç¨‹</td></tr><tr><td>dropbear -p 12345</td><td>SSH å®ˆæŠ¤è¿›ç¨‹</td></tr><tr><td>lighttpd -f /etc/lighttpd.conf -m /usr/lib/lighttpd</td><td>Web æœåŠ¡</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç³»ç»Ÿç›®å½•"></a>ç³»ç»Ÿç›®å½•<a class="hash-link" href="#ç³»ç»Ÿç›®å½•" title="Direct link to heading">#</a></h3><ul><li>/www -&gt; /tmp/web/www</li><li>/tmp/web/www - cgi-bin css images index.html js lang - ç®¡ç†åº”ç”¨</li><li>/data/<ul><li>info/</li><li>log/<ul><li>cdr.db - SQLite é€šè¯è®°å½•</li><li>sys-log - ç³»ç»Ÿæ—¥å¿—</li><li>update.txt - æ›´æ–°æ—¥å¿—</li></ul></li><li>sms/</li></ul></li><li>/my_tools/ - ç³»ç»Ÿå·¥å…·</li><li>/webservice/service - æœåŠ¡</li><li>/version<ul><li>version - ç³»ç»Ÿç‰ˆæœ¬</li><li>build_time - æ„å»ºæ—¶é—´</li><li>cfg_ver_list - é…ç½®ç‰ˆæœ¬ - å†…å®¹ <code>1.1.10</code></li><li>def_cfg.tar.gz - asterisk é…ç½®å¤‡ä»½</li><li>openvpn.sample_configs.tar.gz</li><li>sip_bendpoints.sample_configs.tar.gz</li></ul></li></ul><p><strong>ç³»ç»ŸæŒ‚è½½</strong></p><table><thead><tr><th>dev</th><th>size</th><th>path</th><th>fstype</th></tr></thead><tbody><tr><td>/dev/ubiblk0_0</td><td>16.1M</td><td>/</td><td>rootfs, squashfs</td></tr><tr><td>none</td><td>57.5M</td><td>/tmp</td><td>tmpfs</td></tr><tr><td>tmpfs</td><td>512.0k</td><td>/dev</td><td>tmpfs</td></tr><tr><td>/dev/mtdblock7</td><td>16.0M</td><td>/etc/asterisk</td><td>jffs2</td></tr><tr><td>/dev/mtdblock8</td><td>63.5M</td><td>/data</td><td>jffs2</td></tr></tbody></table><p><strong>mtd åˆ†åŒº</strong></p><table><thead><tr><th>mtd</th><th>fs</th><th>range</th><th>name</th><th>size</th><th>mount</th></tr></thead><tbody><tr><td>mtd0</td><td></td><td>0x000000000000-0x000000040000</td><td>uboot</td><td>256k</td><td></td></tr><tr><td>mtd1</td><td></td><td>0x000000040000-0x000000060000</td><td>env</td><td>128k</td><td></td></tr><tr><td>mtd2</td><td></td><td>0x000000060000-0x000000080000</td><td>param</td><td>128K</td><td></td></tr><tr><td>mtd3</td><td></td><td>0x000000080000-0x000000480000</td><td>kernel</td><td>4M</td><td></td></tr><tr><td>mtd4</td><td>ubi0</td><td>0x000000480000-0x000001880000</td><td>root</td><td>20MB</td><td>/</td></tr><tr><td>mtd5</td><td></td><td>0x000001880000-0x000001c80000</td><td>ekernel</td><td>4M</td><td></td></tr><tr><td>mtd6</td><td></td><td>0x000001c80000-0x000003080000</td><td>eroot</td><td>20M</td><td></td></tr><tr><td>mtd7</td><td>jffs2</td><td>0x000003080000-0x000004080000</td><td>config</td><td>16M</td><td>/etc/asterisk</td></tr><tr><td>mtd8</td><td>jffs2</td><td>0x000004080000-0x000008000000</td><td>system</td><td>63.5MB</td><td>/data</td></tr></tbody></table><p><strong>v1.1.23</strong></p><p>ç‰ˆæœ¬å˜åŒ–åº•å±‚ç³»ç»Ÿå’Œè½¯ä»¶å‡æ— å˜åŒ–ï¼Œå˜åŒ–çš„ä¸»è¦æ˜¯ php ä»£ç å’Œéƒ¨åˆ†é…ç½®ã€‚</p><table><thead><tr><th>-</th><th>-</th></tr></thead><tbody><tr><td>uname -a</td><td>Linux General 2.6.33.5 #23 Mon Oct 14 17:12:50 CST 2019 armv6l unknown</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å®‰è£…åŒ…"></a>å®‰è£…åŒ…<a class="hash-link" href="#å®‰è£…åŒ…" title="Direct link to heading">#</a></h3><blockquote><p>ipkg list</p></blockquote><table><thead><tr><th>pkg</th><th>ver</th></tr></thead><tbody><tr><td>base-files-comcerto1000</td><td>14-unknown</td></tr><tr><td>busybox</td><td>1.4.2-1</td></tr><tr><td>cmm</td><td>7.00-5</td></tr><tr><td>cyclesoak</td><td>none-1</td></tr><tr><td>dropbear</td><td>0.49-1</td></tr><tr><td>ethtool</td><td>3-0</td></tr><tr><td>hotplug2</td><td>0.9-1</td></tr><tr><td>ip</td><td>2.6.23-1</td></tr><tr><td>kernel</td><td>2.6.33.5-comcerto1000-1</td></tr><tr><td>kmod-csme</td><td>2.6.33.5+2.14.0-comcerto1000-1</td></tr><tr><td>kmod-fci</td><td>2.6.33.5+7.00-comcerto1000-1</td></tr><tr><td>kmod-fpp-csme</td><td>2.6.33.5+2.14.0-comcerto1000-1</td></tr><tr><td>kmod-fpp-driver</td><td>2.6.33.5-comcerto1000-1</td></tr><tr><td>kmod-ipt-conntrack</td><td>2.6.33.5-comcerto1000-1</td></tr><tr><td>kmod-ipt-core</td><td>2.6.33.5-comcerto1000-1</td></tr><tr><td>kmod-matisse</td><td>1.00-0</td></tr><tr><td>kmod-nf-conntrack-netlink</td><td>2.6.33.5-comcerto1000-1</td></tr><tr><td>kmod-nfnetlink</td><td>2.6.33.5-comcerto1000-1</td></tr><tr><td>ldd</td><td>14</td></tr><tr><td>libc</td><td>2.7-14</td></tr><tr><td>libcli</td><td>1.9.3-1</td></tr><tr><td>libgcc</td><td>4.1.2-14</td></tr><tr><td>libgdbm</td><td>1.8.3-0</td></tr><tr><td>libgmp</td><td>4.2.1-1</td></tr><tr><td>libiptc</td><td>1.4.7-1</td></tr><tr><td>libncurses</td><td>5.2-8</td></tr><tr><td>libnfconntrack</td><td>0.0.100</td></tr><tr><td>libnfnetlink</td><td>1.0.0</td></tr><tr><td>libopenssl</td><td>0.9.8q-1</td></tr><tr><td>libpcap</td><td>1.1.1-2</td></tr><tr><td>libpopt</td><td>1.7-4</td></tr><tr><td>libpthread</td><td>2.7-14</td></tr><tr><td>librt</td><td>2.7-14</td></tr><tr><td>libstdcpp</td><td>4.1.2-14</td></tr><tr><td>libxtables</td><td>1.4.7-1</td></tr><tr><td>msp-firmware</td><td>2.6.33.5+3.00.11-comcerto1000-1</td></tr><tr><td>mtd</td><td>5</td></tr><tr><td>ntpclient</td><td>2003_194-2</td></tr><tr><td>openssl-util</td><td>0.9.8q-1</td></tr><tr><td>ppp</td><td>2.4.3-7</td></tr><tr><td>ppp-mod-pppoe</td><td>2.4.3-7</td></tr><tr><td>rp-pppoe-client</td><td>3.8-1</td></tr><tr><td>udevtrigger</td><td>106-1</td></tr><tr><td>vapi</td><td>2.14.0</td></tr><tr><td>zlib</td><td>1.2.3-3</td></tr></tbody></table><p><strong>/etc/ipkg.conf</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/etc/ipkg.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">src snapshots http://openwrt.org/downloads/snapshots/$S/packages</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dest root /</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dest ram /tmp</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç³»ç»Ÿå·¥å…·my_tools"></a>ç³»ç»Ÿå·¥å…·/my_tools<a class="hash-link" href="#ç³»ç»Ÿå·¥å…·my_tools" title="Direct link to heading">#</a></h3><table><thead><tr><th>name</th><th>type</th><th>desc</th></tr></thead><tbody><tr><td>add_syslog</td><td>shell</td><td>log åˆ° syslog</td></tr><tr><td>addkey_client.sh</td><td>shell</td><td></td></tr><tr><td>addkey_server.sh</td><td>shell</td><td></td></tr><tr><td>astmanproxy</td><td></td><td>Asterisk Manager Proxy</td></tr><tr><td>checkAsteriskProc.sh</td><td>shell</td><td>æ£€æµ‹å¹¶å¯åŠ¨ dahdi å’Œ asterisk</td></tr><tr><td>checkCapture.sh</td><td>shell</td><td>dahdi åœæ­¢ dump ç»™å®š chanid</td></tr><tr><td>checkStartFinish.sh</td><td>shell</td><td>sleep 1000s é‡å¯</td></tr><tr><td>checkasteriskstat</td><td></td><td></td></tr><tr><td>cluster_mode</td><td>php</td><td>é…ç½®é›†ç¾¤æ¨¡å¼ - master, slave, standalone</td></tr><tr><td>cluster_slave</td><td></td><td>slave åº”ç”¨</td></tr><tr><td>cpuusage</td><td></td><td>CPU ä½¿ç”¨æƒ…å†µ - ç±»ä¼¼ vmstat</td></tr><tr><td>eth_server.conf</td><td></td><td></td></tr><tr><td>fetch</td><td></td><td>è§£å¯†å›ºä»¶</td></tr><tr><td>get_backport</td><td></td><td></td></tr><tr><td>gwping</td><td></td><td>eth ping å®¢æˆ·ç«¯</td></tr><tr><td>gwpingd</td><td></td><td>eth_server - eth_server.conf ä¸ºé…ç½®æ–‡ä»¶</td></tr><tr><td>if_monitor</td><td></td><td></td></tr><tr><td>keeper</td><td></td><td>ä¿æŒè¿›ç¨‹å­˜åœ¨ - ç±»ä¼¼ supervisor</td></tr><tr><td>krtpd_cli</td><td></td><td></td></tr><tr><td>led_key.ko</td><td>å†…æ ¸æ¨¡å—</td><td></td></tr><tr><td>logfile_monitor</td><td>php</td><td>æ—¥å¿—ç›‘æ§</td></tr><tr><td>lstast</td><td></td><td></td></tr><tr><td>net_tool</td><td></td><td>è·å–ç½‘å¡ä¿¡æ¯</td></tr><tr><td>ntpclient</td><td></td><td>NTP å®¢æˆ·ç«¯</td></tr><tr><td>play_all_led</td><td></td><td>æ‰€æœ‰ LED äº®</td></tr><tr><td>process_cdr</td><td></td><td>CDR å¤„ç†</td></tr><tr><td>readDeviceID</td><td></td><td></td></tr><tr><td>resetkey</td><td></td><td></td></tr><tr><td>restore_cfg_file</td><td></td><td>æ¢å¤ asterisk é…ç½®æ–‡ä»¶</td></tr><tr><td>safe_append_to_file</td><td></td><td></td></tr><tr><td>safe_reboot</td><td>shell</td><td>reboot</td></tr><tr><td>set_busytone.sh</td><td>shell</td><td>fxomon.conf busytone è®¾ç½®</td></tr><tr><td>set_config</td><td></td><td>é…ç½®æ–‡ä»¶æ“ä½œ</td></tr><tr><td>set_default</td><td></td><td></td></tr><tr><td>set_registers.sh</td><td>shell</td><td>æ³¨å†Œ dcra</td></tr><tr><td>sys_restore</td><td></td><td></td></tr><tr><td>unpack.sh</td><td>shell</td><td>ç”¨äºè§£å‹å›ºä»¶ - unzip, md5 checmsum, è§£å¯†, unzip</td></tr><tr><td>watchdog</td><td></td><td></td></tr><tr><td>web_language_init</td><td>php</td><td>åˆå§‹åŒ– web çš„è¯­è¨€</td></tr></tbody></table><ul><li>astmanproxy<ul><li><a href="https://github.com/davetroy/astmanproxy" target="_blank" rel="noopener noreferrer">davetroy/astmanproxy</a></li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å›ºä»¶è§£å¯† - ç±»ä¼¼ fetch</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">openssl enc -aes-256-cbc -d -in firmware.img -pass pass:O7r8yGv0cdlNM4lQ -out firmware.tar.gz</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è·å–é…ç½®</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/my_tools/set_config /etc/asterisk/gw/web_server.conf get option_value general port </span><span class="token number" style="color:rgb(247, 140, 108)">2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å›ºä»¶"></a>å›ºä»¶<a class="hash-link" href="#å›ºä»¶" title="Direct link to heading">#</a></h2><p>å®˜ç½‘æä¾›å›ºä»¶ä¸‹è½½ <a href="https://www.openvox.cn/pub/firmwares" target="_blank" rel="noopener noreferrer">https://www.openvox.cn/pub/firmwares</a> , Web ç•Œé¢æ”¯æŒä¸Šä¼ æˆ–åœ¨çº¿æ›´æ–°ã€‚</p><p>å›ºä»¶æ›´æ–°ä¸Šä¼ é€»è¾‘ä½äº /www/cgi-bin/php/system-tools.php ã€‚
å›ºä»¶å‡†å¤‡å¥½åé€šè¿‡ /my_tools/unpack.sh è§£å‹å‡çº§ã€‚</p><p><strong>å›ºä»¶æ ¼å¼</strong></p><ul><li>AnalogGateway-current.bin -&gt; tar.gz<ul><li>firmware/AnalogGateway-1.1.20.img.md5</li><li>firmware/AnalogGateway-1.1.20.img - openssl enc&#x27;d data with salted password</li></ul></li><li>AnalogGateway-1.1.20.img - è§£å¯† -&gt; tar.gz<ul><li>AnalogGateway.img - åº”è¯¥ä¸ºç³»ç»Ÿé•œåƒ</li><li>key - AnalogGateway.img çš„ md5 checksum</li><li>u-boot.bin - bootloader</li><li>upgrade.sh - å‡çº§è„šæœ¬</li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¸‹è½½</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -O https://www.openvox.cn/pub/firmwares/Analog%20Gateway/AnalogGateway-current.bin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å›ºä»¶ä¸º tar.gz</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> zxvf AnalogGateway-current.bin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> firmware</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å›ºä»¶ç»è¿‡ openssl åŠ å¯† - è§£å¯†åä¸º tar.tz</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">openssl enc -aes-256-cbc -d -in AnalogGateway-*.img -pass pass:O7r8yGv0cdlNM4lQ -out AnalogGateway.tar.gz</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è§£å‹è·å–å®é™…å†…å®¹</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> firmware</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> zxvf AnalogGateway.tar.gz -C firmware</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>å›ºä»¶å‡çº§</strong></p><p>å›ºä»¶å‡çº§ä½¿ç”¨ openvox å†…ç½®çš„è‡ªå®šä¹‰å·¥å…· /usr/bin/auto_updateï¼Œä¸»è¦æ¶‰åŠæ“ä½œ mtdã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -i 1 - ä½¿ç”¨ ubiblk</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auto_update -i </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -b å‡çº§ ubook</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auto_update -b u-boot.bin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -f æ›´æ–°æ–‡ä»¶ï¼Œ -u å‡çº§ç³»ç»Ÿ</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">auto_update -u -f AnalogGateway.img</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é›†ç¾¤æ¨¡å¼"></a>é›†ç¾¤æ¨¡å¼<a class="hash-link" href="#é›†ç¾¤æ¨¡å¼" title="Direct link to heading">#</a></h2><p>è¿è¡Œæ¨¡å¼é€šè¿‡ /my_tools/cluster_mode é…ç½®ã€‚</p><p><strong>slave extension</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ini"><pre tabindex="0" class="prism-code language-ini codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include sip_general.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include sip_endpoints.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include sip_slave.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_macro.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_slave.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_dialmatchingrules.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># ext = slave_password+index</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[fxs-&lt;ext&gt;-&lt;master_ip&gt;]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; #00,1,playback(Ext_number)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; #00,n,agi(getsipbinding.sh)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; #00,n,Wait(1)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; #00,n,Hangup()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; s,1,Dial(SIP/$sip_extension-$slave_masterip)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; s,n,Hangup()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; *1*2*3*4,1,agi(factoryreset.sh)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; *1*2*3*4,n,Hangup()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; **,1,playback(IP_address)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; **,n,agi(geteth0ip.sh)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[sip-$sip_extension]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; _X.,1,GotoIf($[&quot;${SIP_HEADER(X-Best-Codec)}&quot; = &quot;&quot;]?dial)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; _X.,n,Set(SIP_CODEC=${SIP_HEADER(X-Best-Codec)})</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; _X.,n(dial),Dial(dahdi/${i}r1/${EXTEN},$DIALTIMEOUT)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">exten =&gt; _X.,n,Hangup()</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>master extension</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ini"><pre tabindex="0" class="prism-code language-ini codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include sip_general.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include sip_endpoints.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include sip_master.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_macro.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_fxs.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_master.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_internal.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_routing.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">;#include extensions_sipdef.conf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#include extensions_dialmatchingrules.conf</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="vs_usb-400"></a>VS_USB-400<a class="hash-link" href="#vs_usb-400" title="Direct link to heading">#</a></h2><ul><li>æ— çº¿ç½‘å…³</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç³»ç»Ÿç¯å¢ƒ-1"></a>ç³»ç»Ÿç¯å¢ƒ<a class="hash-link" href="#ç³»ç»Ÿç¯å¢ƒ-1" title="Direct link to heading">#</a></h3><ul><li>è½¯ä»¶ç‰ˆæœ¬ 2.1.22</li><li>ç¡¬ä»¶ç‰ˆæœ¬ 1.0</li><li>ä¸€ä¸ªä¸»æ§ï¼Œå¤šä¸ªæ¨¡å—ï¼Œæ¨¡å—ä¸å¸¦ CPU</li><li>æ— çº¿æ¨¡å—ä¸º é«˜é€š Gobi æ— çº¿å®½å¸¦èŠ¯ç‰‡æŠ€æœ¯ - GobiNet - USB é©±åŠ¨</li><li>é€šé“ STM32, åº•æ¿ MCU STM8</li><li>è¯¥ç‰ˆæœ¬åŒ…å« frpc - å…è®¸ openvox cloud å»ºç«‹é“¾æ¥ - æ˜ å°„äº† ssh å’Œ web</li></ul><blockquote><p>è¯¥ç‰ˆæœ¬æœ€å¤§çš„åŒºåˆ«æ˜¯æ¨¡å—ä¸åœ¨æ˜¯ç‹¬ç«‹ç³»ç»Ÿã€‚</p></blockquote><table><thead><tr><th>HW</th><th>Desc</th></tr></thead><tbody><tr><td>CPU</td><td>Intel(R) Atom(TM) CPU Z3735G @ 1.33GHz</td></tr><tr><td>Memory</td><td>1 G</td></tr><tr><td>Disk</td><td>16 G Flash</td></tr></tbody></table><table><thead><tr><th>SW</th><th>Desc</th></tr></thead><tbody><tr><td>Debian</td><td>8</td></tr><tr><td>uname -a</td><td>Linux Wireless-Gateway 4.19.81 #7 SMP Thu Feb 13 08:24:02 CST 2020 i686 i386</td></tr><tr><td>Busybox</td><td>v1.22.1</td></tr><tr><td>Asterisk</td><td>1.8.20.0</td></tr><tr><td>/proc/cmdline</td><td>BOOT_IMAGE=/vmlinuz ro root=LABEL=kernel1 intel_pstate=disable quiet console=ttyS0,115200n8</td></tr></tbody></table><p><strong>/proc/mtrr</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">reg00: base=0x0ffd00000 ( 4093MB), size=    4MB, count=1: write-protect</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reg01: base=0x000000000 (    0MB), size= 1024MB, count=1: write-back</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reg02: base=0x03e000000 (  992MB), size=   32MB, count=1: uncachable</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reg03: base=0x03d000000 (  976MB), size=   16MB, count=1: uncachable</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reg04: base=0x03ce00000 (  974MB), size=    2MB, count=1: uncachable</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reg05: base=0x03c800000 (  968MB), size=    4MB, count=1: uncachable</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>/proc/mounts</strong></p><table><thead><tr><th>dev</th><th>size</th><th>path</th><th>fs</th></tr></thead><tbody><tr><td>/dev/mmcblk0p6</td><td>487.9M</td><td>/etc/cfg</td><td>ext4</td></tr><tr><td>/dev/mmcblk0p7</td><td>487.9M</td><td>/data</td><td>ext4</td></tr><tr><td>/dev/mmcblk0p2</td><td>92.8M</td><td>/boot</td><td>ext4</td></tr><tr><td>/dev/mmcblk0p4</td><td>28.9M</td><td>/gateway</td><td>squashfs</td></tr></tbody></table><p><strong>modules</strong></p><ul><li>GobiNet - é©±åŠ¨æ— çº¿æ¨¡å—</li><li>usb_wwan</li><li>cdc_acm</li><li>ch341</li><li>usbserial - ä¾èµ– USB ä¸²å£</li><li>cdc_ether</li><li>usbnet</li><li>r8152</li><li>snd_pcm</li><li>snd_timer</li><li>i2c_hid</li><li>i2c_algo_bit</li><li>soundcore</li><li>sdhci_acpi</li><li>button</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç³»ç»Ÿç›®å½•-1"></a>ç³»ç»Ÿç›®å½•<a class="hash-link" href="#ç³»ç»Ÿç›®å½•-1" title="Direct link to heading">#</a></h3><ul><li>/my_tools -&gt; /gateway/my_tools</li><li>/sound -&gt; /gateway/sound</li><li>/webservice -&gt; /gateway/webservice</li><li>/version -&gt; /gateway/version</li><li>/www -&gt; /gateway/www</li><li>/conf</li><li>/data<ul><li>log/<ul><li>cdr.db</li><li>smsinbox.db</li><li>smsoutbox.db</li></ul></li></ul></li><li>/etc<ul><li>cfg/ - Asteris é…ç½® - ç‹¬ç«‹æŒ‚è½½ - å¯å¤‡ä»½<ul><li>gw/ - ç½‘å…³é…ç½®<ul><li>n2n/ - 2 å±‚ Mesh ç»„ç½‘</li><li>sim840w.conf - SIM æ¨¡å—é…ç½® - AT å‘½ä»¤ä¹‹ç±»</li><li>sim6320.conf - SIM æ¨¡å—é…ç½®</li><li>uc15.conf - SIM æ¨¡å—é…ç½® - UC15</li><li>sms.conf - çŸ­ä¿¡é…ç½®</li></ul></li><li>cloud/ - åº”è¯¥æ˜¯ openvox äº‘å¹³å°ä¹‹ç±»çš„ - <a href="https://cloud.openvox.com.cn/" target="_blank" rel="noopener noreferrer">https://cloud.openvox.com.cn/</a><ul><li>cloud.conf</li><li>frpc.ini - openvox è®¿é—® ssh å’Œ web çš„åé—¨</li></ul></li></ul></li><li>udev/rules.d/<ul><li>gobinet.rules - GobiNet æ˜ å°„ - <code>/sys/class/net/gobinet*</code></li><li>internet.rules - æ¨¡å—å†…éƒ¨ usbnet æ˜ å°„ - ä¼š symlink åˆ° <code>/dev/opvx/</code></li></ul></li></ul></li><li>/tmp<ul><li>hw_info.cfg - ç¡¬ä»¶é…ç½® - ç”±äºç”Ÿæˆ asterisk gw_gsm.conf å’Œ extra-channels.conf é…ç½®</li></ul></li><li>/usr/sbin/cloudMain</li><li>/usr/sbin/cloudExternal</li><li>/usr/sbin/cloudNat</li><li>/gateway - å®Œæ•´ç½‘å…³ç³»ç»Ÿ - ç‹¬ç«‹æŒ‚è½½<ul><li>www/ - PHP ç½‘ç«™</li><li>my_tools/ - å·¥å…·é›†</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="asterisk"></a>Asterisk<a class="hash-link" href="#asterisk" title="Direct link to heading">#</a></h2><blockquote><p>ä¸ç®¡ä»€ä¹ˆç‰ˆæœ¬çš„ç½‘å…³ï¼ŒAsterisk çš„ç‰ˆæœ¬ä¼¼ä¹éƒ½æ²¡æœ‰å˜è¿‡ - 1.8.20.0</p></blockquote><table><thead><tr><th>mod</th><th>desc</th></tr></thead><tbody><tr><td>chan_extra</td><td>GSM/CDMA Telephony Driver FOR Asterisk</td></tr></tbody></table><ul><li>chan_extra<ul><li>OpenVox å¼€å‘çš„æ— çº¿æ¨¡å— - GSM, CDMA å’Œæ–°çš„ LTE å‡ä½¿ç”¨è¯¥æ¨¡å—</li><li>opvxg4xx é©±åŠ¨æä¾›æ”¯æŒ</li><li>é…ç½®æ–‡ä»¶ extra-channels.conf, chan_extra.conf</li><li>GSM, CDMA åŸºäº DAHDi</li><li>4G LTE åŸºäº GobiNet å†…æ ¸é©±åŠ¨</li><li>é©±åŠ¨ä¸‹è½½ <a href="https://www.openvox.cn/pub/misc/GSM/" target="_blank" rel="noopener noreferrer">https://www.openvox.cn/pub/misc/GSM/</a></li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">modprobe opvxg4xx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Asterisk å‘½ä»¤</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">gsm show spans</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/story/tags/åµŒå…¥å¼">åµŒå…¥å¼</a><a class="margin-horiz--sm" href="/story/tags/ç³»ç»Ÿ">ç³»ç»Ÿ</a><a class="margin-horiz--sm" href="/story/tags/vo-ip">VoIP</a></div><div class="col margin-top--sm"><a href="https://github.com/wenerme/wener/edit/master/story/2021/2021-03-25-openvox-gw-inside.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/story/agi-vs-ami-vs-ari"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« å¦‚ä½•é€‰æ‹© Asterisk æ¥å£</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/story/fix-init-script"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">è®°å½•ä¸€æ¬¡ä¿®å¤ init è„šæœ¬çš„ç»å† Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#vs-agu-e2m0800" class="table-of-contents__link">VS-AGU-E2M0800</a></li><li><a href="#web-ç®¡ç†ç•Œé¢" class="table-of-contents__link">Web ç®¡ç†ç•Œé¢</a></li><li><a href="#ç¡¬ä»¶" class="table-of-contents__link">ç¡¬ä»¶</a></li><li><a href="#ç³»ç»Ÿç¯å¢ƒ" class="table-of-contents__link">ç³»ç»Ÿç¯å¢ƒ</a><ul><li><a href="#ç³»ç»Ÿç›®å½•" class="table-of-contents__link">ç³»ç»Ÿç›®å½•</a></li><li><a href="#å®‰è£…åŒ…" class="table-of-contents__link">å®‰è£…åŒ…</a></li><li><a href="#ç³»ç»Ÿå·¥å…·my_tools" class="table-of-contents__link">ç³»ç»Ÿå·¥å…·/my_tools</a></li></ul></li><li><a href="#å›ºä»¶" class="table-of-contents__link">å›ºä»¶</a></li><li><a href="#é›†ç¾¤æ¨¡å¼" class="table-of-contents__link">é›†ç¾¤æ¨¡å¼</a></li><li><a href="#vs_usb-400" class="table-of-contents__link">VS_USB-400</a><ul><li><a href="#ç³»ç»Ÿç¯å¢ƒ-1" class="table-of-contents__link">ç³»ç»Ÿç¯å¢ƒ</a></li><li><a href="#ç³»ç»Ÿç›®å½•-1" class="table-of-contents__link">ç³»ç»Ÿç›®å½•</a></li></ul></li><li><a href="#asterisk" class="table-of-contents__link">Asterisk</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ç¬”è®°</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip">VoIP</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Wener&#x27;s Apis<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright Â© 1992-2021 Wener - <img alt="cc-by-sa-4.0" src="https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"> - Build @2021-08-23 05:26</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e921aeef.js"></script>
<script src="/assets/js/main.4c6dc16e.js"></script>
</body>
</html>