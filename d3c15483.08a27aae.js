(window.webpackJsonp=window.webpackJsonp||[]).push([[500],{560:function(t,e,a){"use strict";a.r(e),a.d(e,"frontMatter",(function(){return c})),a.d(e,"metadata",(function(){return l})),a.d(e,"rightToc",(function(){return i})),a.d(e,"default",(function(){return p}));var n=a(2),r=a(7),b=(a(0),a(661)),c={title:"udhcpc"},l={unversionedId:"os/busybox/udhcpc",id:"os/busybox/udhcpc",isDocsHomePage:!1,title:"udhcpc",description:"udhcpc",source:"@site/notes/os/busybox/udhcpc.md",slug:"/os/busybox/udhcpc",permalink:"/notes/os/busybox/udhcpc",editUrl:"https://github.com/wenerme/wener/edit/master/notes/os/busybox/udhcpc.md",version:"current"},i=[{value:"Tips",id:"tips",children:[]}],o={rightToc:i};function p(t){var e=t.components,a=Object(r.a)(t,["components"]);return Object(b.b)("wrapper",Object(n.a)({},o,a,{components:e,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"udhcpc"},"udhcpc"),Object(b.b)("h2",{id:"tips"},"Tips"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://udhcp.busybox.net/README.udhcpc"}),"https://udhcp.busybox.net/README.udhcpc")),Object(b.b)("li",{parentName:"ul"},"/usr/share/udhcpc/default.script"),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://wiki.alpinelinux.org/wiki/Udhcpc"}),"https://wiki.alpinelinux.org/wiki/Udhcpc")),Object(b.b)("li",{parentName:"ul"},"signals",Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"SIGUSR1 - \u5237\u65b0\u72b6\u6001\uff0c\u4f1a\u4ece\u65b0\u83b7\u53d6 IP"),Object(b.b)("li",{parentName:"ul"},"SIGUSR2 - \u91ca\u653e\u5f53\u524d\u79df\u7ea6\uff0c\u8fdb\u5165\u4e0d\u6d3b\u8dc3\u72b6\u6001\uff0c\u53d1\u9001 SIGUSR1 \u4fe1\u53f7\u53ef\u6fc0\u6d3b")))),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"udhcpc -i eth1 -q\n")),Object(b.b)("p",null,"\u811a\u672c\u53d8\u91cf"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"env"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"desc"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"$HOME")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"$HOME"),' \u53d8\u91cf\u6216 "/"')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"$PATH")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"$PATH"),' \u53d8\u91cf\u6216 "/bin:/usr/bin:/sbin:/usr/sbin"')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"$1")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"action")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"interface"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"interface")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ip"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ip")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"siaddr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"bootp next server option")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"sname"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"bootp server name option")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"boot_file"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"bootp boot file option")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"subnet"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"subnet mask")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"timezone"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Offset in seconds from UTC")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"router"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of routers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"timesvr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of time servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"namesvr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of IEN 116 name servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"dns"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of DNS server")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"logsvr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of MIT LCS UDP log servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"cookiesvr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of RFC 865 cookie servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"lprsvr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of LPR servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"hostname"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The assigned hostname")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"bootsize"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The length in 512 octect blocks of the bootfile")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"domain"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The domain name of the network")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"swapsvr"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The IP address of the client's swap server")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"rootpath"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The path name of the client's root disk")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ipttl"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The TTL to use for this network")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"mtu"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The MTU to use for this network")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"broadcast"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The broadcast address for this network")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ntpsrv"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of NTP servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"wins"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"A list of WINS servers")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"lease"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The lease time, in seconds")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"dhcptype"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"DHCP message type (safely ignored)")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"serverid"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The IP of the server")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"message"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Reason for a DHCPNAK")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"tftp"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The TFTP server name")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"bootfile"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"The bootfile name")))))}p.isMDXComponent=!0},661:function(t,e,a){"use strict";a.d(e,"a",(function(){return O})),a.d(e,"b",(function(){return u}));var n=a(0),r=a.n(n);function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},b=Object.keys(t);for(n=0;n<b.length;n++)a=b[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);for(n=0;n<b.length;n++)a=b[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var o=r.a.createContext({}),p=function(t){var e=r.a.useContext(o),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},O=function(t){var e=p(t.components);return r.a.createElement(o.Provider,{value:e},t.children)},j={inlineCode:"code",wrapper:function(t){var e=t.children;return r.a.createElement(r.a.Fragment,{},e)}},d=r.a.forwardRef((function(t,e){var a=t.components,n=t.mdxType,b=t.originalType,c=t.parentName,o=i(t,["components","mdxType","originalType","parentName"]),O=p(a),d=n,u=O["".concat(c,".").concat(d)]||O[d]||j[d]||b;return a?r.a.createElement(u,l(l({ref:e},o),{},{components:a})):r.a.createElement(u,l({ref:e},o))}));function u(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var b=a.length,c=new Array(b);c[0]=d;var l={};for(var i in e)hasOwnProperty.call(e,i)&&(l[i]=e[i]);l.originalType=t,l.mdxType="string"==typeof t?t:n,c[1]=l;for(var o=2;o<b;o++)c[o]=a[o];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);