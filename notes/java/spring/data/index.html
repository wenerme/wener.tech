<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script><title data-react-helmet="true">Spring Data | Wener Live &amp; Life</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Spring Data | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="Spring Data"><meta data-react-helmet="true" property="og:description" content="Spring Data"><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/java/spring/data"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wener.me/notes/java/spring/data"><link rel="stylesheet" href="/styles.6b6d4237.css">
<link rel="preload" href="/styles.9c4bc1ab.js" as="script">
<link rel="preload" href="/runtime~main.bcc4d1fe.js" as="script">
<link rel="preload" href="/main.95964c87.js" as="script">
<link rel="preload" href="/1.80f2b93b.js" as="script">
<link rel="preload" href="/2.395acabf.js" as="script">
<link rel="preload" href="/3.5aea0ba7.js" as="script">
<link rel="preload" href="/1be78505.f77339e6.js" as="script">
<link rel="preload" href="/499.9a1edea9.js" as="script">
<link rel="preload" href="/935f2afb.c1694bf2.js" as="script">
<link rel="preload" href="/17896441.33806843.js" as="script">
<link rel="preload" href="/12df649c.fe5b074f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a><a class="navbar__item navbar__link" href="/notes/java/java">ç¬”è®°</a><a class="navbar__item navbar__link" href="/blog">æ•…äº‹</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/notes/java/java">ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">æ•…äº‹</a></li><li class="menu__list-item"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/maven">Maven</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ç‰ˆæœ¬</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/version">Javaç‰ˆæœ¬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-11">Java 11</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-10">Java 10</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-9">Java 9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-8">Java 8</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-7">Java 7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-6">Java 6</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Spring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/spring">Spring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/boot">Spring Boot</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/notes/java/spring/data">Spring Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/data-rest">Spring Data REST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/security">Spring Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/security-oauth2">Spring Security OAuth2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/cloud">Spring Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/spring/releases">å‘å¸ƒå†å²</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/library/productive">ç”Ÿäº§åŠ›</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/library/hazelcast">Hazelcast</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/library/hibernate-orm">Hibernate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/library/hibernate-enver">Hibernate Enver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/library/quarkus">Quarkus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/library/guava">Guava</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å‰ç«¯æŠ€æœ¯</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ¡†æ¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/nextjs">NextJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/nextjs-version">NextJS ç‰ˆæœ¬å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/nextjs-cookbook">NextJS Cookbook</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/electron">Electron</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/vue">Vue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/angular">Angular</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/riot">Riot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/prisma">Prisma</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è¯­è¨€</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/languages">è¯­è¨€</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/parsing">è¯­æ³•è§£æ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/peg">PEG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/pegjs">PEG.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/php">PHP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/zig">Zig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-intro">Golang</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-template">Go æ¨¡æ¿</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-pkg-net-rpc">Go net/rpc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-kit">go-kit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/lua/lua">Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/lua/lua-version">Lua ç‰ˆæœ¬</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¼€å‘è¿ç»´</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/tracing/tracing">Tracing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æŒ‡æ ‡ç›‘æ§</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/metrics">æŒ‡æ ‡ç›‘æ§</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus">Prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/promql">PromQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus-exporter">Prometheus Exporter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/statsd_exporter">statsd_exporter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus-k8s">Prometheus K8S</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus-storage">Prometheus å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/grafana">Grafana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/thanos">Thanos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/cortex">Cortex</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/microservices">Microservices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/servicemesh">Service Mesh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/linkerd">Linkerd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/kuma">Kuma</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/consul">Consul</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/consul-conf">Consul é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/consul-connect">Consule Connect Mesh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/fabio">fabio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/web/nginx">Nginx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/web/caddy">Caddy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/web/traefik">Traefik</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å¹³å°æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/xaas/db-schema">Tenant DB Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/xaas/paas/dokku">Dokku</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">AlpineLinux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine">Alpine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-intro">Alpine å…¥é—¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-ops">Alpine è¿ç»´ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-pkgs">Alpine åŒ…ç»´æŠ¤</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-lbu">Alpine local backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-boot">Alpin Boot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-version">ç‰ˆæœ¬å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/alpine/alpine-faq">Alpine FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docker</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-intro">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-network">Docker ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-storage">Docker å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-swarm">Docker Swarm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-cookbook">Docker å¸¸ç”¨æœåŠ¡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Kubernetes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k8s-intro">Kubernates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k8s-dashboard">Kubernates é¢æ¿</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k3s">K3S</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k3d">K3S in Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k8s-glossary">K8S è¯æ±‡è¡¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/helm-intro">HELM åŒ…ç®¡ç†å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/helm2">HELM2 - ä¸æ¨è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/rancher-intro">Rancher UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/rancher-rke">RKE - å®‰è£…å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/tool/kustomize">kustomize</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/tool/krew">krew</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/k8s-network">Kubernates ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/kong-ingress">Kong Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/nginx-ingress">Nginx Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/traefik-ingress">Traefik Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/metallb">MetalLB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/flannel">Flannel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/k8s-storage">Kubernates å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/longhorn">Longhorn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/k8s-nfs">NFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/rook">Rook</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å¹³å°</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/platform/knative-intro">Knative</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/platform/istio-intro">Istio æœåŠ¡ç½‘æ ¼</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">åº”ç”¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/cert-manager">Cert Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/k8s-consul">Consol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/harbor">Harbor</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æŒ‡å—</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">è¿ç»´</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/ops/alpine-admin-ansible">å¦‚ä½•é€šè¿‡ Ansible æ¥ç®¡ç† AlpineLinux ï¼Ÿ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/dns-prevent-spoofing">å¦‚ä½•é¿å… DNS æ±¡æŸ“ä¸”èƒ½æ­£å¸¸è®¿é—®å›½å†…åŸŸåï¼Ÿ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/tinc-get-started">å¦‚ä½•éƒ¨ç½² TINC ç½‘ç»œï¼Ÿ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/tinc-multi-path-failover">å¦‚ä½•é…ç½® TINC å®ç°å¤šè·¯å®¹ç¾ï¼Ÿ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/tinc-transparency-proxy">å¦‚ä½•åŸºäº TINC å®ç°é€æ˜ä»£ç†</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç³»ç»Ÿç®¡ç†</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/admin/htop">htop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/admin/mosh">MOSH</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">åŸºç¡€è®¾æ–½</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/infra">åŸºç¡€è®¾æ–½</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/ansible">Ansible</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/ansible-awx">Ansible AWX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/ansible-faq">ansible-faq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/terraform">Terraform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/terraform-provider">Terraform Provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/terraform-cookbook">Terraform å¸¸ç”¨è„šæœ¬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/packer">Packer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/cloud-init">Cloud Init</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è™šæ‹ŸåŒ–</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/virt">è™šæ‹ŸåŒ–</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/qemu-doc">QEMU æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/qemu-monitor">QEMUç›‘è§†å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/qemu-version">QEMU Version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/libvirt">Libvirt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/libvirtd">Libvirt Daemon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/libvirt-faq">Libvirtå¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/virt/virsh">Virsh</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¯åŠ¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/boot/syslinux">Syslinux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/linux/boot/uboot">U-Boot</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å·¥å…·</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/tool/network/ip-lookup">å¸¸ç”¨IPåœ°å€æ®µæŸ¥è¯¢</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ“ä½œç³»ç»Ÿ</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Darwin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/darwin/darwin">Darwin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/darwin/macos">macOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/darwin/brew">Brew</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Windows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/windows/windows">Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/windows/windows-dc">Windows åŸŸæ§</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/os/windows/windows-faq">Windows FAQ</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ•°æ®åº“</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/db">æ•°æ®åº“</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PostgreSQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/postgresql">PostgresSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/datatype">æ•°æ®ç±»å‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/fts">PostgreSQL å…¨æ–‡æ£€ç´¢</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/version">ç‰ˆæœ¬å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/postgresql-sql-faq">Pg SQL å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/timescale">TimeScale</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/postgrest-hello">PostREST å…¥é—¨éƒ¨ç½²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/hasura">Hasura</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å…³ç³»å‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/mysql">MySQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/mysql-gtid">MySQL GTID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/sqlite">SQLite</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ–‡æ¡£å‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/document/mongodb">MongoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/document/rethinkdb">RethinkDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/document/couchdb">CouchDB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">é”®å€¼å‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/kv">Key Value</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/redis">Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/lmdb">LMDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/leveldb">LevelDB</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å‚è€ƒ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/words">è¯æ±‡å¯¹æ¯”</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">è½¯ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/software/saas">SaaS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/software/glossary">å¼€å‘è¯æ±‡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç”¨æˆ·å¢é•¿</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/growth/formula">å¢é•¿ç›¸å…³å…¬å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/growth/glossary">å¢é•¿ç›¸å…³è¯æ±‡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">çƒ¹é¥ª</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/cook/glossary">çƒ¹é¥ªè¯æ±‡</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">åº”ç”¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/application/dns">DNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/application/http">HTTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/application/ssl">SSL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">é“¾è·¯</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/link/wireless">æ— çº¿ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/link/infiniband">InfiniBand</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç§æœ‰</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/intro">ç§æœ‰ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/tinc">Tinc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/privoxy">Privoxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/privoxy-action">Privoxy Action</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/ipsec">IPSec</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/wireguard">WireGuard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/vpn-faq">ç§æœ‰è™šæ‹Ÿç½‘ç»œå¸¸è§é—®é¢˜</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å·¥å…·</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/intro">ç½‘ç»œç›¸å…³å·¥å…·é›†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/bonding">Bonding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/dnsmasq">dnsmasq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/ifconfig">ifconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/mitmproxy">MitmProxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/nmap">NMap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/powerdns">PowerDNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/wireshark">Wireshark</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/standard/ieee-802">IEEE 802</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/intro">Storage</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å—å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/block/raid">RAID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/block/mdadm">mdadm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/block/lvm">LVM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ–‡ä»¶å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/intro">Filesystem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/zfs">ZFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/btrfs">Btrfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/fuse">FUSE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/nfs">NFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/smb">Samba</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/fs/ntfs">NTFS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œå­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/network/share">Share</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/network/sshfs">SSHFS</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¼€å‘æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Auth</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth">Auth æ¦‚å¿µ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth-faq">è®¤è¯æˆæƒå¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/keycloak">Keycloak</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/keycloak-dev">Keycloak å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/keycloak-faq">Keycloak å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/louketo">Louketo Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/oauth2-proxy">oauth2-proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/ldap">LADP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/ldap-schema">LDAP Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/ldif">LDIF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/apacheds">Apache Directory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/apacheds-ops">ApacheDS è¿ç»´</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/apacheds-kerberos">ApacheDS Kerberos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/kerberos">Kerberos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/kerberos-faq">Kerberos FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/oauth">OAuth</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/jwt">JWT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth-protocol">åè®®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth-glossary">è¯æ±‡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å†…å®¹ç®¡ç†</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/cms/cms">CMS æ¦‚è§ˆ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Office</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/office/office">åŠå…¬å¥—ä»¶</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/office/collabora">Collabora Online</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/office/onlyoffice">ONLYOFFICE</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å®¢æˆ·å…³ç³»ç®¡ç†</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/crm/crm-insight">ç†è§£ CRM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ–‡ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/file/nextcloud">NextCloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/file/nextcloud-config">Nextcloud é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/file/nextcloud-faq">Nextcloud FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/seaweedfs">seaweedfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/minio">Minio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/minio-operator">MinIO Kubernetes Operator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph">Ceph</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph-glossary">Ceph æœ¯è¯­</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph-k8s">Ceph Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph-ubuntu-16-install">Ubuntu 16.04 å®‰è£… Ceph</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/distributed-storage">åˆ†å¸ƒå¼å­˜å‚¨</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ä»“åº“</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/repository/nexus">Nexus</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è¿ç»´</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/remote-desktop">è¿œç¨‹æ¡Œé¢</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/matomo">Matomo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gitlab</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/gitlab-config">GitLabé…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/gitlab-cicd">GitaLabæŒç»­é›†æˆæŒç»­äº¤ä»˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/gitlab-k8s">GitLab K8S é›†æˆ</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç¡¬ä»¶</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç¡¬ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/hardware/battery/battery">ç”µæ± </a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">VoIP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/voip-intro">VoIP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/hardware/intro">ç¡¬ä»¶è®¾å¤‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/sip/provider">SIP æä¾›å•†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/glossary">è¯æ±‡è¡¨</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Asterisk</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/intro">Asterisk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/version">Asterisk ç‰ˆæœ¬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/asterisk-moduls">Asterisk Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/dev">å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/conf">Asterisk é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/dialplan">æ‹¨å·è®¡åˆ’</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/codec">Asterisk ç¼–ç </a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/chan_dahdi">DAHDi Channel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/chan_dongle">chan_dongle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/reference">å‚è€ƒ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/glossory">Asterisk è¯æ±‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/the-definitive-guide-4th">Asterisk æƒå¨æŒ‡å—,ç¬¬å››ç‰ˆ</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Spring Data</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="spring-data"></a>Spring Data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spring-data" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="tips"></a>Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tips" title="Direct link to heading">#</a></h2><ul><li><a href="https://github.com/spring-projects/spring-data-examples" target="_blank" rel="noopener noreferrer">Spring Data ç¤ºä¾‹</a></li><li><a href="http://docs.spring.io/spring-data/commons/docs/current/reference/html/" target="_blank" rel="noopener noreferrer">Spring Data Commons æ–‡æ¡£</a></li><li>å®ç°å°† PathVariable ä»ä¸»é”®è½¬ä¸ºå®ä½“çš„è½¬æ¢å™¨ä¸º DomainClassConverter<ul><li>ä¸»è¦ä½¿ç”¨: Repositories, RepositoryInformation, RepositoryInvoker è¿›è¡Œæ“ä½œ</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="note"></a>Note<a aria-hidden="true" tabindex="-1" class="hash-link" href="#note" title="Direct link to heading">#</a></h2><ul><li><p><code>RepositoryMetadata</code></p></li><li><p><code>RepositoryInformation</code></p></li><li><p><code>RepositoryQuery</code></p><ul><li>æŠ½è±¡æ¥å£, ç”¨äºæ‰§è¡Œæ‰€æœ‰æ•°æ®ä»“åº“æ“ä½œ</li></ul></li><li><p><code>PartTree</code></p><ul><li>ç”¨äºå°†æ–¹æ³•åè½¬æ¢ä¸ºæŸ¥è¯¢æ–¹æ³•</li><li><code>^(find|read|get|query|stream|count|exists|delete|remove)((\p{Lu}.*?))??By</code></li></ul></li><li><p><code>PersistenceExceptionTranslationInterceptor</code></p><ul><li>å¤„ç†æ•°æ®ä»“åº“è°ƒç”¨è¿‡ç¨‹ä¸­çš„å¼‚å¸¸</li></ul></li><li><p>æŸ¥è¯¢æ–¹æ³•å¤„ç†é“¾</p><ul><li><code>SurroundingTransactionDetectorMethodInterceptor</code><ul><li>äº‹åŠ¡è®¾ç½®</li></ul></li><li><code>ExposeInvocationInterceptor</code></li><li><code>DefaultMethodInvokingMethodInterceptor</code><ul><li>å¤„ç† <code>default</code> æ–¹æ³•</li></ul></li><li><code>RepositoryFactorySupport$QueryExecutorMethodInterceptor</code></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="æ˜ å°„---orgspringframeworkdatamapping"></a>æ˜ å°„ - org.springframework.data.mapping<a aria-hidden="true" tabindex="-1" class="hash-link" href="#æ˜ å°„---orgspringframeworkdatamapping" title="Direct link to heading">#</a></h3><ul><li>å¤„ç†ä¸åŒ SpringData æŒä¹…åŒ–çš„ä¸­é—´å±‚æ˜ å°„</li><li><code>PersistentEntity&lt;T, P extends PersistentProperty&lt;P&gt;&gt; extends Iterable&lt;P&gt;</code><ul><li>ä¸€ä¸ªæŒä¹…åŒ–å¯¹è±¡</li></ul></li><li><code>PersistentProperty</code><ul><li>ä¸€ä¸ªæŒä¹…åŒ–å¯¹è±¡çš„å±æ€§</li><li><code>Association</code><ul><li>è¡¨ç¤ºå±æ€§ä¹‹é—´çš„å…³è”</li></ul></li><li>ä¸»è¦å®ç°<ul><li><code>JpaPersistentPropertyImpl</code><ul><li>JPA æŒä¹…åŒ–å¯¹è±¡çš„å±æ€§</li></ul></li></ul></li></ul></li><li><code>MutablePersistentEntity&lt;T, P extends PersistentProperty&lt;P&gt;&gt; extends PersistentEntity&lt;T, P&gt;</code><ul><li>åŒ…å«äº†ä¿®æ”¹æ–¹æ³•</li></ul></li><li><code>IdentifierAccessor</code></li><li><code>PersistentPropertyAccessor</code></li><li><code>MappingContext</code><ul><li>æ˜ å°„ä¸Šä¸‹æ–‡</li><li>è®°å½•äº†æ‰€æœ‰å·²çŸ¥çš„å®ä½“ç±»å‹</li><li><code>PersistentPropertyPath</code><ul><li>è¡¨ç¤ºä¸€ä¸ªæŒä¹…å±æ€§çš„è·¯å¾„</li></ul></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mongodb"></a>MongoDB<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mongodb" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// SpringData æŸ¥è¯¢æ—¥å¿—</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">logging.level.org.springframework.data.mongodb.core.MongoTemplate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> DEBUG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// MongoDB çš„æ—¥å¿—å·¥å…·ç±» com.mongodb.diagnostics.logging.Loggers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// å‰ç¼€ org.mongodb.driver ä¾‹å¦‚ æ“ä½œ operation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">logging.level.org.mongodb.driver.operation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> INFO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// æˆ–è€…æ‰“å¼€å…¨é‡çš„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// æ³¨æ„</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ä¾ç„¶æ˜¯çœ‹ä¸åˆ°å‘é€çš„æŸ¥è¯¢</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">logging.level.org.mongodb.driver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> INFO</span></div></div></div></div></div><ul><li>MongoDB çš„ Repository å®ç°<ul><li><code>org.springframework.data.mongodb.repository.support.SimpleMongoRepository</code></li><li><code>org.springframework.data.mongodb.repository.support.QueryDslMongoRepository</code></li></ul></li><li><code>MongoQueryMethod</code><ul><li>è§£æ Mongo çš„ Query æ³¨è§£</li></ul></li><li><code>PartTreeMongoQuery</code><ul><li>é€šè¿‡æ–¹æ³•è§£æåçš„ Query å®ä¾‹</li></ul></li><li><code>org.springframework.data.mongodb.core.query.Query</code><ul><li>å®é™…æŸ¥è¯¢</li></ul></li><li><code>org.springframework.data.mongodb.repository.support.SpringDataMongodbQuery</code><ul><li>QueryDSL Mongo çš„æŸ¥è¯¢å¯¹è±¡</li></ul></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyRepo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// åªè¿”å› tags å­—æ®µ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// æ³¨æ„: QueryDSL çš„ Predicate ä¸ä¼šè¢«ä½¿ç”¨</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fields </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;{&#x27;tags&#x27;:1}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">PageDocument</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findTagsBy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Predicate</span><span class="token plain"> predicate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å»ºè®®åŸºäº QueryDslMongoRepository å°†æŸ¥è¯¢å¯¹è±¡ä¸Šçš„ Path å‚æ•°æš´éœ²å‡ºæ¥, ä¾‹å¦‚</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Predicate</span><span class="token plain"> predicate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Path</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics operator" style="color:rgb(137, 221, 255)">?</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"> paths</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="entity-versions"></a>Entity Versions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-versions" title="Direct link to heading">#</a></h2><ul><li><a href="https://github.com/spring-projects/spring-data-envers" target="_blank" rel="noopener noreferrer">spring-projects/spring-data-envers</a></li><li>JPA æ‰©å±•, åŸºäº hibernate envers</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="spring-data-æŸ¥è¯¢å…³é”®å­—"></a>Spring Data æŸ¥è¯¢å…³é”®å­—<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spring-data-æŸ¥è¯¢å…³é”®å­—" title="Direct link to heading">#</a></h2><table><thead><tr><th>é€»è¾‘å…³é”®è¯</th><th>å…³é”®è¯è¡¨è¾¾å¼</th></tr></thead><tbody><tr><td>AND</td><td>And</td></tr><tr><td>OR</td><td>Or</td></tr><tr><td>AFTER</td><td>After, IsAfter</td></tr><tr><td>BEFORE</td><td>Before, IsBefore</td></tr><tr><td>CONTAINING</td><td>Containing, IsContaining, Contains</td></tr><tr><td>BETWEEN</td><td>Between, IsBetween</td></tr><tr><td>ENDING_WITH</td><td>EndingWith, IsEndingWith, EndsWith</td></tr><tr><td>EXISTS</td><td>Exists</td></tr><tr><td>FALSE</td><td>False, IsFalse</td></tr><tr><td>GREATER_THAN</td><td>GreaterThan, IsGreaterThan</td></tr><tr><td>GREATER_THAN_EQUALS</td><td>GreaterThanEqual, IsGreaterThanEqual</td></tr><tr><td>IN</td><td>In, IsIn</td></tr><tr><td>IS</td><td>Is, Equals, (or no keyword)</td></tr><tr><td>IS_NOT_NULL</td><td>NotNull, IsNotNull</td></tr><tr><td>IS_NULL</td><td>Null, IsNull</td></tr><tr><td>LESS_THAN</td><td>LessThan, IsLessThan</td></tr><tr><td>LESS_THAN_EQUAL</td><td>LessThanEqual, IsLessThanEqual</td></tr><tr><td>LIKE</td><td>Like, IsLike</td></tr><tr><td>NEAR</td><td>Near, IsNear</td></tr><tr><td>NOT</td><td>Not, IsNot</td></tr><tr><td>NOT_IN</td><td>NotIn, IsNotIn</td></tr><tr><td>NOT_LIKE</td><td>NotLike, IsNotLike</td></tr><tr><td>REGEX</td><td>Regex, MatchesRegex, Matches</td></tr><tr><td>STARTING_WITH</td><td>StartingWith, IsStartingWith, StartsWith</td></tr><tr><td>TRUE</td><td>True, IsTrue</td></tr><tr><td>WITHIN</td><td>Within, IsWithin</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="spring-data-è¿”å›ç»“æœç±»å‹"></a>Spring Data è¿”å›ç»“æœç±»å‹<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spring-data-è¿”å›ç»“æœç±»å‹" title="Direct link to heading">#</a></h2><table><thead><tr><th>è¿”å›ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>void</td><td>ä¸è¿”å›å€¼</td></tr><tr><td>åŸå­ç±»å‹</td><td>Java åŸå­ç±»å‹å€¼</td></tr><tr><td>åŒ…è£…ç±»å‹</td><td>Java åŒ…è£…ç±»å‹å€¼</td></tr><tr><td>T</td><td>An unique entity. Expects the query method to return one result at most. In case no result is found null is returned. More than one result will trigger an IncorrectResultSizeDataAccessException.</td></tr><tr><td>Iterator&lt;T&gt;</td><td>An Iterator.</td></tr><tr><td>Collection&lt;T&gt;</td><td>A Collection.</td></tr><tr><td>List&lt;T&gt;</td><td>A List.</td></tr><tr><td>Optional&lt;T&gt;</td><td>A Java 8 or Guava Optional. Expects the query method to return one result at most. In case no result is found Optional.empty()/Optional.absent() is returned. More than one result will trigger an IncorrectResultSizeDataAccessException.</td></tr><tr><td>Stream&lt;T&gt;</td><td>A Java 8 Stream.</td></tr><tr><td>Future&lt;T&gt;</td><td>A Future. Expects method to be annotated with @Async and requires Springâ€™s asynchronous method execution capability enabled.</td></tr><tr><td>CompletableFuture&lt;T&gt;</td><td>A Java 8 CompletableFuture. Expects method to be annotated with @Async and requires Springâ€™s asynchronous method execution capability enabled.</td></tr><tr><td>ListenableFuture</td><td>A org.springframework.util.concurrent.ListenableFuture. Expects method to be annotated with @Async and requires Springâ€™s asynchronous method execution capability enabled.</td></tr><tr><td>Slice</td><td>A sized chunk of data with information whether there is more data available. Requires a Pageable method parameter.</td></tr><tr><td>Page&lt;T&gt;</td><td>A Slice with additional information, e.g. the total number of results. Requires a Pageable method parameter.</td></tr><tr><td>GeoResult&lt;T&gt;</td><td>A result entry with additional information, e.g. distance to a reference location.</td></tr><tr><td>GeoResults&lt;T&gt;</td><td>A list of GeoResult&lt;T&gt; with additional information, e.g. average distance to a reference location.</td></tr></tbody></table><blockquote><p>ç©ºé—´åæ ‡ç±»å‹(GeoResult, GeoResults, GeoPage)åªæœ‰åœ¨å­˜å‚¨ç±»å‹æ”¯æŒç©ºé—´ç±»å‹æ—¶è¿”å›</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="jpa-repository-æ–¹æ³•è¯­æ³•"></a>JPA Repository æ–¹æ³•è¯­æ³•<a aria-hidden="true" tabindex="-1" class="hash-link" href="#jpa-repository-æ–¹æ³•è¯­æ³•" title="Direct link to heading">#</a></h2><ul><li><a href="http://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation" target="_blank" rel="noopener noreferrer">Repository æ–¹æ³•è¯­æ³•</a></li></ul><table><thead><tr><th>Keyword</th><th>Sample</th><th>JPQL snippet</th></tr></thead><tbody><tr><td>And</td><td>findByLastnameAndFirstname</td><td>â€¦ where x.lastname = ?1 and x.firstname = ?2</td></tr><tr><td>Or</td><td>findByLastnameOrFirstname</td><td>â€¦ where x.lastname = ?1 or x.firstname = ?2</td></tr><tr><td>Is,Equals</td><td>findByFirstname,findByFirstnameIs,findByFirstnameEquals</td><td>â€¦ where x.firstname = ?1</td></tr><tr><td>Between</td><td>findByStartDateBetween</td><td>â€¦ where x.startDate between ?1 and ?2</td></tr><tr><td>LessThan</td><td>findByAgeLessThan</td><td>â€¦ where x.age &lt; ?1</td></tr><tr><td>LessThanEqual</td><td>findByAgeLessThanEqual</td><td>â€¦ where x.age â‡ ?1</td></tr><tr><td>GreaterThan</td><td>findByAgeGreaterThan</td><td>â€¦ where x.age &gt; ?1</td></tr><tr><td>GreaterThanEqual</td><td>findByAgeGreaterThanEqual</td><td>â€¦ where x.age &gt;= ?1</td></tr><tr><td>After</td><td>findByStartDateAfter</td><td>â€¦ where x.startDate &gt; ?1</td></tr><tr><td>Before</td><td>findByStartDateBefore</td><td>â€¦ where x.startDate &lt; ?1</td></tr><tr><td>IsNull</td><td>findByAgeIsNull</td><td>â€¦ where x.age is null</td></tr><tr><td>IsNotNull,NotNull</td><td>findByAge(Is)NotNull</td><td>â€¦ where x.age not null</td></tr><tr><td>Like</td><td>findByFirstnameLike</td><td>â€¦ where x.firstname like ?1</td></tr><tr><td>NotLike</td><td>findByFirstnameNotLike</td><td>â€¦ where x.firstname not like ?1</td></tr><tr><td>StartingWith</td><td>findByFirstnameStartingWith</td><td>â€¦ where x.firstname like ?1 (parameter bound with appended %)</td></tr><tr><td>EndingWith</td><td>findByFirstnameEndingWith</td><td>â€¦ where x.firstname like ?1 (parameter bound with prepended %)</td></tr><tr><td>Containing</td><td>findByFirstnameContaining</td><td>â€¦ where x.firstname like ?1 (parameter bound wrapped in %)</td></tr><tr><td>OrderBy</td><td>findByAgeOrderByLastnameDesc</td><td>â€¦ where x.age = ?1 order by x.lastname desc</td></tr><tr><td>Not</td><td>findByLastnameNot</td><td>â€¦ where x.lastname &lt;&gt; ?1</td></tr><tr><td>In</td><td>findByAgeIn(Collection&lt;Age&gt; ages)</td><td>â€¦ where x.age in ?1</td></tr><tr><td>NotIn</td><td>findByAgeNotIn(Collection&lt;Age&gt; age)</td><td>â€¦ where x.age not in ?1</td></tr><tr><td>True</td><td>findByActiveTrue()</td><td>â€¦ where x.active = true</td></tr><tr><td>False</td><td>findByActiveFalse()</td><td>â€¦ where x.active = false</td></tr><tr><td>IgnoreCase</td><td>findByFirstnameIgnoreCase</td><td>â€¦ where UPPER(x.firstame) = UPPER(?1)</td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Enables the distinct flag for the query</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findDistinctPeopleByLastnameOrFirstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> firstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findPeopleDistinctByLastnameOrFirstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> firstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ä½¿ç”¨ Top å’Œ First</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findFirstByOrderByLastnameAsc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findTopByOrderByAgeDesc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Page</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">queryFirst10ByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Slice</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findTop3ByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findFirst10ByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Sort</span><span class="token plain"> sort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findTop10ByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è¿”å›ç»“æœæµ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;select u from User u&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Stream</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findAllByCustomQueryAndStream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// åªè¿”å›ç»“æœç‰‡æ®µ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Slice</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findTop3ByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// é€‰æ‹©å•ä¸ªè¿”å›,å¯è¿”å› Optional</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findFirstByOrderByLastnameAsc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Optional</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findTopByOrderByAgeDesc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¼‚æ­¥æ“ä½œ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Async</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Future</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findByFirstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> firstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">               </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Async</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">CompletableFuture</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findOneByFirstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> firstname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Async</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">ListenableFuture</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findOneByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Long</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">countByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">Long</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">deleteByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">removeByLastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> lastname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å•ç‹¬ä½¿ç”¨-repository"></a>å•ç‹¬ä½¿ç”¨ Repository<a aria-hidden="true" tabindex="-1" class="hash-link" href="#å•ç‹¬ä½¿ç”¨-repository" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">RepositoryFactorySupport</span><span class="token plain"> factory </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> â€¦ </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Instantiate factory here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepository</span><span class="token plain"> repository </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getRepository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å®ç°è‡ªå®šä¹‰æ¥å£"></a>å®ç°è‡ªå®šä¹‰æ¥å£<a aria-hidden="true" tabindex="-1" class="hash-link" href="#å®ç°è‡ªå®šä¹‰æ¥å£" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepositoryCustom</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">someCustomMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepositoryImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepositoryCustom</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">someCustomMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Your custom implementation</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepository</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CrudRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Long</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepositoryCustom</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Declare query methods here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ä¸ºæ‰€æœ‰-repository-æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•"></a>ä¸ºæ‰€æœ‰ Repository æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ä¸ºæ‰€æœ‰-repository-æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@NoRepositoryBean</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID </span><span class="token generics keyword" style="font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Serializable</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PagingAndSortingRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sharedCustomMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">ID</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyRepositoryImpl</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID </span><span class="token generics keyword" style="font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Serializable</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SimpleJpaRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">EntityManager</span><span class="token plain"> entityManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// æ„é€ å‡½æ•°å¿…é¡»è¦è¦æœ‰è¿™æ ·çš„ä¾èµ–æ³¨å…¥</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyRepositoryImpl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">JpaEntityInformation</span><span class="token plain"> entityInformation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">EntityManager</span><span class="token plain"> entityManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityInformation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> entityManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Keep the EntityManager around to used from the newly introduced methods.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">entityManager </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> entityManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sharedCustomMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">ID</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// implementation goes here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Configuration</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EnableJpaRepositories</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">repositoryBaseClass </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyRepositoryImpl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ApplicationConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> â€¦ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="åœ¨-query-ä¸­ä½¿ç”¨-spel-æ¥ä¹¦å†™é€šç”¨çš„-sql"></a>åœ¨ Query ä¸­ä½¿ç”¨ SpEL æ¥ä¹¦å†™é€šç”¨çš„ SQL<a aria-hidden="true" tabindex="-1" class="hash-link" href="#åœ¨-query-ä¸­ä½¿ç”¨-spel-æ¥ä¹¦å†™é€šç”¨çš„-sql" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@MappedSuperclass</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">abstract</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractMappedType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> attribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Entity</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ConcreteType</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractMappedType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> â€¦ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@NoRepositoryBean</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MappedTypeRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics"> </span><span class="token generics keyword" style="font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">AbstractMappedType</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Repository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Long</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;select t from #{#entityName} t where t.attribute = ?1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">List</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">findAllByAttribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> attribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ConcreteRepository</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MappedTypeRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">ConcreteType</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> â€¦ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="spring-web-é›†æˆ"></a>Spring Web é›†æˆ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spring-web-é›†æˆ" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ç›´æ¥ä½¿ç”¨å®ä½“å’Œç‰¹æ®Šå‚æ•°"></a>ç›´æ¥ä½¿ç”¨å®ä½“å’Œç‰¹æ®Šå‚æ•°<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ç›´æ¥ä½¿ç”¨å®ä½“å’Œç‰¹æ®Šå‚æ•°" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Controller</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/users&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/{id}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">showUserForm</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@PathVariable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Model</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">addAttribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;userForm&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><ul><li>é€šè¿‡ <code>DomainClassConverter</code> å®ç°å‚æ•°å®ä½“çš„æ³¨å…¥</li><li>é€šè¿‡ <code>HandlerMethodArgumentResolver</code> å®ç°ç‰¹æ®Šå‚æ•°(Pageable,Sort)çš„æ³¨å…¥</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ä½¿ç”¨å¤šä¸ªåˆ†é¡µå‚æ•°"></a>ä½¿ç”¨å¤šä¸ªåˆ†é¡µå‚æ•°<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ä½¿ç”¨å¤šä¸ªåˆ†é¡µå‚æ•°" title="Direct link to heading">#</a></h3><p>ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°åˆ†åˆ«é€šè¿‡ <code>foo_page</code> å’Œ <code>bar_page</code> æŒ‡å®š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">showUsers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Model</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Qualifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> first</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Qualifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> second</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> â€¦ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="spring-hateoas-æ”¯æŒåˆ†é¡µ"></a>Spring HATEOAS æ”¯æŒåˆ†é¡µ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#spring-hateoas-æ”¯æŒåˆ†é¡µ" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Controller</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PersonController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Autowired</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PersonRepository</span><span class="token plain"> repository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/persons&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RequestMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">HttpEntity</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">PagedResources</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">persons</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">PagedResourcesAssembler</span><span class="token plain"> assembler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">Page</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Person</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> persons </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> repository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">findAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">assembler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">toResources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">persons</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HttpStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ä½¿ç”¨-querydsl-å®ç°æŸ¥è¯¢å‚æ•°ç»‘å®š"></a>ä½¿ç”¨ Querydsl å®ç°æŸ¥è¯¢å‚æ•°ç»‘å®š<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ä½¿ç”¨-querydsl-å®ç°æŸ¥è¯¢å‚æ•°ç»‘å®š" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Controller</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Autowired</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepository</span><span class="token plain"> repository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RequestMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Model</span><span class="token plain"> model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@QuerydslPredicate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">root </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Predicate</span><span class="token plain"> predicate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestParam</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MultiValueMap</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> parameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">addAttribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;users&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> repository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">findAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">predicate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;index&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* å®šåˆ¶åŒ–ç»‘å®šæ–¹å¼ */</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepository</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CrudRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                 </span><span class="token class-name" style="color:rgb(255, 203, 107)">QueryDslPredicateExecutor</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                 </span><span class="token class-name" style="color:rgb(255, 203, 107)">QuerydslBinderCustomizer</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">QUser</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">               </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">customize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">QuerydslBindings</span><span class="token plain"> bindings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QUser</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bindings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">first</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">contains</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bindings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">first</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">StringPath</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">containsIgnoreCase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bindings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">excluding</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">                                           </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ä½¿ç”¨-hibernate-å®ç°è½¯åˆ é™¤"></a>ä½¿ç”¨ Hibernate å®ç°è½¯åˆ é™¤<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ä½¿ç”¨-hibernate-å®ç°è½¯åˆ é™¤" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Entity</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Where</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;deleted = 0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Hibernate æ³¨è§£</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">Integer</span><span class="token plain"> deleted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="è‡ªåŠ¨ç”Ÿæˆåˆ›å»ºæ—¶é—´å­—æ®µå’Œæ›´æ–°æ—¶é—´å­—æ®µ"></a>è‡ªåŠ¨ç”Ÿæˆåˆ›å»ºæ—¶é—´å­—æ®µå’Œæ›´æ–°æ—¶é—´å­—æ®µ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#è‡ªåŠ¨ç”Ÿæˆåˆ›å»ºæ—¶é—´å­—æ®µå’Œæ›´æ–°æ—¶é—´å­—æ®µ" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ==================== #1 =======================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EntityListeners</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token class-name" style="color:rgb(255, 203, 107)">AuditingEntityListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@MappedSuperclass</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Data</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@ToString</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EqualsAndHashCode</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">abstract</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractEntity</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Serializable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ==================== #2 =======================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Entity</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;entities&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Entity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token plain"> created</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token plain"> updated</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@PrePersist</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">onCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    created </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@PreUpdate</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">onUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    updated </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// =================== #3 ========================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@MappedSuperclass</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">abstract</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractTimestampEntity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">TemporalType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">TIMESTAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Column</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;created&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nullable </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token plain"> created</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">TemporalType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">TIMESTAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Column</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;updated&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nullable </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token plain"> updated</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@PrePersist</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">onCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      updated </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> created </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@PreUpdate</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">onUpdate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      updated </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Entity</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;campaign&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Campaign</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractTimestampEntity</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Serializable</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// =================== #4 ========================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EqualsAndHashCode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">callSuper </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Entity</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Data</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Accessors</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">chain </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EntityListeners</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">AuditingEntityListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">User</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractPersistable</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Long</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@CreatedDate</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">TemporalType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">TIMESTAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token plain"> createdDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@LastModifiedDate</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">TemporalType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">TIMESTAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token plain"> lastModifiedDate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="é“¾æ¥æ–­å¼€å¼‚å¸¸"></a>é“¾æ¥æ–­å¼€å¼‚å¸¸<a aria-hidden="true" tabindex="-1" class="hash-link" href="#é“¾æ¥æ–­å¼€å¼‚å¸¸" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">DataAccessResourceFailureException: could not prepare statement; nested exception is org.hibernate.exception.JDBCConnectionException: could not prepare statement</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 48,054,727 milliseconds ago.  The last packet sent successfully to the server was 48,054,727 milliseconds ago. is longer than the server configured value of &#x27;wait_timeout&#x27;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#x27;autoReconnect=true&#x27; to avoid this problem.</span></div></div></div></div></div><p>ä¸º MySQL ä½¿ç”¨ <code>&amp;autoReconnect=true&amp;failOverReadOnly=false&amp;maxReconnects=10</code> é“¾æ¥å‚æ•°</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="not-a-managed-type"></a>Not a managed type<a aria-hidden="true" tabindex="-1" class="hash-link" href="#not-a-managed-type" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@SpringBootApplication</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EntityScan</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">basePackageClasses </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyEntityPackage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyApp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ä½¿ç”¨-querydsl-æ„å»ºåŠ¨æ€æŸ¥è¯¢"></a>ä½¿ç”¨ QueryDSL æ„å»ºåŠ¨æ€æŸ¥è¯¢<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ä½¿ç”¨-querydsl-æ„å»ºåŠ¨æ€æŸ¥è¯¢" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BaseRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID </span><span class="token generics keyword" style="font-style:italic">extends</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Serializable</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JpaRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> ID</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JpaSpecificationExecutor</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">QueryDslPredicateExecutor</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UserRepository</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BaseRepository</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">User</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Long</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">PathBuilder</span><span class="token plain"> builder </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PathBuilder</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Preconditions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">checkNotNull</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">CaseFormat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">UPPER_CAMEL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">converterTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">CaseFormat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">LOWER_CAMEL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">convert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getSimpleName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Page</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">T</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Map</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Object</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">BooleanExpression</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> expressions </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">BooleanExpression</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Entry</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Object</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> entry </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">entrySet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        expressions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">eq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Expressions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">entityType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> repository</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">findAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">BooleanExpression</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">allOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">expressions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/notes/java/spring/boot"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Spring Boot</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/notes/java/spring/data-rest"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spring Data REST Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tips" class="table-of-contents__link">Tips</a></li><li><a href="#note" class="table-of-contents__link">Note</a><ul><li><a href="#æ˜ å°„---orgspringframeworkdatamapping" class="table-of-contents__link">æ˜ å°„ - org.springframework.data.mapping</a></li></ul></li><li><a href="#mongodb" class="table-of-contents__link">MongoDB</a></li><li><a href="#entity-versions" class="table-of-contents__link">Entity Versions</a></li><li><a href="#spring-data-æŸ¥è¯¢å…³é”®å­—" class="table-of-contents__link">Spring Data æŸ¥è¯¢å…³é”®å­—</a></li><li><a href="#spring-data-è¿”å›ç»“æœç±»å‹" class="table-of-contents__link">Spring Data è¿”å›ç»“æœç±»å‹</a></li><li><a href="#jpa-repository-æ–¹æ³•è¯­æ³•" class="table-of-contents__link">JPA Repository æ–¹æ³•è¯­æ³•</a></li><li><a href="#å•ç‹¬ä½¿ç”¨-repository" class="table-of-contents__link">å•ç‹¬ä½¿ç”¨ Repository</a></li><li><a href="#å®ç°è‡ªå®šä¹‰æ¥å£" class="table-of-contents__link">å®ç°è‡ªå®šä¹‰æ¥å£</a></li><li><a href="#ä¸ºæ‰€æœ‰-repository-æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•" class="table-of-contents__link">ä¸ºæ‰€æœ‰ Repository æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•</a></li><li><a href="#åœ¨-query-ä¸­ä½¿ç”¨-spel-æ¥ä¹¦å†™é€šç”¨çš„-sql" class="table-of-contents__link">åœ¨ Query ä¸­ä½¿ç”¨ SpEL æ¥ä¹¦å†™é€šç”¨çš„ SQL</a></li><li><a href="#spring-web-é›†æˆ" class="table-of-contents__link">Spring Web é›†æˆ</a><ul><li><a href="#ç›´æ¥ä½¿ç”¨å®ä½“å’Œç‰¹æ®Šå‚æ•°" class="table-of-contents__link">ç›´æ¥ä½¿ç”¨å®ä½“å’Œç‰¹æ®Šå‚æ•°</a></li><li><a href="#ä½¿ç”¨å¤šä¸ªåˆ†é¡µå‚æ•°" class="table-of-contents__link">ä½¿ç”¨å¤šä¸ªåˆ†é¡µå‚æ•°</a></li><li><a href="#spring-hateoas-æ”¯æŒåˆ†é¡µ" class="table-of-contents__link">Spring HATEOAS æ”¯æŒåˆ†é¡µ</a></li><li><a href="#ä½¿ç”¨-querydsl-å®ç°æŸ¥è¯¢å‚æ•°ç»‘å®š" class="table-of-contents__link">ä½¿ç”¨ Querydsl å®ç°æŸ¥è¯¢å‚æ•°ç»‘å®š</a></li></ul></li><li><a href="#ä½¿ç”¨-hibernate-å®ç°è½¯åˆ é™¤" class="table-of-contents__link">ä½¿ç”¨ Hibernate å®ç°è½¯åˆ é™¤</a></li><li><a href="#è‡ªåŠ¨ç”Ÿæˆåˆ›å»ºæ—¶é—´å­—æ®µå’Œæ›´æ–°æ—¶é—´å­—æ®µ" class="table-of-contents__link">è‡ªåŠ¨ç”Ÿæˆåˆ›å»ºæ—¶é—´å­—æ®µå’Œæ›´æ–°æ—¶é—´å­—æ®µ</a></li><li><a href="#é“¾æ¥æ–­å¼€å¼‚å¸¸" class="table-of-contents__link">é“¾æ¥æ–­å¼€å¼‚å¸¸</a></li><li><a href="#not-a-managed-type" class="table-of-contents__link">Not a managed type</a></li><li><a href="#ä½¿ç”¨-querydsl-æ„å»ºåŠ¨æ€æŸ¥è¯¢" class="table-of-contents__link">ä½¿ç”¨ QueryDSL æ„å»ºåŠ¨æ€æŸ¥è¯¢</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¬”è®°</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/ops/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/k8s-intro">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip-intro">VoIP</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Projects</h4><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://travis-ci.com/wenerme/wener" title="wenerme/wener - travis-ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://travis-ci.com/wenerme/wener.svg?branch=master">
                </a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wenerme.github.io/deployments" title="GitHub Pages éƒ¨ç½²">éƒ¨ç½²çŠ¶æ€</a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wener&#x27;s Apis</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Wener Site" src="/img/wener-logo.svg"></div><div>Copyright Â© 1992-2020 Wener - æ„å»ºæ—¶é—´ 2020-10-12 23:20</div></div></div></footer></div>
<script src="/styles.9c4bc1ab.js"></script>
<script src="/runtime~main.bcc4d1fe.js"></script>
<script src="/main.95964c87.js"></script>
<script src="/1.80f2b93b.js"></script>
<script src="/2.395acabf.js"></script>
<script src="/3.5aea0ba7.js"></script>
<script src="/1be78505.f77339e6.js"></script>
<script src="/499.9a1edea9.js"></script>
<script src="/935f2afb.c1694bf2.js"></script>
<script src="/17896441.33806843.js"></script>
<script src="/12df649c.fe5b074f.js"></script>
</body>
</html>