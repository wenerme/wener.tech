<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-java/maven">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/story/rss.xml" title="Wener Live &amp; Life RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/story/atom.xml" title="Wener Live &amp; Life Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Wener Live &amp; Life" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css"><title data-rh="true">Maven | Wener Live &amp; Life</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wener.me/notes/java/maven"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Maven | Wener Live &amp; Life"><meta data-rh="true" name="description" content="Tips"><meta data-rh="true" property="og:description" content="Tips"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wener.me/notes/java/maven"><link data-rh="true" rel="alternate" href="https://wener.me/notes/java/maven" hreflang="en"><link data-rh="true" rel="alternate" href="https://wener.me/notes/java/maven" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://37P8DMWBKF-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a5b87add.css">
<link rel="preload" href="/assets/js/runtime~main.07b4d16f.js" as="script">
<link rel="preload" href="/assets/js/main.92dfd685.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_WawS">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_sWQn themedImage--light_HlbN"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_sWQn themedImage--dark__4Lo"></div><b class="navbar__title text--truncate">Wener</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes">笔记</a><a class="navbar__item navbar__link" href="/story">故事</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">指南</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pUOn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_N_jk colorModeToggle_wwB5"><button class="clean-btn toggleButton_gcuK toggleButtonDisabled_AJhd" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Eiwc"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_a3UO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_Ymm7"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_uXRe docsWrapper_AGYY"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_aXSw" type="button"></button><div class="docPage_Q_rn"><aside class="theme-doc-sidebar-container docSidebarContainer_GlFK"><div class="sidebar_ogDj"><nav class="menu thin-scrollbar menu_fqy9"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes">笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/algorithm">算法</a><button aria-label="Toggle the collapsible sidebar category &#x27;算法&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/blockchain">区块链</a><button aria-label="Toggle the collapsible sidebar category &#x27;区块链&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/culture/anime/anime-awesome">culture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/db">数据库</a><button aria-label="Toggle the collapsible sidebar category &#x27;数据库&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/design/ip">design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/dev/build/bazel">dev</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/devops">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/economics">经济学</a><button aria-label="Toggle the collapsible sidebar category &#x27;经济学&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/elastic/elasticsearch-v2">elastic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/electrical/multimeter">electrical</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/embedded/embedded-awesome">embedded</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/evolve">自我成长</a><button aria-label="Toggle the collapsible sidebar category &#x27;自我成长&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/game/mhr">game</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/hardware/arm">hardware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/healthcare">健康</a><button aria-label="Toggle the collapsible sidebar category &#x27;健康&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/howto/network/dns-prevent-spoofing">howto</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/notes/java">Java</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/java/apache/kylin">apache</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/gradle">Gradle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/hot-qa">热门问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/java-awesome">Java</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/java-concurrent">Concurrent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/java-faq">常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/java/java-native">Java Native</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/java/library/guava">library</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes/java/maven">Maven</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/java/spec/servlet">spec</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/java/spring">Spring</a><button aria-label="Toggle the collapsible sidebar category &#x27;Spring&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/java/version">Java版本</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java版本&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/languages">语言</a><button aria-label="Toggle the collapsible sidebar category &#x27;语言&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/mgmt/pm-awesome">mgmt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/network/application/dns">network</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/ops/admin/augeas">ops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/os/alpine">os</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/photography/camera-awesome">photography</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/platform">平台</a><button aria-label="Toggle the collapsible sidebar category &#x27;平台&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/queue">Queue</a><button aria-label="Toggle the collapsible sidebar category &#x27;Queue&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/reference/cook/glossary">reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/security/acme-awesome">security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/service/analytics/analytics-awesome">service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/tool">工具</a><button aria-label="Toggle the collapsible sidebar category &#x27;工具&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/voip">VoIP</a><button aria-label="Toggle the collapsible sidebar category &#x27;VoIP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/web">Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_BKoE"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_EYvA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_RaEK"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_nrhp"><div class="docItemContainer_EkVX"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GKCt" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OL5o"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/notes/java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Maven</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_oqr9 theme-doc-toc-mobile tocMobile_5aMT"><button type="button" class="clean-btn tocCollapsibleButton_CjyO">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Maven</h1></header><h2 id="tips">Tips</h2><ul><li>Maven 包类型<ul><li>pom - Project Object Model</li><li>jar - Java Application Archive</li><li>ear - Enterprise Application Archive</li><li>war - Web Application Archive</li><li>rar - Resource Adapter Archive</li></ul></li></ul><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>maven.javadoc.skip</td><td>不调用 Javadoc 插件</td></tr><tr><td>maven.test.skip</td><td>不编译测试，不执行测试</td></tr><tr><td>maven.test.skip.exec</td><td>不执行测试，但编译测试包</td></tr><tr><td>maven.repo.remote</td><td>远程仓库</td></tr><tr><td>maven.repo.local</td><td>本地仓库</td></tr><tr><td>socksProxyHost<br>socksProxyPort</td><td>Socks 代理</td></tr><tr><td>httpProxyHost<br>httpProxyPort</td><td>Http 代理</td></tr><tr><td>httpsProxyHost<br>httpsProxyPort</td><td>Https 代理</td></tr></tbody></table><pre><code>-pl, --projects
        Build specified reactor projects instead of all projects
-am, --also-make
        If project list is specified, also build projects required by the list
</code></pre><pre><code class="language-bash"># 修改远程仓库和本地仓库
mvn package \
  -Dmaven.repo.remote=http://maven.aliyun.com/nexus/content/groups/public \
  -Dmaven.repo.local=&quot;$HOME/repo&quot;

# 下载包
mvn dependency:get \
  -DrepoUrl=http://maven.aliyun.com/nexus/content/groups/public \
  -Dartifact=org.redisson:redisson:3.2.0

# 获取项目信息,在命令行下比较有用
mvn -q -Dexec.executable=&quot;echo&quot; -Dexec.args=&#x27;${project.artifactId}&#x27; --non-recursive org.codehaus.mojo:exec-maven-plugin:exec

# 强制更新 SNAPSHOT
mvn clean install -U
</code></pre><p>总量
<a href="https://search.maven.org/stats">https://search.maven.org/stats</a></p><p>官方 mirror
<a href="http://repo.maven.apache.org/maven2/.meta/repository-metadata.xml">http://repo.maven.apache.org/maven2/.meta/repository-metadata.xml</a></p><h2 id="pomxml">pom.xml</h2><ul><li><a href="https://maven.apache.org/pom.html">POM Reference</a></li></ul><h2 id="settingsxml">settings.xml</h2><ul><li>默认配置文件位于 <code>$HOME/.m2/settings.xml</code><ul><li>如果没有，可以从 Maven 安装目录拷贝</li></ul></li></ul><h3 id="代理设置">代理设置</h3><pre><code class="language-xml">&lt;proxy&gt;
    &lt;id&gt;myproxy&lt;/id&gt;
    &lt;active&gt;true&lt;/active&gt;
    &lt;protocol&gt;http&lt;/protocol&gt;
    &lt;host&gt;127.0.0.1&lt;/host&gt;
    &lt;port&gt;8087&lt;/port&gt;
    &lt;nonProxyHosts&gt;localhost|127.0.0.1&lt;/nonProxyHosts&gt;
&lt;/proxy&gt;
</code></pre><h2 id="镜像">镜像</h2><p>一般使用镜像有以下几种方式</p><ul><li>在 POM 中添加仓库<ul><li>粘贴复制下就能使用</li><li>会持久在项目中<ul><li>团队中其他人也不需要配置</li></ul></li><li>如果在镜像的仓库中找不到会在中央仓库找</li></ul></li><li>在 setting 中添加镜像<ul><li>需要调整 setting.xml 相对麻烦一些</li><li>在仓库中找不到会出错</li><li>当项目中有多个模块时,使用镜像可能会出现找不到本地模块的问题</li></ul></li><li>在 setting 中添加 profile</li></ul><h3 id="阿里云">阿里云</h3><p>可以在 POM 中加入如下仓库配置来使用 阿里云的 Maven 仓库镜像。</p><blockquote><p>⚠️ 注意
阿里云 Maven 仓库镜像同步相对较慢,可能几天或者十几天才能同步</p></blockquote><p><a href="https://repo.maven.apache.org/maven2/">https://repo.maven.apache.org/maven2/</a>
<a href="https://repo1.maven.apache.org/maven2/">https://repo1.maven.apache.org/maven2/</a></p><pre><code class="language-xml">&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;aliyun&lt;/id&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;aliyun&lt;/id&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
</code></pre><h3 id="谷歌">谷歌</h3><p>同步速度快,访问速度也很快,没有被封</p><pre><code class="language-xml">&lt;repositories&gt;
    &lt;repository&gt;
       &lt;id&gt;google&lt;/id&gt;
       &lt;url&gt;https://maven-central.storage.googleapis.com&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;google&lt;/id&gt;
        &lt;url&gt;https://maven-central.storage.googleapis.com&lt;/url&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
</code></pre><h3 id="settings">Settings</h3><p>也可以在 <code>settings.xml</code> 里配置</p><p>Android
<a href="https://maven.google.com/web/index.html">https://maven.google.com/web/index.html</a></p><pre><code class="language-xml">&lt;settings&gt;
  &lt;mirrors&gt;
    &lt;!-- Google --&gt;
    &lt;mirror&gt;
      &lt;id&gt;google-maven-central&lt;/id&gt;
      &lt;name&gt;Google Maven Central&lt;/name&gt;
      &lt;url&gt;https://maven-central.storage.googleapis.com&lt;/url&gt;
      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;/mirror&gt;
    &lt;!-- 阿里 --&gt;
    &lt;mirror&gt;
         &lt;id&gt;aliyun&lt;/id&gt;
         &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
         &lt;name&gt;aliyun&lt;/name&gt;
         &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
    &lt;/mirror&gt;
  &lt;/mirrors&gt;
&lt;/settings&gt;
</code></pre><h2 id="插件">插件</h2><ul><li>插件如果不制定 groupId 则默认为 <code>org.apache.maven.plugins</code></li><li><a href="https://maven.apache.org/plugins/">官方插件列表</a></li><li>默认生命周期包含的插件 <a href="https://maven.apache.org/ref/current/maven-core/default-bindings.html">Plugin Bindings for default Lifecycle Reference</a><ul><li>pom 包<ul><li>install - maven-install-plugin:install</li><li>deploy - maven-deploy-plugin:deploy</li></ul></li><li>jar 包<ul><li>process-resources - maven-resources-plugin:resources</li><li>compile - maven-compiler-plugin:compile</li><li>process-test-resources - maven-resources-plugin:testResources</li><li>test-compile - maven-compiler-plugin:testCompile</li><li>test - maven-surefire-plugin:test</li><li>package - maven-jar-plugin:jar</li><li>install - maven-install-plugin:install</li><li>deploy - maven-deploy-plugin:deploy</li></ul></li></ul></li></ul><p>mvn dependency:resolve -Dclassifier=javadoc
mvn dependency:resolve -Dclassifier=sources</p><pre><code>&lt;profile&gt;
    &lt;id&gt;downloadSources&lt;/id&gt;
    &lt;properties&gt;
        &lt;downloadSources&gt;true&lt;/downloadSources&gt;
        &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;
    &lt;/properties&gt;
&lt;/profile&gt;
</code></pre><activeprofiles><activeprofile>downloadSources</activeprofile></activeprofiles><p>mvn -N io.takari:maven:0.7.7:wrapper -Dmaven=3.6.3</p><h3 id="maven-install-plugin">maven-install-plugin</h3><h4 id="安装-jar-包到本地仓库">安装 Jar 包到本地仓库</h4><pre><code class="language-bash">mvn install:install-file \
  -Dfile=mylib-$VERSION.jar \
  -DgroupId=me.wener.lib \
  -DartifactId=mylib \
  -Dversion=$VERSION \
  -Dpackaging=jar \
  -DgeneratePom=true
</code></pre><h3 id="maven-jar-plugin">maven-jar-plugin</h3><ul><li><a href="https://maven.apache.org/plugins/maven-jar-plugin">Apache Maven JAR Plugin</a></li></ul><h3 id="maven-shade-plugin">maven-shade-plugin</h3><ul><li><a href="https://maven.apache.org/plugins/maven-shade-plugin/index.html">Apache Maven Shade Plugin</a></li></ul><pre><code class="language-xml">&lt;!-- 常用配置，按需粘贴 --&gt;
&lt;configuration&gt;
    &lt;!-- 不创建 reduced pom 文件 --&gt;
    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;
    &lt;!-- 附加 shaded 的文件，默认会上传 shaded 的问题 --&gt;
    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;
    &lt;!-- shaded 的 classfier，依赖时指定 classfier 即可 --&gt;
    &lt;shadedClassifierName&gt;jar-with-dependencies&lt;/shadedClassifierName&gt;
    &lt;!-- 排除签名相关，否则 shade 后签名异常，切排除 java9 后的 module 信息 --&gt;
    &lt;filters&gt;
        &lt;filter&gt;
            &lt;artifact&gt;*:*&lt;/artifact&gt;
            &lt;excludes&gt;
                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;
                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;
                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;
                &lt;exclude&gt;module-info.class&lt;/exclude&gt;
            &lt;/excludes&gt;
        &lt;/filter&gt;
    &lt;/filters&gt;
    &lt;artifactSet&gt;
        &lt;excludes&gt;
            &lt;!-- 排除包，不做 shade --&gt;
            &lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;
        &lt;/excludes&gt;
    &lt;/artifactSet&gt;
    &lt;!-- 转换，按需配置 --&gt;
    &lt;transformers&gt;
        &lt;!-- 合并文件为一个，附加的方式 --&gt;
        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;
            &lt;resource&gt;config.properties&lt;/resource&gt;
        &lt;/transformer&gt;
        &lt;!-- 处理 ServiceLoader 的定义 --&gt;
        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;
        &lt;!-- 合并 META-INF/NOTICE.TXT 文件 --&gt;
        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ApacheNoticeResourceTransformer&quot;/&gt;
    &lt;/transformers&gt;
    &lt;!-- 避免版本冲突，做 shade --&gt;
    &lt;relocations&gt;
        &lt;relocation&gt;
            &lt;pattern&gt;com.google.common&lt;/pattern&gt;
            &lt;shadedPattern&gt;me.wener.shade.guava&lt;/shadedPattern&gt;
        &lt;/relocation&gt;
    &lt;/relocations&gt;
&lt;/configuration&gt;
</code></pre><h4 id="shade-one--relocation">shade one &amp; relocation</h4><p>将 guava 重定位到 <code>me.wener.guava</code></p><pre><code class="language-xml">&lt;plugin&gt;
    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;shade&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;artifactSet&gt;
                    &lt;includes&gt;
                        &lt;include&gt;com.google.guava:guava&lt;/include&gt;
                    &lt;/includes&gt;
                &lt;/artifactSet&gt;
                &lt;relocations&gt;
                    &lt;relocation&gt;
                        &lt;pattern&gt;com.google.common&lt;/pattern&gt;
                        &lt;shadedPattern&gt;me.wener.guava&lt;/shadedPattern&gt;
                    &lt;/relocation&gt;
                &lt;/relocations&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre><h4 id="shade-all--relocation--new-jar">shade all &amp; relocation &amp; new jar</h4><p>会生成另外一个 jar <code>jraphql-${project.version}-shaded</code></p><pre><code class="language-xml">&lt;plugin&gt;
  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;phase&gt;package&lt;/phase&gt;
      &lt;goals&gt;
        &lt;goal&gt;shade&lt;/goal&gt;
      &lt;/goals&gt;
      &lt;configuration&gt;
        &lt;finalName&gt;jraphql-${project.version}-shaded&lt;/finalName&gt;
        &lt;relocations&gt;
          &lt;relocation&gt;
            &lt;pattern&gt;com.google.common&lt;/pattern&gt;
            &lt;shadedPattern&gt;shaded.com.google.common&lt;/shadedPattern&gt;
          &lt;/relocation&gt;
        &lt;/relocations&gt;
        &lt;artifactSet&gt;
          &lt;includes&gt;
            &lt;include&gt;*:*&lt;/include&gt;
          &lt;/includes&gt;
        &lt;/artifactSet&gt;
      &lt;/configuration&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre><h2 id="maven-release-plugin">maven-release-plugin</h2><ul><li><a href="http://maven.apache.org/maven-release/maven-release-plugin/">Maven Release Plugin</a></li><li>执行目标<ul><li>release:clean 在准备发布后清理</li><li>release:prepare 在 SCM 中生成准备提交</li><li>release:prepare-with-pom 在 SCM 中生成准备提交并生成 POM</li><li>release:rollback 回退之前的发布</li><li>release:perform 从 SCM 执行发布</li><li>release:stage 在制定的目录从 SCM 发布</li><li>release:branch 创建分支并更新版本</li><li>release:update-versions 更新 POM 中的版本</li></ul></li><li>基本的逻辑是先提交到 SCM，在从 SCM 拉取到一个临时目录进行构建发布</li></ul><pre><code class="language-bash"># 查看帮助
mvn release:help
# 准备发布
mvn release:clean release:prepare
# 执行发布
# deploy &amp; push
mvn release:perform
# 回滚操作
mvn release:rollback
</code></pre><h3 id="maven-gpg-plugin">maven-gpg-plugin</h3><ul><li><a href="https://maven.apache.org/plugins/maven-gpg-plugin">maven-gpg-plugin</a></li><li>在部署到仓库时一般要求做 gpg 签名</li><li><a href="https://github.com/sevntu-checkstyle/dsm-maven-plugin/wiki/How-to-config-GPG-and-sign-artifact-with-it">How to config GPG and sign artifact with it</a></li></ul><p>GPG 的基本操作</p><pre><code class="language-bash"># 生成 key
gpg --gen-key
# 查看 key
gpg --list-keys
# 上传
gpg --keyserver hkp://pool.sks-keyservers.net --send-keys 09CB6FEF
# 生成签名
gpg -ab artifact.jar
# 验证签名
gpg --verify artifact.jar.asc
</code></pre><p>在验证时进行签名操作</p><pre><code class="language-xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.4&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;sign-artifacts&lt;/id&gt;
            &lt;phase&gt;verify&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;sign&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre><h3 id="spring-boot-maven-plugin">spring-boot-maven-plugin</h3><ul><li><a href="https://docs.spring.io/spring-boot/docs/current/maven-plugin">Spring Boot Maven Plugin</a></li></ul><h3 id="生成-build-info">生成 build-info</h3><p>默认位置为 <code>META-INF/build-info.properties</code></p><pre><code class="language-xml">&lt;executions&gt;
  &lt;execution&gt;
    &lt;goals&gt;
      &lt;goal&gt;build-info&lt;/goal&gt;
    &lt;/goals&gt;
    &lt;configuration&gt;
      &lt;additionalProperties&gt;
        &lt;encoding.source&gt;UTF-8&lt;/encoding.source&gt;
        &lt;encoding.reporting&gt;UTF-8&lt;/encoding.reporting&gt;
        &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;
        &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;
      &lt;/additionalProperties&gt;
    &lt;/configuration&gt;
  &lt;/execution&gt;
&lt;/executions&gt;
</code></pre><h3 id="git-commit-id-plugin">git-commit-id-plugin</h3><ul><li><a href="https://github.com/ktoso/maven-git-commit-id-plugin">ktoso/maven-git-commit-id-plugin</a></li></ul><p>Maven plugin which includes build-time git repository information into an POJO / *.properties</p><h4 id="只生成部分属性">只生成部分属性</h4><pre><code class="language-xml">&lt;plugin&gt;
    &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;
    &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;revision&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;configuration&gt;
        &lt;verbose&gt;false&lt;/verbose&gt;
        &lt;dateFormat&gt;yyyy-MM-dd&#x27;T&#x27;HH:mm:ssZ&lt;/dateFormat&gt;
        &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;
        &lt;generateGitPropertiesFilename&gt;
            ${project.build.outputDirectory}/git.properties
        &lt;/generateGitPropertiesFilename&gt;
        &lt;includeOnlyProperties&gt;
            &lt;includeOnlyProperty&gt;^git.branch$&lt;/includeOnlyProperty&gt;
            &lt;includeOnlyProperty&gt;^git.build.time$&lt;/includeOnlyProperty&gt;
            &lt;includeOnlyProperty&gt;^git.build.version$&lt;/includeOnlyProperty&gt;
            &lt;includeOnlyProperty&gt;^git.commit.id.abbrev$&lt;/includeOnlyProperty&gt;
            &lt;includeOnlyProperty&gt;^git.commit.time$&lt;/includeOnlyProperty&gt;
        &lt;/includeOnlyProperties&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre><h2 id="仓库管理">仓库管理</h2><ul><li><a href="https://maven.apache.org/repository-management.html">Best Practice - Using a Repository Manager</a></li><li><a href="https://www.jfrog.com/confluence/display/RTF/Artifactory+Comparison+Matrix">Artifactory 特性比较</a></li><li><a href="https://www.sonatype.com/nexus-repository-oss">Nexus OSS</a><ul><li>标准的 Maven 仓库</li><li>支持 Bower,Docker,Git LFS,Maven,npm,NuGet,PyPI,Ruby Gems,Yum</li><li>3.x 支持 Docker 就像仓库</li><li>有 Docker 镜像</li></ul></li><li><a href="https://jfrog.com/open-source/">JFrog</a><ul><li>第二大开源 Maven 仓库</li></ul></li><li><a href="https://archiva.apache.org">Apache Archiva</a></li></ul><pre><code class="language-bash"># ARCHIVA_BASE 可修改存储位置, 默认为 /var/archiva
# ARCHIVA_CONTEXT_PATH 可在反向代理是使用, 默认为 /
docker run -v $PWD/archiva:/var/archiva -p 8080:8080 -d ninjaben/archiva-docker
</code></pre><h2 id="中央仓库">中央仓库</h2><ul><li><a href="https://maven.apache.org/guides/mini/guide-central-repository-upload.html">Guide to uploading artifacts to the Central Repository</a></li><li><a href="https://dzone.com/articles/deploy-maven-central">Deploy to Maven Central Repository</a></li></ul><h3 id="sonatype-central">Sonatype Central</h3><ul><li><a href="http://central.sonatype.org/pages/ossrh-guide.html">OSSRH Guide</a></li><li><a href="http://central.sonatype.org/pages/apache-maven.html">Deploying to OSSRH with Apache Maven</a></li><li><a href="https://central.sonatype.org/pages/requirements.html">Requirements</a></li><li>发布到 Sonatype 后，大约 10m 后会同步到中央仓库</li><li>坐标申请<ul><li>在 <a href="https://issues.sonatype.org/">https://issues.sonatype.org/</a> 创建账号</li><li>创建一个 issues 描述希望使用的 groupId 并简单阐述放的内容</li><li>等待审批完成</li></ul></li><li>要求<ul><li>提供 Javadoc 和 Sources</li><li>使用 GPG/PGP 签名，生成 <code>.asc</code> 文件</li><li>pom 要求<ul><li>正确的坐标</li><li>版本不能为 <code>-SNAPSHOT</code></li><li>名字，描述，网址 - name,description,url</li><li>name 可接受 <code>${project.groupId}:${project.artifactId}</code></li><li>许可信息 - licenses</li><li>开发者信息 - developers</li><li>SCM 信息 - scm</li></ul></li></ul></li></ul><h4 id="maven-部署">Maven 部署</h4><h4 id="手动部署">手动部署</h4><pre><code class="language-bash"># https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide

# 编译打包
mvn jar:jar source:jar javadoc:jar
cd target
cp ../pom.xml .
# 签名
NAME=MyLib-0.0.1
rm *.asc
gpg -ab pom.xml
gpg -ab $NAME.jar
gpg -ab $NAME-sources.jar
gpg -ab $NAME-javadoc.jar

# http://maven.apache.org/plugins/maven-gpg-plugin/sign-mojo.html
# 可以直接在命令行上指定密码
PASSPHRASE=xxx
mvn gpg:sign-and-deploy-file -Dgpg.passphrase=$PASSPHRASE \
    -Durl=https://oss.sonatype.org/service/local/staging/deploy/maven2/ \
  -DrepositoryId=sonatype-nexus-staging -DpomFile=pom.xml \
  -Dfile=NAME.jar

mvn gpg:sign-and-deploy-file -Dgpg.passphrase=$PASSPHRASE \
    -Durl=https://oss.sonatype.org/service/local/staging/deploy/maven2/ \
  -DrepositoryId=sonatype-nexus-staging -DpomFile=pom.xml \
  -Dfile=$NAME-sources.jar -Dclassifier=sources

mvn gpg:sign-and-deploy-file -Dgpg.passphrase=$PASSPHRASE \
    -Durl=https://oss.sonatype.org/service/local/staging/deploy/maven2/ \
  -DrepositoryId=sonatype-nexus-staging -DpomFile=pom.xml \
  -Dfile=$NAME-javadoc.jar -Dclassifier=javadoc

</code></pre><h2 id="faq">FAQ</h2><h3 id="optional-vs-provided">optional vs provided</h3><ul><li>optional 只影响包的传递性, 不影响包的 ClassPath</li><li>provided 只在 compile 和 test 下存在, 并且不会传递</li><li>所以区别在于 optional 在 runtime 时生效, 而 provided 不生效</li></ul><h3 id="scope-的作用域">Scope 的作用域</h3><table><thead><tr><th>scope</th><th>compile</th><th>test</th><th>runtime</th><th>transitive</th></tr></thead><tbody><tr><td>compile</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td></tr><tr><td>test</td><td>-</td><td>Y</td><td>-</td><td>-</td></tr><tr><td>provided</td><td>Y</td><td>Y</td><td>-</td><td>-</td></tr><tr><td>runtime</td><td>-</td><td>Y</td><td>Y</td><td>Y</td></tr><tr><td>system</td><td>Y</td><td>Y</td><td>-</td><td>Y</td></tr></tbody></table><h2 id="current-maven-session-contains-banned-repository-urls-please-double-check-your-pom-or-settingsxml">Current maven session contains banned repository urls, please double check your pom or settings.xml</h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_e6lW padding--none margin-left--sm"><li class="tag_CRnL"><a class="tag_y53u tagRegular_Iz3h" href="/notes/tags/maven">Maven</a></li><li class="tag_CRnL"><a class="tag_y53u tagRegular_Iz3h" href="/notes/tags/java">Java</a></li><li class="tag_CRnL"><a class="tag_y53u tagRegular_Iz3h" href="/notes/tags/编程">编程</a></li><li class="tag_CRnL"><a class="tag_y53u tagRegular_Iz3h" href="/notes/tags/技巧">技巧</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/java/maven.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_icZ1" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_IDPb"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes/java/library/quarkus"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quarkus</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes/java/spec/servlet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Servlet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Rbtr thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tips" class="table-of-contents__link toc-highlight">Tips</a></li><li><a href="#pomxml" class="table-of-contents__link toc-highlight">pom.xml</a></li><li><a href="#settingsxml" class="table-of-contents__link toc-highlight">settings.xml</a><ul><li><a href="#代理设置" class="table-of-contents__link toc-highlight">代理设置</a></li></ul></li><li><a href="#镜像" class="table-of-contents__link toc-highlight">镜像</a><ul><li><a href="#阿里云" class="table-of-contents__link toc-highlight">阿里云</a></li><li><a href="#谷歌" class="table-of-contents__link toc-highlight">谷歌</a></li><li><a href="#settings" class="table-of-contents__link toc-highlight">Settings</a></li></ul></li><li><a href="#插件" class="table-of-contents__link toc-highlight">插件</a><ul><li><a href="#maven-install-plugin" class="table-of-contents__link toc-highlight">maven-install-plugin</a></li><li><a href="#maven-jar-plugin" class="table-of-contents__link toc-highlight">maven-jar-plugin</a></li><li><a href="#maven-shade-plugin" class="table-of-contents__link toc-highlight">maven-shade-plugin</a></li></ul></li><li><a href="#maven-release-plugin" class="table-of-contents__link toc-highlight">maven-release-plugin</a><ul><li><a href="#maven-gpg-plugin" class="table-of-contents__link toc-highlight">maven-gpg-plugin</a></li><li><a href="#spring-boot-maven-plugin" class="table-of-contents__link toc-highlight">spring-boot-maven-plugin</a></li><li><a href="#生成-build-info" class="table-of-contents__link toc-highlight">生成 build-info</a></li><li><a href="#git-commit-id-plugin" class="table-of-contents__link toc-highlight">git-commit-id-plugin</a></li></ul></li><li><a href="#仓库管理" class="table-of-contents__link toc-highlight">仓库管理</a></li><li><a href="#中央仓库" class="table-of-contents__link toc-highlight">中央仓库</a><ul><li><a href="#sonatype-central" class="table-of-contents__link toc-highlight">Sonatype Central</a></li></ul></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#optional-vs-provided" class="table-of-contents__link toc-highlight">optional vs provided</a></li><li><a href="#scope-的作用域" class="table-of-contents__link toc-highlight">Scope 的作用域</a></li></ul></li><li><a href="#current-maven-session-contains-banned-repository-urls-please-double-check-your-pom-or-settingsxml" class="table-of-contents__link toc-highlight">Current maven session contains banned repository urls, please double check your pom or settings.xml</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip">VoIP</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wener&#x27;s Apis<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pUOn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_sWQn themedImage--light_HlbN footer__logo"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_sWQn themedImage--dark__4Lo footer__logo"></div><div class="footer__copyright">Copyright © 1992-2022 Wener - <img alt="cc-by-sa-4.0" src="https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"> - Build @2022-09-22 04:38</div></div></div></footer></div>
<script src="/assets/js/runtime~main.07b4d16f.js"></script>
<script src="/assets/js/main.92dfd685.js"></script>
</body>
</html>