<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/story/rss.xml" title="Wener Live &amp; Life Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/story/atom.xml" title="Wener Live &amp; Life Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Wener Live &amp; Life" href="/opensearch.xml"><title data-react-helmet="true">Tinc 配置 | Wener Live &amp; Life</title><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/service/network/tinc-conf"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Tinc 配置 | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="配置文件"><meta data-react-helmet="true" property="og:description" content="配置文件"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wener.me/notes/service/network/tinc-conf"><link data-react-helmet="true" rel="alternate" href="https://wener.me/notes/service/network/tinc-conf" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wener.me/notes/service/network/tinc-conf" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.82b257c7.css">
<link rel="preload" href="/assets/js/runtime~main.5448be9f.js" as="script">
<link rel="preload" href="/assets/js/main.3fff7460.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Wener</b></a><a class="navbar__item navbar__link" href="/notes/java/java">笔记</a><a class="navbar__item navbar__link" href="/story">故事</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">指南</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">工具</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Java</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Web</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">语言</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">AlpineLinux</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Docker</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Linux</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">虚拟化</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">操作系统</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">VoIP</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">开发</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">DevOps</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">指南</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">数据库</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">服务</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/service-awesome">Service Awesome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Auth</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">内容管理</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">客户关系管理</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Office</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">文件</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">存储</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">网络</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/network-faq">Network FAQ</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Tinc</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/tinc-1.0">tinc 1.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/notes/service/network/tinc-conf">Tinc 配置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/tinc-faq">Tinc 常见问题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/tinc">Tinc</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/README">网络服务</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/avahi">Avahi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/coturn">coturn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/curl">curl</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/dante">Dante</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/dns">DNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/dnscrypt">DNSCrypt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/frp">FRP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/ikev2">IKEv2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/inlets">inlets 通道</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/ipsec">IPSec</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/n2n-version">n2n version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/n2n">n2n</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/nat">NAT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/nebula">nebula</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/net-snmp">NetSNMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/nextdns">NextDNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/nps">nps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/pihole">Pi Hole</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/privoxy-action">Privoxy Action</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/privoxy">Privoxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/proxy-awesome">代理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/snmp-mib">SNMP MIB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/squid">Squid</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/sshuttle">sshuttle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/strongswan-conf">strongSwan 配置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/strongswan-cookbook">strongSwan Cookbook</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/strongswan-faq">strongSwan FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/strongswan">strongSwan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/stun">stun</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/teleport">Teleport</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/tinyproxy">tinyproxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/turn">turn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/villian">Villian</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/vpn-awesome">VPN Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/vpn-faq">私有虚拟网络常见问题</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/wireguard">WireGuard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/wireshark">Wireshark</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/network/zerotier">Zerotier</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">电信</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">DNS</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Forge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/analytics/analytics-awesome">Analytics Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/analytics/matomo">Matomo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/api-awesome">API Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/graphql-awesome">GraphQL Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/graphql-code-generator">graphql-code-generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/graphql-faq">GraphQL FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/graphql">GraphQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/grpc-web">grpc web</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/grpc">gRPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/protobuf">Protobuf</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/smithy">smithy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/api/urql">URQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/baas/README">Backend as a Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/baas/appwrite">AppWrite</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/bi/apache-superset">Apache Superset</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/download/aria2">aria2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/download/youtube-dl">youtube-dl</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/e-commerce/e-commerce">E-Commerce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/email/email">邮件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/im/im-awesome">IM Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/im/zulip">zulip</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/low-code/low-code-awesome">Low Code Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/ffmpeg">ffmpeg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/media-awesome">Media Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/media-faq">Media FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/minidlna">MiniDLNA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/realtime/realtime-awesome">RealTime Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/repository/repository">仓库</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/repository/athens">athens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/repository/nexus">Nexus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/repository/repository-awesome">Awesome Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/repository/verdaccio">Verdaccio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/resource/resource-awesome">资源站</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/selfhost/selfhost-awesome">Selfhost Awesome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/torrent/glossary">Torrent 词汇</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/cadance">Cadence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/flogo">flogo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/n8n">n8n</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">运维</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">硬件</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">算法</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">健康</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">参考</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">工具</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Tinc 配置</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="配置文件"></a>配置文件<a class="hash-link" href="#配置文件" title="Direct link to heading">#</a></h2><ul><li>/etc/tinc/NETNAME/<ul><li>tinc.conf</li><li>conf.d/<ul><li><code>*.conf</code> - 额外配置文件</li></ul></li><li>hosts/ - 主机配置</li><li>tinc-up</li><li>tinc-down</li><li>invitations/</li><li>invitation-data - 接受邀请包含的内容</li></ul></li></ul><p><strong>脚本</strong></p><ul><li>/etc/tinc/NETNAME/ - 网络配置<ul><li>tinc-up - 启动后配置网络的脚本</li><li>tinc-down</li><li>hosts/<ul><li>HOSTS-up - HOST 的守护进程启动后的脚本</li><li>HOSTS-down</li></ul></li><li>host-up - 当某 HOST 可访问</li><li>host-down - 当某 HOST 不可访问</li><li>subnet-up - 当 subnet 可访问</li><li>subnet-down</li><li>invitation-created - 邀请创建</li><li>invitation-accepted - 邀请接受</li></ul></li></ul><p><strong>环境变量</strong></p><table><thead><tr><th>env</th><th>desc</th></tr></thead><tbody><tr><td>NETNAME</td><td></td></tr><tr><td>NAME</td><td>this tinc daemon.</td></tr><tr><td>DEVICE</td><td>virtual network device</td></tr><tr><td>INTERFACE</td><td>virtual network interface</td></tr><tr><td>NODE</td><td>host-up/down, subnet-up/down</td></tr><tr><td>REMOTEADDRESS</td><td>host-up/down - 对方地址</td></tr><tr><td>REMOTEPORT</td><td>host-up/down - 对方端口</td></tr><tr><td>SUBNET</td><td>subnet-up/down</td></tr><tr><td>WEIGHT</td><td>subnet-up/down</td></tr><tr><td>INVITATION_FILE</td><td></td></tr><tr><td>INVITATION_URL</td><td></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tincconf"></a>tinc.conf<a class="hash-link" href="#tincconf" title="Direct link to heading">#</a></h2><ul><li><a href="https://www.tinc-vpn.org/documentation-1.1/tinc.conf.5" target="_blank" rel="noopener noreferrer">tinc.conf.5</a></li><li>没有 ConnectTo 且 <code>AutoConnect=no</code> 可以认为是服务端</li><li>有 ConnectTo 且 <code>AutoConnect=yes</code> 可以认为是客户端</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ini"><pre tabindex="0" class="prism-code language-ini codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 节点名字 - 唯一、必须</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 可以指定为 $HOST - 如果环境变了不存在则 gethostname()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name = name</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># router | switch | hub</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Mode = router</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 启动时连接到的节点 - meta 节点</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 可以指定多个</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 如果一个都不指定且也不指定 AutoConnect 则节点处于只接受链接的状态</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ConnectTo = name</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 如果启用, 会自动尝试与其他节点建立 meta 链接, 而不需要设置 ConnectTo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 不能链接 Port=0 的节点 - 系统随机端口</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 试验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># yes | no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">AutoConnect = yes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 影响监听和外部 sockets 包, any 会根据操作系统进行创建 ipv4 和 ipv6</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># ipv4 | ipv6 | any</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">AddressFamily = any</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 类似于 ListenAddress，但出去的流量也会使用</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 有多路出口时有用</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># BindToAddress=address [port]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 设置广播包发到其他节点的方式, 所有节点需要使用相同的方式, 否则可能会产生路由循环</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># no 不发送广播包</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># mst 使用 Minimum Spanning Tree, 保证发往每个节点</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># direct 只发送给直接访问的节点, 从其他节点接收到的不转发. 如果设置了 IndirectData, 广播包也会发送给有 meta 链接的节点</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 试验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># no | mst | direct</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Broadcast = mst</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 定义广播地址</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 标准的广播地址已包含</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># BroadcastSubnet = address[/prefixlength]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 转发前减小 ipv4 包 ttl 和 ipv6 包的 Hop Limit</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># switc 模式且需要 ipv6 则不要启用</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DecrementTTL=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 默认自动创建</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Device=/dev/tap0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># dummy,raw_socket,multicast,fd,uml,vde,tun,tunnohead,tunifhead,utun,tap</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># DeviceType=type</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 至少有一个节点时会调用 tinc-up，没有节点时调用 tinc-down</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DeviceStandby=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 仅直连不转发 - 适用于 meta node</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DirectOnly=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Ed25519 key - SPTPS 协议使用</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Ed25519PrivateKeyFile=/etc/tinc/NETNAME/ed25519_key.priv</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 启用后, 会尝试使用 SPTPS 协议, key 交换会使用 Ephemeral ECDH, 会使用 Ed25519 作为授权, 而不是 RSA, 因此需要先生成 Ed25519</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 如果先启用了且 join 了网络，再改成 no 时需要先准备好 rsa key</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ExperimentalProtocol = yes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 转发策略</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># off 不转发</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># internal 内部转发</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># kernel 包发往 TUN/TAP 设备, 交由内核转发, 性能更低, 但能使用内核的路由功能</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Forwarding = internal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 包打上 fwmark - 配合 iptables 可进行过滤</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 试验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FWMark=0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 是否解析 hostname - dns 阻塞查询对性能有一点影响</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Hostnames=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># tun/tap IFF_ONE_QUEUE</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IffOneQueue=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Interface=interface</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 邀请时效时间</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 秒</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">InvitationExpire=604800</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># key 失效时间 - 秒</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">KeyExpire=3600</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 默认监听所有</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># address 可以设置为 *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># port 默认为 hosts 下的 Port 选项或 655 - 设置为 0 则随机选择</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># ListenAddress=address port</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 尝试发现本机网络中的节点</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 允许与本地节点地址建立直接连接</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 目前, 本地发现机制是通过在 UDP 发现阶段发送本地地址的方式</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LocalDiscovery = yes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LogLevel=0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># mac 地址失效时间 - 秒</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># switch 模式有效</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MACExpire=600</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 最大爆发连接数 - 超过的 1/s 一个</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MaxConnectionBurst=100</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 最大重连延时</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MaxTimeout=900</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># ping 间隔 - 发现 mtu 检测节点</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PingInterval=60</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 超时后中断 meta 链接</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PingTimeout=5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># UDP 继承 TCP 的 TOS 字段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PriorityInheritance=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># RSA key - 旧的协议使用</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># PrivateKey=key</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># PrivateKeyFile=/etc/tinc/NETNAME/rsa_key.priv</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 进程优先级 - 可能影响 VPN 延时</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># ProcessPriority = low | normal | high</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 出的连接经过代理</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># socks4 address port [username]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># socks5 address port [username password]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># http address port</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># exec command</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#   环境变量 NAME, NODE, REMOTEADDRES, REMOTEPORT</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Proxy = socks4 | socks5 | http | exec</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># byte</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ReplayWindow=32</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 只允许 /etc/tinc/NETNAME/hosts/ 下的 Subnet 信息</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 例如 A -&gt; B -&gt; C - C 不会学习到 A 的子网信息</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">StrictSubnets = no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 不会转发其他节点间的信息， /etc/tinc/NETNAME/hosts/ , 隐性指定 StrictSubnets</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 实验阶段</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TunnelServer = no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPDiscovery=yes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPDiscoveryKeepaliveInterval=9</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPDiscoveryInterval=2</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPDiscoveryTimeout=30</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPInfoInterval=5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPRcvBuf=1048576</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UDPSndBuf=1048576</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 UPnP-IGD，管理维护 tinc 的端口映射</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># udponly 只维护 udp 端口</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># yes | udponly | no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UPnP=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UPnPDiscoverWait=5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">UPnPRefreshPeriod=60</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="host"></a>host<a class="hash-link" href="#host" title="Direct link to heading">#</a></h2><ul><li>只包含公共连接信息</li><li>可发给其他人使用</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ini"><pre tabindex="0" class="prism-code language-ini codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 推荐设置地址信息</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 在外连到节点时会用到</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 可指定多个</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Address = address [port]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># clamp maximum segment size - tcp 包-&gt; pmtu</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ClampMSS=yes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 加密 UDP 的堆成密钥加密方式</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 检测 CPU 是否支持 aes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># grep aes /proc/cpuinfo --color auto</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># SHA1 HMAC</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 对启用了 ExperimentalProtocol 不生效</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 设置为 non 关闭加密，建议使用支持 cbc 的算法，例如 aes-128-cbc</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Cipher = blowfish</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 1-9 zlib</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 10 fast lzo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 11 best lzo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Compression=0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># UDP 包的摘要算法, 可使用 LibreSSL 或 OpenSSL 支持的算法, 指定 none 可关闭包验证.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 对使用 ExperimentalProtocol 的节点不生效</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Digest = sha1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 如果设置为 yes 则必须先有直连的 meta 链接</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IndirectData=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 计算 MAC 的长度</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 0-摘要算法输出长度</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 新算法无效</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MACLength=4</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 节点初始路径 MTU - Path MTU</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PMTU = 1514</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 自动发现到节点的 Path MTU</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PMTUDiscovery = yes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 发送发现 MTU 消息的间隔</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MTUInfoInterval = 5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 可设置为 0 - 随机</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Port=655</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># RSA 公钥</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 废弃</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># PublicKey = key</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># PublicKeyFile = filename</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 节点子网信息</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 支持指定多个</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Subnet = address[/prefixlength[#weight]]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 废弃 - 现在会自动检测</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TCPOnly=no</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 影响转发和广播优先级</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># weight 越大优先级越低</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Weight=weight</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/service/network/tinc-conf.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/notes/service/network/tinc-1.0"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« tinc 1.0</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/notes/service/network/tinc-faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tinc 常见问题 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#配置文件" class="table-of-contents__link">配置文件</a></li><li><a href="#tincconf" class="table-of-contents__link">tinc.conf</a></li><li><a href="#host" class="table-of-contents__link">host</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip">VoIP</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Wener&#x27;s Apis<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 1992-2021 Wener - <img alt="cc-by-sa-4.0" src="https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"> - Build @2021-08-02 19:37</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5448be9f.js"></script>
<script src="/assets/js/main.3fff7460.js"></script>
</body>
</html>