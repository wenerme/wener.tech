<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/story/rss.xml" title="Wener Live &amp; Life RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/story/atom.xml" title="Wener Live &amp; Life Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Wener Live &amp; Life" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css"><title data-react-helmet="true">Cadence | Wener Live &amp; Life</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/service/workflow/cadence"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cadence | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="- uber/cadence æ˜¯ä»€ä¹ˆï¼Ÿ"><meta data-react-helmet="true" property="og:description" content="- uber/cadence æ˜¯ä»€ä¹ˆï¼Ÿ"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wener.me/notes/service/workflow/cadence"><link data-react-helmet="true" rel="alternate" href="https://wener.me/notes/service/workflow/cadence" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wener.me/notes/service/workflow/cadence" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7900c842.css">
<link rel="preload" href="/assets/js/runtime~main.ba19ffaa.js" as="script">
<link rel="preload" href="/assets/js/main.ff6774fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Wener</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes">ç¬”è®°</a><a class="navbar__item navbar__link" href="/story">æ•…äº‹</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/evolve">è‡ªæˆ‘æˆé•¿</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/java/java-awesome">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/web/web-awesome">Web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/languages">è¯­è¨€</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/os/alpine/alpine-awesome">AlpineLinux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/devops/docker/docker-cookbook">Docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/devops/kubernetes">Kubernetes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/os/linux/linux-awesome">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/os/virt">è™šæ‹ŸåŒ–</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/os/os-awesome">æ“ä½œç³»ç»Ÿ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/voip">VoIP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/dev/dev-awesome">å¼€å‘</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/devops/devops-faq">DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/db">æ•°æ®åº“</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/queue">æ¶ˆæ¯é˜Ÿåˆ—</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/security/security-awesome">å®‰å…¨</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/notes/service/service-awesome">æœåŠ¡</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/service-awesome">Service Awesome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/api/api-awesome">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/auth">Auth</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/cms/cms-awesome">å†…å®¹ç®¡ç†</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/crm/crm-awesome">å®¢æˆ·å…³ç³»ç®¡ç†</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/bi/bi-awesome">BI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/analytics/analytics-awesome">Analytics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/notes/service/workflow">å·¥ä½œæµ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow">Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/workflow-awesome">Workflow Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/workflow-faq">Workflow FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes/service/workflow/cadence">Cadence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/flogo">flogo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/n8n">n8n</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/temporal">temporal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/workflow/temporal-faq">Temporal FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/office">Office</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/file/filebrowser">æ–‡ä»¶</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/storage/storage-awesome">å­˜å‚¨</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/selfhost/selfhost-awesome">Selfhost</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/network/network-awesome">ç½‘ç»œ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/im/im-awesome">å³æ—¶é€šè®¯</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/email">ç”µå­é‚®ä»¶</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/telecom/telecom-awesome">ç”µä¿¡</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/dns">DNS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/repository">ä»“åº“</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/forge">Forge</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/cn/gb/gb-11643">CN</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/notes/service/data/data-awesome">æ•°æ®</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/baas/appwrite">AppWrite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/baas/baas-awesome">BaaS Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/baas">Backend as a Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/collaboration/baserow">baserow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/collaboration">ååŒè½¯ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/collaboration/collaboration-awesome">Collaboration Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/collaboration/nocodb">nocodb</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/download/aria2">aria2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/download/transmission">transmission</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/download/youtube-dl">youtube-dl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/e-commerce">E-Commerce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/forum/forum-awesome">Forum Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/low-code/low-code-awesome">Low Code Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/avif">AVIF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/butteraugli">butteraugli</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/ffmpeg">ffmpeg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/ffmpeg-faq">FFMpeg FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/jellyfin">Jellyfin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/jpeg-xl">JPEG XL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/m3u8">M3U8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/media-awesome">Media Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/media-faq">Media FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/minidlna">MiniDLNA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/mpv">mpv</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/media/vips">vips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/notion">Notion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/p2p/p2p-awesome">P2P Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/p2p/torrent-awesome">Torrent Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/printing/printing-awesome">Printing Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/realtime/realtime-awesome">RealTime Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/resource/resource-awesome">èµ„æºç«™</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/torrent/glossary">Torrent è¯æ±‡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/service/xaas/xaas-awesome">XaaS Awesome</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/ops/ops-awesome">è¿ç»´</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/howto/ops/alpine-admin-ansible">æŒ‡å—</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/hardware/hardware-awesome">ç¡¬ä»¶</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/algorithm/algorithm-awesome">ç®—æ³•</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/healthcare/disease/adhesive-capsulitis">å¥åº·</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/reference/software/glossary">å‚è€ƒ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/notes/tool">å·¥å…·</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cadence</h1></header><ul><li><a href="https://github.com/uber/cadence" target="_blank" rel="noopener noreferrer">uber/cadence</a> æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li>MIT, Golang</li><li>åˆ†å¸ƒå¼ï¼Œå¤§è§„æ¨¡ï¼ŒæŒä¹…åŒ–ï¼Œé«˜å¯ç”¨çš„å¼‚æ„è°ƒåº¦å¼•æ“</li><li>ç”¨äºå¼‚æ­¥é•¿æ—¶é—´è¿è¡Œçš„ä¸šåŠ¡é€»è¾‘</li><li>Fault Tolerant Actor Framework</li><li>fault-oblivious stateful workflow</li><li>æä¾› Java SDKã€Go SDK</li><li>Cadence æ›´åƒæ˜¯ä¸€ä¸ªæ‰§è¡Œå¹³å° - ä¾‹å¦‚ BNMPã€Airflow DAG å¯ä»¥åœ¨å…¶ä¹‹ä¸Šè¿è¡Œ</li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview" target="_blank" rel="noopener noreferrer">durable function</a></li></ul></li><li>ä½¿ç”¨åœºæ™¯<ul><li>å‘¨æœŸæ‰§è¡Œ / åˆ†å¸ƒå¼ CRON</li><li>å¾®æœåŠ¡ç¼–æ’</li><li>Polling - ä¾‹å¦‚ æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€ç½‘ç»œæœåŠ¡å¥åº·ã€ç­‰å¾…å¤–éƒ¨æœåŠ¡ç”Ÿæ•ˆ</li><li>äº‹ä»¶é©±åŠ¨ç¼–ç¨‹</li><li>å­˜å‚¨æ‰«æ - ä¾‹å¦‚ è§„æ•´ OSS ä¸­æ–‡ä»¶å…ƒæ•°æ®</li><li>æ‰¹å¤„ç† - ä¾‹å¦‚ æŠ¥è¡¨</li><li>åŸºç¡€è®¾æ–½å¼€é€š / Infrastructure provisioning - ä¾‹å¦‚ å¼€é€šé˜¿é‡Œäº‘ ECS</li><li>CI/CD å’Œ éƒ¨ç½²</li><li>è¿ç»´ç®¡ç† - ä¾‹å¦‚ DB ç»´æŠ¤ã€å¼€é€šè´¦å·</li><li>äº¤äº’åº”ç”¨ - ä¾‹å¦‚ åœ¨ç”¨æˆ·ä¸‹å•çš„åŒæ—¶åå°è¿›è¡Œæ¬ºè¯ˆæ£€æµ‹</li><li>DSL å·¥ä½œæµ - BPMN, Apache Airflow, AWS Step Functions</li><li>å¤§æ•°æ® å’Œ æœºå™¨å­¦ä¹ </li></ul></li><li>ç»„ä»¶<ul><li>è¯·æ±‚å¤„ç†ï¼š Microservicesã€Serverlessã€Actors</li><li>å­˜å‚¨ï¼š æ•°æ®ã€ç¼“å­˜<ul><li>Cassandra / MySQL / Postgres</li><li>metric - Prometheus - å¯é€‰</li><li>ElastiCache+Kafka - æ”¯æŒé«˜çº§æœç´¢<ul><li>ä¾‹å¦‚ scanWorkflowExecutions</li></ul></li><li>S3 - archival</li></ul></li><li>Queues</li><li>Job Schedulers</li><li>Consensusï¼š Leader Electionã€Shardingã€Distributed Locks</li></ul></li><li>é«˜çº§ç‰¹æ€§<ul><li>é«˜çº§å¯è§†åŒ–</li><li>å·¥ä½œæµå½’æ¡£</li><li>è·¨æ•°æ®ä¸­å¿ƒå¤åˆ¶</li></ul></li><li>å‚è€ƒ<ul><li><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer">temporalio/temporal</a><ul><li>cadence fork, å¼€å‘è€…çš„åˆ›ä¸šé¡¹ç›®</li></ul></li><li><a href="https://github.com/uber/cadence-web" target="_blank" rel="noopener noreferrer">uber/cadence-web</a><ul><li>æŸ¥çœ‹è¿è¡Œçš„æµç¨‹</li></ul></li><li><a href="https://github.com/uber-go/cadence-client" target="_blank" rel="noopener noreferrer">uber-go/cadence-client</a><ul><li>Go å®¢æˆ·ç«¯</li></ul></li><li><a href="https://github.com/uber/cadence-idl" target="_blank" rel="noopener noreferrer">uber/cadence-idl</a><ul><li>proto,thrift</li><li><a href="https://github.com/uber/cadence-idl/tree/master/proto/uber/cadence/api/v1" target="_blank" rel="noopener noreferrer">uber/cadence/api/v1</a></li></ul></li><li><a href="https://github.com/yarpc/yarpc-go" target="_blank" rel="noopener noreferrer">yarpc/yarpc-go</a><ul><li>RPC - JSON, Thrift, and Protobuf</li><li>HTTP/1.1, gRPC, and TChannel</li><li>cadence æ­£åœ¨ä» thrift è¿ç§»ä¸º grpc</li></ul></li><li>helm banzai-charts <a href="https://github.com/banzaicloud/banzai-charts/tree/master/cadence" target="_blank" rel="noopener noreferrer">cadence</a></li></ul></li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><ul><li>go thrift ç‰ˆæœ¬å†²çª <a href="https://github.com/uber-go/cadence-client/issues/1107" target="_blank" rel="noopener noreferrer">#1107</a><ul><li>ç”¨çš„å¾ˆè€çš„ç‰ˆæœ¬ 0.9.3, 2016 å¹´ - cadence æ­£åœ¨è¿ç§»ä¸º grpc</li></ul></li><li>é…ç½®ä¸€å®š <strong>ä¸è¦ä¿®æ”¹</strong> numOfShards - åªæœ‰è¿ç§»åˆ°æ–°é›†ç¾¤</li></ul></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><ul><li>å•ä¸ª Workflow é™åˆ¶<ul><li>50k äº‹ä»¶ä¼šå‘Šè­¦</li><li>200k äº‹ä»¶ä¼šè¢«ç›´æ¥ç»ˆæ­¢</li><li>æœ€å¤šæ‰§è¡Œ 100k æ´»åŠ¨</li></ul></li><li>æ¨èæ§åˆ¶åœ¨ å‡ åƒ signal - é€šè¿‡ ContinueAsNew é¿å…å•ä¸ª workflow è†¨èƒ€</li></ul></div></div><table><thead><tr><th>port</th><th>proto</th><th>service</th></tr></thead><tbody><tr><td>7833</td><td>grpc</td><td>frontend</td></tr><tr><td>7933</td><td>Thrift TChannel</td><td>frontend</td></tr><tr><td>7834</td><td>grpc</td><td>history</td></tr><tr><td>7934</td><td>Thrift TChannel</td><td></td></tr><tr><td>7835</td><td>grpc</td><td>matching</td></tr><tr><td>7935</td><td>Thrift TChannel</td><td></td></tr><tr><td>7939</td><td></td><td>worker</td></tr><tr><td>9090</td><td>http/metrics</td><td></td></tr></tbody></table><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># macOS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> cadence-workflow</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --rm ubercadence/cli:master</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># CADENCE_CLI_ADDRESS --address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># CADENCE_CLI_DOMAIN --domain</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹<a class="hash-link" href="#å¿«é€Ÿå¼€å§‹" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä½¿ç”¨ postgres</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -o docker-compose.yml https://raw.githubusercontent.com/uber/cadence/master/docker/docker-compose-postgres.yml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -O https://raw.githubusercontent.com/uber/cadence/master/docker/prometheus_config.yml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># UI http://localhost:8088</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Grafana http://localhost:3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># postgres :5432,prometheus :9090,grafana :3000,cadence 8000-8003,7933-3935,7939,cadence-web :8088</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose up</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ³¨å†Œ domain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># --address=host.docker.internal:7932</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm ubercadence/cli:master --do test-domain domain register -rd </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> --global_domain</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># domian ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm ubercadence/cli:master --do test-domain domain describe</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="golang">Golang<a class="hash-link" href="#golang" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://github.com/uber-common/cadence-samples/blob/master/cmd/samples/recipes/helloworld/main.go" target="_blank" rel="noopener noreferrer">helloworld/main.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="java">Java<a class="hash-link" href="#java" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_J+bg language-java theme-code-block"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// æµç¨‹æ¥å£</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public interface TransferWorkflow {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @WorkflowMethod(executionStartToCloseTimeoutSeconds = WEEK_SECOND)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  void execute(String fromAccountId, String toAccountId, Money amount);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @SignalMethod // ä¿¡å·æ–¹æ³•</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  void doCount(int n);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @QueryMethod // æŸ¥è¯¢æ–¹æ³•</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  int void getCount();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// äº‹ä»¶æ¥å£</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public interface Account {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @ActivityMethod(scheduleToCloseTimeoutSeconds = 300)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  void debit(String fromAccountId, Money amount);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @ActivityMethod(scheduleToCloseTimeoutSeconds = 300)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  void credit(String toAccountId, Money amount);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public interface TransferWorkflowImpl implements TransferWorkflow {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // æ”¯æŒé…ç½®è‡ªåŠ¨é‡è¯•</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  private final Account account = Workflow.newActivityStub(Account.class);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  public void execute(String fromAccountId, String toAccountId, Money amount){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // è§¦å‘äº‹ä»¶ - é˜»å¡è¯¥æµç¨‹</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // äº‹ä»¶å¯èƒ½æ‰§è¡Œéå¸¸ä¹… - ä¾‹å¦‚å‡ å¤©</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    account.debit(fromAccountId,amount);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      account.credit(toAccountId,amount);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } catch (IllegalArgumentException e){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      // ä¸šåŠ¡è¡¥å¿é€»è¾‘</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      account.credit(fromAccountId,amount);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // å¯æ‰‹åŠ¨é˜»å¡</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Workflow.sleep(Duration.ofDays(7));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // æœ¬åœ°çŠ¶æ€ - æŒä¹…åŒ–çš„</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  private int counter;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  public void doCount(int n){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    counter += n;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  @QueryMethod</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  public int void getCount(){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    return counter;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æœåŠ¡ç«¯">æœåŠ¡ç«¯<a class="hash-link" href="#æœåŠ¡ç«¯" title="Direct link to heading">â€‹</a></h2><ul><li>SERVICES - è¿è¡Œçš„æœåŠ¡<ul><li>frontend, history, matching, worker</li></ul></li><li>CADENCE_STORE_PASSWORD</li><li>CADENCE_VISIBILITY_STORE_PASSWORD</li><li><a href="https://github.com/banzaicloud/banzai-charts/blob/master/cadence/templates/server-configmap.yaml" target="_blank" rel="noopener noreferrer">https://github.com/banzaicloud/banzai-charts/blob/master/cadence/templates/server-configmap.yaml</a></li></ul><table><thead><tr><th>env</th><th>desc</th></tr></thead><tbody><tr><td>SQL_PLUGIN</td><td></td></tr><tr><td>SQL_HOST</td><td></td></tr><tr><td>SQL_PORT</td><td></td></tr><tr><td>SQL_DATABASE</td><td></td></tr><tr><td>SQL_USER</td><td></td></tr><tr><td>SQL_PASSWORD</td><td></td></tr><tr><td>SQL_CONNECT_ATTRIBUTES</td><td></td></tr><tr><td>CASSANDRA_HOST</td><td></td></tr><tr><td>CASSANDRA_DB_PORT</td><td></td></tr><tr><td>CASSANDRA_KEYSPACE</td><td></td></tr><tr><td>CASSANDRA_USER</td><td></td></tr><tr><td>CASSANDRA_PASSWORD</td><td></td></tr></tbody></table><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -LO https://raw.githubusercontent.com/uber/cadence/master/docker/config_template.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --rm -it </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/config_template.yaml:/etc/cadence/config/config_template.yaml </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DB</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">postgres -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">POSTGRES_SEEDS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">127.0</span><span class="token plain">.0.1 -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">POSTGRES_USER</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">cadence -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">POSTGRES_PWD</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">cadence </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --name cadence ubercadence/server</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><header><h1>æ¦‚å¿µ</h1></header><ul><li>Domain - åŸŸåˆ’åˆ† - å¤šç§Ÿæˆ·çš„ç§Ÿæˆ·<ul><li>ä½œä¸º TaskList å’Œ Workflow çš„å‘½åç©ºé—´</li><li>æ”¯æŒ SecurityToken</li><li>é…ç½®æ•°æ®ç•™å­˜æ—¶é—´</li></ul></li><li>TaskList<ul><li>ä»»åŠ¡åˆ—è¡¨ã€åº”ç”¨åˆ†ç»„</li><li>å¯åŠ¨çš„ worker ä¼š pull ç»™å®šçš„ TaskList</li><li>æ„å‘³ç€å¿…é¡»è¦å…ˆç¡®å®š TaskList çš„åå­—</li></ul></li><li>Worker<ul><li>å®ˆæŠ¤è¿›ç¨‹</li><li>æœ¬åœ°æ³¨å†Œ Workflowã€Activity<ul><li>é»˜è®¤ä½¿ç”¨ å‡½æ•°å ä½œä¸ºåå­—</li></ul></li><li>ç§’çº§ æ—¶é—´ç²¾ç¡®åº¦</li><li>WorkflowWorker</li><li>ActivityWorker</li><li>SessionWorker</li><li>ShadowWorker</li></ul></li><li>Workflow - é€»è¾‘æµç¨‹<ul><li>ç¡®å®šæ€§ã€å¹‚ç­‰æ€§</li><li>åªèƒ½é€šè¿‡ç”¨ activity ä¸å¤–ç•Œäº¤äº’</li><li>go - workflow.Go</li><li>chan - workflow.Channel</li><li>select - workflow.Selector</li><li>time.Now - workflow.Now</li><li>time.Sleep - workflow.Sleep</li><li>log - workflow.GetLogger</li><li>Future<ul><li>cadence ç‰¹æœ‰æ¦‚å¿µ - å¼‚æ­¥æ“ä½œã€timer</li><li>å•ä¸ª Selector AddFuture åªä¼šè§¦å‘ä¸€æ¬¡å›è°ƒ<ul><li>Future å®Œæˆåä¸ä¼šå†è§¦å‘ï¼Œé™¤éé‡æ–°æ„å»º Selector æˆ– å†æ¬¡ Add</li></ul></li></ul></li><li>NewContinueAsNewError<ul><li>ä¸ºé¿å… history è¿‡å¤§ï¼Œå»ºè®®é‡å¯</li></ul></li></ul></li><li>Activity - å•ä¸ªæ­¥éª¤æ´»åŠ¨<ul><li>è¿”å›å¿…éœ€åŒ…å« error</li><li>TaskToken - å”¯ä¸€æ ‡è¯† -&gt; DomainName, WorkflowID, ActivityID</li></ul></li><li>Session<ul><li>è°ƒåº¦å¤šä¸ª Activity åˆ°ç›¸åŒèŠ‚ç‚¹</li></ul></li><li>Replayer<ul><li>é‡æ”¾æ£€æµ‹ workflow æ˜¯å¦å˜åŒ–</li></ul></li><li>Shadower<ul><li>ä»æœåŠ¡ç«¯æ‹‰å–å†å²è¿›è¡Œé‡æ”¾</li><li>ä¾èµ–é«˜çº§æœç´¢ - Elastic å­˜å‚¨</li></ul></li><li>Archiver<ul><li>è´Ÿè´£å½’æ¡£å’Œå–å›å†å²</li><li>workflowID + runID å®šä½</li><li>å­˜å‚¨: local, S3, Kafka</li><li>history archival</li><li>visibility archival</li></ul></li><li>Advanced visibility<ul><li>åŸºäº SearchAttributes è¿›è¡Œæœç´¢ - åªæ”¯æŒåŸºç¡€ç±»å‹</li><li>éœ€è¦ Elastic</li><li>Memo åˆ—è¡¨å¯è§ï¼Œä½†ä¸ä¼šç´¢å¼• - æ”¯æŒä»»æ„ç±»å‹</li></ul></li><li>ActivityTask<ul><li>ç”± activity worker å¤„ç†</li></ul></li><li>DecisionTask<ul><li>ç”± workflow worker å¤„ç†</li><li>å¤„ç†å¤–éƒ¨äº‹ä»¶ - signalã€timer</li></ul></li><li>æœåŠ¡è§’è‰²<ul><li>FE - Front End - å‰ç«¯ API æœåŠ¡</li><li>HS - History Service - æ ¸å¿ƒå·¥ä½œæµç¼–æ’<ul><li>Cross DC replication</li></ul></li><li>MS - Matching Service - workflow/activity &lt;-&gt; worker</li><li>WS - Worker Service - å†…éƒ¨æœåŠ¡ï¼Œä¾‹å¦‚ archiving</li><li>Worker - ç”¨æˆ·ç¼–å†™</li></ul></li><li>query - æŸ¥è¯¢æµç¨‹çŠ¶æ€<ul><li><code>__stack_trace</code></li></ul></li><li>Event<ul><li>Signal - å¤–éƒ¨äº‹ä»¶</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="domain">Domain<a class="hash-link" href="#domain" title="Direct link to heading">â€‹</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="activity">Activity<a class="hash-link" href="#activity" title="Direct link to heading">â€‹</a></h2><ul><li>åº”ç”¨ä»£ç </li><li>é•¿æ—¶é—´è¿è¡Œçš„ - å¿ƒè·³</li><li>å¼‚æ­¥</li><li>åŸºäºç­–ç•¥é‡è¯•</li><li>è·¯ç”±åˆ°ä¸»æœºå’Œè¿›ç¨‹</li><li>é€šè¿‡é˜Ÿåˆ—åˆ†å‘</li><li>Worker é€Ÿç‡å’Œå¹¶å‘é™åˆ¶</li><li>é˜Ÿåˆ—é€Ÿç‡é™åˆ¶</li></ul><p>æ¦‚å¿µç±»ä¼¼äº Queue</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å®ç°">å®ç°<a class="hash-link" href="#å®ç°" title="Direct link to heading">â€‹</a></h3><ul><li>è¶…æ—¶ç­–ç•¥<ul><li>ScheduleToStart</li><li>StartToClose</li><li>ScheduleToClose</li><li>Heartbeat</li></ul></li><li>é‡è¯•ç­–ç•¥<ul><li>InitialInterval</li><li>BackoffCoefficient</li><li>MaximumInterval</li><li>MaximumAttempts</li><li>ExpirationInterval</li><li>NonRetryableErrorReasons</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="workflow">Workflow<a class="hash-link" href="#workflow" title="Direct link to heading">â€‹</a></h2><ul><li>è™šæ‹Ÿå¯¹è±¡ - Javaã€Go<ul><li>ä¾‹å¦‚ ç”¨æˆ·ã€æ“ä½œç›®æ ‡ - æ”¯æŒæŸ¥è¯¢å’Œç›¸å…³æ“ä½œ</li><li>æ¯ä¸ªè™šæ‹Ÿå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„çŠ¶æ€ - å› æ­¤ç³»ç»Ÿä¸­çš„ Entity éƒ½ä¼šæ˜ å°„åˆ° Workflow</li></ul></li><li>äº‹åŠ¡æ€§</li><li>ç¼–æ’ Activities</li><li>å“åº”å¤–éƒ¨äº‹ä»¶</li><li>æœ‰çŠ¶æ€ - æœ¬åœ°å˜é‡å’Œæ ˆ</li><li>å¯æŸ¥è¯¢</li><li>é•¿æ—¶é—´å­˜åœ¨</li><li>æŒä¹…åŒ–è®¡æ—¶å™¨</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å®ç°-1">å®ç°<a class="hash-link" href="#å®ç°-1" title="Direct link to heading">â€‹</a></h3><ul><li>æ¯ä¸ªåŸŸä¸‹ æ¯ä¸ª Workflow æœ‰ä¸€ä¸ªå”¯ä¸€ ID - é€šå¸¸æ˜¯ä¸šåŠ¡å¯¹è±¡ ID - ä¾‹å¦‚è®¢å•ã€å®¢æˆ·çš„ ID<ul><li>Domain Name, Workflow ID, Run ID</li></ul></li><li>æ¯æ¬¡æ‰§è¡Œæœ‰ Run ID</li><li>å¤ç”¨ç­–ç•¥<ul><li>AllowDuplicateFailedOnly - é»˜è®¤ - å…è®¸å¤±è´¥çš„æµç¨‹é‡å¤æ‰§è¡Œ</li><li>AllowDuplicate - å¦‚æœæµç¨‹å½“å‰æœªè¿è¡Œ</li><li>RejectDuplicate - ä¸å…è®¸é‡å¤æ‰§è¡Œ</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æ³¨æ„">æ³¨æ„<a class="hash-link" href="#æ³¨æ„" title="Direct link to heading">â€‹</a></h3><ul><li>æ²¡æœ‰ç›´æ¥çš„ API æ“ä½œï¼Œé€šè¿‡ Activity è¿›è¡Œå“åº”</li><li>æ ¸å¿ƒæ˜¯ç¼–æ’ Activity</li><li>å¯ä»¥ç†è§£ä¸ºå•çº¿ç¨‹çš„åº”ç”¨é€»è¾‘ - ä½†å®é™…ä¼šè¿ç§»åˆ°ä¸åŒä¸»æœºè¿è¡Œ</li><li>ä¸ä¼ ç»Ÿæ„ä¹‰ Workflow ä¸åŒ - orchestratorã€<a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview" target="_blank" rel="noopener noreferrer">durable function</a><ul><li>ä¼ ç»Ÿæ„ä¹‰ Workflow<ul><li>ä»æŸä¸ªåœ°æ–¹å¼€å§‹ï¼Œåˆ°æŸä¸ªåœ°æ–¹ç»“æŸ</li><li>LCDP / ä½ä»£ç å¼€å‘å¹³å° - å›¾å½¢åŒ–æ›¿ä»£ç¼–ç </li></ul></li></ul></li><li>ç±»ä¼¼äºä¸€ä¸ªæ–¹æ³•</li><li>UI çš„æµç¨‹æ„å»ºæœ€ç»ˆä¹Ÿæ˜¯æ˜ å°„ä¸ºä»£ç å±‚é¢çš„æ‰§è¡Œ - workflow æ˜¯ code first<ul><li>Workflow å†å»æ”¯æŒ UI çš„ graph</li></ul></li><li>å¯ä»¥å°†å¤šä¸ª Task æ˜ å°„ä¸ºå•ä¸ª Workflow - å¯é€šè¿‡å˜é‡æ§åˆ¶<ul><li>é€»è¾‘å¤„ç†æ›´åŠ æ¸…æ™°</li><li>å‡å°‘ DB Load</li><li>æ€è€ƒæ–¹å¼ä¼šæœ‰æ‰€ä¸åŒ</li></ul></li><li>å¼‚æ„å’Œ LongRun çš„ç‰¹æ€§<ul><li>å¯ä»¥ç”¨äºç®¡ç†å…¶ä»–å¹³å°<ul><li>ç®¡ç† CIã€CD æ‰§è¡Œ</li><li>ç®¡ç† Flinkã€Spark ä»»åŠ¡</li></ul></li><li>å¯ç”¨äºæ‰§è¡Œå‘¨æœŸæ€§ä»»åŠ¡<ul><li>æ¯æœˆæŠ¥è¡¨</li><li>å„ç§é•¿çŸ­å‘¨æœŸä»»åŠ¡</li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="é…ç½®">é…ç½®<a class="hash-link" href="#é…ç½®" title="Direct link to heading">â€‹</a></h2><ul><li>/etc/cadence/config/config_template.yaml<ul><li><a href="https://github.com/uber/cadence/blob/master/docker/config_template.yaml" target="_blank" rel="noopener noreferrer">docker/config_template.yaml</a></li><li>é…ç½®æ¨¡æ¿</li></ul></li><li>/etc/cadence/config/dynamicconfig/config.yaml</li><li><a href="https://github.com/uber/cadence/blob/master/common/config/config.go" target="_blank" rel="noopener noreferrer">https://github.com/uber/cadence/blob/master/common/config/config.go</a></li><li><a href="https://github.com/uber/cadence/blob/master/common/service/config.go" target="_blank" rel="noopener noreferrer">https://github.com/uber/cadence/blob/master/common/service/config.go</a></li><li>domain<ul><li>Retention</li></ul></li></ul><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">history</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 2K -&gt; SQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 8K -&gt; Cassandra</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">numHistoryShards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å­˜å‚¨å¼•ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">defaultStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">visibilityStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> visibility</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">advancedVisibilityStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> es</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">visibility</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å­˜å‚¨é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">datastores</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">nosql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">pluginName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cassandra&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">sql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">pluginName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;postgres&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">encodingType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;thriftrw&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">decodingTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;thriftrw&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">databaseName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.DBNAME &quot;cadence&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">connectAddr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.POSTGRES_SEEDS &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.DB_PORT &quot;5432&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">connectProtocol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tcp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.POSTGRES_USER &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.POSTGRES_PWD &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">maxConns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">maxIdleConns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">maxConnLifetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">tls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">sslmode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> require</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">elasticsearch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.ES_VERSION &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.ES_USER &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.ES_PWD &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">scheme</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.ES_SEEDS &quot;&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.ES_PORT &quot;9200&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">indices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">visibility</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.VISIBILITY_NAME &quot;cadence</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">visibility</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">dev&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">visibility</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">sql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¸€èˆ¬ä¼šç”¨ä¸åŒçš„åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">databaseName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> default .Env.VISIBILITY_DBNAME &quot;cadence_visibility&quot; </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">es-visibility</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">dynamicConfigClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">filepath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /etc/cadence/config/dynamicconfig/config.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">pollInterval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 10s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># åŠ¨æ€é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">frontend.visibilityListMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">constraints</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">domainName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;domainA&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">constraints</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">domainName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;domainB&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å•èŠ‚ç‚¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">frontend.persistenceMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å…¨å±€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">frontend.persistenceGlobalMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># visibility db</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">frontend.visibilityListMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">frontend.esVisibilityListMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">matching.persistenceMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">matching.persistenceGlobalMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">matching.persistenceGlobalMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">history.persistenceMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">history.persistenceGlobalMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">history.historyVisibilityOpenMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">history.historyVisibilityClosedMaxQPS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å­˜å‚¨ç»“æ„">å­˜å‚¨ç»“æ„<a class="hash-link" href="#å­˜å‚¨ç»“æ„" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://github.com/uber/cadence/tree/master/schema/postgres" target="_blank" rel="noopener noreferrer">schema/postgres</a></li><li>domains</li><li>domain_metadata</li><li>shards</li><li>transfer_tasks</li><li>cross_cluster_tasks</li><li>executions</li><li>current_executions</li><li>buffered_events</li><li>tasks</li><li>task_lists</li><li>replication_tasks</li><li>replication_tasks_dlq</li><li>timer_tasks</li><li>activity_info_maps</li><li>timer_info_maps</li><li>child_execution_info_maps</li><li>request_cancel_info_maps</li><li>signal_info_maps</li><li>buffered_replication_task_maps</li><li>signals_requested_sets</li><li>history_node</li><li>history_tree</li><li>queue</li><li>queue_metadata</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="schema">schema<a class="hash-link" href="#schema" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">go build -o cadence-sql-tool github.com/uber/cadence/cmd/tools/sql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># é»˜è®¤å­˜å‚¨ å’Œ visibility éƒ½éœ€è¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">env</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">cat</span><span class="token variable" style="color:rgb(191, 199, 213)"> .env </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">xargs</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"> ./cadence-sql-tool setup-schema -v </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">env</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">cat</span><span class="token variable" style="color:rgb(191, 199, 213)"> .vis </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">xargs</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"> ./cadence-sql-tool setup-schema -v </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># update - æ³¨æ„ é»˜è®¤ å’Œ visibility è·¯å¾„ä¸åŒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">env</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">cat</span><span class="token variable" style="color:rgb(191, 199, 213)"> .env </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">xargs</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"> go run ./cmd/tools/sql/ update-schema -d schema/postgres/cadence/versioned/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">env</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">cat</span><span class="token variable" style="color:rgb(191, 199, 213)"> .vis </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">xargs</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"> go run ./cmd/tools/sql/ update-schema -d schema/postgres/visibility/versioned/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-ini theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_oQzk">.env</div><div class="codeBlockContent_csEI ini"><pre tabindex="0" class="prism-code language-ini codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_PLUGIN=postgres</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_HOST=192.168.1.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_PORT=5432</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_DATABASE=cadence</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_USER=cadence</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_PASSWORD=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SQL_CONNECT_ATTRIBUTES=sslmode=require</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><ul><li>postgres å¼€å¯ --tls è¦æ±‚æä¾› ca - å®é™…ä¸éœ€è¦ï¼Œç›®å‰è¦æ”¹æ£€æµ‹ä»£ç <ul><li><a href="https://github.com/uber/cadence/pull/4639" target="_blank" rel="noopener noreferrer">#4639</a></li></ul></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="helm">Helm<a class="hash-link" href="#helm" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://github.com/wenerme/charts/tree/master/banzai/charts/cadence" target="_blank" rel="noopener noreferrer">https://github.com/wenerme/charts/tree/master/banzai/charts/cadence</a><ul><li>åŒæ­¥è‡ª banzai charts</li><li>banzai å›½å†…æ— æ³•è®¿é—®</li></ul></li><li>existingSecret åŒ…å« password å­—æ®µ</li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><ul><li>helm schema job ä¸æ”¯æŒ postgresï¼Œä¸æ”¯æŒä½¿ç”¨ existingSecret<ul><li>å»ºè®®æœ¬åœ°è¿ç§»</li><li><a href="https://github.com/banzaicloud/banzai-charts/issues/1301" target="_blank" rel="noopener noreferrer">banzaicloud/banzai-charts#1301</a>
Setup Job doesn&#x27;t pull value from secret</li></ul></li><li>service æœªæš´éœ² grpc ç«¯å£<ul><li><a href="https://github.com/banzaicloud/banzai-charts/issues/1305" target="_blank" rel="noopener noreferrer">banzaicloud/banzai-charts#1305</a></li></ul></li></ul></div></div><header><h1>FAQ</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cannot-register-global-domain-when-not-enabled">Cannot register global domain when not enabled<a class="hash-link" href="#cannot-register-global-domain-when-not-enabled" title="Direct link to heading">â€‹</a></h2><p>cli æ³¨å†Œæ·»åŠ  <code>--global_domain=false</code></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="persistence-max-qps-reached">Persistence Max QPS Reached<a class="hash-link" href="#persistence-max-qps-reached" title="Direct link to heading">â€‹</a></h2><p>æ•°æ®åº“é™åˆ¶</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="persistence-max-qps-reached-for-list-operations">Persistence Max QPS Reached for List Operations<a class="hash-link" href="#persistence-max-qps-reached-for-list-operations" title="Direct link to heading">â€‹</a></h2><p>visibility æ•°æ®åº“é™åˆ¶</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/service/workflow/cadence.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/notes/service/workflow/workflow-faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Workflow FAQ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/notes/service/workflow/flogo"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">flogo</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¿«é€Ÿå¼€å§‹" class="table-of-contents__link toc-highlight">å¿«é€Ÿå¼€å§‹</a></li><li><a href="#golang" class="table-of-contents__link toc-highlight">Golang</a></li><li><a href="#java" class="table-of-contents__link toc-highlight">Java</a></li><li><a href="#æœåŠ¡ç«¯" class="table-of-contents__link toc-highlight">æœåŠ¡ç«¯</a></li><li><a href="#domain" class="table-of-contents__link toc-highlight">Domain</a></li><li><a href="#activity" class="table-of-contents__link toc-highlight">Activity</a><ul><li><a href="#å®ç°" class="table-of-contents__link toc-highlight">å®ç°</a></li></ul></li><li><a href="#workflow" class="table-of-contents__link toc-highlight">Workflow</a><ul><li><a href="#å®ç°-1" class="table-of-contents__link toc-highlight">å®ç°</a></li><li><a href="#æ³¨æ„" class="table-of-contents__link toc-highlight">æ³¨æ„</a></li></ul></li><li><a href="#é…ç½®" class="table-of-contents__link toc-highlight">é…ç½®</a></li><li><a href="#å­˜å‚¨ç»“æ„" class="table-of-contents__link toc-highlight">å­˜å‚¨ç»“æ„</a></li><li><a href="#schema" class="table-of-contents__link toc-highlight">schema</a></li><li><a href="#helm" class="table-of-contents__link toc-highlight">Helm</a></li><li><a href="#cannot-register-global-domain-when-not-enabled" class="table-of-contents__link toc-highlight">Cannot register global domain when not enabled</a></li><li><a href="#persistence-max-qps-reached" class="table-of-contents__link toc-highlight">Persistence Max QPS Reached</a></li><li><a href="#persistence-max-qps-reached-for-list-operations" class="table-of-contents__link toc-highlight">Persistence Max QPS Reached for List Operations</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ç¬”è®°</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip">VoIP</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Wener&#x27;s Apis<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 1992-2022 Wener - <img alt="cc-by-sa-4.0" src="https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"> - Build @2022-03-11 17:14</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ba19ffaa.js"></script>
<script src="/assets/js/main.ff6774fd.js"></script>
</body>
</html>