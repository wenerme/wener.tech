<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Wener Live & Life" href="/opensearch.xml"><title data-react-helmet="true">Samba | Wener Live &amp; Life</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Samba | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="SMB"><meta data-react-helmet="true" property="og:description" content="SMB"><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/ops/storage/fs/smb"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://wener.me/notes/ops/storage/fs/smb"><link rel="stylesheet" href="/styles.98d7e791.css">
<link rel="preload" href="/styles.586eef36.js" as="script">
<link rel="preload" href="/runtime~main.d568b2a8.js" as="script">
<link rel="preload" href="/main.b915cfc7.js" as="script">
<link rel="preload" href="/1.5348728b.js" as="script">
<link rel="preload" href="/2.24ca2932.js" as="script">
<link rel="preload" href="/3.10a7fea7.js" as="script">
<link rel="preload" href="/1be78505.af098cd8.js" as="script">
<link rel="preload" href="/648.8d5d3236.js" as="script">
<link rel="preload" href="/935f2afb.e2802eb0.js" as="script">
<link rel="preload" href="/17896441.0ba95877.js" as="script">
<link rel="preload" href="/554fc6b1.e3031462.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a><a class="navbar__item navbar__link" href="/notes/java/java">ç¬”è®°</a><a class="navbar__item navbar__link" href="/story">æ•…äº‹</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/notes/java/java">ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" href="/story">æ•…äº‹</a></li><li class="menu__list-item"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/maven">Maven</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç‰ˆæœ¬</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/version">Javaç‰ˆæœ¬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-11">Java 11</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-10">Java 10</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-9">Java 9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-8">Java 8</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-7">Java 7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/version/java-6">Java 6</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Spring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/spring">Spring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/boot">Spring Boot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/data">Spring Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/data-rest">Spring Data REST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/security">Spring Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/security-oauth2">Spring Security OAuth2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/cloud">Spring Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/spring/releases">å‘å¸ƒå†å²</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/library/productive">ç”Ÿäº§åŠ›</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/library/hazelcast">Hazelcast</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/library/hibernate-orm">Hibernate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/library/hibernate-enver">Hibernate Enver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/library/quarkus">Quarkus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/java/library/guava">Guava</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å‰ç«¯æŠ€æœ¯</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ¡†æ¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/nextjs">NextJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/nextjs-version">NextJS ç‰ˆæœ¬å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/nextjs-cookbook">NextJS Cookbook</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/electron">Electron</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/vue">Vue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/angular">Angular</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/riot">Riot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/web/framework/prisma">Prisma</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è¯­è¨€</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/languages">è¯­è¨€</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/parsing">è¯­æ³•è§£æ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/peg">PEG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/pegjs">PEG.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/php">PHP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/zig">Zig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/lua/lua">Lua</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/lua/lua-version">Lua ç‰ˆæœ¬</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Golang</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go">Golang</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-template">Go æ¨¡æ¿</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-pkg-net-rpc">Go net/rpc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-kit">go-kit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/languages/go/go-windows">Golang Windows</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¼€å‘è¿ç»´</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/tracing/tracing">Tracing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æŒ‡æ ‡ç›‘æ§</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/metrics">æŒ‡æ ‡ç›‘æ§</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus">Prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/promql">PromQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus-exporter">Prometheus Exporter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/statsd_exporter">statsd_exporter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus-k8s">Prometheus K8S</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/prometheus-storage">Prometheus å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/grafana">Grafana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/thanos">Thanos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/metrics/cortex">Cortex</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ—¥å¿—</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/logging/logging">æ—¥å¿—</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/logging/syslog">Syslog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/logging/loki">Loki</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/logging/fluentbit">Fluentbit</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/microservices">Microservices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/servicemesh">Service Mesh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/linkerd">Linkerd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/kuma">Kuma</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/consul">Consul</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/consul-conf">Consul é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/consul-connect">Consule Connect Mesh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/service/fabio">fabio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/web/nginx">Nginx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/web/caddy">Caddy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/web/traefik">Traefik</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å¹³å°æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/xaas/db-schema">Tenant DB Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/xaas/paas/dokku">Dokku</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">AlpineLinux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine">Alpine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-intro">Alpine å…¥é—¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-ops">Alpine è¿ç»´ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-pkgs">Alpine åŒ…ç»´æŠ¤</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-lbu">Alpine local backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-boot">Alpin Boot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-version">ç‰ˆæœ¬å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/alpine/alpine-faq">Alpine FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docker</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-intro">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-network">Docker ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-storage">Docker å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-swarm">Docker Swarm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/docker/docker-cookbook">Docker å¸¸ç”¨æœåŠ¡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Kubernetes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/kubernetes">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k8s-dashboard">Kubernates é¢æ¿</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/distro/k3s">K3S</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/distro/k3s-version">K3S Version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/distro/k3d">K3S in Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/k8s-glossary">K8S è¯æ±‡è¡¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/app-cookbook">K8S Apps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/helm">HELM åŒ…ç®¡ç†å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/helm2">HELM2 - ä¸æ¨è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/ops/rke">RKE - å®‰è£…å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/tool/kustomize">kustomize</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/tool/krew">krew</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/k8s-network">Kubernates ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/kong-ingress">Kong Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/nginx-ingress">Nginx Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/traefik-ingress">Traefik Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/metallb">MetalLB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/network/flannel">Flannel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/k8s-storage">Kubernates å­˜å‚¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/longhorn">Longhorn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/k8s-nfs">NFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/storage/rook">Rook</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å¹³å°</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/platform/rancher">Rancher UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/platform/knative">Knative</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/platform/istio">Istio æœåŠ¡ç½‘æ ¼</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">åº”ç”¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/cert-manager">Cert Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/k8s-consul">Consol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/devops/kubernetes/app/harbor">Harbor</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ“ä½œç³»ç»Ÿ</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Darwin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/darwin/darwin">Darwin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/darwin/macos">macOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/darwin/brew">Brew</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Windows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/windows/windows">Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/windows/windows-dc">Windows åŸŸæ§</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/windows/windows-faq">Windows FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å¯åŠ¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/linux/boot/syslinux">Syslinux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/linux/boot/uboot">U-Boot</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">è™šæ‹ŸåŒ–</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/virt">è™šæ‹ŸåŒ–</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/qemu-doc">QEMU æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/qemu-monitor">QEMUç›‘è§†å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/qemu-version">QEMU Version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/qemu-qmp">QEMU QMP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/libvirt">Libvirt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/libvirtd">Libvirt Daemon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/libvirt-faq">Libvirtå¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/virsh">Virsh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/haxm">HAXM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/hyperv">HyperV</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/os/virt/vmware">VmWare</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æŒ‡å—</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">è¿ç»´</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/ops/alpine-admin-ansible">å¦‚ä½•é€šè¿‡ Ansible æ¥ç®¡ç† AlpineLinux ï¼Ÿ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/dns-prevent-spoofing">å¦‚ä½•é¿å… DNS æ±¡æŸ“ä¸”èƒ½æ­£å¸¸è®¿é—®å›½å†…åŸŸåï¼Ÿ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/tinc-get-started">å¦‚ä½•éƒ¨ç½² TINC ç½‘ç»œï¼Ÿ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/tinc-multi-path-failover">å¦‚ä½•é…ç½® TINC å®ç°å¤šè·¯å®¹ç¾ï¼Ÿ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/howto/network/tinc-transparency-proxy">å¦‚ä½•åŸºäº TINC å®ç°é€æ˜ä»£ç†</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç³»ç»Ÿç®¡ç†</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/admin/htop">htop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/admin/mosh">MOSH</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">åŸºç¡€è®¾æ–½</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/infra">åŸºç¡€è®¾æ–½</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/ansible">Ansible</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/ansible-awx">Ansible AWX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/ansible-faq">ansible-faq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/terraform">Terraform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/terraform-provider">Terraform Provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/terraform-cookbook">Terraform å¸¸ç”¨è„šæœ¬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/packer">Packer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/infra/cloud-init">Cloud Init</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å·¥å…·</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/tool/network/ip-lookup">å¸¸ç”¨IPåœ°å€æ®µæŸ¥è¯¢</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">æ•°æ®åº“</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/db">æ•°æ®åº“</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PostgreSQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/postgresql">PostgresSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/datatype">æ•°æ®ç±»å‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/fts">PostgreSQL å…¨æ–‡æ£€ç´¢</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/version">ç‰ˆæœ¬å†å²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/postgresql-sql-faq">Pg SQL å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/timescale">TimeScale</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/postgrest-hello">PostREST å…¥é—¨éƒ¨ç½²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/postgresql/hasura">Hasura</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å…³ç³»å‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/mysql">MySQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/mysql-gtid">MySQL GTID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/relational/sqlite">SQLite</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ–‡æ¡£å‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/document/mongodb">MongoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/document/rethinkdb">RethinkDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/document/couchdb">CouchDB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">é”®å€¼å‹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/kv">Key Value</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/redis">Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/lmdb">LMDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/db/kv/leveldb">LevelDB</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å‚è€ƒ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/words">è¯æ±‡å¯¹æ¯”</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">è½¯ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/software/saas">SaaS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/software/glossary">å¼€å‘è¯æ±‡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç”¨æˆ·å¢é•¿</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/growth/formula">å¢é•¿ç›¸å…³å…¬å¼</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/growth/glossary">å¢é•¿ç›¸å…³è¯æ±‡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">çƒ¹é¥ª</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/reference/cook/glossary">çƒ¹é¥ªè¯æ±‡</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç½‘ç»œ</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">åº”ç”¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/application/dns">DNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/application/http">HTTP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/application/ssl">SSL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">é“¾è·¯</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/link/wireless">æ— çº¿ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/link/infiniband">InfiniBand</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç§æœ‰</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/intro">ç§æœ‰ç½‘ç»œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/tinc">Tinc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/tinc-conf">Tinc é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/privoxy">Privoxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/privoxy-action">Privoxy Action</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/ipsec">IPSec</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/wireguard">WireGuard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/private/vpn-faq">ç§æœ‰è™šæ‹Ÿç½‘ç»œå¸¸è§é—®é¢˜</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å·¥å…·</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/intro">ç½‘ç»œç›¸å…³å·¥å…·é›†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/bonding">Bonding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/dnsmasq">dnsmasq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/ifconfig">ifconfig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/mitmproxy">MitmProxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/nmap">NMap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/powerdns">PowerDNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/tool/wireshark">Wireshark</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/network/standard/ieee-802">IEEE 802</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/intro">Storage</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">å—å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/block/raid">RAID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/block/mdadm">mdadm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/block/lvm">LVM</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">æ–‡ä»¶å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/fs/intro">Filesystem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/fs/zfs">ZFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/fs/btrfs">Btrfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/fs/fuse">FUSE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/fs/nfs">NFS</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/notes/ops/storage/fs/smb">Samba</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/notes/ops/storage/fs/ntfs">NTFS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ç½‘ç»œå­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/network/share">Share</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/storage/network/sshfs">SSHFS</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¼€å‘æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Auth</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth">Auth æ¦‚å¿µ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth-faq">è®¤è¯æˆæƒå¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/keycloak">Keycloak</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/keycloak-dev">Keycloak å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/keycloak-faq">Keycloak å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/louketo">Louketo Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/oauth2-proxy">oauth2-proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/ldap">LADP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/ldap-schema">LDAP Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/ldif">LDIF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/apacheds">Apache Directory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/apacheds-ops">ApacheDS è¿ç»´</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/apacheds-kerberos">ApacheDS Kerberos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/kerberos">Kerberos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/kerberos-faq">Kerberos FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/oauth">OAuth</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/jwt">JWT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth-protocol">åè®®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/auth/auth-glossary">è¯æ±‡</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å†…å®¹ç®¡ç†</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/cms/cms">CMS æ¦‚è§ˆ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/cms/docusaurus">Docusaurus</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Office</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/office/office">åŠå…¬å¥—ä»¶</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/office/collabora">Collabora Online</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/office/onlyoffice">ONLYOFFICE</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å®¢æˆ·å…³ç³»ç®¡ç†</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/crm/crm-insight">ç†è§£ CRM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æ–‡ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/file/nextcloud">NextCloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/file/nextcloud-config">Nextcloud é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/file/nextcloud-faq">Nextcloud FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">å­˜å‚¨</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/seaweedfs">seaweedfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/minio">Minio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/minio-operator">MinIO Kubernetes Operator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph">Ceph</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph-glossary">Ceph æœ¯è¯­</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph-k8s">Ceph Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/ceph-ubuntu-16-install">Ubuntu 16.04 å®‰è£… Ceph</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/storage/distributed-storage">åˆ†å¸ƒå¼å­˜å‚¨</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ä»“åº“</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/service/repository/nexus">Nexus</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">è¿ç»´</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">æœåŠ¡</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/remote-desktop">è¿œç¨‹æ¡Œé¢</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/matomo">Matomo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gitlab</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/gitlab-config">GitLabé…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/gitlab-cicd">GitaLabæŒç»­é›†æˆæŒç»­äº¤ä»˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/ops/service/gitlab-k8s">GitLab K8S é›†æˆ</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç¡¬ä»¶</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ç¡¬ä»¶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/hardware/battery/battery">ç”µæ± </a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/hardware/microcontroller/dev/arduino">Arduino</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ç®—æ³•</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">è®¡ç®—æœºè§†è§‰</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/algorithm/cv/imagemagick">ImageMagick</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">VoIP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/voip">VoIP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/hardware/intro">ç¡¬ä»¶è®¾å¤‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/sip/provider">SIP æä¾›å•†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/glossary">è¯æ±‡è¡¨</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Asterisk</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/asterisk">Asterisk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/version">Asterisk ç‰ˆæœ¬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/asterisk-moduls">Asterisk Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/dev">å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/conf">Asterisk é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/dialplan">æ‹¨å·è®¡åˆ’</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/codec">Asterisk ç¼–ç </a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/chan_dahdi">DAHDi Channel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/chan_dongle">chan_dongle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/reference">å‚è€ƒ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/glossory">Asterisk è¯æ±‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/notes/voip/asterisk/the-definitive-guide-4th">Asterisk æƒå¨æŒ‡å—,ç¬¬å››ç‰ˆ</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Samba</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="smb"></a>SMB<a aria-hidden="true" tabindex="-1" class="hash-link" href="#smb" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="tips"></a>Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tips" title="Direct link to heading">#</a></h2><ul><li><p>æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>Server Message Block</li><li>1983 IBM åˆ›å»º</li></ul></li><li><p>ç‰ˆæœ¬</p><ul><li>1983 SMBv1<ul><li>è‡ª Windows Server 2003ï¼ŒWindows 2000</li><li>Windows Server 2012 R2 åºŸå¼ƒæ”¯æŒ</li><li>Windows Server 2016ï¼ŒWindows 10 æ—  SMBv1 æ”¯æŒ</li><li>Samba 4.11 é»˜è®¤ç¦ç”¨</li></ul></li><li>2006 SMBv2<ul><li>è‡ª Windows Vista in 2006ï¼ŒWindows Server 2008</li><li>Samba 3.6</li><li>å‡å°‘æŒ‡ä»¤ï¼Œæ”¯æŒç¬¦å·é“¾æ¥ï¼Œç¼“å­˜æ–‡ä»¶å±æ€§</li><li>å¼€å‘åè®®è§„èŒƒ</li><li>OS X 10.9 ä» afp è¿ç§»åˆ° SMBv2</li><li>Linux 3.7 CIFS æ”¯æŒ SMBv2</li></ul></li><li>2009 SMBv2.1<ul><li>è‡ª Windows 7, Windows Server 2008 R2</li><li>opportunistic locking mechanism</li></ul></li><li>2012 SMBv3 - SMBv2.2<ul><li>SMB Direct Protocol - SMB RDMA</li><li>å¤šé€šé“ - ä¸€ä¸ªä¼šè¯å¤šä¸ªè¿æ¥</li><li>ä¼ è¾“å±‚ Failover</li><li>ç«¯åˆ°ç«¯åŠ å¯†</li><li>æ–°å¢ AES ç­¾åç®—æ³• - ä¹‹å‰æ˜¯ HMAC SHA-256</li></ul></li><li>2013 SMB 3.0.2 - 3.02<ul><li>æ”¯æŒç¦ç”¨ SMBv1</li></ul></li><li>2016 SMB 3.1.1<ul><li>åœ¨ AES-128 CCM æ–°å¢ AES-128 GCM</li><li>SHA-512 æ¯æ¬¡è®¤è¯å®Œæ•´æ€§æ£€æŸ¥</li><li>å¼ºåˆ¶å®‰å…¨åè®®åå•†</li></ul></li></ul></li><li><p><a href="https://www.samba.org/samba/docs/Samba3-ByExample.pdf" target="_blank" rel="noopener noreferrer">Samba3 by Example</a></p></li><li><p><a href="https://www.samba.org/samba/docs/Samba3-HOWTO.pdf" target="_blank" rel="noopener noreferrer">Samba3 How to</a></p></li><li><p><a href="https://en.wikipedia.org/wiki/Server_Message_Block" target="_blank" rel="noopener noreferrer">Server Message Block</a></p></li><li><p><a href="https://en.wikipedia.org/wiki/CIFSD" target="_blank" rel="noopener noreferrer">CIFSD</a> - in-kernel CIFS/SMB server</p><ul><li><a href="https://github.com/namjaejeon/cifsd" target="_blank" rel="noopener noreferrer">namjaejeon/cifsd</a></li></ul></li><li><p>Wikipedia <a href="https://en.wikipedia.org/wiki/Samba_(software)" target="_blank" rel="noopener noreferrer">Samba</a></p></li><li><p>æ·»åŠ çš„ç”¨æˆ·åå¿…é¡»è¦å…ˆå­˜åœ¨äºç³»ç»Ÿä¸­,å³éœ€è¦å…ˆ <code>useradd</code></p></li><li><p>ç¦ç”¨æ‰“å°æœºæœåŠ¡</p></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">load printers = no</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">printing = bsd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">printcap name = /dev/null</span></div></div></div></div></div><ul><li>å…è®¸è®¿å®¢ç™»é™†<ul><li><code>guest ok = yes</code></li><li><code>smbclient  //127.0.0.1/public -U guest</code></li></ul></li><li>smb.conf<ul><li><a href="https://www.samba.org/samba/docs/using_samba/ch06.html" target="_blank" rel="noopener noreferrer">Using samba ch06</a></li><li>man <a href="https://www.samba.org/samba/docs/man/manpages/smb.conf.5.html" target="_blank" rel="noopener noreferrer">smb.conf</a></li></ul></li><li>é»˜è®¤ç«¯å£<ul><li>137 netbios-ns NETBIOS Name Service</li><li>138 netbios-dgm NETBIOS Datagram Service</li><li>139/udp/tcp netbios-ssn NETBIOS Session Service</li><li>445/tcp NetBIOS was moved to 445 after 2000 and beyond, (CIFS)</li></ul></li><li>ç›¸å…³ç«¯å£<ul><li>901 SWAT service (not related to client communication)</li><li>445 microsoft-ds åŸŸæ§</li></ul></li><li>ç»„ä»¶<ul><li>smbd</li><li>nmbd</li></ul></li><li>å·¥å…·<ul><li>smbstatus - æŸ¥çœ‹æœåŠ¡çŠ¶æ€<ul><li>å½“å‰æ–‡ä»¶é”</li></ul></li><li>eventlogadm</li></ul></li><li>samba-dc<ul><li>samba-tool</li><li>samba - gpupdate dnsupdate downgrade_db kcc spnupdate upgradedns</li></ul></li><li>samba-winbind<ul><li>winbindd</li></ul></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å¸¦ samba çš„é•œåƒ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --rm -it -p </span><span class="token number" style="color:rgb(247, 140, 108)">139</span><span class="token plain">:139 -p </span><span class="token number" style="color:rgb(247, 140, 108)">445</span><span class="token plain">:445 -v </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">:/share -w /share wener/samba </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æˆ–è€… APK å®‰è£…</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apk </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> samba samba-dc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Linux</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mount</span><span class="token plain"> -t cifs -o </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">username,password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">password,uid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain">,gid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain">,rw,nounix,iocharset</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">utf8,file_mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">0777,dir_mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">0777 //192.168.1.120/storage /mnt/storage</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mount</span><span class="token plain"> -t cifs -o </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">credentials</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/root/.the-creds-file,uid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain">,gid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain">,rw,nounix,iocharset</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">utf8,file_mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">0777,dir_mode</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">0777 //192.168.1.120/storage /mnt/storage</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># this-creds-file</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># username=winuser</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># password=winpass</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># fstab</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># //192.168.1.120/storage /mnt/storage        cifs    credentials=/root/.smbcredentials,uid=33,gid=33,rw,nounix,iocharset=utf8,file_mode=0777,dir_mode=0777 0 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Windows</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net use Z: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">computer_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">share_name /PERSISTENT:YES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ–­å¼€è¿æ¥</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net use  Z: /delete</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">smbcontrol all reload-config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># killall -HUP smbd nmbd</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="quick-start"></a>Quick start<a aria-hidden="true" tabindex="-1" class="hash-link" href="#quick-start" title="Direct link to heading">#</a></h2><ul><li>guest éœ€è¦ <code>map to guest = Bad User</code></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Debian: apt-get install samba samba-client</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p ~/temp/share </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$_</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> private state usershare public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">755</span><span class="token plain"> public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">cat</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;&lt;</span><span class="token plain">CONF </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> smbd.ini</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">global</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">log </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/log.%m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config * </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> backend </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> tdb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">state directory </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/state</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">usershare path </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/usershare</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private </span><span class="token function" style="color:rgb(130, 170, 255)">dir</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/private</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">smb </span><span class="token function" style="color:rgb(130, 170, 255)">passwd</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/private/smbpasswd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">public</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">comment </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Public share</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">path </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PWD</span><span class="token plain">/public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">valid </span><span class="token function" style="color:rgb(130, 170, 255)">users</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> wener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">read</span><span class="token plain"> only </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> No</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CONF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ–°å»ºç”¨æˆ·, å¯†ç ä¸éœ€è¦å’Œç³»ç»Ÿå¯†ç ç›¸åŒ, ä½†éœ€è¦å­˜åœ¨è¯¥ç”¨æˆ·</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -s /sbin/nologin -d /dev/null</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># é»˜è®¤ state è·¯å¾„ä¸º /var/lib/samba/ åç«¯é»˜è®¤ä¸º tdb</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">adduser wener -DH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">smbpasswd -L -c smbd.ini -a wener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ£€æµ‹é…ç½®æ­£ç¡®</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">testparm smbd.ini</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¾“å‡ºæœ€ç»ˆé…ç½®</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">testparm -v smbd.ini</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å¯åŠ¨æœåŠ¡</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">smbd -s smbd.ini</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¾‹ä¸¾æ‰€æœ‰å…±äº«</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">smbclient  -L //127.0.0.1/public -U wener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¿æ¥</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">smbclient  //127.0.0.1/public -U wener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Linux: smb://&lt;HOST_IP_OR_NAME&gt;/&lt;folder_name&gt;/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Windows: \\&lt;HOST_IP_OR_NAME&gt;\&lt;folder_name&gt;\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æŒ‚è½½ smb, ä¿®æ”¹å¯†ç ä¸ºä¹‹å‰è¾“å…¥çš„å¯†ç </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mount</span><span class="token plain"> -t smbfs //wener:wener@localhost/public ~/mnt/smb/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mount</span><span class="token plain"> â€“t smbfs //localhost/public ~/mnt/smb/ â€“o </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">wener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mount</span><span class="token plain"> -t cifs -o </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">user</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">luke //192.168.1.1/share /mnt</span></div></div></div></div></div><p><a href="https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html" target="_blank" rel="noopener noreferrer">https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="smbconf"></a>smb.conf<a aria-hidden="true" tabindex="-1" class="hash-link" href="#smbconf" title="Direct link to heading">#</a></h2><ul><li><a href="https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html" target="_blank" rel="noopener noreferrer">smb.conf.5</a></li><li>ç‰¹æ®Š section<ul><li>global<ul><li>å…¨å±€é…ç½®æˆ–é»˜è®¤é…ç½®</li></ul></li><li>homes<ul><li>å¦‚æœé…ç½®äº†ï¼Œåˆ™æ”¯æŒè‡ªåŠ¨åˆ›å»º HOME ç›®å½•</li><li><code>%S</code> ç”¨æˆ·å® <code>path = /data/users/%S</code></li></ul></li><li>printers<ul><li>ç±»ä¼¼äº homesï¼Œä½†æ˜¯ç”¨äºæ‰“å°æœº</li></ul></li></ul></li></ul><p>tdb (idmap_tdb(8)), tdb2 (idmap_tdb2(8)), ldap (idmap_ldap(8)), rid (idmap_rid(8)), hash (idmap_hash(8)), autorid (idmap_autorid(8)), ad (idmap_ad(8)), nss (idmap_nss(8)), and rfc2307 (idmap_rfc2307(8)).</p><p>idmap_tdb
Samba&#x27;s idmap_tdb Backend for Winbind</p><p>The idmap_tdb plugin is the default backend used by winbindd for storing SID/uid/gid mapping tables.</p><p>In contrast to read only backends like idmap_rid, it is an allocating backend: This means that it needs to allocate new user and group IDs in order to create new mappings.</p><p>range = low - high
Defines the available matching uid and gid range for which the backend is authoritative.</p><p>idmap_tdb2 â€” Samba&#x27;s idmap_tdb2 Backend for Winbind
The idmap_tdb2 plugin is a substitute for the default idmap_tdb backend used by winbindd for storing SID/uid/gid mapping tables in clustered environments with Samba and CTDB.</p><p>script
This option can be used to configure an external program for performing id mappings instead of using the tdb counter. The mappings are then stored int tdb2 idmap database. For details see the section on IDMAP SCRIPT below.</p><p>idmap config * : script = /usr/local/samba/bin/idmap_script.sh</p><p>ä¸å»ºè®®ä½¿ç”¨ hash</p><p>The idmap_ad plugin provides a way for Winbind to read id mappings from an AD server that uses RFC2307/SFU schema extensions.</p><p>&quot;map to guest = Bad User&quot; will reject a user if that user is in the server&#x27;s samba password database but has the wrong password. But if the client user name doesn&#x27;t exist in the samba password database he is converted to the guest account and then it&#x27;s up to a given share definition to determine if he can gain access.</p><p>&quot;map to guest = Never&quot; makes the exact same comparison to the database but if it doesn&#x27;t find that user it doesn&#x27;t convert the user to the guest account it just rejects him and that user isn&#x27;t even allowed to view the share list.</p><p>Don&#x27;t pass a username and the &quot;map to guest&quot; logic is never used at the browse level and that&#x27;s what a Linux client does unless you force it..</p><p>Starting with v4.0, Samba is (or can be):</p><p>a file server
a DNS server
an LDAP server
a Kerberos server
an AD server</p><p><a href="https://wiki.samba.org/index.php/Setting_up_Samba_as_an_Active_Directory_Domain_Controller" target="_blank" rel="noopener noreferrer">https://wiki.samba.org/index.php/Setting_up_Samba_as_an_Active_Directory_Domain_Controller</a></p><p>Create an Active Directory Infrastructure with Samba4 on Ubuntu
<a href="https://www.tecmint.com/install-samba4-active-directory-ubuntu/" target="_blank" rel="noopener noreferrer">https://www.tecmint.com/install-samba4-active-directory-ubuntu/</a></p><p>Windows 7 Service Pack 1 (SP1) è¿œç¨‹æœåŠ¡å™¨ç®¡ç†å·¥å…·
<a href="https://www.microsoft.com/zh-cn/download/details.aspx?id=7887" target="_blank" rel="noopener noreferrer">https://www.microsoft.com/zh-cn/download/details.aspx?id=7887</a></p><p>Alpine Linux based container (aka Docker) for Samba 4 Active Directory
<a href="https://github.com/tkaefer/alpine-samba-ad-container" target="_blank" rel="noopener noreferrer">https://github.com/tkaefer/alpine-samba-ad-container</a></p><p><a href="https://github.com/dperson/samba" target="_blank" rel="noopener noreferrer">https://github.com/dperson/samba</a></p><p><a href="https://github.com/cptactionhank/docker-netatalk" target="_blank" rel="noopener noreferrer">https://github.com/cptactionhank/docker-netatalk</a></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># å…¨å±€é…ç½®</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># å…¶ä»– sestion çš„é»˜è®¤é…ç½®</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">security = domain</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">workgroup = MAIN</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">state directory = ${prefix}/var/locks</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">usershare path = ${prefix}/var/locks/usershares</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># æœåŠ¡è¿”å›ä¿¡æ¯</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server string = server %h</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># ä¸èµ·ååŒ¿å</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">map to guest = never</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config * : backend        = tdb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config * : range          = 1000000-1999999</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config MAIN : backend     = rid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config MAIN : range       = 5000000-5999999</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config TRUSTED : backend  = rid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config TRUSTED : range    = 6000000-6999999</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># æœåŠ¡ä¼šåœ¨é“¾æ¥æ˜¯åˆ›å»ºä¸»ç›®å½•</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[homes]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">path = /data/pchome/%S</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># å’Œ [homes] ç±»ä¼¼, ä½†æ˜¯é’ˆå¯¹æ‰“å°æœºçš„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[printers]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">path = /usr/spool/public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">guest ok = yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">printable = yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[foo]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># å¤‡æ³¨</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">comment = Public share</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># è·¯å¾„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">path = /data/share/public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># ç”¨æˆ·</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">valid users = wener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># æ˜¯å¦åªè¯»</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">read only = No</span></div></div></div></div></div><p>socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=65536 SO_SNDBUF=65536</p><p>docker run --rm -it --cap-add SYS_ADMIN --cap-add DAC_READ_SEARCH -v $PWD:/share -w /share wener/samba sh</p><p>mount -t cifs //10.88.2.202/share $PWD/mnt -o user=user,password=pass</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">workgroup = MYGROUP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server string = Samba Server</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server role = standalone server</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">log file = /usr/local/samba/var/log.%m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">max log size = 50</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dns proxy = no</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">idmap config * : backend = tdb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hosts allow = 192.168.0.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[public]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">comment = Public share</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">path = /data/share</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">read only = No</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">valid users = share</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">browsable = yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">writable = yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">create mask = 0775</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">directory mask = 0755</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="smbd---help"></a>smbd --help<a aria-hidden="true" tabindex="-1" class="hash-link" href="#smbd---help" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: smbd [OPTION...]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -D, --daemon                            Become a daemon (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -i, --interactive                       Run interactive (not a daemon) and log to stdout</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -F, --foreground                        Run daemon in foreground (for daemontools, etc.)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --no-process-group                  Don&#x27;t create a new process group</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -S, --log-stdout                        Log to stdout</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -b, --build-options                     Print build options</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -p, --port=STRING                       Listen on the specified ports</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -P, --profiling-level=PROFILE_LEVEL     Set profiling level</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Help options:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -?, --help                              Show this help message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --usage                             Display brief usage message</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Common samba options:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -d, --debuglevel=DEBUGLEVEL             Set debug level</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -s, --configfile=CONFIGFILE             Use alternate configuration file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -l, --log-basename=LOGFILEBASE          Base name for log files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -V, --version                           Print version</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      --option=name=value                 Set smb.conf option from command line</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="faq"></a>FAQ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cifs-vs-smb"></a>CIFS vs SMB<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cifs-vs-smb" title="Direct link to heading">#</a></h3><ul><li>CIFS - Common Internet File System<ul><li>SMB çš„æ–¹è¨€</li><li>SMB ç”± IBM åˆ›å»º</li><li>1996 å¾®è½¯ å°è¯•é‡å‘½åä¸º CIFSï¼Œ å¯¹åº” SMBv1ï¼Œæ·»åŠ äº†æ–°çš„åŠŸèƒ½</li><li>Linux çš„ CIFS æ¨¡å—æ”¯æŒ SMBv2</li></ul></li><li>å»ºè®®ç»Ÿä¸€ä½¿ç”¨ SMB</li><li>Windows Vista/Windows 2006 SMBv2</li><li>Windows 8/Windows 2012 SMBv3</li><li><a href="https://blog.varonis.com/cifs-vs-smb/" target="_blank" rel="noopener noreferrer">CIFS vs SMB</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="nt_status_bad_network_name"></a>NT_STATUS_BAD_NETWORK_NAME<a aria-hidden="true" tabindex="-1" class="hash-link" href="#nt_status_bad_network_name" title="Direct link to heading">#</a></h3><p>å¯èƒ½æ˜¯å› ä¸ºç›®å½•æ²¡æœ‰æƒé™</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="macos-ä¸‹æ— æ³•ä½¿ç”¨"></a>MacOS ä¸‹æ— æ³•ä½¿ç”¨<a aria-hidden="true" tabindex="-1" class="hash-link" href="#macos-ä¸‹æ— æ³•ä½¿ç”¨" title="Direct link to heading">#</a></h3><p><a href="https://community.spiceworks.com/topic/2085366-can-samba-active-directory-and-afp-run-simultaneously" target="_blank" rel="noopener noreferrer">https://community.spiceworks.com/topic/2085366-can-samba-active-directory-and-afp-run-simultaneously</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="nt_status_invalid_network_response"></a>NT_STATUS_INVALID_NETWORK_RESPONSE<a aria-hidden="true" tabindex="-1" class="hash-link" href="#nt_status_invalid_network_response" title="Direct link to heading">#</a></h3><p>å¯èƒ½æ˜¯ min protocol å¯¼è‡´çš„
<a href="https://www.linuxquestions.org/questions/linux-networking-3/samba-min-protocol-%3D-smb2-causes-protocol-negotiation-failed-nt_status_invalid_network_response-4175597669/" target="_blank" rel="noopener noreferrer">https://www.linuxquestions.org/questions/linux-networking-3/samba-min-protocol-%3D-smb2-causes-protocol-negotiation-failed-nt_status_invalid_network_response-4175597669/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ntlmv1-nt_status_wrong_password"></a>NTLMv1 NT_STATUS_WRONG_PASSWORD<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ntlmv1-nt_status_wrong_password" title="Direct link to heading">#</a></h2><ul><li>Samba é»˜è®¤åªå…è®¸ NTLMv2<ul><li>ä¿®æ”¹ä¸ºå…è®¸ v1 <code>ntlm auth = ntlmv1-permitted</code></li></ul></li><li>æˆ–è€… Windows ä¿®æ”¹ä¸ºä½¿ç”¨ v2<ul><li><code>secpol.msc</code></li><li>NTLMv2 response only/refuse LM and NTLM.</li></ul></li><li>Windows 7 å¼€å§‹é»˜è®¤ NTLMv2 ä½†æœ‰å¯èƒ½å¼€å¯å…±äº«æ—¶è¢«é…ç½®æˆäº† v1</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mounting-cifs-operation-not-supported"></a>mounting cifs: â€œOperation not supportedâ€<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mounting-cifs-operation-not-supported" title="Direct link to heading">#</a></h3><p>å°è¯•æ·»åŠ  vers=3.0 é€‰é¡¹</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">mount</span><span class="token plain"> -t cifs //192.168.1.1/share /mnt -o </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">user</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">username,password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">passwordd,vers</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3.0</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/ops/storage/fs/smb.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/notes/ops/storage/fs/nfs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« NFS</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/notes/ops/storage/fs/ntfs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">NTFS Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tips" class="table-of-contents__link">Tips</a></li><li><a href="#quick-start" class="table-of-contents__link">Quick start</a></li><li><a href="#smbconf" class="table-of-contents__link">smb.conf</a></li><li><a href="#smbd---help" class="table-of-contents__link">smbd --help</a></li><li><a href="#faq" class="table-of-contents__link">FAQ</a><ul><li><a href="#cifs-vs-smb" class="table-of-contents__link">CIFS vs SMB</a></li><li><a href="#nt_status_bad_network_name" class="table-of-contents__link">NT_STATUS_BAD_NETWORK_NAME</a></li><li><a href="#macos-ä¸‹æ— æ³•ä½¿ç”¨" class="table-of-contents__link">MacOS ä¸‹æ— æ³•ä½¿ç”¨</a></li><li><a href="#nt_status_invalid_network_response" class="table-of-contents__link">NT_STATUS_INVALID_NETWORK_RESPONSE</a></li></ul></li><li><a href="#ntlmv1-nt_status_wrong_password" class="table-of-contents__link">NTLMv1 NT_STATUS_WRONG_PASSWORD</a><ul><li><a href="#mounting-cifs-operation-not-supported" class="table-of-contents__link">mounting cifs: â€œOperation not supportedâ€</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¬”è®°</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip">VoIP</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Projects</h4><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wener&#x27;s Apis</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Wener Site" src="/img/wener-logo.svg"></div><div>Copyright Â© 1992-2021 Wener - æ„å»ºæ—¶é—´ 2021-01-07 22:05</div></div></div></footer></div>
<script src="/styles.586eef36.js"></script>
<script src="/runtime~main.d568b2a8.js"></script>
<script src="/main.b915cfc7.js"></script>
<script src="/1.5348728b.js"></script>
<script src="/2.24ca2932.js"></script>
<script src="/3.10a7fea7.js"></script>
<script src="/1be78505.af098cd8.js"></script>
<script src="/648.8d5d3236.js"></script>
<script src="/935f2afb.e2802eb0.js"></script>
<script src="/17896441.0ba95877.js"></script>
<script src="/554fc6b1.e3031462.js"></script>
</body>
</html>