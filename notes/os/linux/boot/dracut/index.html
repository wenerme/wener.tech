<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Wener Live & Life" href="/opensearch.xml"><title data-react-helmet="true">dracut | Wener Live &amp; Life</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="dracut | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="dracut"><meta data-react-helmet="true" property="og:description" content="dracut"><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/os/linux/boot/dracut"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://wener.me/notes/os/linux/boot/dracut"><link rel="stylesheet" href="/styles.98d7e791.css">
<link rel="preload" href="/styles.25dfaeee.js" as="script">
<link rel="preload" href="/runtime~main.adac6399.js" as="script">
<link rel="preload" href="/main.d7faa46d.js" as="script">
<link rel="preload" href="/1.9c4d0b34.js" as="script">
<link rel="preload" href="/2.7c2062cc.js" as="script">
<link rel="preload" href="/3.4713bc70.js" as="script">
<link rel="preload" href="/1be78505.63db3c66.js" as="script">
<link rel="preload" href="/625.fbc7f8e6.js" as="script">
<link rel="preload" href="/935f2afb.fbd97dc7.js" as="script">
<link rel="preload" href="/17896441.b560a16d.js" as="script">
<link rel="preload" href="/346c7dcf.63e58b0f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a><a class="navbar__item navbar__link" href="/notes/java/java">ç¬”è®°</a><a class="navbar__item navbar__link" href="/story">æ•…äº‹</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/notes/java/java">ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" href="/story">æ•…äº‹</a></li><li class="menu__list-item"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">dracut</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dracut"></a>dracut<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dracut" title="Direct link to heading">#</a></h1><ul><li>æ˜¯ä»€ä¹ˆ<ul><li>æ„å»º initramfs</li><li>å®šä½å’ŒæŒ‚è½½ rootfs</li><li>æ”¯æŒ btrfs, DM RAID, MD RAID, LVM2, device mapper multipath I/O, dm-crypt, cifs, FCoE, iSCSI, NBD, NFS</li><li>æºè‡ª Redhat - å› æ­¤ CentOSã€Fedoraã€RHEL éƒ½æ˜¯</li><li>é™¤äº† Redhat ä¹‹å¤–é»˜è®¤ä½¿ç”¨çš„ - openSUSEã€SLES</li></ul></li><li><a href="https://github.com/dracutdevs/dracut" target="_blank" rel="noopener noreferrer">dracutdevs/dracut</a></li><li><a href="https://dracut.wiki.kernel.org" target="_blank" rel="noopener noreferrer">dracut.wiki.kernel.org</a></li><li>æ¨¡å—ä½äº /usr/lib/dracut/modules.d<ul><li><a href="https://github.com/dracutdevs/dracut/tree/master/modules.d" target="_blank" rel="noopener noreferrer">modules.d</a></li><li>rngd<ul><li>è™šæ‹Ÿæœºç¯å¢ƒæœ€å¥½å¯åŠ¨ rngd/haveged å¦åˆ™å¯åŠ¨éå¸¸æ…¢ 200s+</li></ul></li><li>fs-lib<ul><li>ext4</li></ul></li><li><a href="https://github.com/dracutdevs/dracut/blob/master/modules.d/90qemu/module-setup.sh" target="_blank" rel="noopener noreferrer">qemu</a><ul><li>åŒ…å« virtio</li></ul></li><li><a href="https://github.com/dracutdevs/dracut/tree/master/modules.d/98dracut-systemd" target="_blank" rel="noopener noreferrer">dracut-systemd</a><ul><li>å¤§éƒ¨åˆ†å®é™…å¯åŠ¨è„šæœ¬é€»è¾‘</li></ul></li></ul></li><li><a href="https://mirrors.edge.kernel.org/pub/linux/utils/boot/dracut/dracut.html" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a></li><li>å‚è€ƒ<ul><li><a href="https://wiki.centos.org/TipsAndTricks/CreateNewInitrd" target="_blank" rel="noopener noreferrer">Creating a New Initial RAM Disk</a></li></ul></li><li><code>rd.luks=0 rd.lvm=0 rd.md=0 rd.dm=0</code> - ä¸æ‰«æä¸å¿…è¦çš„è®¾å¤‡å¯ä»¥åŠ é€Ÿå¯åŠ¨</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># åŸºç¡€åŒ…</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yum </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y rng-tools </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> rngd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lsinitrd /boot/initrd.img-4.6.0-1-amd64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">modprobe --show-depends dm-raid</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> crc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># --hostonly ä»…å®‰è£…ä¸»æœºéœ€è¦æ¨¡å—</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># --add-drivers æ·»åŠ å†…æ ¸æ¨¡å—</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dracut --kver </span><span class="token number" style="color:rgb(247, 140, 108)">4.18</span><span class="token plain">.0-193.19.1.el8_2.x86_64 --no-hostonly --add fs-lib initramfs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lsinitrd initramfs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># rootfs åªå®‰è£… kernel-core ç”¨äºæ„å»º initrd</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yum </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y yum-utils</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rpm</span><span class="token plain"> -Uvh --nodeps </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">repoquery --location kernel-core</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æŸ¥çœ‹æ‰€æœ‰æ¨¡å—</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dracut --kver </span><span class="token number" style="color:rgb(247, 140, 108)">4.18</span><span class="token plain">.0-193.19.1.el8_2.x86_64 --no-hostonly --list-modules</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dracut -m </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;nfs network base&quot;</span><span class="token plain"> --no-hostonly initramfs-nfs-only.img</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yum </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y rng-tools</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># dracut-systemd systemd-initrd</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># virtio_mmio</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dracut initramfs --kver </span><span class="token number" style="color:rgb(247, 140, 108)">4.18</span><span class="token plain">.0-193.19.1.el8_2.x86_64 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -f --no-hostonly -v </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -m </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;base bash systemd dracut-systemd systemd-initrd qemu qemu-net fs-lib rngd busybox&quot;</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --kernel-cmdline </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rd.debug rd.shell rd.udev.debug rd.driver.pre=ext4 rd.driver.pre=virtio_mmio rd.break=cmdline rd.luks=0 rd.lvm=0 rd.md=0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="modules"></a>modules<a aria-hidden="true" tabindex="-1" class="hash-link" href="#modules" title="Direct link to heading">#</a></h2><ul><li>05-bash - å®‰è£… bash ä½œä¸º /bin/sh</li><li>05-systemd - å®‰è£… systemd å’ŒåŸºç¡€æœåŠ¡</li><li>05-busybox - å®‰è£… /usr/bin/busybox</li><li>06-rngd</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># busybox</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -o /usr/bin/busybox https://busybox.net/downloads/binaries/1.31.0-defconfig-multiarch-musl/busybox-x86_64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x /usr/bin/busybox</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># rngd</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yum </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> rng-tools -y</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cmdline"></a>cmdline<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cmdline" title="Direct link to heading">#</a></h2><ul><li>debug<ul><li>rd.info æ—¥å¿—çº§åˆ«</li><li>rd.debug Shell æ‰§è¡Œä¼š set -x</li><li>rd.shell root æŒ‚è½½å¤±è´¥è¿›å…¥ shell</li><li>rd.break={cmdline|pre-udev|pre-trigger|initqueue|pre-mount|mount|pre-pivot|cleanup} è¿›å…¥ shell</li><li>rd.udev.info</li><li>rd.udev.debug</li></ul></li></ul><p>rd.emergency=[reboot|poweroff|halt]
specify, what action to execute in case of a critical failure. rd.shell=0 also be specified.
rd.driver.blacklist=<code>&lt;drivername&gt;[,&lt;drivername&gt;,â€¦]</code>
do not load kernel module <code>&lt;drivername&gt;</code>. This parameter can be specified multiple times.
rd.driver.pre=<code>&lt;drivername&gt;[,&lt;drivername&gt;,â€¦]</code>
force loading kernel module <code>&lt;drivername&gt;</code>. This parameter can be specified multiple times.
rd.driver.post=<code>&lt;drivername&gt;[,&lt;drivername&gt;,â€¦]</code>
force loading kernel module <code>&lt;drivername&gt;</code> after all automatic loading modules have been loaded. This parameter can be specified multiple times.
rd.retry=<code>&lt;seconds&gt;</code>
specify how long dracut should retry the initqueue to configure devices. The default is 30 seconds. After 2/3 of the time, degraded raids are force started. If you have hardware, which takes a very long time to announce its drives, you might want to extend this value.
rd.timeout=<code>&lt;seconds&gt;</code>
specify how long dracut should wait for devices to appear. The default is 0, which means forever. Note that this timeout should be longer than rd.retry to allow for proper configuration.
rd.noverifyssl
accept self-signed certificates for ssl downloads.
rd.ctty=<code>&lt;terminal device&gt;</code>
specify the controlling terminal for the console. This is useful, if you have multiple &quot;console=&quot; arguments.</p><p>cp -r usr/lib/modules/4.18.0-193.19.1.el8_2.x86_64 lib/modules/</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å¯åŠ¨æµç¨‹"></a>å¯åŠ¨æµç¨‹<a aria-hidden="true" tabindex="-1" class="hash-link" href="#å¯åŠ¨æµç¨‹" title="Direct link to heading">#</a></h2><ul><li><a href="https://mirrors.edge.kernel.org/pub/linux/utils/boot/dracut/dracut.html#dracutbootup7" target="_blank" rel="noopener noreferrer">dracut.bootup</a></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    systemd-journal.socket</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    dracut-cmdline.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    dracut-pre-udev.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                     systemd-udevd.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">local-fs-pre.target                dracut-pre-trigger.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         |                                     |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         v                                     v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> (various mounts)                systemd-udev-trigger.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         |        (swap devices)               |             (various low-level   (various low-level</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         |               |                     |             services: seed,       API VFS mounts:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         v               v                     v             tmpfiles, random     mqueue, configfs,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  local-fs.target   swap.target     dracut-initqueue.service    sysctl, ...)        debugfs, ...)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         |               |                     |                    |                    |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         \_______________|____________________ | ___________________|____________________/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                              \|/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                        sysinit.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             _________________/|\___________________</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            /                  |                    \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            |                  |                    |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            v                  |                    v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        (various               |              rescue.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       sockets...)             |                    |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            |                  |                    v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            v                  |              rescue.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                     sockets.target            |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            |                  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            \_________________ |                                 emergency.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                              \|                                         |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v                                         v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                         basic.target                             emergency.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        ______________________/|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       /                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |            dracut-pre-mount.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                  sysroot.mount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |             initrd-root-fs.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           (custom initrd services)            |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |             dracut-mount.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |            initrd-parse-etc.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |            (sysroot-usr.mount and</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |             various mounts marked</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |               with fstab option</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                x-initrd.mount)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                initrd-fs.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       \______________________ |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                              \|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                          initrd.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    dracut-pre-pivot.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                     initrd-cleanup.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                          isolates to</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    initrd-switch-root.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        ______________________/|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       /                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |        initrd-udevadm-cleanup-db.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           (custom initrd services)            |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       |                       |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       \______________________ |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                              \|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                   initrd-switch-root.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                   initrd-switch-root.service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                          switch-root</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/os/linux/boot/dracut.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#modules" class="table-of-contents__link">modules</a></li><li><a href="#cmdline" class="table-of-contents__link">cmdline</a></li><li><a href="#å¯åŠ¨æµç¨‹" class="table-of-contents__link">å¯åŠ¨æµç¨‹</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¬”è®°</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip">VoIP</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Projects</h4><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wener&#x27;s Apis</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Wener Site" src="/img/wener-logo.svg"></div><div>Copyright Â© 1992-2020 Wener - æ„å»ºæ—¶é—´ 2020-12-05 23:26</div></div></div></footer></div>
<script src="/styles.25dfaeee.js"></script>
<script src="/runtime~main.adac6399.js"></script>
<script src="/main.d7faa46d.js"></script>
<script src="/1.9c4d0b34.js"></script>
<script src="/2.7c2062cc.js"></script>
<script src="/3.4713bc70.js"></script>
<script src="/1be78505.63db3c66.js"></script>
<script src="/625.fbc7f8e6.js"></script>
<script src="/935f2afb.fbd97dc7.js"></script>
<script src="/17896441.b560a16d.js"></script>
<script src="/346c7dcf.63e58b0f.js"></script>
</body>
</html>