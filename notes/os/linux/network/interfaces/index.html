<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Wener Live & Life" href="/opensearch.xml"><title data-react-helmet="true">interfaces | Wener Live &amp; Life</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="interfaces | Wener Live &amp; Life"><meta data-react-helmet="true" name="description" content="interfaces"><meta data-react-helmet="true" property="og:description" content="interfaces"><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/os/linux/network/interfaces"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://wener.me/notes/os/linux/network/interfaces"><link rel="stylesheet" href="/styles.98d7e791.css">
<link rel="preload" href="/styles.118ed7bb.js" as="script">
<link rel="preload" href="/runtime~main.84da67c2.js" as="script">
<link rel="preload" href="/main.da0339ee.js" as="script">
<link rel="preload" href="/1.3a7f4bd6.js" as="script">
<link rel="preload" href="/2.28281bf2.js" as="script">
<link rel="preload" href="/3.60e00466.js" as="script">
<link rel="preload" href="/1be78505.0d3eba68.js" as="script">
<link rel="preload" href="/687.db936572.js" as="script">
<link rel="preload" href="/935f2afb.1efdd367.js" as="script">
<link rel="preload" href="/17896441.a879f8c0.js" as="script">
<link rel="preload" href="/6e84d369.b0f35712.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a><a class="navbar__item navbar__link" href="/notes/java/java">ç¬”è®°</a><a class="navbar__item navbar__link" href="/story">æ•…äº‹</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong class="navbar__title">Wener</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/notes/java/java">ç¬”è®°</a></li><li class="menu__list-item"><a class="menu__link" href="/story">æ•…äº‹</a></li><li class="menu__list-item"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/howto/network/dns-prevent-spoofing">æŒ‡å—</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/tool/network/ip-lookup">å·¥å…·</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">interfaces</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interfaces"></a>interfaces<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interfaces" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="tips"></a>Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tips" title="Direct link to heading">#</a></h2><ul><li>debian <a href="https://manpages.debian.org/stretch/ifupdown/interfaces.5.en.html" target="_blank" rel="noopener noreferrer">interfaces.5</a></li><li>/etc/network/interfaces<ul><li>ç½‘ç»œæ¥å£é…ç½®</li><li>é€šè¿‡ <a href="https://git.busybox.net/busybox/tree/networking/ifupdown.c" target="_blank" rel="noopener noreferrer">ifupdown</a> æ“ä½œ - busybox æœ‰æä¾›<ul><li><code>/var/run/ifstate</code> è®°å½•çŠ¶æ€ - æœ‰å¯èƒ½åœ¨ <code>/etc/network/run/ifstate</code></li><li>inet - manual wvdial ppp static bootp dhcp loopback</li><li>inet6 - static manual loopback v4tunnel</li></ul></li><li>æ ¹æ®æä¾› ifupdown çš„åŒ…ä¸åŒï¼ŒåŠŸèƒ½å¯èƒ½ä¸åŒ</li><li>å‘½ä»¤å¯é€šè¿‡å…¶ä»–åŒ…æ‰©å±•</li><li>æ‰§è¡Œé˜¶æ®µ pre-up up/post-up down/pre-down post-down</li></ul></li><li>å‚è€ƒ<ul><li><a href="https://unix.stackexchange.com/questions/346967" target="_blank" rel="noopener noreferrer">Obtain IP from DHCP sever but set DNS servers statically on Debian</a></li><li><a href="https://pkgs.alpinelinux.org/contents?file=&amp;path=%2Fetc%2Fnetwork%2F*&amp;name=&amp;branch=edge&amp;arch=x86_64" target="_blank" rel="noopener noreferrer">/etc/network/*</a><ul><li>interfaces æŒ‡ä»¤å¤„ç†è„šæœ¬</li><li>static-routing tunnel bonding vlan vde2 bridge openvswitch fwsnort sqm-scripts</li></ul></li><li><a href="https://unix.stackexchange.com/questions/128439" target="_blank" rel="noopener noreferrer">Good detailed explanation of /etc/network/interfaces syntax?</a></li></ul></li><li>network-extras</li><li>class<ul><li>auto</li><li>allow-hotplug</li></ul></li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><ul><li>ifupdown ä¸åŒ interfaces ä¼šæœ‰äº›å¾®çš„ä¸åŒ</li><li>interfaces æœ¬è´¨æ˜¯å°†æ‰§è¡Œçš„è„šæœ¬ä»¥é…ç½®åŒ–çš„æ–¹å¼å‘ˆç°<ul><li>imperative -&gt; declartive</li></ul></li></ul></div></div><table><thead><tr><th>var</th><th>desc</th></tr></thead><tbody><tr><td>IFACE</td><td>åå­— æˆ– <code>--all</code></td></tr><tr><td>LOGICAL</td><td>é€»è¾‘å æˆ– <code>auto</code></td></tr><tr><td>ADDRFAM</td><td>åœ°å€ç±»å‹ æˆ– <code>meta</code></td></tr><tr><td>METHOD</td><td>é…ç½®æ–¹å¼ æˆ– <code>none</code></td></tr><tr><td>CLASS</td><td>æ¥å£ç±»å‹ <code>--allow</code> çš„å€¼ï¼Œä½¿ç”¨ <code>--all</code> æ—¶ä¸º <code>auto</code></td></tr><tr><td>MODE</td><td><code>start</code>,<code>stop</code></td></tr><tr><td>PHASE</td><td>pre-up, post-up, pre-down, post-down</td></tr><tr><td>VERBOSITY</td><td><code>--verbose</code> å€¼ï¼Œ 1 æˆ– 0</td></tr><tr><td>PATH</td><td><code>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</code></td></tr></tbody></table><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apk </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> bonding tunnel static-routing vlan bridge vde2 fwsnort</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ£€æŸ¥ table æ˜¯å¦å­˜</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> ro li tab mytab </span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">2</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> NO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -Dv /dev/null /etc/udhcpc/udhcpc.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">IF_PEER_DNS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">no </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> /etc/udhcpc/udhcpc.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¸è¦ä¿®æ”¹ resolve.conf</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">RESOLV_CONF</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">no </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> /etc/udhcpc/udhcpc.conf</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¿®æ”¹åå­—</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rename</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">foo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">bar</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># [VARIABLE]/VALUE[/[OPTIONS]][=LOGICAL]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto /eth*</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">eth</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface eth inet dhcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto eth0 eth1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å¤šæ¥å£</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ===================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># https://www.thomas-krenn.com/en/wiki/Two_Default_Gateways_on_One_System</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># echo &#x27;1 tgbe&#x27; | tee -a /etc/iprpite2/rt_tables</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># é€‚ç”¨äºå¤šå­ç½‘</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ip route add 10.10.0.0/24 å¦‚æœå­ç½‘å·²ç»å­˜åœ¨åˆ™ä¼šå¤±è´¥</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface eth2 inet static</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    netmask </span><span class="token number" style="color:rgb(247, 140, 108)">255.255</span><span class="token plain">.255.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> route </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.0/24 dev eth1 src </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.10 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> route </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> default via </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.1 dev eth1 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> rule </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> from </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.10/32 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> rule </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> to </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.10/32 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä½¿ç”¨ç›¸åŒæ¥å£è¿”å› - é€‚ç”¨äºé»˜è®¤ç½‘å…³å·²ç»å­˜åœ¨ä½†æƒ³è¦é€šè¿‡ IP ä½¿ç”¨ç½‘å£æ—¶</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä½¿ç”¨è¿™ä¸ª IP åˆ™ä¼šé€šè¿‡è¿™ä¸ªæ¥å£</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface eth2 inet static</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    netmask </span><span class="token number" style="color:rgb(247, 140, 108)">255.255</span><span class="token plain">.255.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è‡ªåŠ¨æ·»åŠ  table</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># pre-up ip ro li tab tgbe &amp;&gt;/dev/null || echo &#x27;10 tgbe&#x27; &gt;&gt; /etc/iproute2/rt_tables</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> rule </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> from </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.10 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> ro </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> default via </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.1 dev eth2 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># wireguard</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ===================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¾èµ– wireguard-vanilla/wireguard-virt wireguard-tools-wg</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto wg0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface wg0 inet static</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address </span><span class="token number" style="color:rgb(247, 140, 108)">10.10</span><span class="token plain">.0.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    netmask </span><span class="token number" style="color:rgb(247, 140, 108)">255.255</span><span class="token plain">.255.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pre-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> dev wg0 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">type</span><span class="token plain"> wireguard</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pre-up </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> dev wg0 mtu </span><span class="token number" style="color:rgb(247, 140, 108)">1450</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pre-up wg setconf wg0 /etc/network/wg0.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    post-down </span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> delete dev wg0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bonding</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ===================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Slaves</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface eth0 inet manual</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-master bond0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-primary eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-mode active-backup</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto wlan0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface wlan0 inet manual</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    wpa-conf /etc/network/wpa.conf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-master bond0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-primary eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-mode active-backup</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Master</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto bond0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface bond0 inet dhcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-slaves none</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-primary eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-mode active-backup</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bond-miimon </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ===================</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto br0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface br0 inet dhcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æœ‰è¯¥é…ç½®è¯´æ˜æ˜¯æ¡¥æ¥</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ç‰¹æ®Šå€¼ none all</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bridge-ports vnet0 vnet1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ç­‰å¾…ç«¯å£</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-waitport 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-ageing 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-bridgeprio 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># forward delay - é»˜è®¤ 30s</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-fd 30</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-gcint 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-hello 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-maxage 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-pathcost 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 0-65535</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-portprio 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ˜¯å¦å¼€å¯ STP - å¦‚æœä¸æ˜¯å”¯ä¸€çš„ bridge åˆ™éœ€è¦æ‰“å¼€</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># bridge-stp on</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å½“å‰çš„ mac ä¿¡æ¯</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bridge fdb</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="methods"></a>Methods<a aria-hidden="true" tabindex="-1" class="hash-link" href="#methods" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="inet"></a>inet<a aria-hidden="true" tabindex="-1" class="hash-link" href="#inet" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="static"></a>static<a aria-hidden="true" tabindex="-1" class="hash-link" href="#static" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address (dotted quad/netmask) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Netmask (dotted quad or number of bits) deprecated</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">netmask mask</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Broadcast address (dotted quad, + or -) deprecated. Default value: &quot;+&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">broadcast broadcast_address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Routing metric for default gateway (integer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metric metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Default gateway (dotted quad)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gateway address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address of other end point (dotted quad). Note the spelling of &quot;point-to&quot;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pointopoint address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Link local address or &quot;random&quot;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddress address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address validity scope. Possible values: global, link, host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">scope</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="manual"></a>manual<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manual" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Link local address or &quot;random&quot;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddress address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dhcp"></a>dhcp<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dhcp" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Hostname to be requested (pump, dhcpcd, udhcpc)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hostname hostname</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Metric for added routes (dhclient)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metric metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Preferred lease time in hours (pump)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">leasehours leasehours</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Preferred lease time in seconds (dhcpcd)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">leasetime leasetime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Vendor class identifier (dhcpcd)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vendor vendor</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Client identifier (dhcpcd)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">client client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Hardware address.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddress address</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bootp"></a>bootp<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bootp" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Tell the server to use file as the bootfile.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bootfile file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Use the IP address address to communicate with the server.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Use addr as the hardware address instead of whatever it really is.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddr addr</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="tunnel"></a>tunnel<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tunnel" title="Direct link to heading">#</a></h3><ul><li>This method is used to create GRE or IPIP tunnels. You need to have the ip binary from the iproute package. For GRE tunnels, you will need to load the ip_gre module and the ipip module for IPIP tunnels.</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Local address (dotted quad) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Tunnel type (either GRE or IPIP) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mode type</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address of other tunnel endpoint required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">endpoint address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Remote address (remote address inside tunnel)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dstaddr address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address of the local endpoint</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">local address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Routing metric for default gateway (integer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metric metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Default gateway</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gateway address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TTL setting</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ttl time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ppp"></a>ppp<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ppp" title="Direct link to heading">#</a></h3><p>This method uses pon/poff to configure a PPP interface</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Use name as the provider (from /etc/ppp/peers).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">provider name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Use number as the ppp unit number.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">unit number</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Pass string as additional options to pon.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">options string</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="wvdial"></a>wvdial<a aria-hidden="true" tabindex="-1" class="hash-link" href="#wvdial" title="Direct link to heading">#</a></h3><p>This method uses wvdial to configure a PPP interface. See that command for more details.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Use name as the provider (from /etc/wvdial.conf).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">provider name</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ipv4ll"></a>ipv4ll<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ipv4ll" title="Direct link to heading">#</a></h3><p>This method uses avahi-autoipd to configure an interface with an IPv4 Link-Layer address (169.254.0.0/16 family). This method is also known as APIPA or IPAC, and often colloquially referred to as &quot;Zeroconf address&quot;.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ipx"></a>ipx<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ipx" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="static-1"></a>static<a aria-hidden="true" tabindex="-1" class="hash-link" href="#static-1" title="Direct link to heading">#</a></h3><p>This method may be used to setup an IPX interface. It requires the ipx_interface command.
Options</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># type of Ethernet frames to use (e.g. 802.2)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">frame type</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Network number</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">netnum id</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dynamic"></a>dynamic<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dynamic" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># type of Ethernet frames to use (e.g. 802.2)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">frame type</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="inet6"></a>inet6<a aria-hidden="true" tabindex="-1" class="hash-link" href="#inet6" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="auto"></a>auto<a aria-hidden="true" tabindex="-1" class="hash-link" href="#auto" title="Direct link to heading">#</a></h3><p>This method may be used to define interfaces with automatically assigned IPv6 addresses. Using this method on its own doesn&#x27;t mean that RDNSS options will be applied, too. To make this happen, rdnssd daemon must be installed, properly configured and running. If stateless DHCPv6 support is turned on, then additional network configuration parameters such as DNS and NTP servers will be retrieved from a DHCP server. Please note that on ifdown, the lease is not currently released (a known bug).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Privacy extensions (RFC4941) (0=off, 1=assign, 2=prefer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">privext int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Accept router advertisements (0=off, 1=on, 2=on+forwarding). Default value: &quot;2&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept_ra int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Use stateless DHCPv6 (0=off, 1=on)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dhcp int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Request a prefix through DHCPv6 Prefix Delegation (0=off, 1=on). Default value: &quot;0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">request_prefix int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Number of attempts to wait for a link-local address. Default value: &quot;60&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ll-attempts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Link-local address polling interval in seconds. Default value: &quot;0.1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ll-interval</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="loopback"></a>loopback<a aria-hidden="true" tabindex="-1" class="hash-link" href="#loopback" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="static-2"></a>static<a aria-hidden="true" tabindex="-1" class="hash-link" href="#static-2" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address (colon delimited/netmask) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Netmask (number of bits, eg 64) deprecated</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">netmask mask</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Routing metric for default gateway (integer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metric metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Default gateway (colon delimited)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gateway address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Medium type, driver dependent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">media type</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Hardware address or &quot;random&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddress address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Accept router advertisements (0=off, 1=on, 2=on+forwarding)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept_ra int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Perform stateless autoconfiguration (0=off, 1=on). Default value: &quot;0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">autoconf int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Privacy extensions (RFC3041) (0=off, 1=assign, 2=prefer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">privext int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address validity scope. Possible values: global, site, link, host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">scope</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Time that address remains preferred</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">preferred-lifetime int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Number of attempts to settle DAD (0 to disable DAD). Default value: &quot;60&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dad-attempts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># DAD state polling interval in seconds. Default value: &quot;0.1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dad-interval</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="manual-1"></a>manual<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manual-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Hardware address or &quot;random&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddress address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dhcp-1"></a>dhcp<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dhcp-1" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Hardware address or &quot;random&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hwaddress address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Accept router advertisements (0=off, 1=on, 2=on+forwarding). Default value: &quot;1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept_ra int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Perform stateless autoconfiguration (0=off, 1=on)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">autoconf int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Request a prefix through DHCPv6 Prefix Delegation (0=off, 1=on). Default value: &quot;0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">request_prefix int</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Number of attempts to wait for a link-local address. Default value: &quot;60&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ll-attempts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Link-local address polling interval in seconds. Default value: &quot;0.1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ll-interval</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="v4tunnel"></a>v4tunnel<a aria-hidden="true" tabindex="-1" class="hash-link" href="#v4tunnel" title="Direct link to heading">#</a></h3><p>IPv6-over-IPv4 tunnel. It requires the ip command from the iproute package.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address (colon delimited/netmask) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Netmask (number of bits, eg 64) deprecated</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">netmask mask</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address of other tunnel endpoint (IPv4 dotted quad) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">endpoint address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address of the local endpoint (IPv4 dotted quad)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">local address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Routing metric for default gateway (integer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metric metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Default gateway (colon delimited)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gateway address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TTL setting</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ttl time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Time that address remains preferred</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">preferred-lifetime int</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="6to4"></a>6to4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#6to4" title="Direct link to heading">#</a></h3><p>This method may be used to setup an 6to4 tunnel. It requires the ip command from the iproute package.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Address of the local endpoint (IPv4 dotted quad) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">local address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Routing metric for default gateway (integer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metric metric</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TTL setting</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ttl time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># MTU size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mtu size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Time that address remains preferred</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">preferred-lifetime int</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="can"></a>can<a aria-hidden="true" tabindex="-1" class="hash-link" href="#can" title="Direct link to heading">#</a></h3><p>This method may be used to setup an Controller Area Network (CAN) interface. It requires the the ip command from the iproute</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># bitrate (1..1000000) required</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bitrate bitrate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># sample point (0.000..0.999)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">samplepoint samplepoint</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># loop back CAN Messages (on|off)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">loopback loopback</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># listen only mode (on|off)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">listenonly listenonly</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># activate triple sampling (on|off)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">triple triple</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># one shot mode (on|off)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oneshot oneshot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># activate berr reporting (on|off)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">berr berr</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="faq"></a>FAQ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å¤šç½‘å£"></a>å¤šç½‘å£<a aria-hidden="true" tabindex="-1" class="hash-link" href="#å¤šç½‘å£" title="Direct link to heading">#</a></h3><ul><li>å¦‚æœå¤šç½‘å£ï¼Œåˆ™ä¸è¦ä½¿ç”¨ç›¸åŒç½‘æ®µ</li><li>å¦‚æœè¦ä½¿ç”¨ç›¸åŒç½‘æ®µåˆ™é…ç½®å¤šä¸ªè·¯ç”±è¡¨</li><li>Linux é»˜è®¤ä¼šå“åº”æ‰€æœ‰æœ¬åœ° IP - å³ä¾¿å¯¹åº”ç½‘å£æœªé…ç½®</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-ini codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># è°ƒæ•´ arp é…ç½®</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.all.arp_announce = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.all.arp_ignore = 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.default.accept_source_route = 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.default.arp_announce = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.default.arp_ignore = 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.default.rp_filter = 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.eth0.arp_announce = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.eth0.arp_ignore = 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.eth1.arp_announce = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net.ipv4.conf.eth1.arp_ignore = 1</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="macvtap-vs-macvlan"></a>macvtap vs macvlan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#macvtap-vs-macvlan" title="Direct link to heading">#</a></h3><ul><li>macvlan<ul><li>å¯ä»¥è®¤ä¸ºæ˜¯ä¸»ç½‘å¡çš„å­ç½‘å£ - ä¾‹å¦‚ eth0.0</li></ul></li><li>macvtap<ul><li>æ˜¯ç±»ä¼¼äº macvlan çš„ tap è™šæ‹Ÿç½‘ç»œè®¾å¤‡</li><li>ä¸»è¦ç”¨äº libvirt/KVM</li><li>å®ç°åœ¨ä¸éœ€è¦æ¡¥æ¥çš„æƒ…å†µä¸‹ç›´æ¥ä¸åº•å±‚è®¾å¤‡äº¤äº’å®ç°ç±»ä¼¼æ¡¥æ¥çš„æ•ˆæœ</li></ul></li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># macvtap</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> eth2 macvtap2 address 00:22:33:44:55:66 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">type</span><span class="token plain"> macvtap mode bridge</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> macvtap2 up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">link</span><span class="token plain"> show macvtap2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><ul><li><a href="https://backreference.org/2014/03/20/some-notes-on-macvlanmacvtap/" target="_blank" rel="noopener noreferrer">notes on macvlan/macvtap</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å¤šå£"></a>å¤šå£<a aria-hidden="true" tabindex="-1" class="hash-link" href="#å¤šå£" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># ä» eth4 10gbe 192.168.1.101 æ¥çš„å°±ä» 10gbe å‡º</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto eth4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface eth4 inet static</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  address 192.168.1.101</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  netmask 255.255.252.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  mtu 9000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  pre-up ip ro li tab tgbe &amp;&gt;/dev/null || echo &#x27;10 tgbe&#x27; &gt;&gt; /etc/iproute2/rt_tables</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post-up ip ru add from 192.168.1.101 table tgbe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  post-up ip ro add default via 192.168.1.1 dev eth4 table tgbe</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="é…ç½®å‘½ä»¤æ˜ å°„"></a>é…ç½®å‘½ä»¤æ˜ å°„<a aria-hidden="true" tabindex="-1" class="hash-link" href="#é…ç½®å‘½ä»¤æ˜ å°„" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface eth0 inet dhcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  hostname my-host</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> li </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">udhcpc -i eth0 -h my-host</span></div></div></div></div></div><hr><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto bond0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iface bond0 inet dhcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bond-member eth0</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> li </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> bond0 </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">type</span><span class="token plain"> bond</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ifenslave bond0 eth0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> li </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> eth0 up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ip</span><span class="token plain"> li </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> bond0 up</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">udhcpc -i bond0</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/os/linux/network/interfaces.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tips" class="table-of-contents__link">Tips</a></li><li><a href="#inet" class="table-of-contents__link">inet</a><ul><li><a href="#static" class="table-of-contents__link">static</a></li><li><a href="#manual" class="table-of-contents__link">manual</a></li><li><a href="#dhcp" class="table-of-contents__link">dhcp</a></li><li><a href="#bootp" class="table-of-contents__link">bootp</a></li><li><a href="#tunnel" class="table-of-contents__link">tunnel</a></li><li><a href="#ppp" class="table-of-contents__link">ppp</a></li><li><a href="#wvdial" class="table-of-contents__link">wvdial</a></li><li><a href="#ipv4ll" class="table-of-contents__link">ipv4ll</a></li></ul></li><li><a href="#ipx" class="table-of-contents__link">ipx</a><ul><li><a href="#static-1" class="table-of-contents__link">static</a></li><li><a href="#dynamic" class="table-of-contents__link">dynamic</a></li></ul></li><li><a href="#inet6" class="table-of-contents__link">inet6</a><ul><li><a href="#auto" class="table-of-contents__link">auto</a></li><li><a href="#loopback" class="table-of-contents__link">loopback</a></li><li><a href="#static-2" class="table-of-contents__link">static</a></li><li><a href="#manual-1" class="table-of-contents__link">manual</a></li><li><a href="#dhcp-1" class="table-of-contents__link">dhcp</a></li><li><a href="#v4tunnel" class="table-of-contents__link">v4tunnel</a></li><li><a href="#6to4" class="table-of-contents__link">6to4</a></li><li><a href="#can" class="table-of-contents__link">can</a></li></ul></li><li><a href="#faq" class="table-of-contents__link">FAQ</a><ul><li><a href="#å¤šç½‘å£" class="table-of-contents__link">å¤šç½‘å£</a></li><li><a href="#macvtap-vs-macvlan" class="table-of-contents__link">macvtap vs macvlan</a></li></ul></li><li><a href="#å¤šå£" class="table-of-contents__link">å¤šå£</a></li><li><a href="#é…ç½®å‘½ä»¤æ˜ å°„" class="table-of-contents__link">é…ç½®å‘½ä»¤æ˜ å°„</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¬”è®°</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip">VoIP</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Projects</h4><ul class="footer__items"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wener&#x27;s Apis</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Wener Site" src="/img/wener-logo.svg"></div><div>Copyright Â© 1992-2021 Wener - æ„å»ºæ—¶é—´ 2021-03-02 05:29</div></div></div></footer></div>
<script src="/styles.118ed7bb.js"></script>
<script src="/runtime~main.84da67c2.js"></script>
<script src="/main.da0339ee.js"></script>
<script src="/1.3a7f4bd6.js"></script>
<script src="/2.28281bf2.js"></script>
<script src="/3.60e00466.js"></script>
<script src="/1be78505.0d3eba68.js"></script>
<script src="/687.db936572.js"></script>
<script src="/935f2afb.1efdd367.js"></script>
<script src="/17896441.a879f8c0.js"></script>
<script src="/6e84d369.b0f35712.js"></script>
</body>
</html>