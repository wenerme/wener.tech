<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-os/virt/qemu-monitor">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/story/rss.xml" title="Wener Live &amp; Life RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/story/atom.xml" title="Wener Live &amp; Life Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Wener Live &amp; Life" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css"><title data-rh="true">QEMU监视器 | Wener Live &amp; Life</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wener.me/notes/os/virt/qemu-monitor"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="QEMU监视器 | Wener Live &amp; Life"><meta data-rh="true" name="description" content="* QEMU Monitor"><meta data-rh="true" property="og:description" content="* QEMU Monitor"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wener.me/notes/os/virt/qemu-monitor"><link data-rh="true" rel="alternate" href="https://wener.me/notes/os/virt/qemu-monitor" hreflang="en"><link data-rh="true" rel="alternate" href="https://wener.me/notes/os/virt/qemu-monitor" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://37P8DMWBKF-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a5b87add.css">
<link rel="preload" href="/assets/js/runtime~main.07b4d16f.js" as="script">
<link rel="preload" href="/assets/js/main.92dfd685.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_WawS">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_sWQn themedImage--light_HlbN"><img src="/img/wener-logo-head.svg" alt="Wener Logo" class="themedImage_sWQn themedImage--dark__4Lo"></div><b class="navbar__title text--truncate">Wener</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes">笔记</a><a class="navbar__item navbar__link" href="/story">故事</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">指南</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wenerme/wener" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pUOn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_N_jk colorModeToggle_wwB5"><button class="clean-btn toggleButton_gcuK toggleButtonDisabled_AJhd" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Eiwc"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_a3UO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_Ymm7"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_uXRe docsWrapper_AGYY"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_aXSw" type="button"></button><div class="docPage_Q_rn"><aside class="theme-doc-sidebar-container docSidebarContainer_GlFK"><div class="sidebar_ogDj"><nav class="menu thin-scrollbar menu_fqy9"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes">笔记</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/algorithm">算法</a><button aria-label="Toggle the collapsible sidebar category &#x27;算法&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/blockchain">区块链</a><button aria-label="Toggle the collapsible sidebar category &#x27;区块链&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/culture/anime/anime-awesome">culture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/db">数据库</a><button aria-label="Toggle the collapsible sidebar category &#x27;数据库&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/design/ip">design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/dev/build/bazel">dev</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/devops">DevOps</a><button aria-label="Toggle the collapsible sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/economics">经济学</a><button aria-label="Toggle the collapsible sidebar category &#x27;经济学&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/elastic/elasticsearch-v2">elastic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/electrical/multimeter">electrical</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/embedded/embedded-awesome">embedded</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/evolve">自我成长</a><button aria-label="Toggle the collapsible sidebar category &#x27;自我成长&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/game/mhr">game</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/hardware/arm">hardware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/healthcare">健康</a><button aria-label="Toggle the collapsible sidebar category &#x27;健康&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/howto/network/dns-prevent-spoofing">howto</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/java">Java</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/languages">语言</a><button aria-label="Toggle the collapsible sidebar category &#x27;语言&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/mgmt/pm-awesome">mgmt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/network/application/dns">network</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/ops/admin/augeas">ops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/notes/os/alpine">os</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/alpine">Alpine</a><button aria-label="Toggle the collapsible sidebar category &#x27;Alpine&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/os/android/android-awesome">android</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/busybox">Busybox</a><button aria-label="Toggle the collapsible sidebar category &#x27;Busybox&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/centos">CentOS</a><button aria-label="Toggle the collapsible sidebar category &#x27;CentOS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/chromeos">ChromeOS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/darwin">Darwin</a><button aria-label="Toggle the collapsible sidebar category &#x27;Darwin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/debian">Debian</a><button aria-label="Toggle the collapsible sidebar category &#x27;Debian&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/freebsd">FreeBSD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/fuchsia">Fuchsia</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/lakka">lakka tv</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/libreelec">LibreELEC</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/os/linux/admin">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/network">网络设备系统</a><button aria-label="Toggle the collapsible sidebar category &#x27;网络设备系统&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/os-awesome">OS Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/os-faq">OS FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/os-glossary">OS Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/os/rhel/anaconda">rhel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/notes/os/ubuntu/ubuntu-version">ubuntu</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/notes/os/virt">虚拟化</a><button aria-label="Toggle the collapsible sidebar category &#x27;虚拟化&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/esxi">ESXi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/firecracker">Firecracker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/guacamole">Apache Guacamole</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/haxm">HAXM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/hyperv">HyperV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/ignite">ignite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/ksm">KSM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/libvirt-dom">Libvirt Domain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/libvirt-faq">Libvirt常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/libvirt-net">Libvirt 网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/virsh">Virsh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/libvirt">Libvirt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/libvirtd">Libvirt Daemon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/lima">lima</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/microvm">MicroVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu-doc">QEMU 文档</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu-faq">QEMU FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu-img">Qemu Image</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes/os/virt/qemu-monitor">QEMU监视器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu-qmp">QEMU QMP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu-version">QEMU Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu-windows-host">QEMU Windows 宿主机</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/qemu">QEMU</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/virt-awesome">Virt Awesome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/virt-faq">虚拟化常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/virt-nested">嵌套虚拟化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/virtio">Virtio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/virtiofs">virtio-fs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/vmware">VmWare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/vnc">VNC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes/os/virt/wine">wine</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/notes/os/windows">Windows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Windows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/photography/camera-awesome">photography</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/platform">平台</a><button aria-label="Toggle the collapsible sidebar category &#x27;平台&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/queue">Queue</a><button aria-label="Toggle the collapsible sidebar category &#x27;Queue&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/reference/cook/glossary">reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/security/acme-awesome">security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/notes/service/analytics/analytics-awesome">service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/tool">工具</a><button aria-label="Toggle the collapsible sidebar category &#x27;工具&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/voip">VoIP</a><button aria-label="Toggle the collapsible sidebar category &#x27;VoIP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/notes/web">Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_BKoE"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_EYvA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_RaEK"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_nrhp"><div class="docItemContainer_EkVX"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GKCt" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OL5o"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">os</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/notes/os/virt"><span itemprop="name">虚拟化</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">QEMU监视器</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_oqr9 theme-doc-toc-mobile tocMobile_5aMT"><button type="button" class="clean-btn tocCollapsibleButton_CjyO">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="qemu-monitor">QEMU Monitor</h1><ul><li><a href="https://www.qemu.org/docs/master/system/monitor.html">QEMU Monitor</a></li><li>wikibooks <a href="https://en.wikibooks.org/wiki/QEMU/Monitor">QEMU/Monitor</a></li><li><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-qemu-monitor/">使用 monitor command 监控 QEMU 运行状态</a></li><li>如何访问 Monitor<ul><li>curses<ul><li>Esc+1, Esc+2</li></ul></li><li>nographic<ul><li>Ctrl+a c</li></ul></li><li>graphic<ul><li>Ctrl+Alt+2</li></ul></li><li>stdio
<code>-monitor stdio</code></li></ul></li><li>相关选项</li></ul><pre><code>-monitor dev
Redirect the monitor to host device dev (same devices as the serial port). The default device is vc in graphical mode and stdio in non graphical mode. Use -monitor none to disable the default monitor.

-qmp dev
Like -monitor but opens in ’control’ mode.

-qmp-pretty dev
Like -qmp but uses pretty JSON formatting.

-mon [chardev=]name[,mode=readline|control][,pretty[=on|off]]
Setup monitor on chardev name. pretty turns on JSON pretty printing easing human reading and debugging.

-debugcon dev
Redirect the debug console to host device dev (same devices as the serial port). The debug console is an I/O port which is typically port 0xe9; writing to that I/O port sends output to this device. The default device is vc in graphical mode and stdio in non graphical mode.
</code></pre><pre><code class="language-bash"># telnet 监听
qemu-system-i386 -monitor telnet:127.0.0.1:55555,server,nowait;
echo system_powerdown |telnet 127.0.0.1 55555
# tcp 监听
qemu-system-i386 -monitor tcp:127.0.0.1:55555,server,nowait;
echo &#x27;info kvm&#x27; |nc -N 127.0.0.1 55555
echo system_powerdown |nc -N 127.0.0.1 55555

# unix
# -qmp JSON 协议
qemu-system-i386 monitor unix:qemu-monitor-socket,server,nowai
socat -,echo=0,icanon=0 unix-connect:qemu-monitor-socket

echo &quot;info status&quot; | socat - unix-connect:qemu-monitor-socket
echo &quot;info status&quot; | socat - unix-connect:qemu-monitor-socket | tail --lines=+2 | grep -v &#x27;^(qemu)&#x27;
</code></pre><pre><code class="language-bash"># 查看版本
info version

# qemu -vnc :1,password
# 给 VNC 设置密码
change vnc password

# qemu -S
# 默认不启动 cpu, 手动启动
c
</code></pre><p>system_powerdown</p><p>qemu-system-i386 -net nic,model=rtl8139 -net user,hostfwd=tcp::3389-:3389 -redir tcp:443::443 -redir tcp:992::992 -redir tcp:1194::1194 -redir tcp:5555::5555 -redir udp:1194::1194 -redir udp:500::500 -redir udp:4500::4500 -m 512M -localtime -cpu core2duo,+nx -smp 2 -usbdevice tablet -k en-us -hda win.img -nographic</p><h2 id="磁盘热插拔">磁盘热插拔</h2><p><a href="https://wiki.ubuntu.com/QemuDiskHotplug">https://wiki.ubuntu.com/QemuDiskHotplug</a></p><p>-usb</p><p>device_add usb-ehci</p><p>drive_add 0 file=hotplug.raw,format=raw,if=none,id=usb_disk1
device_add usb-storage,drive=usb_disk1,id=usb_disk11,removable=on
device_del  usb_disk11
drive_del  usb_disk1</p><pre><code>drive_add [-n] [[&lt;domain&gt;:]&lt;bus&gt;:]&lt;slot&gt;
[file=file][,if=type][,bus=n]
[,unit=m][,media=d][,index=i]
[,cyls=c,heads=h,secs=s[,trans=t]]
[,snapshot=on|off][,cache=on|off]
[,readonly=on|off][,copy-on-read=on|off] -- add drive to PCI storage controller
</code></pre><p>device_add ?</p><pre><code>Controller/Bridge/Hub devices:
name &quot;i82801b11-bridge&quot;, bus PCI
name &quot;ioh3420&quot;, bus PCI, desc &quot;Intel IOH device id 3420 PCIE Root Port&quot;
name &quot;pci-bridge&quot;, bus PCI, desc &quot;Standard PCI Bridge&quot;
name &quot;pci-bridge-seat&quot;, bus PCI, desc &quot;Standard PCI Bridge (multiseat)&quot;
name &quot;pcie-pci-bridge&quot;, bus PCI
name &quot;pcie-root-port&quot;, bus PCI, desc &quot;PCI Express Root Port&quot;
name &quot;pxb&quot;, bus PCI, desc &quot;PCI Expander Bridge&quot;
name &quot;pxb-pcie&quot;, bus PCI, desc &quot;PCI Express Expander Bridge&quot;
name &quot;usb-hub&quot;, bus usb-bus
name &quot;x3130-upstream&quot;, bus PCI, desc &quot;TI X3130 Upstream Port of PCI Express Switch&quot;
name &quot;xio3130-downstream&quot;, bus PCI, desc &quot;TI X3130 Downstream Port of PCI Express Switch&quot;

USB devices:
name &quot;ich9-usb-ehci1&quot;, bus PCI
name &quot;ich9-usb-ehci2&quot;, bus PCI
name &quot;ich9-usb-uhci1&quot;, bus PCI
name &quot;ich9-usb-uhci2&quot;, bus PCI
name &quot;ich9-usb-uhci3&quot;, bus PCI
name &quot;ich9-usb-uhci4&quot;, bus PCI
name &quot;ich9-usb-uhci5&quot;, bus PCI
name &quot;ich9-usb-uhci6&quot;, bus PCI
name &quot;nec-usb-xhci&quot;, bus PCI
name &quot;pci-ohci&quot;, bus PCI, desc &quot;Apple USB Controller&quot;
name &quot;piix3-usb-uhci&quot;, bus PCI
name &quot;piix4-usb-uhci&quot;, bus PCI
name &quot;qemu-xhci&quot;, bus PCI
name &quot;usb-ehci&quot;, bus PCI
name &quot;vt82c686b-usb-uhci&quot;, bus PCI

Storage devices:
name &quot;am53c974&quot;, bus PCI, desc &quot;AMD Am53c974 PCscsi-PCI SCSI adapter&quot;
name &quot;dc390&quot;, bus PCI, desc &quot;Tekram DC-390 SCSI adapter&quot;
name &quot;floppy&quot;, bus floppy-bus, desc &quot;virtual floppy drive&quot;
name &quot;ich9-ahci&quot;, bus PCI, alias &quot;ahci&quot;
name &quot;ide-cd&quot;, bus IDE, desc &quot;virtual IDE CD-ROM&quot;
name &quot;ide-drive&quot;, bus IDE, desc &quot;virtual IDE disk or CD-ROM (legacy)&quot;
name &quot;ide-hd&quot;, bus IDE, desc &quot;virtual IDE disk&quot;
name &quot;isa-fdc&quot;, bus ISA
name &quot;isa-ide&quot;, bus ISA
name &quot;lsi53c810&quot;, bus PCI
name &quot;lsi53c895a&quot;, bus PCI, alias &quot;lsi&quot;
name &quot;megasas&quot;, bus PCI, desc &quot;LSI MegaRAID SAS 1078&quot;
name &quot;megasas-gen2&quot;, bus PCI, desc &quot;LSI MegaRAID SAS 2108&quot;
name &quot;nvme&quot;, bus PCI, desc &quot;Non-Volatile Memory Express&quot;
name &quot;piix3-ide&quot;, bus PCI
name &quot;piix3-ide-xen&quot;, bus PCI
name &quot;piix4-ide&quot;, bus PCI
name &quot;pvscsi&quot;, bus PCI
name &quot;scsi-cd&quot;, bus SCSI, desc &quot;virtual SCSI CD-ROM&quot;
name &quot;scsi-disk&quot;, bus SCSI, desc &quot;virtual SCSI disk or CD-ROM (legacy)&quot;
name &quot;scsi-hd&quot;, bus SCSI, desc &quot;virtual SCSI disk&quot;
name &quot;sdhci-pci&quot;, bus PCI
name &quot;usb-bot&quot;, bus usb-bus
name &quot;usb-mtp&quot;, bus usb-bus, desc &quot;USB Media Transfer Protocol device&quot;
name &quot;usb-storage&quot;, bus usb-bus
name &quot;usb-uas&quot;, bus usb-bus
name &quot;virtio-blk-device&quot;, bus virtio-bus
name &quot;virtio-blk-pci&quot;, bus PCI, alias &quot;virtio-blk&quot;
name &quot;virtio-scsi-device&quot;, bus virtio-bus
name &quot;virtio-scsi-pci&quot;, bus PCI, alias &quot;virtio-scsi&quot;

Network devices:
name &quot;e1000&quot;, bus PCI, alias &quot;e1000-82540em&quot;, desc &quot;Intel Gigabit Ethernet&quot;
name &quot;e1000-82544gc&quot;, bus PCI, desc &quot;Intel Gigabit Ethernet&quot;
name &quot;e1000-82545em&quot;, bus PCI, desc &quot;Intel Gigabit Ethernet&quot;
name &quot;e1000e&quot;, bus PCI, desc &quot;Intel 82574L GbE Controller&quot;
name &quot;i82550&quot;, bus PCI, desc &quot;Intel i82550 Ethernet&quot;
name &quot;i82551&quot;, bus PCI, desc &quot;Intel i82551 Ethernet&quot;
name &quot;i82557a&quot;, bus PCI, desc &quot;Intel i82557A Ethernet&quot;
name &quot;i82557b&quot;, bus PCI, desc &quot;Intel i82557B Ethernet&quot;
name &quot;i82557c&quot;, bus PCI, desc &quot;Intel i82557C Ethernet&quot;
name &quot;i82558a&quot;, bus PCI, desc &quot;Intel i82558A Ethernet&quot;
name &quot;i82558b&quot;, bus PCI, desc &quot;Intel i82558B Ethernet&quot;
name &quot;i82559a&quot;, bus PCI, desc &quot;Intel i82559A Ethernet&quot;
name &quot;i82559b&quot;, bus PCI, desc &quot;Intel i82559B Ethernet&quot;
name &quot;i82559c&quot;, bus PCI, desc &quot;Intel i82559C Ethernet&quot;
name &quot;i82559er&quot;, bus PCI, desc &quot;Intel i82559ER Ethernet&quot;
name &quot;i82562&quot;, bus PCI, desc &quot;Intel i82562 Ethernet&quot;
name &quot;i82801&quot;, bus PCI, desc &quot;Intel i82801 Ethernet&quot;
name &quot;ne2k_isa&quot;, bus ISA
name &quot;ne2k_pci&quot;, bus PCI
name &quot;pcnet&quot;, bus PCI
name &quot;rocker&quot;, bus PCI, desc &quot;Rocker Switch&quot;
name &quot;rtl8139&quot;, bus PCI
name &quot;usb-bt-dongle&quot;, bus usb-bus
name &quot;usb-net&quot;, bus usb-bus
name &quot;virtio-net-device&quot;, bus virtio-bus
name &quot;virtio-net-pci&quot;, bus PCI, alias &quot;virtio-net&quot;
name &quot;vmxnet3&quot;, bus PCI, desc &quot;VMWare Paravirtualized Ethernet v3&quot;

Input devices:
name &quot;ipoctal232&quot;, bus IndustryPack, desc &quot;GE IP-Octal 232 8-channel RS-232 IndustryPack&quot;
name &quot;isa-parallel&quot;, bus ISA
name &quot;isa-serial&quot;, bus ISA
name &quot;pci-serial&quot;, bus PCI
name &quot;pci-serial-2x&quot;, bus PCI
name &quot;pci-serial-4x&quot;, bus PCI
name &quot;tpci200&quot;, bus PCI, desc &quot;TEWS TPCI200 IndustryPack carrier&quot;
name &quot;usb-braille&quot;, bus usb-bus
name &quot;usb-ccid&quot;, bus usb-bus, desc &quot;CCID Rev 1.1 smartcard reader&quot;
name &quot;usb-kbd&quot;, bus usb-bus
name &quot;usb-mouse&quot;, bus usb-bus
name &quot;usb-serial&quot;, bus usb-bus
name &quot;usb-tablet&quot;, bus usb-bus
name &quot;usb-wacom-tablet&quot;, bus usb-bus, desc &quot;QEMU PenPartner Tablet&quot;
name &quot;virtconsole&quot;, bus virtio-serial-bus
name &quot;virtio-keyboard-device&quot;, bus virtio-bus
name &quot;virtio-keyboard-pci&quot;, bus PCI, alias &quot;virtio-keyboard&quot;
name &quot;virtio-mouse-device&quot;, bus virtio-bus
name &quot;virtio-mouse-pci&quot;, bus PCI, alias &quot;virtio-mouse&quot;
name &quot;virtio-serial-device&quot;, bus virtio-bus
name &quot;virtio-serial-pci&quot;, bus PCI, alias &quot;virtio-serial&quot;
name &quot;virtio-tablet-device&quot;, bus virtio-bus
name &quot;virtio-tablet-pci&quot;, bus PCI, alias &quot;virtio-tablet&quot;
name &quot;virtserialport&quot;, bus virtio-serial-bus

Display devices:
name &quot;cirrus-vga&quot;, bus PCI, desc &quot;Cirrus CLGD 54xx VGA&quot;
name &quot;isa-cirrus-vga&quot;, bus ISA
name &quot;isa-vga&quot;, bus ISA
name &quot;secondary-vga&quot;, bus PCI
name &quot;sga&quot;, bus ISA, desc &quot;Serial Graphics Adapter&quot;
name &quot;VGA&quot;, bus PCI
name &quot;virtio-gpu-device&quot;, bus virtio-bus
name &quot;virtio-gpu-pci&quot;, bus PCI, alias &quot;virtio-gpu&quot;
name &quot;virtio-vga&quot;, bus PCI
name &quot;vmware-svga&quot;, bus PCI

Sound devices:
name &quot;AC97&quot;, bus PCI, desc &quot;Intel 82801AA AC97 Audio&quot;
name &quot;adlib&quot;, bus ISA, desc &quot;Yamaha YM3812 (OPL2)&quot;
name &quot;cs4231a&quot;, bus ISA, desc &quot;Crystal Semiconductor CS4231A&quot;
name &quot;ES1370&quot;, bus PCI, desc &quot;ENSONIQ AudioPCI ES1370&quot;
name &quot;gus&quot;, bus ISA, desc &quot;Gravis Ultrasound GF1&quot;
name &quot;hda-duplex&quot;, bus HDA, desc &quot;HDA Audio Codec, duplex (line-out, line-in)&quot;
name &quot;hda-micro&quot;, bus HDA, desc &quot;HDA Audio Codec, duplex (speaker, microphone)&quot;
name &quot;hda-output&quot;, bus HDA, desc &quot;HDA Audio Codec, output-only (line-out)&quot;
name &quot;ich9-intel-hda&quot;, bus PCI, desc &quot;Intel HD Audio Controller (ich9)&quot;
name &quot;intel-hda&quot;, bus PCI, desc &quot;Intel HD Audio Controller (ich6)&quot;
name &quot;sb16&quot;, bus ISA, desc &quot;Creative Sound Blaster 16&quot;
name &quot;usb-audio&quot;, bus usb-bus

Misc devices:
name &quot;at24c-eeprom&quot;, bus i2c-bus
name &quot;i6300esb&quot;, bus PCI
name &quot;ib700&quot;, bus ISA
name &quot;isa-applesmc&quot;, bus ISA
name &quot;isa-debug-exit&quot;, bus ISA
name &quot;isa-debugcon&quot;, bus ISA
name &quot;kvaser_pci&quot;, bus PCI, desc &quot;Kvaser PCICANx&quot;
name &quot;mioe3680_pci&quot;, bus PCI, desc &quot;Mioe3680 PCICANx&quot;
name &quot;pc-testdev&quot;, bus ISA
name &quot;pci-testdev&quot;, bus PCI, desc &quot;PCI Test Device&quot;
name &quot;pcm3680_pci&quot;, bus PCI, desc &quot;Pcm3680i PCICANx&quot;
name &quot;pvpanic&quot;, bus ISA
name &quot;tpm-crb&quot;
name &quot;virtio-balloon-device&quot;, bus virtio-bus
name &quot;virtio-balloon-pci&quot;, bus PCI, alias &quot;virtio-balloon&quot;
name &quot;virtio-crypto-device&quot;, bus virtio-bus
name &quot;virtio-crypto-pci&quot;, bus PCI
name &quot;virtio-rng-device&quot;, bus virtio-bus
name &quot;virtio-rng-pci&quot;, bus PCI, alias &quot;virtio-rng&quot;
name &quot;vmcoreinfo&quot;
name &quot;vmgenid&quot;

CPU devices:
name &quot;486-x86_64-cpu&quot;
name &quot;athlon-x86_64-cpu&quot;
name &quot;base-x86_64-cpu&quot;
name &quot;Broadwell-IBRS-x86_64-cpu&quot;
name &quot;Broadwell-noTSX-IBRS-x86_64-cpu&quot;
name &quot;Broadwell-noTSX-x86_64-cpu&quot;
name &quot;Broadwell-x86_64-cpu&quot;
name &quot;Conroe-x86_64-cpu&quot;
name &quot;core2duo-x86_64-cpu&quot;
name &quot;coreduo-x86_64-cpu&quot;
name &quot;EPYC-IBPB-x86_64-cpu&quot;
name &quot;EPYC-x86_64-cpu&quot;
name &quot;Haswell-IBRS-x86_64-cpu&quot;
name &quot;Haswell-noTSX-IBRS-x86_64-cpu&quot;
name &quot;Haswell-noTSX-x86_64-cpu&quot;
name &quot;Haswell-x86_64-cpu&quot;
name &quot;host-x86_64-cpu&quot;
name &quot;IvyBridge-IBRS-x86_64-cpu&quot;
name &quot;IvyBridge-x86_64-cpu&quot;
name &quot;kvm32-x86_64-cpu&quot;
name &quot;kvm64-x86_64-cpu&quot;
name &quot;max-x86_64-cpu&quot;
name &quot;n270-x86_64-cpu&quot;
name &quot;Nehalem-IBRS-x86_64-cpu&quot;
name &quot;Nehalem-x86_64-cpu&quot;
name &quot;Opteron_G1-x86_64-cpu&quot;
name &quot;Opteron_G2-x86_64-cpu&quot;
name &quot;Opteron_G3-x86_64-cpu&quot;
name &quot;Opteron_G4-x86_64-cpu&quot;
name &quot;Opteron_G5-x86_64-cpu&quot;
name &quot;Penryn-x86_64-cpu&quot;
name &quot;pentium-x86_64-cpu&quot;
name &quot;pentium2-x86_64-cpu&quot;
name &quot;pentium3-x86_64-cpu&quot;
name &quot;phenom-x86_64-cpu&quot;
name &quot;qemu32-x86_64-cpu&quot;
name &quot;qemu64-x86_64-cpu&quot;
name &quot;SandyBridge-IBRS-x86_64-cpu&quot;
name &quot;SandyBridge-x86_64-cpu&quot;
name &quot;Skylake-Client-IBRS-x86_64-cpu&quot;
name &quot;Skylake-Client-x86_64-cpu&quot;
name &quot;Skylake-Server-IBRS-x86_64-cpu&quot;
name &quot;Skylake-Server-x86_64-cpu&quot;
name &quot;Westmere-IBRS-x86_64-cpu&quot;
name &quot;Westmere-x86_64-cpu&quot;

Uncategorized devices:
name &quot;amd-iommu&quot;, bus System
name &quot;AMDVI-PCI&quot;, bus PCI
name &quot;edu&quot;, bus PCI
name &quot;i8042&quot;, bus ISA
name &quot;igd-passthrough-isa-bridge&quot;, bus PCI, desc &quot;ISA bridge faked to support IGD PT&quot;
name &quot;intel-iommu&quot;, bus System
name &quot;ipmi-bmc-extern&quot;
name &quot;ipmi-bmc-sim&quot;
name &quot;isa-ipmi-bt&quot;, bus ISA
name &quot;isa-ipmi-kcs&quot;, bus ISA
name &quot;loader&quot;, desc &quot;Generic Loader&quot;
name &quot;mptsas1068&quot;, bus PCI, desc &quot;LSI SAS 1068&quot;
name &quot;nvdimm&quot;, desc &quot;DIMM memory module&quot;
name &quot;pc-dimm&quot;, desc &quot;DIMM memory module&quot;
name &quot;sd-card&quot;, bus sd-bus
name &quot;tpm-tis&quot;, bus ISA
</code></pre><pre><code class="language-bash">drive_add 0 if=none,file=/tmp/test.img,format=raw,id=disk1
info block
</code></pre><h2 id="help">help</h2><pre><code>acl_add aclname match allow|deny [index] -- add a match rule to the access control list
acl_policy aclname allow|deny -- set default access control list policy
acl_remove aclname match -- remove a match rule from the access control list
acl_reset aclname -- reset the access control list
acl_show aclname -- list rules in the access control list
balloon target -- request VM to change its memory allocation (in MB)
block_job_cancel [-f] device -- stop an active background block operation (use -f
             if you want to abort the operation immediately
             instead of keep running until data is in sync)
block_job_complete device -- stop an active background block operation
block_job_pause device -- pause an active background block operation
block_job_resume device -- resume a paused background block operation
block_job_set_speed device speed -- set maximum speed for a background block operation
block_passwd block_passwd device password -- set the password of encrypted block devices
block_resize device size -- resize a block image
block_set_io_throttle device bps bps_rd bps_wr iops iops_rd iops_wr -- change I/O throttle limits for a block drive
block_stream device [speed [base]] -- copy data from a backing file into a block device
boot_set bootdevice -- define new values for the boot device list
change device filename [format [read-only-mode]] -- change a removable medium, optional format
chardev-add args -- add chardev
chardev-change id args -- change chardev
chardev-remove id -- remove chardev
chardev-send-break id -- send a break on chardev
client_migrate_info protocol hostname port tls-port cert-subject -- set migration information for remote display
closefd closefd name -- close a file descriptor previously passed via SCM rights
commit device|all -- commit changes to the disk images (if -snapshot is used) or backing files
cpu index -- set the default CPU
cpu-add id -- add cpu
c|cont  -- resume emulation
delvm tag|id -- delete a VM snapshot from its tag or id
device_add driver[,prop=value][,...] -- add device, like -device on the command line
device_del device -- remove device
drive_add [-n] [[&lt;domain&gt;:]&lt;bus&gt;:]&lt;slot&gt;
[file=file][,if=type][,bus=n]
[,unit=m][,media=d][,index=i]
[,cyls=c,heads=h,secs=s[,trans=t]]
[,snapshot=on|off][,cache=on|off]
[,readonly=on|off][,copy-on-read=on|off] -- add drive to PCI storage controller
drive_backup [-n] [-f] [-c] device target [format] -- initiates a point-in-time
            copy for a device. The device&#x27;s contents are
            copied to the new image file, excluding data that
            is written after the command is started.
            The -n flag requests QEMU to reuse the image found
            in new-image-file, instead of recreating it from scratch.
            The -f flag requests QEMU to copy the whole disk,
            so that the result does not need a backing file.
            The -c flag requests QEMU to compress backup data
            (if the target format supports it).

drive_del device -- remove host block device
drive_mirror [-n] [-f] device target [format] -- initiates live storage
            migration for a device. The device&#x27;s contents are
            copied to the new image file, including data that
            is written after the command is started.
            The -n flag requests QEMU to reuse the image found
            in new-image-file, instead of recreating it from scratch.
            The -f flag requests QEMU to copy the whole disk,
            so that the result does not need a backing file.

dump-guest-memory [-p] [-d] [-z|-l|-s] filename [begin length] -- dump guest memory into file &#x27;filename&#x27;.
            -p: do paging to get guest&#x27;s memory mapping.
            -d: return immediately (do not wait for completion).
            -z: dump in kdump-compressed format, with zlib compression.
            -l: dump in kdump-compressed format, with lzo compression.
            -s: dump in kdump-compressed format, with snappy compression.
            begin: the starting physical address.
            length: the memory size, in bytes.
eject [-f] device -- eject a removable medium (use -f to force it)
expire_password protocol time -- set spice/vnc password expire-time
gdbserver [device] -- start gdbserver on given device (default &#x27;tcp::1234&#x27;), stop with &#x27;none&#x27;
getfd getfd name -- receive a file descriptor via SCM rights and assign it a name
gpa2hva addr -- print the host virtual address corresponding to a guest physical address
help|? [cmd] -- show the help
hostfwd_add [hub_id name]|[netdev_id] [tcp|udp]:[hostaddr]:hostport-[guestaddr]:guestport -- redirect TCP or UDP connections from host to guest (requires -net user)
hostfwd_remove [hub_id name]|[netdev_id] [tcp|udp]:[hostaddr]:hostport -- remove host-to-guest TCP or UDP redirection
i /fmt addr -- I/O port read
info [subcommand] -- show various information about the system state
loadvm tag|id -- restore a VM snapshot from its tag or id
log item1[,...] -- activate logging of the specified items
logfile filename -- output logs to &#x27;filename&#x27;
mce [-b] cpu bank status mcgstatus addr misc -- inject a MCE on the given CPU [and broadcast to other CPUs with -b option]
memsave addr size file -- save to disk virtual memory dump starting at &#x27;addr&#x27; of size &#x27;size&#x27;
migrate [-d] [-b] [-i] uri -- migrate to URI (using -d to not wait for completion)
             -b for migration without shared storage with full copy of disk
             -i for migration without shared storage with incremental copy of disk (base image shared between src and destination)
migrate_cancel  -- cancel the current VM migration
migrate_continue state -- Continue migration from the given paused state
migrate_incoming uri -- Continue an incoming migration from an -incoming defer
migrate_set_cache_size value -- set cache size (in bytes) for XBZRLE migrations,the cache size will be rounded down to the nearest power of 2.
The cache size affects the number of cache misses.In case of a high cache miss ratio you need to increase the cache size
migrate_set_capability capability state -- Enable/Disable the usage of a capability for migration
migrate_set_downtime value -- set maximum tolerated downtime (in seconds) for migrations
migrate_set_parameter parameter value -- Set the parameter for migration
migrate_set_speed value -- set maximum speed (in bytes) for migrations. Defaults to MB if no size suffix is specified, ie. B/K/M/G/T
migrate_start_postcopy  -- Followup to a migration command to switch the migration to postcopy mode. The postcopy-ram capability must be set on both source and destination before the original migration command .
mouse_button state -- change mouse button state (1=L, 2=M, 4=R)
mouse_move dx dy [dz] -- send mouse move events
mouse_set index -- set which mouse device receives events
nbd_server_add nbd_server_add [-w] device [name] -- export a block device via NBD
nbd_server_remove nbd_server_remove [-f] name -- remove an export previously exposed via NBD
nbd_server_start nbd_server_start [-a] [-w] host:port -- serve block devices on the given host and port
nbd_server_stop nbd_server_stop -- stop serving block devices using the NBD protocol
netdev_add [user|tap|socket|vde|bridge|hubport|netmap|vhost-user],id=str[,prop=value][,...] -- add host network device
netdev_del id -- remove host network device
nmi  -- inject an NMI
o /fmt addr value -- I/O port write
object_add [qom-type=]type,id=str[,prop=value][,...] -- create QOM object
object_del id -- destroy QOM object
pcie_aer_inject_error [-a] [-c] id &lt;error_status&gt; [&lt;tlp header&gt; [&lt;tlp header prefix&gt;]] -- inject pcie aer error
             -a for advisory non fatal error
             -c for correctable error
            &lt;id&gt; = qdev device id
            &lt;error_status&gt; = error string or 32bit
            &lt;tlb header&gt; = 32bit x 4
            &lt;tlb header prefix&gt; = 32bit x 4
pmemsave addr size file -- save to disk physical memory dump starting at &#x27;addr&#x27; of size &#x27;size&#x27;
p|print /fmt expr -- print expression value (use $reg for CPU register access)
qemu-io [device] &quot;[command]&quot; -- run a qemu-io command on a block device
qom-list path -- list QOM properties
qom-set path property value -- set QOM property
q|quit  -- quit the emulator
ringbuf_read device size -- Read from a ring buffer character device
ringbuf_write device data -- Write to a ring buffer character device
savevm [tag|id] -- save a VM snapshot. If no tag or id are provided, a new snapshot is created
screendump filename [device [head]] -- save screen from head &#x27;head&#x27; of display device &#x27;device&#x27; into PPM image &#x27;filename&#x27;
sendkey keys [hold_ms] -- send keys to the VM (e.g. &#x27;sendkey ctrl-alt-f1&#x27;, default hold time=100 ms)
set_link name on|off -- change the link status of a network adapter
set_password protocol password action-if-connected -- set spice/vnc password
singlestep [on|off] -- run emulation in singlestep mode or switch to normal mode
snapshot_blkdev [-n] device [new-image-file] [format] -- initiates a live snapshot
            of device. If a new image file is specified, the
            new image file will become the new root image.
            If format is specified, the snapshot file will
            be created in that format.
            The default format is qcow2.  The -n flag requests QEMU
            to reuse the image found in new-image-file, instead of
            recreating it from scratch.
snapshot_blkdev_internal device name -- take an internal snapshot of device.
            The format of the image used by device must
            support it, such as qcow2.

snapshot_delete_blkdev_internal device name [id] -- delete an internal snapshot of device.
            If id is specified, qemu will try delete
            the snapshot matching both id and name.
            The format of the image used by device must
            support it, such as qcow2.

stop  -- stop emulation
stopcapture capture index -- stop capture
sum addr size -- compute the checksum of a memory region
system_powerdown  -- send system power down event
system_reset  -- reset the system
system_wakeup  -- wakeup guest from suspend
trace-event name on|off [vcpu] -- changes status of a specific trace event (vcpu: vCPU to set, default is all)
watchdog_action [reset|shutdown|poweroff|pause|debug|none] -- change watchdog action
wavcapture path [frequency [bits [channels]]] -- capture audio to a wave file (default frequency=44100 bits=16 channels=2)
x /fmt addr -- virtual memory dump starting at &#x27;addr&#x27;
x_colo_lost_heartbeat  -- Tell COLO that heartbeat is lost,
            a failover or takeover is needed.
xp /fmt addr -- physical memory dump starting at &#x27;addr&#x27;
</code></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wenerme/wener/edit/master/notes/os/virt/qemu-monitor.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_icZ1" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_IDPb"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes/os/virt/qemu-img"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Qemu Image</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes/os/virt/qemu-qmp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">QEMU QMP</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Rbtr thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#磁盘热插拔" class="table-of-contents__link toc-highlight">磁盘热插拔</a></li><li><a href="#help" class="table-of-contents__link toc-highlight">help</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">笔记</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/os/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip">VoIP</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item">
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wener/actions" title="wenerme/wener - ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://github.com/wenerme/wener/workflows/Build/badge.svg">
                </a>
              </div>
              </li><li class="footer__item"><a href="https://apis.wener.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wener&#x27;s Apis<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pUOn"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/story">Blog</a></li><li class="footer__item"><a href="https://github.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/wenerme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_sWQn themedImage--light_HlbN footer__logo"><img src="/img/wener-logo.svg" alt="Wener Site" class="themedImage_sWQn themedImage--dark__4Lo footer__logo"></div><div class="footer__copyright">Copyright © 1992-2022 Wener - <img alt="cc-by-sa-4.0" src="https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg"> - Build @2022-09-22 04:38</div></div></div></footer></div>
<script src="/assets/js/runtime~main.07b4d16f.js"></script>
<script src="/assets/js/main.92dfd685.js"></script>
</body>
</html>