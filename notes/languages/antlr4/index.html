<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1")</script>
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1")</script>

<title data-react-helmet="true">Antlr 4</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Wener Live &amp; Life · Passion I&#x27;ve found"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="# Antlr4"><meta data-react-helmet="true" property="og:description" content="# Antlr4"><meta data-react-helmet="true" property="og:url" content="https://wener.me/notes/languages/antlr4">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.cb15e1ce.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong>Wener</strong></a><a class="navbar__item navbar__link" href="/notes/java/java">笔记</a><a class="navbar__item navbar__link" href="/blog">故事</a><a class="navbar__item navbar__link" href="/notes/howto/network/dns-prevent-spoofing">指南</a><a class="navbar__item navbar__link" href="/notes/tool/network/ip-lookup">工具</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/wenerme/wener">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_3gvz"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_2Zd- moon_Tgrt"></span></div><div class="react-toggle-track-x"><span class="toggle_2Zd- sun_38Cb"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/wener-logo-head.svg" alt="Wener Logo"><strong>Wener</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/notes/java/java">笔记</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">故事</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/wenerme/wener">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/howto/network/dns-prevent-spoofing">指南</a></li><li class="menu__list-item"><a class="menu__link" href="/notes/tool/network/ip-lookup">工具</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_NanV"><main class="docMainContainer_3XKI"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_AHR_"><article><header><h1 class="docTitle_3A0L">Antlr 4</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="antlr4"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#antlr4" title="Direct link to heading">#</a>Antlr4</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="tips"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tips" title="Direct link to heading">#</a>Tips</h2><ul><li>案例<ul><li><a href="https://github.com/antlr/grammars-v4">grammars-v4</a></li></ul></li><li>语言支持<ul><li>Java</li><li>C#</li><li>Python 2/3</li><li>JavaScript</li><li>Go</li><li>C++</li><li>Swift</li></ul></li></ul><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-bash codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">java -jar antlr-4.6-complete.jar -Dlanguage</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Go MyLang.g4</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="语法结构"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法结构" title="Direct link to heading">#</a>语法结构</h2><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-antlr4 codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@header {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@members {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@parser::members {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@lexer::members {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">parent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">locals [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    List&lt;String&gt; symbols = new ArrayList&lt;String&gt;()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">: ruleName;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ruleName[int returnValue]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@init{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@after {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">locals [int i=1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  :  ID {/*Dynamically-Scoped Attributes*/if($block::symbols.contains($ID.text)){}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-g4 codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/** Optional javadoc style comment */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">grammar Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">options {...}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import ... ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tokens {...}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">channels {...} // lexer only</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@actionName {...}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rule1 // parser and lexer rules, possibly intermingled</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ruleN</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-undefined codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">grammar Count;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@header {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">package foo;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@members {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int count = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@after {System.out.println(count+&quot; ints&quot;);}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">: INT {count++;} (&#x27;,&#x27; INT {count++;} )*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INT : [0-9]+ ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS : [ \r\t\n]+ -&gt; skip ;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-antlr codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">grammar JSON;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">object</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;{&#x27; pair (&#x27;,&#x27; pair)* &#x27;}&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | &#x27;{&#x27; &#x27;}&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pair</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : STRING &#x27;:&#x27; value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">array</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;[&#x27; value (&#x27;,&#x27; value)* &#x27;]&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | &#x27;[&#x27; &#x27;]&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : STRING</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | NUMBER</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | object</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | array</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | &#x27;true&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | &#x27;false&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   | &#x27;null&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">STRING</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;&quot;&#x27; (ESC | ~ [&quot;\\])* &#x27;&quot;&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fragment ESC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;\\&#x27; ([&quot;\\/bfnrt] | UNICODE)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fragment UNICODE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;u&#x27; HEX HEX HEX HEX</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fragment HEX</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : [0-9a-fA-F]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NUMBER</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;-&#x27;? INT &#x27;.&#x27; [0-9] + EXP? | &#x27;-&#x27;? INT EXP | &#x27;-&#x27;? INT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fragment INT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : &#x27;0&#x27; | [1-9] [0-9]*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// no leading zeros</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fragment EXP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : [Ee] [+\-]? INT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// \- since - means &quot;range&quot; inside [...]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   : [ \t\n\r] + -&gt; skip</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="go"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#go" title="Direct link to heading">#</a>Go</h2><ul><li><a href="https://github.com/antlr/antlr4/blob/master/doc/go-target.md">https://github.com/antlr/antlr4/blob/master/doc/go-target.md</a></li></ul><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-bash codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go get github.com/antlr/antlr4/runtime/Go/antlr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">antlr4 -Dlanguage</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Go -package mylang MyLang.g4</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="antlr4-cli-options"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#antlr4-cli-options" title="Direct link to heading">#</a>antlr4 cli options</h2><pre class="mdxCodeBlock_2E1g"><div class="codeBlockWrapper_1h2Z"><pre class="prism-code language-undefined codeBlock_3dxb" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ANTLR Parser Generator  Version 4.7.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -o ___              specify output directory where all output is generated</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -lib ___            specify location of grammars, tokens files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -atn                generate rule augmented transition network diagrams</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -encoding ___       specify grammar file encoding; e.g., euc-jp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -message-format ___ specify output style for messages in antlr, gnu, vs2005</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -long-messages      show exception details when available for errors and warnings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -listener           generate parse tree listener (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -no-listener        don&#x27;t generate parse tree listener</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -visitor            generate parse tree visitor</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -no-visitor         don&#x27;t generate parse tree visitor (default)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -package ___        specify a package/namespace for the generated code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -depend             generate file dependencies</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -D&lt;option&gt;=value    set/override a grammar-level option</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -Werror             treat warnings as errors</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -XdbgST             launch StringTemplate visualizer on generated code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -XdbgSTWait         wait for STViz to close before continuing</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -Xforce-atn         use the ATN simulator for all predictions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -Xlog               dump lots of logging info to antlr-timestamp.log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> -Xexact-output-dir  all output goes into -o dir regardless of paths/package</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_3qZc">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="faq"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a>FAQ</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-semantic-predicate-"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-semantic-predicate-" title="Direct link to heading">#</a>What is semantic predicate ?</h3><ul><li><a href="https://stackoverflow.com/q/3056441/1870054">What is a &#x27;semantic predicate&#x27; in ANTLR?</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="lexer-vs-parser"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#lexer-vs-parser" title="Direct link to heading">#</a>Lexer vs Parser</h3><ul><li>词法/lexer rule<ul><li>大写</li><li>used to tokenize your input source. It represents a fundamental building block of your language.</li></ul></li><li>语法/parser rule<ul><li>小写</li><li>consists of zero or more other parser rules or tokens produced by the lexer.</li></ul></li><li>如果多个 Lexer 都能匹配同一个内容, 第一个匹配的会被选择.</li><li>Lexer 中不会有其他的 Token, Skip 不会生效, 因为一个 Lexer 是一个 Token</li><li><a href="https://www.3dbuzz.com/forum/threads/203932-ANTLR-When-to-use-Parser-Rules-vs-Lexer-Rules">WHEN TO USE PARSER RULES VS LEXER RULES?</a><ul><li>解析的基本步骤<ul><li>将字符串解析为一个一个的 Token</li><li>将一组 Token 解析为抽象语法树</li><li>对语法树进行处理</li></ul></li><li>这两者是分不开的</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="忽略大小写"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#忽略大小写" title="Direct link to heading">#</a>忽略大小写</h3><ul><li><a href="https://github.com/antlr/antlr4/blob/master/doc/case-insensitive-lexing.md">Case-Insensitive Lexing</a><ol><li>关键词定义使用忽略大小写的匹配</li><li>自定义字符流</li></ol></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="visitor-vs-listener"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#visitor-vs-listener" title="Direct link to heading">#</a>Visitor vs Listener</h3><ul><li><a href="https://stackoverflow.com/questions/20714492">Antlr4 Listeners and Visitors - which to implement?</a></li><li><a href="http://jakubdziworski.github.io/java/2016/04/01/antlr_visitor_vs_listener.html">Visitor vs Listener</a></li><li>visitor pattern you have the ability to direct tree walking while in listener you are only reacting to the tree walker.</li><li><a href="http://saumitra.me/blog/antlr4-visitor-vs-listener-pattern/">Antlr4 visitor vs listener pattern</a><ul><li>listener pattern is that its all automatic and even if you don’t write any parse tree walker, then also it will figure out and trigger the enter and exit method for each rule. This is a huge benefit for translation type of usecases.</li></ul></li><li><a href="http://developers-club.com/posts/259691/">Fight &quot;the Listener vs the Visitor&quot; at antlr4 stadium</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="reportattemptingfullcontext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reportattemptingfullcontext" title="Direct link to heading">#</a>reportAttemptingFullContext</h3><ul><li><a href="http://www.antlr.org/api/Java/org/antlr/v4/runtime/DiagnosticErrorListener.html#reportAttemptingFullContext-org.antlr.v4.runtime.Parser-org.antlr.v4.runtime.dfa.DFA-int-int-java.util.BitSet-org.antlr.v4.runtime.atn.ATNConfigSet-">DiagnosticErrorListener#reportAttemptingFullContext</a></li><li>不影响解析</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3z_-"><ul class="contents contents__left-border"><li><a href="#tips" class="contents__link">Tips</a></li><li><a href="#语法结构" class="contents__link">语法结构</a></li><li><a href="#go" class="contents__link">Go</a></li><li><a href="#antlr4-cli-options" class="contents__link">antlr4 cli options</a></li><li><a href="#faq" class="contents__link">FAQ</a><ul><li><a href="#what-is-semantic-predicate-" class="contents__link">What is semantic predicate ?</a></li><li><a href="#lexer-vs-parser" class="contents__link">Lexer vs Parser</a></li><li><a href="#忽略大小写" class="contents__link">忽略大小写</a></li><li><a href="#visitor-vs-listener" class="contents__link">Visitor vs Listener</a></li><li><a href="#reportattemptingfullcontext" class="contents__link">reportAttemptingFullContext</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">笔记</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/notes/java/java">Java</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/ops/os/alpine/alpine">AlpineLinux</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/devops/kubernetes/k8s-intro">Kubernates</a></li><li class="footer__item"><a class="footer__link-item" href="/notes/voip/voip-intro">VoIP</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Projects</h4><ul class="footer__items"><div>
              <div>
              <a class="footer__link-item" href="https://github.com/wenerme/wener">Wener</a>
              - <a class="footer__link-item" href="https://travis-ci.com/wenerme/wener" title="wenerme/wener - travis-ci">
                <img style="vertical-align: middle;opacity: .4;" src="https://travis-ci.com/wenerme/wener.svg?branch=master">
                </a>
              - <a class="footer__link-item" href="https://github.com/wenerme/wenerme.github.io/deployments" title="GitHub Pages 部署">部署状态</a>
              </div>
              </div><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://apis.wener.me">Wener&#x27;s Apis</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/wenerme" href="https://github.com/wenerme">GitHub</a></li><li class="footer__item"><a class="footer__link-item" to="https://twitter.com/wenerme" href="https://twitter.com/wenerme">Twitter</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Wener Site" src="/img/wener-logo.svg"></div>Copyright © 1992-2020 Wener - 构建时间 2020-10-10 21:30</div></div></footer>
</div>

<script src="/styles.3bfef576.js"></script>

<script src="/runtime~main.21bc78aa.js"></script>

<script src="/main.995ead94.js"></script>

<script src="/1.ea46efd4.js"></script>

<script src="/2.9c5675ff.js"></script>

<script src="/1be78505.3520f6ae.js"></script>

<script src="/7f176b88.fd00c630.js"></script>

<script src="/17896441.cc0f7da5.js"></script>

<script src="/6430f70d.57d83d75.js"></script>


</body>
</html>